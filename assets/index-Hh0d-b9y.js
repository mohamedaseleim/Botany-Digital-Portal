var qV=Object.defineProperty;var HV=(t,e,n)=>e in t?qV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var eb=(t,e,n)=>HV(t,typeof e!="symbol"?e+"":e,n);function GV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Ji(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tb={exports:{}},vf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function KV(){if(g2)return vf;g2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:s}}return vf.Fragment=e,vf.jsx=n,vf.jsxs=n,vf}var y2;function YV(){return y2||(y2=1,tb.exports=KV()),tb.exports}var o=YV(),nb={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function WV(){if(v2)return Je;v2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function C(q,Z,K){this.props=q,this.context=Z,this.refs=j,this.updater=K||E}C.prototype.isReactComponent={},C.prototype.setState=function(q,Z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Z,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function L(){}L.prototype=C.prototype;function A(q,Z,K){this.props=q,this.context=Z,this.refs=j,this.updater=K||E}var D=A.prototype=new L;D.constructor=A,_(D,C.prototype),D.isPureReactComponent=!0;var R=Array.isArray;function U(){}var O={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function k(q,Z,K){var ee=K.ref;return{$$typeof:t,type:q,key:Z,ref:ee!==void 0?ee:null,props:K}}function I(q,Z){return k(q.type,Z,q.props)}function P(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function B(q){var Z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(K){return Z[K]})}var z=/\/+/g;function ge(q,Z){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):Z.toString(36)}function ce(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(U,U):(q.status="pending",q.then(function(Z){q.status==="pending"&&(q.status="fulfilled",q.value=Z)},function(Z){q.status==="pending"&&(q.status="rejected",q.reason=Z)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Y(q,Z,K,ee,fe){var je=typeof q;(je==="undefined"||je==="boolean")&&(q=null);var Ie=!1;if(q===null)Ie=!0;else switch(je){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(q.$$typeof){case t:case e:Ie=!0;break;case p:return Ie=q._init,Y(Ie(q._payload),Z,K,ee,fe)}}if(Ie)return fe=fe(q),Ie=ee===""?"."+ge(q,0):ee,R(fe)?(K="",Ie!=null&&(K=Ie.replace(z,"$&/")+"/"),Y(fe,Z,K,"",function(Ee){return Ee})):fe!=null&&(P(fe)&&(fe=I(fe,K+(fe.key==null||q&&q.key===fe.key?"":(""+fe.key).replace(z,"$&/")+"/")+Ie)),Z.push(fe)),1;Ie=0;var qe=ee===""?".":ee+":";if(R(q))for(var H=0;H<q.length;H++)ee=q[H],je=qe+ge(ee,H),Ie+=Y(ee,Z,K,je,fe);else if(H=w(q),typeof H=="function")for(q=H.call(q),H=0;!(ee=q.next()).done;)ee=ee.value,je=qe+ge(ee,H++),Ie+=Y(ee,Z,K,je,fe);else if(je==="object"){if(typeof q.then=="function")return Y(ce(q),Z,K,ee,fe);throw Z=String(q),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function le(q,Z,K){if(q==null)return q;var ee=[],fe=0;return Y(q,ee,"","",function(je){return Z.call(K,je,fe++)}),ee}function X(q){if(q._status===-1){var Z=q._result;Z=Z(),Z.then(function(K){(q._status===0||q._status===-1)&&(q._status=1,q._result=K)},function(K){(q._status===0||q._status===-1)&&(q._status=2,q._result=K)}),q._status===-1&&(q._status=0,q._result=Z)}if(q._status===1)return q._result.default;throw q._result}var ye=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Q={map:le,forEach:function(q,Z,K){le(q,function(){Z.apply(this,arguments)},K)},count:function(q){var Z=0;return le(q,function(){Z++}),Z},toArray:function(q){return le(q,function(Z){return Z})||[]},only:function(q){if(!P(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Je.Activity=g,Je.Children=Q,Je.Component=C,Je.Fragment=n,Je.Profiler=a,Je.PureComponent=A,Je.StrictMode=r,Je.Suspense=f,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Je.__COMPILER_RUNTIME={__proto__:null,c:function(q){return O.H.useMemoCache(q)}},Je.cache=function(q){return function(){return q.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(q,Z,K){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ee=_({},q.props),fe=q.key;if(Z!=null)for(je in Z.key!==void 0&&(fe=""+Z.key),Z)!V.call(Z,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&Z.ref===void 0||(ee[je]=Z[je]);var je=arguments.length-2;if(je===1)ee.children=K;else if(1<je){for(var Ie=Array(je),qe=0;qe<je;qe++)Ie[qe]=arguments[qe+2];ee.children=Ie}return k(q.type,fe,ee)},Je.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Je.createElement=function(q,Z,K){var ee,fe={},je=null;if(Z!=null)for(ee in Z.key!==void 0&&(je=""+Z.key),Z)V.call(Z,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(fe[ee]=Z[ee]);var Ie=arguments.length-2;if(Ie===1)fe.children=K;else if(1<Ie){for(var qe=Array(Ie),H=0;H<Ie;H++)qe[H]=arguments[H+2];fe.children=qe}if(q&&q.defaultProps)for(ee in Ie=q.defaultProps,Ie)fe[ee]===void 0&&(fe[ee]=Ie[ee]);return k(q,je,fe)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(q){return{$$typeof:d,render:q}},Je.isValidElement=P,Je.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:X}},Je.memo=function(q,Z){return{$$typeof:h,type:q,compare:Z===void 0?null:Z}},Je.startTransition=function(q){var Z=O.T,K={};O.T=K;try{var ee=q(),fe=O.S;fe!==null&&fe(K,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(U,ye)}catch(je){ye(je)}finally{Z!==null&&K.types!==null&&(Z.types=K.types),O.T=Z}},Je.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Je.use=function(q){return O.H.use(q)},Je.useActionState=function(q,Z,K){return O.H.useActionState(q,Z,K)},Je.useCallback=function(q,Z){return O.H.useCallback(q,Z)},Je.useContext=function(q){return O.H.useContext(q)},Je.useDebugValue=function(){},Je.useDeferredValue=function(q,Z){return O.H.useDeferredValue(q,Z)},Je.useEffect=function(q,Z){return O.H.useEffect(q,Z)},Je.useEffectEvent=function(q){return O.H.useEffectEvent(q)},Je.useId=function(){return O.H.useId()},Je.useImperativeHandle=function(q,Z,K){return O.H.useImperativeHandle(q,Z,K)},Je.useInsertionEffect=function(q,Z){return O.H.useInsertionEffect(q,Z)},Je.useLayoutEffect=function(q,Z){return O.H.useLayoutEffect(q,Z)},Je.useMemo=function(q,Z){return O.H.useMemo(q,Z)},Je.useOptimistic=function(q,Z){return O.H.useOptimistic(q,Z)},Je.useReducer=function(q,Z,K){return O.H.useReducer(q,Z,K)},Je.useRef=function(q){return O.H.useRef(q)},Je.useState=function(q){return O.H.useState(q)},Je.useSyncExternalStore=function(q,Z,K){return O.H.useSyncExternalStore(q,Z,K)},Je.useTransition=function(){return O.H.useTransition()},Je.version="19.2.0",Je}var x2;function Ju(){return x2||(x2=1,nb.exports=WV()),nb.exports}var N=Ju();const zP=Ji(N),XV=GV({__proto__:null,default:zP},[N]);var rb={exports:{}},xf={},ab={exports:{}},ib={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function QV(){return b2||(b2=1,(function(t){function e(Y,le){var X=Y.length;Y.push(le);e:for(;0<X;){var ye=X-1>>>1,Q=Y[ye];if(0<a(Q,le))Y[ye]=le,Y[X]=Q,X=ye;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var le=Y[0],X=Y.pop();if(X!==le){Y[0]=X;e:for(var ye=0,Q=Y.length,q=Q>>>1;ye<q;){var Z=2*(ye+1)-1,K=Y[Z],ee=Z+1,fe=Y[ee];if(0>a(K,X))ee<Q&&0>a(fe,K)?(Y[ye]=fe,Y[ee]=X,ye=ee):(Y[ye]=K,Y[Z]=X,ye=Z);else if(ee<Q&&0>a(fe,X))Y[ye]=fe,Y[ee]=X,ye=ee;else break e}}return le}function a(Y,le){var X=Y.sortIndex-le.sortIndex;return X!==0?X:Y.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,x=3,w=!1,E=!1,_=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function D(Y){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=Y)r(h),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(h)}}function R(Y){if(_=!1,D(Y),!E)if(n(f)!==null)E=!0,U||(U=!0,B());else{var le=n(h);le!==null&&ce(R,le.startTime-Y)}}var U=!1,O=-1,V=5,k=-1;function I(){return j?!0:!(t.unstable_now()-k<V)}function P(){if(j=!1,U){var Y=t.unstable_now();k=Y;var le=!0;try{e:{E=!1,_&&(_=!1,L(O),O=-1),w=!0;var X=x;try{t:{for(D(Y),g=n(f);g!==null&&!(g.expirationTime>Y&&I());){var ye=g.callback;if(typeof ye=="function"){g.callback=null,x=g.priorityLevel;var Q=ye(g.expirationTime<=Y);if(Y=t.unstable_now(),typeof Q=="function"){g.callback=Q,D(Y),le=!0;break t}g===n(f)&&r(f),D(Y)}else r(f);g=n(f)}if(g!==null)le=!0;else{var q=n(h);q!==null&&ce(R,q.startTime-Y),le=!1}}break e}finally{g=null,x=X,w=!1}le=void 0}}finally{le?B():U=!1}}}var B;if(typeof A=="function")B=function(){A(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ge=z.port2;z.port1.onmessage=P,B=function(){ge.postMessage(null)}}else B=function(){C(P,0)};function ce(Y,le){O=C(function(){Y(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var X=x;x=le;try{return Y()}finally{x=X}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var X=x;x=Y;try{return le()}finally{x=X}},t.unstable_scheduleCallback=function(Y,le,X){var ye=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ye+X:ye):X=ye,Y){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,Y={id:p++,callback:le,priorityLevel:Y,startTime:X,expirationTime:Q,sortIndex:-1},X>ye?(Y.sortIndex=X,e(h,Y),n(f)===null&&Y===n(h)&&(_?(L(O),O=-1):_=!0,ce(R,X-ye))):(Y.sortIndex=Q,e(f,Y),E||w||(E=!0,U||(U=!0,B()))),Y},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(Y){var le=x;return function(){var X=x;x=le;try{return Y.apply(this,arguments)}finally{x=X}}}})(ib)),ib}var w2;function JV(){return w2||(w2=1,ab.exports=QV()),ab.exports}var sb={exports:{}},yr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function ZV(){if(N2)return yr;N2=1;var t=Ju();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},yr.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},yr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},yr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},yr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},yr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},yr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},yr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},yr.requestFormReset=function(f){r.d.r(f)},yr.unstable_batchedUpdates=function(f,h){return f(h)},yr.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},yr.useFormStatus=function(){return c.H.useHostTransitionStatus()},yr.version="19.2.0",yr}var _2;function BP(){if(_2)return sb.exports;_2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sb.exports=ZV(),sb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function e7(){if(j2)return xf;j2=1;var t=JV(),e=Ju(),n=BP();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var l=i.alternate;if(!l){if(l=s(i),l===null)throw Error(r(188));return l!==i?null:i}for(var u=i,m=l;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return f(v),i;if(b===m)return f(v),l;b=b.sibling}throw Error(r(188))}if(u.return!==m.return)u=v,m=b;else{for(var T=!1,$=v.child;$;){if($===u){T=!0,u=v,m=b;break}if($===m){T=!0,m=v,u=b;break}$=$.sibling}if(!T){for($=b.child;$;){if($===u){T=!0,u=b,m=v;break}if($===m){T=!0,m=b,u=v;break}$=$.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:l}function p(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=p(i),l!==null)return l;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function ge(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case R:return"Suspense";case U:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case A:return i.displayName||"Context";case L:return(i._context.displayName||"Context")+".Consumer";case D:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return l=i.displayName||null,l!==null?l:ge(i.type)||"Memo";case V:l=i._payload,i=i._init;try{return ge(i(l))}catch{}}return null}var ce=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ye=[],Q=-1;function q(i){return{current:i}}function Z(i){0>Q||(i.current=ye[Q],ye[Q]=null,Q--)}function K(i,l){Q++,ye[Q]=i.current,i.current=l}var ee=q(null),fe=q(null),je=q(null),Ie=q(null);function qe(i,l){switch(K(je,l),K(fe,i),K(ee,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?VT(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=VT(l),i=zT(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(ee),K(ee,i)}function H(){Z(ee),Z(fe),Z(je)}function Ee(i){i.memoizedState!==null&&K(Ie,i);var l=ee.current,u=zT(l,i.type);l!==u&&(K(fe,i),K(ee,u))}function J(i){fe.current===i&&(Z(ee),Z(fe)),Ie.current===i&&(Z(Ie),mf._currentValue=X)}var ae,Fe;function Ve(i){if(ae===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ae=l&&l[1]||"",Fe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+i+Fe}var _t=!1;function _e(i,l){if(!i||_t)return"";_t=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(de){var oe=de}Reflect.construct(i,[],be)}else{try{be.call()}catch(de){oe=de}i.call(be.prototype)}}else{try{throw Error()}catch(de){oe=de}(be=i())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(de){if(de&&oe&&typeof de.stack=="string")return[de.stack,oe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),T=b[0],$=b[1];if(T&&$){var G=T.split(`
`),ie=$.split(`
`);for(v=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;v<ie.length&&!ie[v].includes("DetermineComponentFrameRoot");)v++;if(m===G.length||v===ie.length)for(m=G.length-1,v=ie.length-1;1<=m&&0<=v&&G[m]!==ie[v];)v--;for(;1<=m&&0<=v;m--,v--)if(G[m]!==ie[v]){if(m!==1||v!==1)do if(m--,v--,0>v||G[m]!==ie[v]){var pe=`
`+G[m].replace(" at new "," at ");return i.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",i.displayName)),pe}while(1<=m&&0<=v);break}}}finally{_t=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ve(u):""}function ft(i,l){switch(i.tag){case 26:case 27:case 5:return Ve(i.type);case 16:return Ve("Lazy");case 13:return i.child!==l&&l!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return _e(i.type,!1);case 11:return _e(i.type.render,!1);case 1:return _e(i.type,!0);case 31:return Ve("Activity");default:return""}}function me(i){try{var l="",u=null;do l+=ft(i,u),u=i,i=i.return;while(i);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ye=Object.prototype.hasOwnProperty,Ke=t.unstable_scheduleCallback,jt=t.unstable_cancelCallback,Ba=t.unstable_shouldYield,$a=t.unstable_requestPaint,Yn=t.unstable_now,Se=t.unstable_getCurrentPriorityLevel,Et=t.unstable_ImmediatePriority,on=t.unstable_UserBlockingPriority,ln=t.unstable_NormalPriority,Zr=t.unstable_LowPriority,dl=t.unstable_IdlePriority,fl=t.log,hl=t.unstable_setDisableYieldValue,kr=null,_n=null;function Ar(i){if(typeof fl=="function"&&hl(i),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(kr,i)}catch{}}var mn=Math.clz32?Math.clz32:Zh,Jh=Math.log,Ec=Math.LN2;function Zh(i){return i>>>=0,i===0?32:31-(Jh(i)/Ec|0)|0}var pi=256,ml=262144,jn=4194304;function gi(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yi(i,l,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,b=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var $=m&134217727;return $!==0?(m=$&~b,m!==0?v=gi(m):(T&=$,T!==0?v=gi(T):u||(u=$&~i,u!==0&&(v=gi(u))))):($=m&~b,$!==0?v=gi($):T!==0?v=gi(T):u||(u=m&~i,u!==0&&(v=gi(u)))),v===0?0:l!==0&&l!==v&&(l&b)===0&&(b=v&-v,u=l&-l,b>=u||b===32&&(u&4194048)!==0)?l:v}function Fa(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function av(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function em(){var i=jn;return jn<<=1,(jn&62914560)===0&&(jn=4194304),i}function vi(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function pl(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function iv(i,l,u,m,v,b){var T=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var $=i.entanglements,G=i.expirationTimes,ie=i.hiddenUpdates;for(u=T&~u;0<u;){var pe=31-mn(u),be=1<<pe;$[pe]=0,G[pe]=-1;var oe=ie[pe];if(oe!==null)for(ie[pe]=null,pe=0;pe<oe.length;pe++){var de=oe[pe];de!==null&&(de.lane&=-536870913)}u&=~be}m!==0&&gl(i,m,0),b!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=b&~(T&~l))}function gl(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-mn(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function vd(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var m=31-mn(u),v=1<<m;v&l|i[m]&l&&(i[m]|=l),u&=~v}}function xd(i,l){var u=l&-l;return u=(u&42)!==0?1:yl(u),(u&(i.suspendedLanes|l))!==0?0:u}function yl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ns(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function tm(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:c2(i.type))}function qa(i,l){var u=le.p;try{return le.p=i,l()}finally{le.p=u}}var Ha=Math.random().toString(36).slice(2),En="__reactFiber$"+Ha,Wn="__reactProps$"+Ha,xi="__reactContainer$"+Ha,Sc="__reactEvents$"+Ha,sv="__reactListeners$"+Ha,nm="__reactHandles$"+Ha,rm="__reactResources$"+Ha,bi="__reactMarker$"+Ha;function Ac(i){delete i[En],delete i[Wn],delete i[Sc],delete i[sv],delete i[nm]}function wi(i){var l=i[En];if(l)return l;for(var u=i.parentNode;u;){if(l=u[xi]||u[En]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=KT(i);i!==null;){if(u=i[En])return u;i=KT(i)}return l}i=u,u=i.parentNode}return null}function ya(i){if(i=i[En]||i[xi]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function ea(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function Ni(i){var l=i[rm];return l||(l=i[rm]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Sn(i){i[bi]=!0}var bd=new Set,wd={};function _i(i,l){ji(i,l),ji(i+"Capture",l)}function ji(i,l){for(wd[i]=l,i=0;i<l.length;i++)bd.add(l[i])}var Nd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_d={},jd={};function am(i){return Ye.call(jd,i)?!0:Ye.call(_d,i)?!1:Nd.test(i)?jd[i]=!0:(_d[i]=!0,!1)}function Tc(i,l,u){if(am(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function ta(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function An(i,l,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+m)}}function Xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zs(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ed(i,l,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,b=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return v.call(this)},set:function(T){u=""+T,b.call(this,T)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function St(i){if(!i._valueTracker){var l=Zs(i)?"checked":"value";i._valueTracker=Ed(i,l,""+i[l])}}function vl(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return i&&(m=Zs(i)?i.checked?"true":"false":i.value),i=m,i!==u?(l.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xl=/[\n"\\]/g;function Mr(i){return i.replace(xl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Cc(i,l,u,m,v,b,T,$){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),l!=null?T==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+Xn(l)):i.value!==""+Xn(l)&&(i.value=""+Xn(l)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),l!=null?Sd(i,T,Xn(l)):u!=null?Sd(i,T,Xn(u)):m!=null&&i.removeAttribute("value"),v==null&&b!=null&&(i.defaultChecked=!!b),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+Xn($):i.removeAttribute("name")}function im(i,l,u,m,v,b,T,$){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),l!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){St(i);return}u=u!=null?""+Xn(u):"",l=l!=null?""+Xn(l):u,$||l===i.value||(i.value=l),i.defaultValue=l}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=$?i.checked:!!m,i.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),St(i)}function Sd(i,l,u){l==="number"&&Ei(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function eo(i,l,u,m){if(i=i.options,l){l={};for(var v=0;v<u.length;v++)l["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=l.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Xn(u),l=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}l!==null||i[v].disabled||(l=i[v])}l!==null&&(l.selected=!0)}}function sm(i,l,u){if(l!=null&&(l=""+Xn(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+Xn(u):""}function to(i,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(r(92));if(ce(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=Xn(l),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),St(i)}function Lr(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var om=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ad(i,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,u):typeof u!="number"||u===0||om.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function Td(i,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in l)m=l[v],l.hasOwnProperty(v)&&u[v]!==m&&Ad(i,v,m)}else for(var b in l)l.hasOwnProperty(b)&&Ad(i,b,l[b])}function Ic(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),no=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oc(i){return no.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ga(){}var Cd=null;function va(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ro=null,Si=null;function bl(i){var l=ya(i);if(l&&(i=l.stateNode)){var u=i[Wn]||null;e:switch(i=l.stateNode,l.type){case"input":if(Cc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Mr(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==i&&m.form===i.form){var v=m[Wn]||null;if(!v)throw Error(r(90));Cc(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===i.form&&vl(m)}break e;case"textarea":sm(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&eo(i,!!u.multiple,l,!1)}}}var Rc=!1;function ao(i,l,u){if(Rc)return i(l,u);Rc=!0;try{var m=i(l);return m}finally{if(Rc=!1,(ro!==null||Si!==null)&&(tp(),ro&&(l=ro,i=Si,Si=ro=null,bl(l),i)))for(l=0;l<i.length;l++)bl(i[l])}}function Ka(i,l){var u=i.stateNode;if(u===null)return null;var m=u[Wn]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(xa)try{var It={};Object.defineProperty(It,"passive",{get:function(){wl=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{wl=!1}var Ai=null,Id=null,Nl=null;function Od(){if(Nl)return Nl;var i,l=Id,u=l.length,m,v="value"in Ai?Ai.value:Ai.textContent,b=v.length;for(i=0;i<u&&l[i]===v[i];i++);var T=u-i;for(m=1;m<=T&&l[u-m]===v[b-m];m++);return Nl=v.slice(i,1<m?1-m:void 0)}function _l(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function rs(){return!0}function Ya(){return!1}function ir(i){function l(u,m,v,b,T){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(u=i[$],this[$]=u?u(b):b[$]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?rs:Ya,this.isPropagationStopped=Ya,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),l}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=ir(as),io=g({},as,{view:0,detail:0}),Rd=ir(io),so,Dc,Ci,Pc=g({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(so=i.screenX-Ci.screenX,Dc=i.screenY-Ci.screenY):Dc=so=0,Ci=i),so)},movementY:function(i){return"movementY"in i?i.movementY:Dc}}),Dd=ir(Pc),jl=g({},Pc,{dataTransfer:0}),cm=ir(jl),um=g({},io,{relatedTarget:0}),El=ir(um),Pd=g({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),dm=ir(Pd),kc=g({},as,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fm=ir(kc),hm=g({},as,{data:0}),Ii=ir(hm),mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ym(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=gm[i])?!!l[i]:!1}function oo(){return ym}var Tr=g({},io,{key:function(i){if(i.key){var l=mm[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=_l(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(i){return i.type==="keypress"?_l(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_l(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vm=ir(Tr),xm=g({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=ir(xm),y=g({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),S=ir(y),M=g({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=ir(M),ne=g({},Pc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=ir(ne),Te=g({},as,{newState:0,oldState:0}),nt=ir(Te),pn=[9,13,27,32],bt=xa&&"CompositionEvent"in window,Yt=null;xa&&"documentMode"in document&&(Yt=document.documentMode);var ba=xa&&"TextEvent"in window&&!Yt,Oi=xa&&(!bt||Yt&&8<Yt&&11>=Yt),Wa=" ",Xa=!1;function Sl(i,l){switch(i){case"keyup":return pn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lc=!1;function m8(i,l){switch(i){case"compositionend":return Mc(l);case"keypress":return l.which!==32?null:(Xa=!0,Wa);case"textInput":return i=l.data,i===Wa&&Xa?null:i;default:return null}}function p8(i,l){if(Lc)return i==="compositionend"||!bt&&Sl(i,l)?(i=Od(),Nl=Id=Ai=null,Lc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Oi&&l.locale!=="ko"?null:l.data;default:return null}}var g8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XE(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!g8[i.type]:l==="textarea"}function QE(i,l,u,m){ro?Si?Si.push(m):Si=[m]:ro=m,l=lp(l,"onChange"),0<l.length&&(u=new Ti("onChange","change",null,u,m),i.push({event:u,listeners:l}))}var kd=null,Md=null;function y8(i){DT(i,0)}function bm(i){var l=ea(i);if(vl(l))return i}function JE(i,l){if(i==="change")return l}var ZE=!1;if(xa){var ov;if(xa){var lv="oninput"in document;if(!lv){var eS=document.createElement("div");eS.setAttribute("oninput","return;"),lv=typeof eS.oninput=="function"}ov=lv}else ov=!1;ZE=ov&&(!document.documentMode||9<document.documentMode)}function tS(){kd&&(kd.detachEvent("onpropertychange",nS),Md=kd=null)}function nS(i){if(i.propertyName==="value"&&bm(Md)){var l=[];QE(l,Md,i,va(i)),ao(y8,l)}}function v8(i,l,u){i==="focusin"?(tS(),kd=l,Md=u,kd.attachEvent("onpropertychange",nS)):i==="focusout"&&tS()}function x8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bm(Md)}function b8(i,l){if(i==="click")return bm(l)}function w8(i,l){if(i==="input"||i==="change")return bm(l)}function N8(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var na=typeof Object.is=="function"?Object.is:N8;function Ld(i,l){if(na(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!Ye.call(l,v)||!na(i[v],l[v]))return!1}return!0}function rS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function aS(i,l){var u=rS(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=l&&m>=l)return{node:u,offset:l-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=rS(u)}}function iS(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?iS(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function sS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Ei(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Ei(i.document)}return l}function cv(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var _8=xa&&"documentMode"in document&&11>=document.documentMode,Uc=null,uv=null,Ud=null,dv=!1;function oS(i,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;dv||Uc==null||Uc!==Ei(m)||(m=Uc,"selectionStart"in m&&cv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ud&&Ld(Ud,m)||(Ud=m,m=lp(uv,"onSelect"),0<m.length&&(l=new Ti("onSelect","select",null,l,u),i.push({event:l,listeners:m}),l.target=Uc)))}function Al(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var Vc={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionrun:Al("Transition","TransitionRun"),transitionstart:Al("Transition","TransitionStart"),transitioncancel:Al("Transition","TransitionCancel"),transitionend:Al("Transition","TransitionEnd")},fv={},lS={};xa&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function Tl(i){if(fv[i])return fv[i];if(!Vc[i])return i;var l=Vc[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in lS)return fv[i]=l[u];return i}var cS=Tl("animationend"),uS=Tl("animationiteration"),dS=Tl("animationstart"),j8=Tl("transitionrun"),E8=Tl("transitionstart"),S8=Tl("transitioncancel"),fS=Tl("transitionend"),hS=new Map,hv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hv.push("scrollEnd");function Qa(i,l){hS.set(i,l),_i(l,[i])}var wm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},wa=[],zc=0,mv=0;function Nm(){for(var i=zc,l=mv=zc=0;l<i;){var u=wa[l];wa[l++]=null;var m=wa[l];wa[l++]=null;var v=wa[l];wa[l++]=null;var b=wa[l];if(wa[l++]=null,m!==null&&v!==null){var T=m.pending;T===null?v.next=v:(v.next=T.next,T.next=v),m.pending=v}b!==0&&mS(u,v,b)}}function _m(i,l,u,m){wa[zc++]=i,wa[zc++]=l,wa[zc++]=u,wa[zc++]=m,mv|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function pv(i,l,u,m){return _m(i,l,u,m),jm(i)}function Cl(i,l){return _m(i,null,null,l),jm(i)}function mS(i,l,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,b=i.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(v=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,v&&l!==null&&(v=31-mn(u),i=b.hiddenUpdates,m=i[v],m===null?i[v]=[l]:m.push(l),l.lane=u|536870912),b):null}function jm(i){if(50<of)throw of=0,jx=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Bc={};function A8(i,l,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(i,l,u,m){return new A8(i,l,u,m)}function gv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ss(i,l){var u=i.alternate;return u===null?(u=ra(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function pS(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Em(i,l,u,m,v,b){var T=0;if(m=i,typeof i=="function")gv(i)&&(T=1);else if(typeof i=="string")T=RV(i,u,ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=ra(31,u,l,v),i.elementType=k,i.lanes=b,i;case _:return Il(u.children,v,b,l);case j:T=8,v|=24;break;case C:return i=ra(12,u,l,v|2),i.elementType=C,i.lanes=b,i;case R:return i=ra(13,u,l,v),i.elementType=R,i.lanes=b,i;case U:return i=ra(19,u,l,v),i.elementType=U,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:T=10;break e;case L:T=9;break e;case D:T=11;break e;case O:T=14;break e;case V:T=16,m=null;break e}T=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return l=ra(T,u,l,v),l.elementType=i,l.type=m,l.lanes=b,l}function Il(i,l,u,m){return i=ra(7,i,m,l),i.lanes=u,i}function yv(i,l,u){return i=ra(6,i,null,l),i.lanes=u,i}function gS(i){var l=ra(18,null,null,0);return l.stateNode=i,l}function vv(i,l,u){return l=ra(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var yS=new WeakMap;function Na(i,l){if(typeof i=="object"&&i!==null){var u=yS.get(i);return u!==void 0?u:(l={value:i,source:l,stack:me(l)},yS.set(i,l),l)}return{value:i,source:l,stack:me(l)}}var $c=[],Fc=0,Sm=null,Vd=0,_a=[],ja=0,lo=null,Ri=1,Di="";function os(i,l){$c[Fc++]=Vd,$c[Fc++]=Sm,Sm=i,Vd=l}function vS(i,l,u){_a[ja++]=Ri,_a[ja++]=Di,_a[ja++]=lo,lo=i;var m=Ri;i=Di;var v=32-mn(m)-1;m&=~(1<<v),u+=1;var b=32-mn(l)+v;if(30<b){var T=v-v%5;b=(m&(1<<T)-1).toString(32),m>>=T,v-=T,Ri=1<<32-mn(l)+v|u<<v|m,Di=b+i}else Ri=1<<b|u<<v|m,Di=i}function xv(i){i.return!==null&&(os(i,1),vS(i,1,0))}function bv(i){for(;i===Sm;)Sm=$c[--Fc],$c[Fc]=null,Vd=$c[--Fc],$c[Fc]=null;for(;i===lo;)lo=_a[--ja],_a[ja]=null,Di=_a[--ja],_a[ja]=null,Ri=_a[--ja],_a[ja]=null}function xS(i,l){_a[ja++]=Ri,_a[ja++]=Di,_a[ja++]=lo,Ri=l.id,Di=l.overflow,lo=i}var sr=null,qt=null,ht=!1,co=null,Ea=!1,wv=Error(r(519));function uo(i){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zd(Na(l,i)),wv}function bS(i){var l=i.stateNode,u=i.type,m=i.memoizedProps;switch(l[En]=i,l[Wn]=m,u){case"dialog":st("cancel",l),st("close",l);break;case"iframe":case"object":case"embed":st("load",l);break;case"video":case"audio":for(u=0;u<cf.length;u++)st(cf[u],l);break;case"source":st("error",l);break;case"img":case"image":case"link":st("error",l),st("load",l);break;case"details":st("toggle",l);break;case"input":st("invalid",l),im(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":st("invalid",l);break;case"textarea":st("invalid",l),to(l,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||LT(l.textContent,u)?(m.popover!=null&&(st("beforetoggle",l),st("toggle",l)),m.onScroll!=null&&st("scroll",l),m.onScrollEnd!=null&&st("scrollend",l),m.onClick!=null&&(l.onclick=Ga),l=!0):l=!1,l||uo(i,!0)}function wS(i){for(sr=i.return;sr;)switch(sr.tag){case 5:case 31:case 13:Ea=!1;return;case 27:case 3:Ea=!0;return;default:sr=sr.return}}function qc(i){if(i!==sr)return!1;if(!ht)return wS(i),ht=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Vx(i.type,i.memoizedProps)),u=!u),u&&qt&&uo(i),wS(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qt=GT(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qt=GT(i)}else l===27?(l=qt,Eo(i.type)?(i=qx,qx=null,qt=i):qt=l):qt=sr?Aa(i.stateNode.nextSibling):null;return!0}function Ol(){qt=sr=null,ht=!1}function Nv(){var i=co;return i!==null&&(Br===null?Br=i:Br.push.apply(Br,i),co=null),i}function zd(i){co===null?co=[i]:co.push(i)}var _v=q(null),Rl=null,ls=null;function fo(i,l,u){K(_v,l._currentValue),l._currentValue=u}function cs(i){i._currentValue=_v.current,Z(_v)}function jv(i,l,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===u)break;i=i.return}}function Ev(i,l,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var b=v.dependencies;if(b!==null){var T=v.child;b=b.firstContext;e:for(;b!==null;){var $=b;b=v;for(var G=0;G<l.length;G++)if($.context===l[G]){b.lanes|=u,$=b.alternate,$!==null&&($.lanes|=u),jv(b.return,u,i),m||(T=null);break e}b=$.next}}else if(v.tag===18){if(T=v.return,T===null)throw Error(r(341));T.lanes|=u,b=T.alternate,b!==null&&(b.lanes|=u),jv(T,u,i),T=null}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===i){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}}function Hc(i,l,u,m){i=null;for(var v=l,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var T=v.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var $=v.type;na(v.pendingProps.value,T.value)||(i!==null?i.push($):i=[$])}}else if(v===Ie.current){if(T=v.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(mf):i=[mf])}v=v.return}i!==null&&Ev(l,i,u,m),l.flags|=262144}function Am(i){for(i=i.firstContext;i!==null;){if(!na(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Dl(i){Rl=i,ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function or(i){return NS(Rl,i)}function Tm(i,l){return Rl===null&&Dl(i),NS(i,l)}function NS(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},ls===null){if(i===null)throw Error(r(308));ls=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else ls=ls.next=l;return u}var T8=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},C8=t.unstable_scheduleCallback,I8=t.unstable_NormalPriority,Tn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sv(){return{controller:new T8,data:new Map,refCount:0}}function Bd(i){i.refCount--,i.refCount===0&&C8(I8,function(){i.controller.abort()})}var $d=null,Av=0,Gc=0,Kc=null;function O8(i,l){if($d===null){var u=$d=[];Av=0,Gc=Ix(),Kc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Av++,l.then(_S,_S),l}function _S(){if(--Av===0&&$d!==null){Kc!==null&&(Kc.status="fulfilled");var i=$d;$d=null,Gc=0,Kc=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function R8(i,l){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var v=0;v<u.length;v++)(0,u[v])(l)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var jS=Y.S;Y.S=function(i,l){oT=Yn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&O8(i,l),jS!==null&&jS(i,l)};var Pl=q(null);function Tv(){var i=Pl.current;return i!==null?i:Lt.pooledCache}function Cm(i,l){l===null?K(Pl,Pl.current):K(Pl,l.pool)}function ES(){var i=Tv();return i===null?null:{parent:Tn._currentValue,pool:i}}var Yc=Error(r(460)),Cv=Error(r(474)),Im=Error(r(542)),Om={then:function(){}};function SS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function AS(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(Ga,Ga),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,CS(i),i;default:if(typeof l.status=="string")l.then(Ga,Ga);else{if(i=Lt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=m}},function(m){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,CS(i),i}throw Ml=l,Yc}}function kl(i){try{var l=i._init;return l(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ml=u,Yc):u}}var Ml=null;function TS(){if(Ml===null)throw Error(r(459));var i=Ml;return Ml=null,i}function CS(i){if(i===Yc||i===Im)throw Error(r(483))}var Wc=null,Fd=0;function Rm(i){var l=Fd;return Fd+=1,Wc===null&&(Wc=[]),AS(Wc,i,l)}function qd(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Dm(i,l){throw l.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function IS(i){function l(te,W){if(i){var re=te.deletions;re===null?(te.deletions=[W],te.flags|=16):re.push(W)}}function u(te,W){if(!i)return null;for(;W!==null;)l(te,W),W=W.sibling;return null}function m(te){for(var W=new Map;te!==null;)te.key!==null?W.set(te.key,te):W.set(te.index,te),te=te.sibling;return W}function v(te,W){return te=ss(te,W),te.index=0,te.sibling=null,te}function b(te,W,re){return te.index=re,i?(re=te.alternate,re!==null?(re=re.index,re<W?(te.flags|=67108866,W):re):(te.flags|=67108866,W)):(te.flags|=1048576,W)}function T(te){return i&&te.alternate===null&&(te.flags|=67108866),te}function $(te,W,re,ve){return W===null||W.tag!==6?(W=yv(re,te.mode,ve),W.return=te,W):(W=v(W,re),W.return=te,W)}function G(te,W,re,ve){var ze=re.type;return ze===_?pe(te,W,re.props.children,ve,re.key):W!==null&&(W.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===V&&kl(ze)===W.type)?(W=v(W,re.props),qd(W,re),W.return=te,W):(W=Em(re.type,re.key,re.props,null,te.mode,ve),qd(W,re),W.return=te,W)}function ie(te,W,re,ve){return W===null||W.tag!==4||W.stateNode.containerInfo!==re.containerInfo||W.stateNode.implementation!==re.implementation?(W=vv(re,te.mode,ve),W.return=te,W):(W=v(W,re.children||[]),W.return=te,W)}function pe(te,W,re,ve,ze){return W===null||W.tag!==7?(W=Il(re,te.mode,ve,ze),W.return=te,W):(W=v(W,re),W.return=te,W)}function be(te,W,re){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=yv(""+W,te.mode,re),W.return=te,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return re=Em(W.type,W.key,W.props,null,te.mode,re),qd(re,W),re.return=te,re;case E:return W=vv(W,te.mode,re),W.return=te,W;case V:return W=kl(W),be(te,W,re)}if(ce(W)||B(W))return W=Il(W,te.mode,re,null),W.return=te,W;if(typeof W.then=="function")return be(te,Rm(W),re);if(W.$$typeof===A)return be(te,Tm(te,W),re);Dm(te,W)}return null}function oe(te,W,re,ve){var ze=W!==null?W.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return ze!==null?null:$(te,W,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return re.key===ze?G(te,W,re,ve):null;case E:return re.key===ze?ie(te,W,re,ve):null;case V:return re=kl(re),oe(te,W,re,ve)}if(ce(re)||B(re))return ze!==null?null:pe(te,W,re,ve,null);if(typeof re.then=="function")return oe(te,W,Rm(re),ve);if(re.$$typeof===A)return oe(te,W,Tm(te,re),ve);Dm(te,re)}return null}function de(te,W,re,ve,ze){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return te=te.get(re)||null,$(W,te,""+ve,ze);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case w:return te=te.get(ve.key===null?re:ve.key)||null,G(W,te,ve,ze);case E:return te=te.get(ve.key===null?re:ve.key)||null,ie(W,te,ve,ze);case V:return ve=kl(ve),de(te,W,re,ve,ze)}if(ce(ve)||B(ve))return te=te.get(re)||null,pe(W,te,ve,ze,null);if(typeof ve.then=="function")return de(te,W,re,Rm(ve),ze);if(ve.$$typeof===A)return de(te,W,re,Tm(W,ve),ze);Dm(W,ve)}return null}function ke(te,W,re,ve){for(var ze=null,gt=null,Me=W,at=W=0,lt=null;Me!==null&&at<re.length;at++){Me.index>at?(lt=Me,Me=null):lt=Me.sibling;var yt=oe(te,Me,re[at],ve);if(yt===null){Me===null&&(Me=lt);break}i&&Me&&yt.alternate===null&&l(te,Me),W=b(yt,W,at),gt===null?ze=yt:gt.sibling=yt,gt=yt,Me=lt}if(at===re.length)return u(te,Me),ht&&os(te,at),ze;if(Me===null){for(;at<re.length;at++)Me=be(te,re[at],ve),Me!==null&&(W=b(Me,W,at),gt===null?ze=Me:gt.sibling=Me,gt=Me);return ht&&os(te,at),ze}for(Me=m(Me);at<re.length;at++)lt=de(Me,te,at,re[at],ve),lt!==null&&(i&&lt.alternate!==null&&Me.delete(lt.key===null?at:lt.key),W=b(lt,W,at),gt===null?ze=lt:gt.sibling=lt,gt=lt);return i&&Me.forEach(function(Io){return l(te,Io)}),ht&&os(te,at),ze}function He(te,W,re,ve){if(re==null)throw Error(r(151));for(var ze=null,gt=null,Me=W,at=W=0,lt=null,yt=re.next();Me!==null&&!yt.done;at++,yt=re.next()){Me.index>at?(lt=Me,Me=null):lt=Me.sibling;var Io=oe(te,Me,yt.value,ve);if(Io===null){Me===null&&(Me=lt);break}i&&Me&&Io.alternate===null&&l(te,Me),W=b(Io,W,at),gt===null?ze=Io:gt.sibling=Io,gt=Io,Me=lt}if(yt.done)return u(te,Me),ht&&os(te,at),ze;if(Me===null){for(;!yt.done;at++,yt=re.next())yt=be(te,yt.value,ve),yt!==null&&(W=b(yt,W,at),gt===null?ze=yt:gt.sibling=yt,gt=yt);return ht&&os(te,at),ze}for(Me=m(Me);!yt.done;at++,yt=re.next())yt=de(Me,te,at,yt.value,ve),yt!==null&&(i&&yt.alternate!==null&&Me.delete(yt.key===null?at:yt.key),W=b(yt,W,at),gt===null?ze=yt:gt.sibling=yt,gt=yt);return i&&Me.forEach(function(FV){return l(te,FV)}),ht&&os(te,at),ze}function Dt(te,W,re,ve){if(typeof re=="object"&&re!==null&&re.type===_&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case w:e:{for(var ze=re.key;W!==null;){if(W.key===ze){if(ze=re.type,ze===_){if(W.tag===7){u(te,W.sibling),ve=v(W,re.props.children),ve.return=te,te=ve;break e}}else if(W.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===V&&kl(ze)===W.type){u(te,W.sibling),ve=v(W,re.props),qd(ve,re),ve.return=te,te=ve;break e}u(te,W);break}else l(te,W);W=W.sibling}re.type===_?(ve=Il(re.props.children,te.mode,ve,re.key),ve.return=te,te=ve):(ve=Em(re.type,re.key,re.props,null,te.mode,ve),qd(ve,re),ve.return=te,te=ve)}return T(te);case E:e:{for(ze=re.key;W!==null;){if(W.key===ze)if(W.tag===4&&W.stateNode.containerInfo===re.containerInfo&&W.stateNode.implementation===re.implementation){u(te,W.sibling),ve=v(W,re.children||[]),ve.return=te,te=ve;break e}else{u(te,W);break}else l(te,W);W=W.sibling}ve=vv(re,te.mode,ve),ve.return=te,te=ve}return T(te);case V:return re=kl(re),Dt(te,W,re,ve)}if(ce(re))return ke(te,W,re,ve);if(B(re)){if(ze=B(re),typeof ze!="function")throw Error(r(150));return re=ze.call(re),He(te,W,re,ve)}if(typeof re.then=="function")return Dt(te,W,Rm(re),ve);if(re.$$typeof===A)return Dt(te,W,Tm(te,re),ve);Dm(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,W!==null&&W.tag===6?(u(te,W.sibling),ve=v(W,re),ve.return=te,te=ve):(u(te,W),ve=yv(re,te.mode,ve),ve.return=te,te=ve),T(te)):u(te,W)}return function(te,W,re,ve){try{Fd=0;var ze=Dt(te,W,re,ve);return Wc=null,ze}catch(Me){if(Me===Yc||Me===Im)throw Me;var gt=ra(29,Me,null,te.mode);return gt.lanes=ve,gt.return=te,gt}finally{}}}var Ll=IS(!0),OS=IS(!1),ho=!1;function Iv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ov(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function mo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function po(i,l,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,l=jm(i),mS(i,null,u),l}return _m(i,m,l,u),jm(i)}function Hd(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,vd(i,u)}}function Rv(i,l){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=T:b=b.next=T,u=u.next}while(u!==null);b===null?v=b=l:b=b.next=l}else v=b=l;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var Dv=!1;function Gd(){if(Dv){var i=Kc;if(i!==null)throw i}}function Kd(i,l,u,m){Dv=!1;var v=i.updateQueue;ho=!1;var b=v.firstBaseUpdate,T=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var G=$,ie=G.next;G.next=null,T===null?b=ie:T.next=ie,T=G;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,$=pe.lastBaseUpdate,$!==T&&($===null?pe.firstBaseUpdate=ie:$.next=ie,pe.lastBaseUpdate=G))}if(b!==null){var be=v.baseState;T=0,pe=ie=G=null,$=b;do{var oe=$.lane&-536870913,de=oe!==$.lane;if(de?(ot&oe)===oe:(m&oe)===oe){oe!==0&&oe===Gc&&(Dv=!0),pe!==null&&(pe=pe.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var ke=i,He=$;oe=l;var Dt=u;switch(He.tag){case 1:if(ke=He.payload,typeof ke=="function"){be=ke.call(Dt,be,oe);break e}be=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=He.payload,oe=typeof ke=="function"?ke.call(Dt,be,oe):ke,oe==null)break e;be=g({},be,oe);break e;case 2:ho=!0}}oe=$.callback,oe!==null&&(i.flags|=64,de&&(i.flags|=8192),de=v.callbacks,de===null?v.callbacks=[oe]:de.push(oe))}else de={lane:oe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},pe===null?(ie=pe=de,G=be):pe=pe.next=de,T|=oe;if($=$.next,$===null){if($=v.shared.pending,$===null)break;de=$,$=de.next,de.next=null,v.lastBaseUpdate=de,v.shared.pending=null}}while(!0);pe===null&&(G=be),v.baseState=G,v.firstBaseUpdate=ie,v.lastBaseUpdate=pe,b===null&&(v.shared.lanes=0),bo|=T,i.lanes=T,i.memoizedState=be}}function RS(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function DS(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)RS(u[i],l)}var Xc=q(null),Pm=q(0);function PS(i,l){i=vs,K(Pm,i),K(Xc,l),vs=i|l.baseLanes}function Pv(){K(Pm,vs),K(Xc,Xc.current)}function kv(){vs=Pm.current,Z(Xc),Z(Pm)}var aa=q(null),Sa=null;function go(i){var l=i.alternate;K(gn,gn.current&1),K(aa,i),Sa===null&&(l===null||Xc.current!==null||l.memoizedState!==null)&&(Sa=i)}function Mv(i){K(gn,gn.current),K(aa,i),Sa===null&&(Sa=i)}function kS(i){i.tag===22?(K(gn,gn.current),K(aa,i),Sa===null&&(Sa=i)):yo()}function yo(){K(gn,gn.current),K(aa,aa.current)}function ia(i){Z(aa),Sa===i&&(Sa=null),Z(gn)}var gn=q(0);function km(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||$x(u)||Fx(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var us=0,rt=null,Ot=null,Cn=null,Mm=!1,Qc=!1,Ul=!1,Lm=0,Yd=0,Jc=null,D8=0;function dn(){throw Error(r(321))}function Lv(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!na(i[u],l[u]))return!1;return!0}function Uv(i,l,u,m,v,b){return us=b,rt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Y.H=i===null||i.memoizedState===null?vA:Zv,Ul=!1,b=u(m,v),Ul=!1,Qc&&(b=LS(l,u,m,v)),MS(i),b}function MS(i){Y.H=Qd;var l=Ot!==null&&Ot.next!==null;if(us=0,Cn=Ot=rt=null,Mm=!1,Yd=0,Jc=null,l)throw Error(r(300));i===null||In||(i=i.dependencies,i!==null&&Am(i)&&(In=!0))}function LS(i,l,u,m){rt=i;var v=0;do{if(Qc&&(Jc=null),Yd=0,Qc=!1,25<=v)throw Error(r(301));if(v+=1,Cn=Ot=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Y.H=xA,b=l(u,m)}while(Qc);return b}function P8(){var i=Y.H,l=i.useState()[0];return l=typeof l.then=="function"?Wd(l):l,i=i.useState()[0],(Ot!==null?Ot.memoizedState:null)!==i&&(rt.flags|=1024),l}function Vv(){var i=Lm!==0;return Lm=0,i}function zv(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function Bv(i){if(Mm){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Mm=!1}us=0,Cn=Ot=rt=null,Qc=!1,Yd=Lm=0,Jc=null}function Cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?rt.memoizedState=Cn=i:Cn=Cn.next=i,Cn}function yn(){if(Ot===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var l=Cn===null?rt.memoizedState:Cn.next;if(l!==null)Cn=l,Ot=i;else{if(i===null)throw rt.alternate===null?Error(r(467)):Error(r(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Cn===null?rt.memoizedState=Cn=i:Cn=Cn.next=i}return Cn}function Um(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wd(i){var l=Yd;return Yd+=1,Jc===null&&(Jc=[]),i=AS(Jc,i,l),l=rt,(Cn===null?l.memoizedState:Cn.next)===null&&(l=l.alternate,Y.H=l===null||l.memoizedState===null?vA:Zv),i}function Vm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wd(i);if(i.$$typeof===A)return or(i)}throw Error(r(438,String(i)))}function $v(i){var l=null,u=rt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=rt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Um(),rt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),m=0;m<i;m++)u[m]=I;return l.index++,u}function ds(i,l){return typeof l=="function"?l(i):l}function zm(i){var l=yn();return Fv(l,Ot,i)}function Fv(i,l,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=i.baseQueue,b=m.pending;if(b!==null){if(v!==null){var T=v.next;v.next=b.next,b.next=T}l.baseQueue=v=b,m.pending=null}if(b=i.baseState,v===null)i.memoizedState=b;else{l=v.next;var $=T=null,G=null,ie=l,pe=!1;do{var be=ie.lane&-536870913;if(be!==ie.lane?(ot&be)===be:(us&be)===be){var oe=ie.revertLane;if(oe===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),be===Gc&&(pe=!0);else if((us&oe)===oe){ie=ie.next,oe===Gc&&(pe=!0);continue}else be={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},G===null?($=G=be,T=b):G=G.next=be,rt.lanes|=oe,bo|=oe;be=ie.action,Ul&&u(b,be),b=ie.hasEagerState?ie.eagerState:u(b,be)}else oe={lane:be,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},G===null?($=G=oe,T=b):G=G.next=oe,rt.lanes|=be,bo|=be;ie=ie.next}while(ie!==null&&ie!==l);if(G===null?T=b:G.next=$,!na(b,i.memoizedState)&&(In=!0,pe&&(u=Kc,u!==null)))throw u;i.memoizedState=b,i.baseState=T,i.baseQueue=G,m.lastRenderedState=b}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function qv(i){var l=yn(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,b=l.memoizedState;if(v!==null){u.pending=null;var T=v=v.next;do b=i(b,T.action),T=T.next;while(T!==v);na(b,l.memoizedState)||(In=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),u.lastRenderedState=b}return[b,m]}function US(i,l,u){var m=rt,v=yn(),b=ht;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=l();var T=!na((Ot||v).memoizedState,u);if(T&&(v.memoizedState=u,In=!0),v=v.queue,Kv(BS.bind(null,m,v,i),[i]),v.getSnapshot!==l||T||Cn!==null&&Cn.memoizedState.tag&1){if(m.flags|=2048,Zc(9,{destroy:void 0},zS.bind(null,m,v,u,l),null),Lt===null)throw Error(r(349));b||(us&127)!==0||VS(m,l,u)}return u}function VS(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=rt.updateQueue,l===null?(l=Um(),rt.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function zS(i,l,u,m){l.value=u,l.getSnapshot=m,$S(l)&&FS(i)}function BS(i,l,u){return u(function(){$S(l)&&FS(i)})}function $S(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!na(i,u)}catch{return!0}}function FS(i){var l=Cl(i,2);l!==null&&$r(l,i,2)}function Hv(i){var l=Cr();if(typeof i=="function"){var u=i;if(i=u(),Ul){Ar(!0);try{u()}finally{Ar(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:i},l}function qS(i,l,u,m){return i.baseState=u,Fv(i,Ot,typeof m=="function"?m:ds)}function k8(i,l,u,m,v){if(Fm(i))throw Error(r(485));if(i=l.action,i!==null){var b={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){b.listeners.push(T)}};Y.T!==null?u(!0):b.isTransition=!1,m(b),u=l.pending,u===null?(b.next=l.pending=b,HS(l,b)):(b.next=u.next,l.pending=u.next=b)}}function HS(i,l){var u=l.action,m=l.payload,v=i.state;if(l.isTransition){var b=Y.T,T={};Y.T=T;try{var $=u(v,m),G=Y.S;G!==null&&G(T,$),GS(i,l,$)}catch(ie){Gv(i,l,ie)}finally{b!==null&&T.types!==null&&(b.types=T.types),Y.T=b}}else try{b=u(v,m),GS(i,l,b)}catch(ie){Gv(i,l,ie)}}function GS(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){KS(i,l,m)},function(m){return Gv(i,l,m)}):KS(i,l,u)}function KS(i,l,u){l.status="fulfilled",l.value=u,YS(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,HS(i,u)))}function Gv(i,l,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,YS(l),l=l.next;while(l!==m)}i.action=null}function YS(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function WS(i,l){return l}function XS(i,l){if(ht){var u=Lt.formState;if(u!==null){e:{var m=rt;if(ht){if(qt){t:{for(var v=qt,b=Ea;v.nodeType!==8;){if(!b){v=null;break t}if(v=Aa(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){qt=Aa(v.nextSibling),m=v.data==="F!";break e}}uo(m)}m=!1}m&&(l=u[0])}}return u=Cr(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WS,lastRenderedState:l},u.queue=m,u=pA.bind(null,rt,m),m.dispatch=u,m=Hv(!1),b=Jv.bind(null,rt,!1,m.queue),m=Cr(),v={state:l,dispatch:null,action:i,pending:null},m.queue=v,u=k8.bind(null,rt,v,b,u),v.dispatch=u,m.memoizedState=i,[l,u,!1]}function QS(i){var l=yn();return JS(l,Ot,i)}function JS(i,l,u){if(l=Fv(i,l,WS)[0],i=zm(ds)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Wd(l)}catch(T){throw T===Yc?Im:T}else m=l;l=yn();var v=l.queue,b=v.dispatch;return u!==l.memoizedState&&(rt.flags|=2048,Zc(9,{destroy:void 0},M8.bind(null,v,u),null)),[m,b,i]}function M8(i,l){i.action=l}function ZS(i){var l=yn(),u=Ot;if(u!==null)return JS(l,u,i);yn(),l=l.memoizedState,u=yn();var m=u.queue.dispatch;return u.memoizedState=i,[l,m,!1]}function Zc(i,l,u,m){return i={tag:i,create:u,deps:m,inst:l,next:null},l=rt.updateQueue,l===null&&(l=Um(),rt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,l.lastEffect=i),i}function eA(){return yn().memoizedState}function Bm(i,l,u,m){var v=Cr();rt.flags|=i,v.memoizedState=Zc(1|l,{destroy:void 0},u,m===void 0?null:m)}function $m(i,l,u,m){var v=yn();m=m===void 0?null:m;var b=v.memoizedState.inst;Ot!==null&&m!==null&&Lv(m,Ot.memoizedState.deps)?v.memoizedState=Zc(l,b,u,m):(rt.flags|=i,v.memoizedState=Zc(1|l,b,u,m))}function tA(i,l){Bm(8390656,8,i,l)}function Kv(i,l){$m(2048,8,i,l)}function L8(i){rt.flags|=4;var l=rt.updateQueue;if(l===null)l=Um(),rt.updateQueue=l,l.events=[i];else{var u=l.events;u===null?l.events=[i]:u.push(i)}}function nA(i){var l=yn().memoizedState;return L8({ref:l,nextImpl:i}),function(){if((wt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function rA(i,l){return $m(4,2,i,l)}function aA(i,l){return $m(4,4,i,l)}function iA(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function sA(i,l,u){u=u!=null?u.concat([i]):null,$m(4,4,iA.bind(null,l,i),u)}function Yv(){}function oA(i,l){var u=yn();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&Lv(l,m[1])?m[0]:(u.memoizedState=[i,l],i)}function lA(i,l){var u=yn();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&Lv(l,m[1]))return m[0];if(m=i(),Ul){Ar(!0);try{i()}finally{Ar(!1)}}return u.memoizedState=[m,l],m}function Wv(i,l,u){return u===void 0||(us&1073741824)!==0&&(ot&261930)===0?i.memoizedState=l:(i.memoizedState=u,i=cT(),rt.lanes|=i,bo|=i,u)}function cA(i,l,u,m){return na(u,l)?u:Xc.current!==null?(i=Wv(i,u,m),na(i,l)||(In=!0),i):(us&42)===0||(us&1073741824)!==0&&(ot&261930)===0?(In=!0,i.memoizedState=u):(i=cT(),rt.lanes|=i,bo|=i,l)}function uA(i,l,u,m,v){var b=le.p;le.p=b!==0&&8>b?b:8;var T=Y.T,$={};Y.T=$,Jv(i,!1,l,u);try{var G=v(),ie=Y.S;if(ie!==null&&ie($,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=R8(G,m);Xd(i,l,pe,la(i))}else Xd(i,l,m,la(i))}catch(be){Xd(i,l,{then:function(){},status:"rejected",reason:be},la())}finally{le.p=b,T!==null&&$.types!==null&&(T.types=$.types),Y.T=T}}function U8(){}function Xv(i,l,u,m){if(i.tag!==5)throw Error(r(476));var v=dA(i).queue;uA(i,v,l,X,u===null?U8:function(){return fA(i),u(m)})}function dA(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:X},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function fA(i){var l=dA(i);l.next===null&&(l=i.alternate.memoizedState),Xd(i,l.next.queue,{},la())}function Qv(){return or(mf)}function hA(){return yn().memoizedState}function mA(){return yn().memoizedState}function V8(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=la();i=mo(u);var m=po(l,i,u);m!==null&&($r(m,l,u),Hd(m,l,u)),l={cache:Sv()},i.payload=l;return}l=l.return}}function z8(i,l,u){var m=la();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Fm(i)?gA(l,u):(u=pv(i,l,u,m),u!==null&&($r(u,i,m),yA(u,l,m)))}function pA(i,l,u){var m=la();Xd(i,l,u,m)}function Xd(i,l,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Fm(i))gA(l,v);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var T=l.lastRenderedState,$=b(T,u);if(v.hasEagerState=!0,v.eagerState=$,na($,T))return _m(i,l,v,0),Lt===null&&Nm(),!1}catch{}finally{}if(u=pv(i,l,v,m),u!==null)return $r(u,i,m),yA(u,l,m),!0}return!1}function Jv(i,l,u,m){if(m={lane:2,revertLane:Ix(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Fm(i)){if(l)throw Error(r(479))}else l=pv(i,u,m,2),l!==null&&$r(l,i,2)}function Fm(i){var l=i.alternate;return i===rt||l!==null&&l===rt}function gA(i,l){Qc=Mm=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function yA(i,l,u){if((u&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,vd(i,u)}}var Qd={readContext:or,use:Vm,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Qd.useEffectEvent=dn;var vA={readContext:or,use:Vm,useCallback:function(i,l){return Cr().memoizedState=[i,l===void 0?null:l],i},useContext:or,useEffect:tA,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,Bm(4194308,4,iA.bind(null,l,i),u)},useLayoutEffect:function(i,l){return Bm(4194308,4,i,l)},useInsertionEffect:function(i,l){Bm(4,2,i,l)},useMemo:function(i,l){var u=Cr();l=l===void 0?null:l;var m=i();if(Ul){Ar(!0);try{i()}finally{Ar(!1)}}return u.memoizedState=[m,l],m},useReducer:function(i,l,u){var m=Cr();if(u!==void 0){var v=u(l);if(Ul){Ar(!0);try{u(l)}finally{Ar(!1)}}}else v=l;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=z8.bind(null,rt,i),[m.memoizedState,i]},useRef:function(i){var l=Cr();return i={current:i},l.memoizedState=i},useState:function(i){i=Hv(i);var l=i.queue,u=pA.bind(null,rt,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:Yv,useDeferredValue:function(i,l){var u=Cr();return Wv(u,i,l)},useTransition:function(){var i=Hv(!1);return i=uA.bind(null,rt,i.queue,!0,!1),Cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var m=rt,v=Cr();if(ht){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),Lt===null)throw Error(r(349));(ot&127)!==0||VS(m,l,u)}v.memoizedState=u;var b={value:u,getSnapshot:l};return v.queue=b,tA(BS.bind(null,m,b,i),[i]),m.flags|=2048,Zc(9,{destroy:void 0},zS.bind(null,m,b,u,l),null),u},useId:function(){var i=Cr(),l=Lt.identifierPrefix;if(ht){var u=Di,m=Ri;u=(m&~(1<<32-mn(m)-1)).toString(32)+u,l="_"+l+"R_"+u,u=Lm++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=D8++,l="_"+l+"r_"+u.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:Qv,useFormState:XS,useActionState:XS,useOptimistic:function(i){var l=Cr();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Jv.bind(null,rt,!0,u),u.dispatch=l,[i,l]},useMemoCache:$v,useCacheRefresh:function(){return Cr().memoizedState=V8.bind(null,rt)},useEffectEvent:function(i){var l=Cr(),u={impl:i};return l.memoizedState=u,function(){if((wt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Zv={readContext:or,use:Vm,useCallback:oA,useContext:or,useEffect:Kv,useImperativeHandle:sA,useInsertionEffect:rA,useLayoutEffect:aA,useMemo:lA,useReducer:zm,useRef:eA,useState:function(){return zm(ds)},useDebugValue:Yv,useDeferredValue:function(i,l){var u=yn();return cA(u,Ot.memoizedState,i,l)},useTransition:function(){var i=zm(ds)[0],l=yn().memoizedState;return[typeof i=="boolean"?i:Wd(i),l]},useSyncExternalStore:US,useId:hA,useHostTransitionStatus:Qv,useFormState:QS,useActionState:QS,useOptimistic:function(i,l){var u=yn();return qS(u,Ot,i,l)},useMemoCache:$v,useCacheRefresh:mA};Zv.useEffectEvent=nA;var xA={readContext:or,use:Vm,useCallback:oA,useContext:or,useEffect:Kv,useImperativeHandle:sA,useInsertionEffect:rA,useLayoutEffect:aA,useMemo:lA,useReducer:qv,useRef:eA,useState:function(){return qv(ds)},useDebugValue:Yv,useDeferredValue:function(i,l){var u=yn();return Ot===null?Wv(u,i,l):cA(u,Ot.memoizedState,i,l)},useTransition:function(){var i=qv(ds)[0],l=yn().memoizedState;return[typeof i=="boolean"?i:Wd(i),l]},useSyncExternalStore:US,useId:hA,useHostTransitionStatus:Qv,useFormState:ZS,useActionState:ZS,useOptimistic:function(i,l){var u=yn();return Ot!==null?qS(u,Ot,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:$v,useCacheRefresh:mA};xA.useEffectEvent=nA;function ex(i,l,u,m){l=i.memoizedState,u=u(m,l),u=u==null?l:g({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var tx={enqueueSetState:function(i,l,u){i=i._reactInternals;var m=la(),v=mo(m);v.payload=l,u!=null&&(v.callback=u),l=po(i,v,m),l!==null&&($r(l,i,m),Hd(l,i,m))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var m=la(),v=mo(m);v.tag=1,v.payload=l,u!=null&&(v.callback=u),l=po(i,v,m),l!==null&&($r(l,i,m),Hd(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=la(),m=mo(u);m.tag=2,l!=null&&(m.callback=l),l=po(i,m,u),l!==null&&($r(l,i,u),Hd(l,i,u))}};function bA(i,l,u,m,v,b,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,T):l.prototype&&l.prototype.isPureReactComponent?!Ld(u,m)||!Ld(v,b):!0}function wA(i,l,u,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==i&&tx.enqueueReplaceState(l,l.state,null)}function Vl(i,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(i=i.defaultProps){u===l&&(u=g({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function NA(i){wm(i)}function _A(i){console.error(i)}function jA(i){wm(i)}function qm(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function EA(i,l,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function nx(i,l,u){return u=mo(u),u.tag=3,u.payload={element:null},u.callback=function(){qm(i,l)},u}function SA(i){return i=mo(i),i.tag=3,i}function AA(i,l,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=m.value;i.payload=function(){return v(b)},i.callback=function(){EA(l,u,m)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){EA(l,u,m),typeof v!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var $=m.stack;this.componentDidCatch(m.value,{componentStack:$!==null?$:""})})}function B8(i,l,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&Hc(l,u,v,!0),u=aa.current,u!==null){switch(u.tag){case 31:case 13:return Sa===null?np():u.alternate===null&&fn===0&&(fn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===Om?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),Ax(i,m,v)),!1;case 22:return u.flags|=65536,m===Om?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),Ax(i,m,v)),!1}throw Error(r(435,u.tag))}return Ax(i,m,v),np(),!1}if(ht)return l=aa.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,m!==wv&&(i=Error(r(422),{cause:m}),zd(Na(i,u)))):(m!==wv&&(l=Error(r(423),{cause:m}),zd(Na(l,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=Na(m,u),v=nx(i.stateNode,m,v),Rv(i,v),fn!==4&&(fn=2)),!1;var b=Error(r(520),{cause:m});if(b=Na(b,u),sf===null?sf=[b]:sf.push(b),fn!==4&&(fn=2),l===null)return!0;m=Na(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=nx(u.stateNode,m,i),Rv(u,i),!1;case 1:if(l=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(wo===null||!wo.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=SA(v),AA(v,i,u,m),Rv(u,v),!1}u=u.return}while(u!==null);return!1}var rx=Error(r(461)),In=!1;function lr(i,l,u,m){l.child=i===null?OS(l,null,u,m):Ll(l,i.child,u,m)}function TA(i,l,u,m,v){u=u.render;var b=l.ref;if("ref"in m){var T={};for(var $ in m)$!=="ref"&&(T[$]=m[$])}else T=m;return Dl(l),m=Uv(i,l,u,T,b,v),$=Vv(),i!==null&&!In?(zv(i,l,v),fs(i,l,v)):(ht&&$&&xv(l),l.flags|=1,lr(i,l,m,v),l.child)}function CA(i,l,u,m,v){if(i===null){var b=u.type;return typeof b=="function"&&!gv(b)&&b.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=b,IA(i,l,b,m,v)):(i=Em(u.type,null,m,l,l.mode,v),i.ref=l.ref,i.return=l,l.child=i)}if(b=i.child,!dx(i,v)){var T=b.memoizedProps;if(u=u.compare,u=u!==null?u:Ld,u(T,m)&&i.ref===l.ref)return fs(i,l,v)}return l.flags|=1,i=ss(b,m),i.ref=l.ref,i.return=l,l.child=i}function IA(i,l,u,m,v){if(i!==null){var b=i.memoizedProps;if(Ld(b,m)&&i.ref===l.ref)if(In=!1,l.pendingProps=m=b,dx(i,v))(i.flags&131072)!==0&&(In=!0);else return l.lanes=i.lanes,fs(i,l,v)}return ax(i,l,u,m,v)}function OA(i,l,u,m){var v=m.children,b=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(m=l.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~b}else m=0,l.child=null;return RA(i,l,b,u,m)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Cm(l,b!==null?b.cachePool:null),b!==null?PS(l,b):Pv(),kS(l);else return m=l.lanes=536870912,RA(i,l,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(Cm(l,b.cachePool),PS(l,b),yo(),l.memoizedState=null):(i!==null&&Cm(l,null),Pv(),yo());return lr(i,l,v,u),l.child}function Jd(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function RA(i,l,u,m,v){var b=Tv();return b=b===null?null:{parent:Tn._currentValue,pool:b},l.memoizedState={baseLanes:u,cachePool:b},i!==null&&Cm(l,null),Pv(),kS(l),i!==null&&Hc(i,l,m,!0),l.childLanes=v,null}function Hm(i,l){return l=Km({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function DA(i,l,u){return Ll(l,i.child,null,u),i=Hm(l,l.pendingProps),i.flags|=2,ia(l),l.memoizedState=null,i}function $8(i,l,u){var m=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(ht){if(m.mode==="hidden")return i=Hm(l,m),l.lanes=536870912,Jd(null,i);if(Mv(l),(i=qt)?(i=HT(i,Ea),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:lo!==null?{id:Ri,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},u=gS(i),u.return=l,l.child=u,sr=l,qt=null)):i=null,i===null)throw uo(l);return l.lanes=536870912,null}return Hm(l,m)}var b=i.memoizedState;if(b!==null){var T=b.dehydrated;if(Mv(l),v)if(l.flags&256)l.flags&=-257,l=DA(i,l,u);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(r(558));else if(In||Hc(i,l,u,!1),v=(u&i.childLanes)!==0,In||v){if(m=Lt,m!==null&&(T=xd(m,u),T!==0&&T!==b.retryLane))throw b.retryLane=T,Cl(i,T),$r(m,i,T),rx;np(),l=DA(i,l,u)}else i=b.treeContext,qt=Aa(T.nextSibling),sr=l,ht=!0,co=null,Ea=!1,i!==null&&xS(l,i),l=Hm(l,m),l.flags|=4096;return l}return i=ss(i.child,{mode:m.mode,children:m.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Gm(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function ax(i,l,u,m,v){return Dl(l),u=Uv(i,l,u,m,void 0,v),m=Vv(),i!==null&&!In?(zv(i,l,v),fs(i,l,v)):(ht&&m&&xv(l),l.flags|=1,lr(i,l,u,v),l.child)}function PA(i,l,u,m,v,b){return Dl(l),l.updateQueue=null,u=LS(l,m,u,v),MS(i),m=Vv(),i!==null&&!In?(zv(i,l,b),fs(i,l,b)):(ht&&m&&xv(l),l.flags|=1,lr(i,l,u,b),l.child)}function kA(i,l,u,m,v){if(Dl(l),l.stateNode===null){var b=Bc,T=u.contextType;typeof T=="object"&&T!==null&&(b=or(T)),b=new u(m,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=tx,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=m,b.state=l.memoizedState,b.refs={},Iv(l),T=u.contextType,b.context=typeof T=="object"&&T!==null?or(T):Bc,b.state=l.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(ex(l,u,T,m),b.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(T=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),T!==b.state&&tx.enqueueReplaceState(b,b.state,null),Kd(l,m,b,v),Gd(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){b=l.stateNode;var $=l.memoizedProps,G=Vl(u,$);b.props=G;var ie=b.context,pe=u.contextType;T=Bc,typeof pe=="object"&&pe!==null&&(T=or(pe));var be=u.getDerivedStateFromProps;pe=typeof be=="function"||typeof b.getSnapshotBeforeUpdate=="function",$=l.pendingProps!==$,pe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($||ie!==T)&&wA(l,b,m,T),ho=!1;var oe=l.memoizedState;b.state=oe,Kd(l,m,b,v),Gd(),ie=l.memoizedState,$||oe!==ie||ho?(typeof be=="function"&&(ex(l,u,be,m),ie=l.memoizedState),(G=ho||bA(l,u,G,m,oe,ie,T))?(pe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ie),b.props=m,b.state=ie,b.context=T,m=G):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{b=l.stateNode,Ov(i,l),T=l.memoizedProps,pe=Vl(u,T),b.props=pe,be=l.pendingProps,oe=b.context,ie=u.contextType,G=Bc,typeof ie=="object"&&ie!==null&&(G=or(ie)),$=u.getDerivedStateFromProps,(ie=typeof $=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==be||oe!==G)&&wA(l,b,m,G),ho=!1,oe=l.memoizedState,b.state=oe,Kd(l,m,b,v),Gd();var de=l.memoizedState;T!==be||oe!==de||ho||i!==null&&i.dependencies!==null&&Am(i.dependencies)?(typeof $=="function"&&(ex(l,u,$,m),de=l.memoizedState),(pe=ho||bA(l,u,pe,m,oe,de,G)||i!==null&&i.dependencies!==null&&Am(i.dependencies))?(ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,de,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,de,G)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&oe===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&oe===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=de),b.props=m,b.state=de,b.context=G,m=pe):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&oe===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&oe===i.memoizedState||(l.flags|=1024),m=!1)}return b=m,Gm(i,l),m=(l.flags&128)!==0,b||m?(b=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,i!==null&&m?(l.child=Ll(l,i.child,null,v),l.child=Ll(l,null,u,v)):lr(i,l,u,v),l.memoizedState=b.state,i=l.child):i=fs(i,l,v),i}function MA(i,l,u,m){return Ol(),l.flags|=256,lr(i,l,u,m),l.child}var ix={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sx(i){return{baseLanes:i,cachePool:ES()}}function ox(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=oa),i}function LA(i,l,u){var m=l.pendingProps,v=!1,b=(l.flags&128)!==0,T;if((T=b)||(T=i!==null&&i.memoizedState===null?!1:(gn.current&2)!==0),T&&(v=!0,l.flags&=-129),T=(l.flags&32)!==0,l.flags&=-33,i===null){if(ht){if(v?go(l):yo(),(i=qt)?(i=HT(i,Ea),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:lo!==null?{id:Ri,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},u=gS(i),u.return=l,l.child=u,sr=l,qt=null)):i=null,i===null)throw uo(l);return Fx(i)?l.lanes=32:l.lanes=536870912,null}var $=m.children;return m=m.fallback,v?(yo(),v=l.mode,$=Km({mode:"hidden",children:$},v),m=Il(m,v,u,null),$.return=l,m.return=l,$.sibling=m,l.child=$,m=l.child,m.memoizedState=sx(u),m.childLanes=ox(i,T,u),l.memoizedState=ix,Jd(null,m)):(go(l),lx(l,$))}var G=i.memoizedState;if(G!==null&&($=G.dehydrated,$!==null)){if(b)l.flags&256?(go(l),l.flags&=-257,l=cx(i,l,u)):l.memoizedState!==null?(yo(),l.child=i.child,l.flags|=128,l=null):(yo(),$=m.fallback,v=l.mode,m=Km({mode:"visible",children:m.children},v),$=Il($,v,u,null),$.flags|=2,m.return=l,$.return=l,m.sibling=$,l.child=m,Ll(l,i.child,null,u),m=l.child,m.memoizedState=sx(u),m.childLanes=ox(i,T,u),l.memoizedState=ix,l=Jd(null,m));else if(go(l),Fx($)){if(T=$.nextSibling&&$.nextSibling.dataset,T)var ie=T.dgst;T=ie,m=Error(r(419)),m.stack="",m.digest=T,zd({value:m,source:null,stack:null}),l=cx(i,l,u)}else if(In||Hc(i,l,u,!1),T=(u&i.childLanes)!==0,In||T){if(T=Lt,T!==null&&(m=xd(T,u),m!==0&&m!==G.retryLane))throw G.retryLane=m,Cl(i,m),$r(T,i,m),rx;$x($)||np(),l=cx(i,l,u)}else $x($)?(l.flags|=192,l.child=i.child,l=null):(i=G.treeContext,qt=Aa($.nextSibling),sr=l,ht=!0,co=null,Ea=!1,i!==null&&xS(l,i),l=lx(l,m.children),l.flags|=4096);return l}return v?(yo(),$=m.fallback,v=l.mode,G=i.child,ie=G.sibling,m=ss(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ie!==null?$=ss(ie,$):($=Il($,v,u,null),$.flags|=2),$.return=l,m.return=l,m.sibling=$,l.child=m,Jd(null,m),m=l.child,$=i.child.memoizedState,$===null?$=sx(u):(v=$.cachePool,v!==null?(G=Tn._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=ES(),$={baseLanes:$.baseLanes|u,cachePool:v}),m.memoizedState=$,m.childLanes=ox(i,T,u),l.memoizedState=ix,Jd(i.child,m)):(go(l),u=i.child,i=u.sibling,u=ss(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,i!==null&&(T=l.deletions,T===null?(l.deletions=[i],l.flags|=16):T.push(i)),l.child=u,l.memoizedState=null,u)}function lx(i,l){return l=Km({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Km(i,l){return i=ra(22,i,null,l),i.lanes=0,i}function cx(i,l,u){return Ll(l,i.child,null,u),i=lx(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function UA(i,l,u){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),jv(i.return,l,u)}function ux(i,l,u,m,v,b){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:b}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=u,T.tailMode=v,T.treeForkCount=b)}function VA(i,l,u){var m=l.pendingProps,v=m.revealOrder,b=m.tail;m=m.children;var T=gn.current,$=(T&2)!==0;if($?(T=T&1|2,l.flags|=128):T&=1,K(gn,T),lr(i,l,m,u),m=ht?Vd:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&UA(i,u,l);else if(i.tag===19)UA(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=l.child,v=null;u!==null;)i=u.alternate,i!==null&&km(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=l.child,l.child=null):(v=u.sibling,u.sibling=null),ux(l,!1,v,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=l.child,l.child=null;v!==null;){if(i=v.alternate,i!==null&&km(i)===null){l.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}ux(l,!0,u,null,b,m);break;case"together":ux(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function fs(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),bo|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(Hc(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,u=ss(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=ss(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function dx(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Am(i)))}function F8(i,l,u){switch(l.tag){case 3:qe(l,l.stateNode.containerInfo),fo(l,Tn,i.memoizedState.cache),Ol();break;case 27:case 5:Ee(l);break;case 4:qe(l,l.stateNode.containerInfo);break;case 10:fo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Mv(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(go(l),l.flags|=128,null):(u&l.child.childLanes)!==0?LA(i,l,u):(go(l),i=fs(i,l,u),i!==null?i.sibling:null);go(l);break;case 19:var v=(i.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(Hc(i,l,u,!1),m=(u&l.childLanes)!==0),v){if(m)return VA(i,l,u);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),K(gn,gn.current),m)break;return null;case 22:return l.lanes=0,OA(i,l,u,l.pendingProps);case 24:fo(l,Tn,i.memoizedState.cache)}return fs(i,l,u)}function zA(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)In=!0;else{if(!dx(i,u)&&(l.flags&128)===0)return In=!1,F8(i,l,u);In=(i.flags&131072)!==0}else In=!1,ht&&(l.flags&1048576)!==0&&vS(l,Vd,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(i=kl(l.elementType),l.type=i,typeof i=="function")gv(i)?(m=Vl(i,m),l.tag=1,l=kA(null,l,i,m,u)):(l.tag=0,l=ax(null,l,i,m,u));else{if(i!=null){var v=i.$$typeof;if(v===D){l.tag=11,l=TA(null,l,i,m,u);break e}else if(v===O){l.tag=14,l=CA(null,l,i,m,u);break e}}throw l=ge(i)||i,Error(r(306,l,""))}}return l;case 0:return ax(i,l,l.type,l.pendingProps,u);case 1:return m=l.type,v=Vl(m,l.pendingProps),kA(i,l,m,v,u);case 3:e:{if(qe(l,l.stateNode.containerInfo),i===null)throw Error(r(387));m=l.pendingProps;var b=l.memoizedState;v=b.element,Ov(i,l),Kd(l,m,null,u);var T=l.memoizedState;if(m=T.cache,fo(l,Tn,m),m!==b.cache&&Ev(l,[Tn],u,!0),Gd(),m=T.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:T.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=MA(i,l,m,u);break e}else if(m!==v){v=Na(Error(r(424)),l),zd(v),l=MA(i,l,m,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(qt=Aa(i.firstChild),sr=l,ht=!0,co=null,Ea=!0,u=OS(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ol(),m===v){l=fs(i,l,u);break e}lr(i,l,m,u)}l=l.child}return l;case 26:return Gm(i,l),i===null?(u=QT(l.type,null,l.pendingProps,null))?l.memoizedState=u:ht||(u=l.type,i=l.pendingProps,m=cp(je.current).createElement(u),m[En]=l,m[Wn]=i,cr(m,u,i),Sn(m),l.stateNode=m):l.memoizedState=QT(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Ee(l),i===null&&ht&&(m=l.stateNode=YT(l.type,l.pendingProps,je.current),sr=l,Ea=!0,v=qt,Eo(l.type)?(qx=v,qt=Aa(m.firstChild)):qt=v),lr(i,l,l.pendingProps.children,u),Gm(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&ht&&((v=m=qt)&&(m=xV(m,l.type,l.pendingProps,Ea),m!==null?(l.stateNode=m,sr=l,qt=Aa(m.firstChild),Ea=!1,v=!0):v=!1),v||uo(l)),Ee(l),v=l.type,b=l.pendingProps,T=i!==null?i.memoizedProps:null,m=b.children,Vx(v,b)?m=null:T!==null&&Vx(v,T)&&(l.flags|=32),l.memoizedState!==null&&(v=Uv(i,l,P8,null,null,u),mf._currentValue=v),Gm(i,l),lr(i,l,m,u),l.child;case 6:return i===null&&ht&&((i=u=qt)&&(u=bV(u,l.pendingProps,Ea),u!==null?(l.stateNode=u,sr=l,qt=null,i=!0):i=!1),i||uo(l)),null;case 13:return LA(i,l,u);case 4:return qe(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=Ll(l,null,m,u):lr(i,l,m,u),l.child;case 11:return TA(i,l,l.type,l.pendingProps,u);case 7:return lr(i,l,l.pendingProps,u),l.child;case 8:return lr(i,l,l.pendingProps.children,u),l.child;case 12:return lr(i,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,fo(l,l.type,m.value),lr(i,l,m.children,u),l.child;case 9:return v=l.type._context,m=l.pendingProps.children,Dl(l),v=or(v),m=m(v),l.flags|=1,lr(i,l,m,u),l.child;case 14:return CA(i,l,l.type,l.pendingProps,u);case 15:return IA(i,l,l.type,l.pendingProps,u);case 19:return VA(i,l,u);case 31:return $8(i,l,u);case 22:return OA(i,l,u,l.pendingProps);case 24:return Dl(l),m=or(Tn),i===null?(v=Tv(),v===null&&(v=Lt,b=Sv(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),l.memoizedState={parent:m,cache:v},Iv(l),fo(l,Tn,v)):((i.lanes&u)!==0&&(Ov(i,l),Kd(l,null,null,u),Gd()),v=i.memoizedState,b=l.memoizedState,v.parent!==m?(v={parent:m,cache:m},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),fo(l,Tn,m)):(m=b.cache,fo(l,Tn,m),m!==v.cache&&Ev(l,[Tn],u,!0))),lr(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function hs(i){i.flags|=4}function fx(i,l,u,m,v){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(hT())i.flags|=8192;else throw Ml=Om,Cv}else i.flags&=-16777217}function BA(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!n2(l))if(hT())i.flags|=8192;else throw Ml=Om,Cv}function Ym(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?em():536870912,i.lanes|=l,ru|=l)}function Zd(i,l){if(!ht)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ht(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(l)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,l}function q8(i,l,u){var m=l.pendingProps;switch(bv(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(l),null;case 1:return Ht(l),null;case 3:return u=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),cs(Tn),H(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(qc(l)?hs(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Nv())),Ht(l),null;case 26:var v=l.type,b=l.memoizedState;return i===null?(hs(l),b!==null?(Ht(l),BA(l,b)):(Ht(l),fx(l,v,null,m,u))):b?b!==i.memoizedState?(hs(l),Ht(l),BA(l,b)):(Ht(l),l.flags&=-16777217):(i=i.memoizedProps,i!==m&&hs(l),Ht(l),fx(l,v,i,m,u)),null;case 27:if(J(l),u=je.current,v=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&hs(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Ht(l),null}i=ee.current,qc(l)?bS(l):(i=YT(v,m,u),l.stateNode=i,hs(l))}return Ht(l),null;case 5:if(J(l),v=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&hs(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Ht(l),null}if(b=ee.current,qc(l))bS(l);else{var T=cp(je.current);switch(b){case 1:b=T.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=T.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=T.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?T.createElement("select",{is:m.is}):T.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?T.createElement(v,{is:m.is}):T.createElement(v)}}b[En]=l,b[Wn]=m;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)b.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=b;e:switch(cr(b,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&hs(l)}}return Ht(l),fx(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,u),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&hs(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(i=je.current,qc(l)){if(i=l.stateNode,u=l.memoizedProps,m=null,v=sr,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[En]=l,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||LT(i.nodeValue,u)),i||uo(l,!0)}else i=cp(i).createTextNode(m),i[En]=l,l.stateNode=i}return Ht(l),null;case 31:if(u=l.memoizedState,i===null||i.memoizedState!==null){if(m=qc(l),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[En]=l}else Ol(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ht(l),i=!1}else u=Nv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return l.flags&256?(ia(l),l):(ia(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Ht(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=qc(l),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[En]=l}else Ol(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ht(l),v=!1}else v=Nv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(ia(l),l):(ia(l),null)}return ia(l),(l.flags&128)!==0?(l.lanes=u,l):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=l.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==v&&(m.flags|=2048)),u!==i&&u&&(l.child.flags|=8192),Ym(l,l.updateQueue),Ht(l),null);case 4:return H(),i===null&&Px(l.stateNode.containerInfo),Ht(l),null;case 10:return cs(l.type),Ht(l),null;case 19:if(Z(gn),m=l.memoizedState,m===null)return Ht(l),null;if(v=(l.flags&128)!==0,b=m.rendering,b===null)if(v)Zd(m,!1);else{if(fn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(b=km(i),b!==null){for(l.flags|=128,Zd(m,!1),i=b.updateQueue,l.updateQueue=i,Ym(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)pS(u,i),u=u.sibling;return K(gn,gn.current&1|2),ht&&os(l,m.treeForkCount),l.child}i=i.sibling}m.tail!==null&&Yn()>Zm&&(l.flags|=128,v=!0,Zd(m,!1),l.lanes=4194304)}else{if(!v)if(i=km(b),i!==null){if(l.flags|=128,v=!0,i=i.updateQueue,l.updateQueue=i,Ym(l,i),Zd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!ht)return Ht(l),null}else 2*Yn()-m.renderingStartTime>Zm&&u!==536870912&&(l.flags|=128,v=!0,Zd(m,!1),l.lanes=4194304);m.isBackwards?(b.sibling=l.child,l.child=b):(i=m.last,i!==null?i.sibling=b:l.child=b,m.last=b)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Yn(),i.sibling=null,u=gn.current,K(gn,v?u&1|2:u&1),ht&&os(l,m.treeForkCount),i):(Ht(l),null);case 22:case 23:return ia(l),kv(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(Ht(l),l.subtreeFlags&6&&(l.flags|=8192)):Ht(l),u=l.updateQueue,u!==null&&Ym(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),i!==null&&Z(Pl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),cs(Tn),Ht(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function H8(i,l){switch(bv(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return cs(Tn),H(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return J(l),null;case 31:if(l.memoizedState!==null){if(ia(l),l.alternate===null)throw Error(r(340));Ol()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(ia(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ol()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Z(gn),null;case 4:return H(),null;case 10:return cs(l.type),null;case 22:case 23:return ia(l),kv(),i!==null&&Z(Pl),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return cs(Tn),null;case 25:return null;default:return null}}function $A(i,l){switch(bv(l),l.tag){case 3:cs(Tn),H();break;case 26:case 27:case 5:J(l);break;case 4:H();break;case 31:l.memoizedState!==null&&ia(l);break;case 13:ia(l);break;case 19:Z(gn);break;case 10:cs(l.type);break;case 22:case 23:ia(l),kv(),i!==null&&Z(Pl);break;case 24:cs(Tn)}}function ef(i,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var b=u.create,T=u.inst;m=b(),T.destroy=m}u=u.next}while(u!==v)}}catch($){Tt(l,l.return,$)}}function vo(i,l,u){try{var m=l.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var b=v.next;m=b;do{if((m.tag&i)===i){var T=m.inst,$=T.destroy;if($!==void 0){T.destroy=void 0,v=l;var G=u,ie=$;try{ie()}catch(pe){Tt(v,G,pe)}}}m=m.next}while(m!==b)}}catch(pe){Tt(l,l.return,pe)}}function FA(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{DS(l,u)}catch(m){Tt(i,i.return,m)}}}function qA(i,l,u){u.props=Vl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){Tt(i,l,m)}}function tf(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){Tt(i,l,v)}}function Pi(i,l){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){Tt(i,l,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Tt(i,l,v)}else u.current=null}function HA(i){var l=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){Tt(i,i.return,v)}}function hx(i,l,u){try{var m=i.stateNode;hV(m,i.type,u,l),m[Wn]=l}catch(v){Tt(i,i.return,v)}}function GA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Eo(i.type)||i.tag===4}function mx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||GA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Eo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function px(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Ga));else if(m!==4&&(m===27&&Eo(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(px(i,l,u),i=i.sibling;i!==null;)px(i,l,u),i=i.sibling}function Wm(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(m!==4&&(m===27&&Eo(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Wm(i,l,u),i=i.sibling;i!==null;)Wm(i,l,u),i=i.sibling}function KA(i){var l=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);cr(l,m,u),l[En]=i,l[Wn]=u}catch(b){Tt(i,i.return,b)}}var ms=!1,On=!1,gx=!1,YA=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function G8(i,l){if(i=i.containerInfo,Lx=gp,i=sS(i),cv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var T=0,$=-1,G=-1,ie=0,pe=0,be=i,oe=null;t:for(;;){for(var de;be!==u||v!==0&&be.nodeType!==3||($=T+v),be!==b||m!==0&&be.nodeType!==3||(G=T+m),be.nodeType===3&&(T+=be.nodeValue.length),(de=be.firstChild)!==null;)oe=be,be=de;for(;;){if(be===i)break t;if(oe===u&&++ie===v&&($=T),oe===b&&++pe===m&&(G=T),(de=be.nextSibling)!==null)break;be=oe,oe=be.parentNode}be=de}u=$===-1||G===-1?null:{start:$,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ux={focusedElem:i,selectionRange:u},gp=!1,Qn=l;Qn!==null;)if(l=Qn,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Qn=i;else for(;Qn!==null;){switch(l=Qn,b=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=l,v=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var ke=Vl(u.type,v);i=m.getSnapshotBeforeUpdate(ke,b),m.__reactInternalSnapshotBeforeUpdate=i}catch(He){Tt(u,u.return,He)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)Bx(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Qn=i;break}Qn=l.return}}function WA(i,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:gs(i,u),m&4&&ef(5,u);break;case 1:if(gs(i,u),m&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(T){Tt(u,u.return,T)}else{var v=Vl(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(v,l,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Tt(u,u.return,T)}}m&64&&FA(u),m&512&&tf(u,u.return);break;case 3:if(gs(i,u),m&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{DS(i,l)}catch(T){Tt(u,u.return,T)}}break;case 27:l===null&&m&4&&KA(u);case 26:case 5:gs(i,u),l===null&&m&4&&HA(u),m&512&&tf(u,u.return);break;case 12:gs(i,u);break;case 31:gs(i,u),m&4&&JA(i,u);break;case 13:gs(i,u),m&4&&ZA(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=tV.bind(null,u),wV(i,u))));break;case 22:if(m=u.memoizedState!==null||ms,!m){l=l!==null&&l.memoizedState!==null||On,v=ms;var b=On;ms=m,(On=l)&&!b?ys(i,u,(u.subtreeFlags&8772)!==0):gs(i,u),ms=v,On=b}break;case 30:break;default:gs(i,u)}}function XA(i){var l=i.alternate;l!==null&&(i.alternate=null,XA(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Ac(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Wt=null,Ur=!1;function ps(i,l,u){for(u=u.child;u!==null;)QA(i,l,u),u=u.sibling}function QA(i,l,u){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(kr,u)}catch{}switch(u.tag){case 26:On||Pi(u,l),ps(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:On||Pi(u,l);var m=Wt,v=Ur;Eo(u.type)&&(Wt=u.stateNode,Ur=!1),ps(i,l,u),df(u.stateNode),Wt=m,Ur=v;break;case 5:On||Pi(u,l);case 6:if(m=Wt,v=Ur,Wt=null,ps(i,l,u),Wt=m,Ur=v,Wt!==null)if(Ur)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(u.stateNode)}catch(b){Tt(u,l,b)}else try{Wt.removeChild(u.stateNode)}catch(b){Tt(u,l,b)}break;case 18:Wt!==null&&(Ur?(i=Wt,FT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),du(i)):FT(Wt,u.stateNode));break;case 4:m=Wt,v=Ur,Wt=u.stateNode.containerInfo,Ur=!0,ps(i,l,u),Wt=m,Ur=v;break;case 0:case 11:case 14:case 15:vo(2,u,l),On||vo(4,u,l),ps(i,l,u);break;case 1:On||(Pi(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&qA(u,l,m)),ps(i,l,u);break;case 21:ps(i,l,u);break;case 22:On=(m=On)||u.memoizedState!==null,ps(i,l,u),On=m;break;default:ps(i,l,u)}}function JA(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{du(i)}catch(u){Tt(l,l.return,u)}}}function ZA(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{du(i)}catch(u){Tt(l,l.return,u)}}function K8(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new YA),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new YA),l;default:throw Error(r(435,i.tag))}}function Xm(i,l){var u=K8(i);l.forEach(function(m){if(!u.has(m)){u.add(m);var v=nV.bind(null,i,m);m.then(v,v)}})}function Vr(i,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],b=i,T=l,$=T;e:for(;$!==null;){switch($.tag){case 27:if(Eo($.type)){Wt=$.stateNode,Ur=!1;break e}break;case 5:Wt=$.stateNode,Ur=!1;break e;case 3:case 4:Wt=$.stateNode.containerInfo,Ur=!0;break e}$=$.return}if(Wt===null)throw Error(r(160));QA(b,T,v),Wt=null,Ur=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)eT(l,i),l=l.sibling}var Ja=null;function eT(i,l){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vr(l,i),zr(i),m&4&&(vo(3,i,i.return),ef(3,i),vo(5,i,i.return));break;case 1:Vr(l,i),zr(i),m&512&&(On||u===null||Pi(u,u.return)),m&64&&ms&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Ja;if(Vr(l,i),zr(i),m&512&&(On||u===null||Pi(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":b=v.getElementsByTagName("title")[0],(!b||b[bi]||b[En]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(m),v.head.insertBefore(b,v.querySelector("head > title"))),cr(b,m,u),b[En]=i,Sn(b),m=b;break e;case"link":var T=e2("link","href",v).get(m+(u.href||""));if(T){for(var $=0;$<T.length;$++)if(b=T[$],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice($,1);break t}}b=v.createElement(m),cr(b,m,u),v.head.appendChild(b);break;case"meta":if(T=e2("meta","content",v).get(m+(u.content||""))){for($=0;$<T.length;$++)if(b=T[$],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice($,1);break t}}b=v.createElement(m),cr(b,m,u),v.head.appendChild(b);break;default:throw Error(r(468,m))}b[En]=i,Sn(b),m=b}i.stateNode=m}else t2(v,i.type,i.stateNode);else i.stateNode=ZT(v,m,i.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?t2(v,i.type,i.stateNode):ZT(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&hx(i,i.memoizedProps,u.memoizedProps)}break;case 27:Vr(l,i),zr(i),m&512&&(On||u===null||Pi(u,u.return)),u!==null&&m&4&&hx(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Vr(l,i),zr(i),m&512&&(On||u===null||Pi(u,u.return)),i.flags&32){v=i.stateNode;try{Lr(v,"")}catch(ke){Tt(i,i.return,ke)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,hx(i,v,u!==null?u.memoizedProps:v)),m&1024&&(gx=!0);break;case 6:if(Vr(l,i),zr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(ke){Tt(i,i.return,ke)}}break;case 3:if(fp=null,v=Ja,Ja=up(l.containerInfo),Vr(l,i),Ja=v,zr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{du(l.containerInfo)}catch(ke){Tt(i,i.return,ke)}gx&&(gx=!1,tT(i));break;case 4:m=Ja,Ja=up(i.stateNode.containerInfo),Vr(l,i),zr(i),Ja=m;break;case 12:Vr(l,i),zr(i);break;case 31:Vr(l,i),zr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Xm(i,m)));break;case 13:Vr(l,i),zr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Jm=Yn()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Xm(i,m)));break;case 22:v=i.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ie=ms,pe=On;if(ms=ie||v,On=pe||G,Vr(l,i),On=pe,ms=ie,zr(i),m&8192)e:for(l=i.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(u===null||G||ms||On||zl(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){G=u=l;try{if(b=G.stateNode,v)T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{$=G.stateNode;var be=G.memoizedProps.style,oe=be!=null&&be.hasOwnProperty("display")?be.display:null;$.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ke){Tt(G,G.return,ke)}}}else if(l.tag===6){if(u===null){G=l;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(ke){Tt(G,G.return,ke)}}}else if(l.tag===18){if(u===null){G=l;try{var de=G.stateNode;v?qT(de,!0):qT(G.stateNode,!1)}catch(ke){Tt(G,G.return,ke)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Xm(i,u))));break;case 19:Vr(l,i),zr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Xm(i,m)));break;case 30:break;case 21:break;default:Vr(l,i),zr(i)}}function zr(i){var l=i.flags;if(l&2){try{for(var u,m=i.return;m!==null;){if(GA(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,b=mx(i);Wm(i,b,v);break;case 5:var T=u.stateNode;u.flags&32&&(Lr(T,""),u.flags&=-33);var $=mx(i);Wm(i,$,T);break;case 3:case 4:var G=u.stateNode.containerInfo,ie=mx(i);px(i,ie,G);break;default:throw Error(r(161))}}catch(pe){Tt(i,i.return,pe)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function tT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;tT(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function gs(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)WA(i,l.alternate,l),l=l.sibling}function zl(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:vo(4,l,l.return),zl(l);break;case 1:Pi(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&qA(l,l.return,u),zl(l);break;case 27:df(l.stateNode);case 26:case 5:Pi(l,l.return),zl(l);break;case 22:l.memoizedState===null&&zl(l);break;case 30:zl(l);break;default:zl(l)}i=i.sibling}}function ys(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,v=i,b=l,T=b.flags;switch(b.tag){case 0:case 11:case 15:ys(v,b,u),ef(4,b);break;case 1:if(ys(v,b,u),m=b,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ie){Tt(m,m.return,ie)}if(m=b,v=m.updateQueue,v!==null){var $=m.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)RS(G[v],$)}catch(ie){Tt(m,m.return,ie)}}u&&T&64&&FA(b),tf(b,b.return);break;case 27:KA(b);case 26:case 5:ys(v,b,u),u&&m===null&&T&4&&HA(b),tf(b,b.return);break;case 12:ys(v,b,u);break;case 31:ys(v,b,u),u&&T&4&&JA(v,b);break;case 13:ys(v,b,u),u&&T&4&&ZA(v,b);break;case 22:b.memoizedState===null&&ys(v,b,u),tf(b,b.return);break;case 30:break;default:ys(v,b,u)}l=l.sibling}}function yx(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Bd(u))}function vx(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Bd(i))}function Za(i,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)nT(i,l,u,m),l=l.sibling}function nT(i,l,u,m){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Za(i,l,u,m),v&2048&&ef(9,l);break;case 1:Za(i,l,u,m);break;case 3:Za(i,l,u,m),v&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Bd(i)));break;case 12:if(v&2048){Za(i,l,u,m),i=l.stateNode;try{var b=l.memoizedProps,T=b.id,$=b.onPostCommit;typeof $=="function"&&$(T,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){Tt(l,l.return,G)}}else Za(i,l,u,m);break;case 31:Za(i,l,u,m);break;case 13:Za(i,l,u,m);break;case 23:break;case 22:b=l.stateNode,T=l.alternate,l.memoizedState!==null?b._visibility&2?Za(i,l,u,m):nf(i,l):b._visibility&2?Za(i,l,u,m):(b._visibility|=2,eu(i,l,u,m,(l.subtreeFlags&10256)!==0||!1)),v&2048&&yx(T,l);break;case 24:Za(i,l,u,m),v&2048&&vx(l.alternate,l);break;default:Za(i,l,u,m)}}function eu(i,l,u,m,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=i,T=l,$=u,G=m,ie=T.flags;switch(T.tag){case 0:case 11:case 15:eu(b,T,$,G,v),ef(8,T);break;case 23:break;case 22:var pe=T.stateNode;T.memoizedState!==null?pe._visibility&2?eu(b,T,$,G,v):nf(b,T):(pe._visibility|=2,eu(b,T,$,G,v)),v&&ie&2048&&yx(T.alternate,T);break;case 24:eu(b,T,$,G,v),v&&ie&2048&&vx(T.alternate,T);break;default:eu(b,T,$,G,v)}l=l.sibling}}function nf(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,m=l,v=m.flags;switch(m.tag){case 22:nf(u,m),v&2048&&yx(m.alternate,m);break;case 24:nf(u,m),v&2048&&vx(m.alternate,m);break;default:nf(u,m)}l=l.sibling}}var rf=8192;function tu(i,l,u){if(i.subtreeFlags&rf)for(i=i.child;i!==null;)rT(i,l,u),i=i.sibling}function rT(i,l,u){switch(i.tag){case 26:tu(i,l,u),i.flags&rf&&i.memoizedState!==null&&DV(u,Ja,i.memoizedState,i.memoizedProps);break;case 5:tu(i,l,u);break;case 3:case 4:var m=Ja;Ja=up(i.stateNode.containerInfo),tu(i,l,u),Ja=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=rf,rf=16777216,tu(i,l,u),rf=m):tu(i,l,u));break;default:tu(i,l,u)}}function aT(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function af(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Qn=m,sT(m,i)}aT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iT(i),i=i.sibling}function iT(i){switch(i.tag){case 0:case 11:case 15:af(i),i.flags&2048&&vo(9,i,i.return);break;case 3:af(i);break;case 12:af(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Qm(i)):af(i);break;default:af(i)}}function Qm(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Qn=m,sT(m,i)}aT(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:vo(8,l,l.return),Qm(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Qm(l));break;default:Qm(l)}i=i.sibling}}function sT(i,l){for(;Qn!==null;){var u=Qn;switch(u.tag){case 0:case 11:case 15:vo(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Bd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Qn=m;else e:for(u=i;Qn!==null;){m=Qn;var v=m.sibling,b=m.return;if(XA(m),m===u){Qn=null;break e}if(v!==null){v.return=b,Qn=v;break e}Qn=b}}}var Y8={getCacheForType:function(i){var l=or(Tn),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u},cacheSignal:function(){return or(Tn).controller.signal}},W8=typeof WeakMap=="function"?WeakMap:Map,wt=0,Lt=null,it=null,ot=0,At=0,sa=null,xo=!1,nu=!1,xx=!1,vs=0,fn=0,bo=0,Bl=0,bx=0,oa=0,ru=0,sf=null,Br=null,wx=!1,Jm=0,oT=0,Zm=1/0,ep=null,wo=null,Vn=0,No=null,au=null,xs=0,Nx=0,_x=null,lT=null,of=0,jx=null;function la(){return(wt&2)!==0&&ot!==0?ot&-ot:Y.T!==null?Ix():tm()}function cT(){if(oa===0)if((ot&536870912)===0||ht){var i=ml;ml<<=1,(ml&3932160)===0&&(ml=262144),oa=i}else oa=536870912;return i=aa.current,i!==null&&(i.flags|=32),oa}function $r(i,l,u){(i===Lt&&(At===2||At===9)||i.cancelPendingCommit!==null)&&(iu(i,0),_o(i,ot,oa,!1)),pl(i,u),((wt&2)===0||i!==Lt)&&(i===Lt&&((wt&2)===0&&(Bl|=u),fn===4&&_o(i,ot,oa,!1)),ki(i))}function uT(i,l,u){if((wt&6)!==0)throw Error(r(327));var m=!u&&(l&127)===0&&(l&i.expiredLanes)===0||Fa(i,l),v=m?J8(i,l):Sx(i,l,!0),b=m;do{if(v===0){nu&&!m&&_o(i,l,0,!1);break}else{if(u=i.current.alternate,b&&!X8(u)){v=Sx(i,l,!1),b=!1;continue}if(v===2){if(b=l,i.errorRecoveryDisabledLanes&b)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){l=T;e:{var $=i;v=sf;var G=$.current.memoizedState.isDehydrated;if(G&&(iu($,T).flags|=256),T=Sx($,T,!1),T!==2){if(xx&&!G){$.errorRecoveryDisabledLanes|=b,Bl|=b,v=4;break e}b=Br,Br=v,b!==null&&(Br===null?Br=b:Br.push.apply(Br,b))}v=T}if(b=!1,v!==2)continue}}if(v===1){iu(i,0),_o(i,l,0,!0);break}e:{switch(m=i,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:_o(m,l,oa,!xo);break e;case 2:Br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=Jm+300-Yn(),10<v)){if(_o(m,l,oa,!xo),yi(m,0,!0)!==0)break e;xs=l,m.timeoutHandle=BT(dT.bind(null,m,u,Br,ep,wx,l,oa,Bl,ru,xo,b,"Throttled",-0,0),v);break e}dT(m,u,Br,ep,wx,l,oa,Bl,ru,xo,b,null,-0,0)}}break}while(!0);ki(i)}function dT(i,l,u,m,v,b,T,$,G,ie,pe,be,oe,de){if(i.timeoutHandle=-1,be=l.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ga},rT(l,b,be);var ke=(b&62914560)===b?Jm-Yn():(b&4194048)===b?oT-Yn():0;if(ke=PV(be,ke),ke!==null){xs=b,i.cancelPendingCommit=ke(xT.bind(null,i,l,b,u,m,v,T,$,G,pe,be,null,oe,de)),_o(i,b,T,!ie);return}}xT(i,l,b,u,m,v,T,$,G)}function X8(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],b=v.getSnapshot;v=v.value;try{if(!na(b(),v))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function _o(i,l,u,m){l&=~bx,l&=~Bl,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var v=l;0<v;){var b=31-mn(v),T=1<<b;m[b]=-1,v&=~T}u!==0&&gl(i,u,l)}function tp(){return(wt&6)===0?(lf(0),!1):!0}function Ex(){if(it!==null){if(At===0)var i=it.return;else i=it,ls=Rl=null,Bv(i),Wc=null,Fd=0,i=it;for(;i!==null;)$A(i.alternate,i),i=i.return;it=null}}function iu(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,gV(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),xs=0,Ex(),Lt=i,it=u=ss(i.current,null),ot=l,At=0,sa=null,xo=!1,nu=Fa(i,l),xx=!1,ru=oa=bx=Bl=bo=fn=0,Br=sf=null,wx=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var v=31-mn(m),b=1<<v;l|=i[v],m&=~b}return vs=l,Nm(),u}function fT(i,l){rt=null,Y.H=Qd,l===Yc||l===Im?(l=TS(),At=3):l===Cv?(l=TS(),At=4):At=l===rx?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,sa=l,it===null&&(fn=1,qm(i,Na(l,i.current)))}function hT(){var i=aa.current;return i===null?!0:(ot&4194048)===ot?Sa===null:(ot&62914560)===ot||(ot&536870912)!==0?i===Sa:!1}function mT(){var i=Y.H;return Y.H=Qd,i===null?Qd:i}function pT(){var i=Y.A;return Y.A=Y8,i}function np(){fn=4,xo||(ot&4194048)!==ot&&aa.current!==null||(nu=!0),(bo&134217727)===0&&(Bl&134217727)===0||Lt===null||_o(Lt,ot,oa,!1)}function Sx(i,l,u){var m=wt;wt|=2;var v=mT(),b=pT();(Lt!==i||ot!==l)&&(ep=null,iu(i,l)),l=!1;var T=fn;e:do try{if(At!==0&&it!==null){var $=it,G=sa;switch(At){case 8:Ex(),T=6;break e;case 3:case 2:case 9:case 6:aa.current===null&&(l=!0);var ie=At;if(At=0,sa=null,su(i,$,G,ie),u&&nu){T=0;break e}break;default:ie=At,At=0,sa=null,su(i,$,G,ie)}}Q8(),T=fn;break}catch(pe){fT(i,pe)}while(!0);return l&&i.shellSuspendCounter++,ls=Rl=null,wt=m,Y.H=v,Y.A=b,it===null&&(Lt=null,ot=0,Nm()),T}function Q8(){for(;it!==null;)gT(it)}function J8(i,l){var u=wt;wt|=2;var m=mT(),v=pT();Lt!==i||ot!==l?(ep=null,Zm=Yn()+500,iu(i,l)):nu=Fa(i,l);e:do try{if(At!==0&&it!==null){l=it;var b=sa;t:switch(At){case 1:At=0,sa=null,su(i,l,b,1);break;case 2:case 9:if(SS(b)){At=0,sa=null,yT(l);break}l=function(){At!==2&&At!==9||Lt!==i||(At=7),ki(i)},b.then(l,l);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:SS(b)?(At=0,sa=null,yT(l)):(At=0,sa=null,su(i,l,b,7));break;case 5:var T=null;switch(it.tag){case 26:T=it.memoizedState;case 5:case 27:var $=it;if(T?n2(T):$.stateNode.complete){At=0,sa=null;var G=$.sibling;if(G!==null)it=G;else{var ie=$.return;ie!==null?(it=ie,rp(ie)):it=null}break t}}At=0,sa=null,su(i,l,b,5);break;case 6:At=0,sa=null,su(i,l,b,6);break;case 8:Ex(),fn=6;break e;default:throw Error(r(462))}}Z8();break}catch(pe){fT(i,pe)}while(!0);return ls=Rl=null,Y.H=m,Y.A=v,wt=u,it!==null?0:(Lt=null,ot=0,Nm(),fn)}function Z8(){for(;it!==null&&!Ba();)gT(it)}function gT(i){var l=zA(i.alternate,i,vs);i.memoizedProps=i.pendingProps,l===null?rp(i):it=l}function yT(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=PA(u,l,l.pendingProps,l.type,void 0,ot);break;case 11:l=PA(u,l,l.pendingProps,l.type.render,l.ref,ot);break;case 5:Bv(l);default:$A(u,l),l=it=pS(l,vs),l=zA(u,l,vs)}i.memoizedProps=i.pendingProps,l===null?rp(i):it=l}function su(i,l,u,m){ls=Rl=null,Bv(l),Wc=null,Fd=0;var v=l.return;try{if(B8(i,v,l,u,ot)){fn=1,qm(i,Na(u,i.current)),it=null;return}}catch(b){if(v!==null)throw it=v,b;fn=1,qm(i,Na(u,i.current)),it=null;return}l.flags&32768?(ht||m===1?i=!0:nu||(ot&536870912)!==0?i=!1:(xo=i=!0,(m===2||m===9||m===3||m===6)&&(m=aa.current,m!==null&&m.tag===13&&(m.flags|=16384))),vT(l,i)):rp(l)}function rp(i){var l=i;do{if((l.flags&32768)!==0){vT(l,xo);return}i=l.return;var u=q8(l.alternate,l,vs);if(u!==null){it=u;return}if(l=l.sibling,l!==null){it=l;return}it=l=i}while(l!==null);fn===0&&(fn=5)}function vT(i,l){do{var u=H8(i.alternate,i);if(u!==null){u.flags&=32767,it=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){it=i;return}it=i=u}while(i!==null);fn=6,it=null}function xT(i,l,u,m,v,b,T,$,G){i.cancelPendingCommit=null;do ap();while(Vn!==0);if((wt&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=mv,iv(i,u,b,T,$,G),i===Lt&&(it=Lt=null,ot=0),au=l,No=i,xs=u,Nx=b,_x=v,lT=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,rV(ln,function(){return jT(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null,v=le.p,le.p=2,T=wt,wt|=4;try{G8(i,l,u)}finally{wt=T,le.p=v,Y.T=m}}Vn=1,bT(),wT(),NT()}}function bT(){if(Vn===1){Vn=0;var i=No,l=au,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var m=le.p;le.p=2;var v=wt;wt|=4;try{eT(l,i);var b=Ux,T=sS(i.containerInfo),$=b.focusedElem,G=b.selectionRange;if(T!==$&&$&&$.ownerDocument&&iS($.ownerDocument.documentElement,$)){if(G!==null&&cv($)){var ie=G.start,pe=G.end;if(pe===void 0&&(pe=ie),"selectionStart"in $)$.selectionStart=ie,$.selectionEnd=Math.min(pe,$.value.length);else{var be=$.ownerDocument||document,oe=be&&be.defaultView||window;if(oe.getSelection){var de=oe.getSelection(),ke=$.textContent.length,He=Math.min(G.start,ke),Dt=G.end===void 0?He:Math.min(G.end,ke);!de.extend&&He>Dt&&(T=Dt,Dt=He,He=T);var te=aS($,He),W=aS($,Dt);if(te&&W&&(de.rangeCount!==1||de.anchorNode!==te.node||de.anchorOffset!==te.offset||de.focusNode!==W.node||de.focusOffset!==W.offset)){var re=be.createRange();re.setStart(te.node,te.offset),de.removeAllRanges(),He>Dt?(de.addRange(re),de.extend(W.node,W.offset)):(re.setEnd(W.node,W.offset),de.addRange(re))}}}}for(be=[],de=$;de=de.parentNode;)de.nodeType===1&&be.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<be.length;$++){var ve=be[$];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}gp=!!Lx,Ux=Lx=null}finally{wt=v,le.p=m,Y.T=u}}i.current=l,Vn=2}}function wT(){if(Vn===2){Vn=0;var i=No,l=au,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var m=le.p;le.p=2;var v=wt;wt|=4;try{WA(i,l.alternate,l)}finally{wt=v,le.p=m,Y.T=u}}Vn=3}}function NT(){if(Vn===4||Vn===3){Vn=0,$a();var i=No,l=au,u=xs,m=lT;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Vn=5:(Vn=0,au=No=null,_T(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(wo=null),ns(u),l=l.stateNode,_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(kr,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=Y.T,v=le.p,le.p=2,Y.T=null;try{for(var b=i.onRecoverableError,T=0;T<m.length;T++){var $=m[T];b($.value,{componentStack:$.stack})}}finally{Y.T=l,le.p=v}}(xs&3)!==0&&ap(),ki(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===jx?of++:(of=0,jx=i):of=0,lf(0)}}function _T(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Bd(l)))}function ap(){return bT(),wT(),NT(),jT()}function jT(){if(Vn!==5)return!1;var i=No,l=Nx;Nx=0;var u=ns(xs),m=Y.T,v=le.p;try{le.p=32>u?32:u,Y.T=null,u=_x,_x=null;var b=No,T=xs;if(Vn=0,au=No=null,xs=0,(wt&6)!==0)throw Error(r(331));var $=wt;if(wt|=4,iT(b.current),nT(b,b.current,T,u),wt=$,lf(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(kr,b)}catch{}return!0}finally{le.p=v,Y.T=m,_T(i,l)}}function ET(i,l,u){l=Na(u,l),l=nx(i.stateNode,l,2),i=po(i,l,2),i!==null&&(pl(i,2),ki(i))}function Tt(i,l,u){if(i.tag===3)ET(i,i,u);else for(;l!==null;){if(l.tag===3){ET(l,i,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(wo===null||!wo.has(m))){i=Na(u,i),u=SA(2),m=po(l,u,2),m!==null&&(AA(u,m,l,i),pl(m,2),ki(m));break}}l=l.return}}function Ax(i,l,u){var m=i.pingCache;if(m===null){m=i.pingCache=new W8;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(u)||(xx=!0,v.add(u),i=eV.bind(null,i,l,u),l.then(i,i))}function eV(i,l,u){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Lt===i&&(ot&u)===u&&(fn===4||fn===3&&(ot&62914560)===ot&&300>Yn()-Jm?(wt&2)===0&&iu(i,0):bx|=u,ru===ot&&(ru=0)),ki(i)}function ST(i,l){l===0&&(l=em()),i=Cl(i,l),i!==null&&(pl(i,l),ki(i))}function tV(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),ST(i,u)}function nV(i,l){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),ST(i,u)}function rV(i,l){return Ke(i,l)}var ip=null,ou=null,Tx=!1,sp=!1,Cx=!1,jo=0;function ki(i){i!==ou&&i.next===null&&(ou===null?ip=ou=i:ou=ou.next=i),sp=!0,Tx||(Tx=!0,iV())}function lf(i,l){if(!Cx&&sp){Cx=!0;do for(var u=!1,m=ip;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var b=0;else{var T=m.suspendedLanes,$=m.pingedLanes;b=(1<<31-mn(42|i)+1)-1,b&=v&~(T&~$),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,IT(m,b))}else b=ot,b=yi(m,m===Lt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||Fa(m,b)||(u=!0,IT(m,b));m=m.next}while(u);Cx=!1}}function aV(){AT()}function AT(){sp=Tx=!1;var i=0;jo!==0&&pV()&&(i=jo);for(var l=Yn(),u=null,m=ip;m!==null;){var v=m.next,b=TT(m,l);b===0?(m.next=null,u===null?ip=v:u.next=v,v===null&&(ou=u)):(u=m,(i!==0||(b&3)!==0)&&(sp=!0)),m=v}Vn!==0&&Vn!==5||lf(i),jo!==0&&(jo=0)}function TT(i,l){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var T=31-mn(b),$=1<<T,G=v[T];G===-1?(($&u)===0||($&m)!==0)&&(v[T]=av($,l)):G<=l&&(i.expiredLanes|=$),b&=~$}if(l=Lt,u=ot,u=yi(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===l&&(At===2||At===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&jt(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Fa(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(m!==null&&jt(m),ns(u)){case 2:case 8:u=on;break;case 32:u=ln;break;case 268435456:u=dl;break;default:u=ln}return m=CT.bind(null,i),u=Ke(u,m),i.callbackPriority=l,i.callbackNode=u,l}return m!==null&&m!==null&&jt(m),i.callbackPriority=2,i.callbackNode=null,2}function CT(i,l){if(Vn!==0&&Vn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(ap()&&i.callbackNode!==u)return null;var m=ot;return m=yi(i,i===Lt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(uT(i,m,l),TT(i,Yn()),i.callbackNode!=null&&i.callbackNode===u?CT.bind(null,i):null)}function IT(i,l){if(ap())return null;uT(i,l,!0)}function iV(){yV(function(){(wt&6)!==0?Ke(Et,aV):AT()})}function Ix(){if(jo===0){var i=Gc;i===0&&(i=pi,pi<<=1,(pi&261888)===0&&(pi=256)),jo=i}return jo}function OT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oc(""+i)}function RT(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function sV(i,l,u,m,v){if(l==="submit"&&u&&u.stateNode===v){var b=OT((v[Wn]||null).action),T=m.submitter;T&&(l=(l=T[Wn]||null)?OT(l.formAction):T.getAttribute("formAction"),l!==null&&(b=l,T=null));var $=new Ti("action","action",null,m,v);i.push({event:$,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(jo!==0){var G=T?RT(v,T):new FormData(v);Xv(u,{pending:!0,data:G,method:v.method,action:b},null,G)}}else typeof b=="function"&&($.preventDefault(),G=T?RT(v,T):new FormData(v),Xv(u,{pending:!0,data:G,method:v.method,action:b},b,G))},currentTarget:v}]})}}for(var Ox=0;Ox<hv.length;Ox++){var Rx=hv[Ox],oV=Rx.toLowerCase(),lV=Rx[0].toUpperCase()+Rx.slice(1);Qa(oV,"on"+lV)}Qa(cS,"onAnimationEnd"),Qa(uS,"onAnimationIteration"),Qa(dS,"onAnimationStart"),Qa("dblclick","onDoubleClick"),Qa("focusin","onFocus"),Qa("focusout","onBlur"),Qa(j8,"onTransitionRun"),Qa(E8,"onTransitionStart"),Qa(S8,"onTransitionCancel"),Qa(fS,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cf));function DT(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var b=void 0;if(l)for(var T=m.length-1;0<=T;T--){var $=m[T],G=$.instance,ie=$.currentTarget;if($=$.listener,G!==b&&v.isPropagationStopped())break e;b=$,v.currentTarget=ie;try{b(v)}catch(pe){wm(pe)}v.currentTarget=null,b=G}else for(T=0;T<m.length;T++){if($=m[T],G=$.instance,ie=$.currentTarget,$=$.listener,G!==b&&v.isPropagationStopped())break e;b=$,v.currentTarget=ie;try{b(v)}catch(pe){wm(pe)}v.currentTarget=null,b=G}}}}function st(i,l){var u=l[Sc];u===void 0&&(u=l[Sc]=new Set);var m=i+"__bubble";u.has(m)||(PT(l,i,2,!1),u.add(m))}function Dx(i,l,u){var m=0;l&&(m|=4),PT(u,i,m,l)}var op="_reactListening"+Math.random().toString(36).slice(2);function Px(i){if(!i[op]){i[op]=!0,bd.forEach(function(u){u!=="selectionchange"&&(cV.has(u)||Dx(u,!1,i),Dx(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[op]||(l[op]=!0,Dx("selectionchange",!1,l))}}function PT(i,l,u,m){switch(c2(l)){case 2:var v=LV;break;case 8:v=UV;break;default:v=Wx}u=v.bind(null,l,u,i),v=void 0,!wl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(l,u,{capture:!0,passive:v}):i.addEventListener(l,u,!0):v!==void 0?i.addEventListener(l,u,{passive:v}):i.addEventListener(l,u,!1)}function kx(i,l,u,m,v){var b=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var $=m.stateNode.containerInfo;if($===v)break;if(T===4)for(T=m.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===v)return;T=T.return}for(;$!==null;){if(T=wi($),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){m=b=T;continue e}$=$.parentNode}}m=m.return}ao(function(){var ie=b,pe=va(u),be=[];e:{var oe=hS.get(i);if(oe!==void 0){var de=Ti,ke=i;switch(i){case"keypress":if(_l(u)===0)break e;case"keydown":case"keyup":de=vm;break;case"focusin":ke="focus",de=El;break;case"focusout":ke="blur",de=El;break;case"beforeblur":case"afterblur":de=El;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=S;break;case cS:case uS:case dS:de=dm;break;case fS:de=F;break;case"scroll":case"scrollend":de=Rd;break;case"wheel":de=ue;break;case"copy":case"cut":case"paste":de=fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=is;break;case"toggle":case"beforetoggle":de=nt}var He=(l&4)!==0,Dt=!He&&(i==="scroll"||i==="scrollend"),te=He?oe!==null?oe+"Capture":null:oe;He=[];for(var W=ie,re;W!==null;){var ve=W;if(re=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||re===null||te===null||(ve=Ka(W,te),ve!=null&&He.push(uf(W,ve,re))),Dt)break;W=W.return}0<He.length&&(oe=new de(oe,ke,null,u,pe),be.push({event:oe,listeners:He}))}}if((l&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",oe&&u!==Cd&&(ke=u.relatedTarget||u.fromElement)&&(wi(ke)||ke[xi]))break e;if((de||oe)&&(oe=pe.window===pe?pe:(oe=pe.ownerDocument)?oe.defaultView||oe.parentWindow:window,de?(ke=u.relatedTarget||u.toElement,de=ie,ke=ke?wi(ke):null,ke!==null&&(Dt=s(ke),He=ke.tag,ke!==Dt||He!==5&&He!==27&&He!==6)&&(ke=null)):(de=null,ke=ie),de!==ke)){if(He=Dd,ve="onMouseLeave",te="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(He=is,ve="onPointerLeave",te="onPointerEnter",W="pointer"),Dt=de==null?oe:ea(de),re=ke==null?oe:ea(ke),oe=new He(ve,W+"leave",de,u,pe),oe.target=Dt,oe.relatedTarget=re,ve=null,wi(pe)===ie&&(He=new He(te,W+"enter",ke,u,pe),He.target=re,He.relatedTarget=Dt,ve=He),Dt=ve,de&&ke)t:{for(He=uV,te=de,W=ke,re=0,ve=te;ve;ve=He(ve))re++;ve=0;for(var ze=W;ze;ze=He(ze))ve++;for(;0<re-ve;)te=He(te),re--;for(;0<ve-re;)W=He(W),ve--;for(;re--;){if(te===W||W!==null&&te===W.alternate){He=te;break t}te=He(te),W=He(W)}He=null}else He=null;de!==null&&kT(be,oe,de,He,!1),ke!==null&&Dt!==null&&kT(be,Dt,ke,He,!0)}}e:{if(oe=ie?ea(ie):window,de=oe.nodeName&&oe.nodeName.toLowerCase(),de==="select"||de==="input"&&oe.type==="file")var gt=JE;else if(XE(oe))if(ZE)gt=w8;else{gt=x8;var Me=v8}else de=oe.nodeName,!de||de.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ie&&Ic(ie.elementType)&&(gt=JE):gt=b8;if(gt&&(gt=gt(i,ie))){QE(be,gt,u,pe);break e}Me&&Me(i,oe,ie),i==="focusout"&&ie&&oe.type==="number"&&ie.memoizedProps.value!=null&&Sd(oe,"number",oe.value)}switch(Me=ie?ea(ie):window,i){case"focusin":(XE(Me)||Me.contentEditable==="true")&&(Uc=Me,uv=ie,Ud=null);break;case"focusout":Ud=uv=Uc=null;break;case"mousedown":dv=!0;break;case"contextmenu":case"mouseup":case"dragend":dv=!1,oS(be,u,pe);break;case"selectionchange":if(_8)break;case"keydown":case"keyup":oS(be,u,pe)}var at;if(bt)e:{switch(i){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Lc?Sl(i,u)&&(lt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(lt="onCompositionStart");lt&&(Oi&&u.locale!=="ko"&&(Lc||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Lc&&(at=Od()):(Ai=pe,Id="value"in Ai?Ai.value:Ai.textContent,Lc=!0)),Me=lp(ie,lt),0<Me.length&&(lt=new Ii(lt,i,null,u,pe),be.push({event:lt,listeners:Me}),at?lt.data=at:(at=Mc(u),at!==null&&(lt.data=at)))),(at=ba?m8(i,u):p8(i,u))&&(lt=lp(ie,"onBeforeInput"),0<lt.length&&(Me=new Ii("onBeforeInput","beforeinput",null,u,pe),be.push({event:Me,listeners:lt}),Me.data=at)),sV(be,i,ie,u,pe)}DT(be,l)})}function uf(i,l,u){return{instance:i,listener:l,currentTarget:u}}function lp(i,l){for(var u=l+"Capture",m=[];i!==null;){var v=i,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Ka(i,u),v!=null&&m.unshift(uf(i,v,b)),v=Ka(i,l),v!=null&&m.push(uf(i,v,b))),i.tag===3)return m;i=i.return}return[]}function uV(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function kT(i,l,u,m,v){for(var b=l._reactName,T=[];u!==null&&u!==m;){var $=u,G=$.alternate,ie=$.stateNode;if($=$.tag,G!==null&&G===m)break;$!==5&&$!==26&&$!==27||ie===null||(G=ie,v?(ie=Ka(u,b),ie!=null&&T.unshift(uf(u,ie,G))):v||(ie=Ka(u,b),ie!=null&&T.push(uf(u,ie,G)))),u=u.return}T.length!==0&&i.push({event:l,listeners:T})}var dV=/\r\n?/g,fV=/\u0000|\uFFFD/g;function MT(i){return(typeof i=="string"?i:""+i).replace(dV,`
`).replace(fV,"")}function LT(i,l){return l=MT(l),MT(i)===l}function Rt(i,l,u,m,v,b){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Lr(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Lr(i,""+m);break;case"className":ta(i,"class",m);break;case"tabIndex":ta(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ta(i,u,m);break;case"style":Td(i,m,b);break;case"data":if(l!=="object"){ta(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Oc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(l!=="input"&&Rt(i,l,"name",v.name,v,null),Rt(i,l,"formEncType",v.formEncType,v,null),Rt(i,l,"formMethod",v.formMethod,v,null),Rt(i,l,"formTarget",v.formTarget,v,null)):(Rt(i,l,"encType",v.encType,v,null),Rt(i,l,"method",v.method,v,null),Rt(i,l,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Oc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Ga);break;case"onScroll":m!=null&&st("scroll",i);break;case"onScrollEnd":m!=null&&st("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Oc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":st("beforetoggle",i),st("toggle",i),Tc(i,"popover",m);break;case"xlinkActuate":An(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":An(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":An(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":An(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":An(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":An(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":An(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":An(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":An(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Tc(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=lm.get(u)||u,Tc(i,u,m))}}function Mx(i,l,u,m,v,b){switch(u){case"style":Td(i,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?Lr(i,m):(typeof m=="number"||typeof m=="bigint")&&Lr(i,""+m);break;case"onScroll":m!=null&&st("scroll",i);break;case"onScrollEnd":m!=null&&st("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),l=u.slice(2,v?u.length-7:void 0),b=i[Wn]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(l,b,v),typeof m=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Tc(i,u,m)}}}function cr(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",i),st("load",i);var m=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var T=u[b];if(T!=null)switch(b){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Rt(i,l,b,T,u,null)}}v&&Rt(i,l,"srcSet",u.srcSet,u,null),m&&Rt(i,l,"src",u.src,u,null);return;case"input":st("invalid",i);var $=b=T=v=null,G=null,ie=null;for(m in u)if(u.hasOwnProperty(m)){var pe=u[m];if(pe!=null)switch(m){case"name":v=pe;break;case"type":T=pe;break;case"checked":G=pe;break;case"defaultChecked":ie=pe;break;case"value":b=pe;break;case"defaultValue":$=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,l));break;default:Rt(i,l,m,pe,u,null)}}im(i,b,$,G,ie,T,v,!1);return;case"select":st("invalid",i),m=T=b=null;for(v in u)if(u.hasOwnProperty(v)&&($=u[v],$!=null))switch(v){case"value":b=$;break;case"defaultValue":T=$;break;case"multiple":m=$;default:Rt(i,l,v,$,u,null)}l=b,u=T,i.multiple=!!m,l!=null?eo(i,!!m,l,!1):u!=null&&eo(i,!!m,u,!0);return;case"textarea":st("invalid",i),b=v=m=null;for(T in u)if(u.hasOwnProperty(T)&&($=u[T],$!=null))switch(T){case"value":m=$;break;case"defaultValue":v=$;break;case"children":b=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Rt(i,l,T,$,u,null)}to(i,m,v,b);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(m=u[G],m!=null))switch(G){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Rt(i,l,G,m,u,null)}return;case"dialog":st("beforetoggle",i),st("toggle",i),st("cancel",i),st("close",i);break;case"iframe":case"object":st("load",i);break;case"video":case"audio":for(m=0;m<cf.length;m++)st(cf[m],i);break;case"image":st("error",i),st("load",i);break;case"details":st("toggle",i);break;case"embed":case"source":case"link":st("error",i),st("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in u)if(u.hasOwnProperty(ie)&&(m=u[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Rt(i,l,ie,m,u,null)}return;default:if(Ic(l)){for(pe in u)u.hasOwnProperty(pe)&&(m=u[pe],m!==void 0&&Mx(i,l,pe,m,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(m=u[$],m!=null&&Rt(i,l,$,m,u,null))}function hV(i,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,T=null,$=null,G=null,ie=null,pe=null;for(de in u){var be=u[de];if(u.hasOwnProperty(de)&&be!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":G=be;default:m.hasOwnProperty(de)||Rt(i,l,de,null,m,be)}}for(var oe in m){var de=m[oe];if(be=u[oe],m.hasOwnProperty(oe)&&(de!=null||be!=null))switch(oe){case"type":b=de;break;case"name":v=de;break;case"checked":ie=de;break;case"defaultChecked":pe=de;break;case"value":T=de;break;case"defaultValue":$=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,l));break;default:de!==be&&Rt(i,l,oe,de,m,be)}}Cc(i,T,$,G,ie,pe,b,v);return;case"select":de=T=$=oe=null;for(b in u)if(G=u[b],u.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":de=G;default:m.hasOwnProperty(b)||Rt(i,l,b,null,m,G)}for(v in m)if(b=m[v],G=u[v],m.hasOwnProperty(v)&&(b!=null||G!=null))switch(v){case"value":oe=b;break;case"defaultValue":$=b;break;case"multiple":T=b;default:b!==G&&Rt(i,l,v,b,m,G)}l=$,u=T,m=de,oe!=null?eo(i,!!u,oe,!1):!!m!=!!u&&(l!=null?eo(i,!!u,l,!0):eo(i,!!u,u?[]:"",!1));return;case"textarea":de=oe=null;for($ in u)if(v=u[$],u.hasOwnProperty($)&&v!=null&&!m.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Rt(i,l,$,null,m,v)}for(T in m)if(v=m[T],b=u[T],m.hasOwnProperty(T)&&(v!=null||b!=null))switch(T){case"value":oe=v;break;case"defaultValue":de=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&Rt(i,l,T,v,m,b)}sm(i,oe,de);return;case"option":for(var ke in u)if(oe=u[ke],u.hasOwnProperty(ke)&&oe!=null&&!m.hasOwnProperty(ke))switch(ke){case"selected":i.selected=!1;break;default:Rt(i,l,ke,null,m,oe)}for(G in m)if(oe=m[G],de=u[G],m.hasOwnProperty(G)&&oe!==de&&(oe!=null||de!=null))switch(G){case"selected":i.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Rt(i,l,G,oe,m,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in u)oe=u[He],u.hasOwnProperty(He)&&oe!=null&&!m.hasOwnProperty(He)&&Rt(i,l,He,null,m,oe);for(ie in m)if(oe=m[ie],de=u[ie],m.hasOwnProperty(ie)&&oe!==de&&(oe!=null||de!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:Rt(i,l,ie,oe,m,de)}return;default:if(Ic(l)){for(var Dt in u)oe=u[Dt],u.hasOwnProperty(Dt)&&oe!==void 0&&!m.hasOwnProperty(Dt)&&Mx(i,l,Dt,void 0,m,oe);for(pe in m)oe=m[pe],de=u[pe],!m.hasOwnProperty(pe)||oe===de||oe===void 0&&de===void 0||Mx(i,l,pe,oe,m,de);return}}for(var te in u)oe=u[te],u.hasOwnProperty(te)&&oe!=null&&!m.hasOwnProperty(te)&&Rt(i,l,te,null,m,oe);for(be in m)oe=m[be],de=u[be],!m.hasOwnProperty(be)||oe===de||oe==null&&de==null||Rt(i,l,be,oe,m,de)}function UT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],b=v.transferSize,T=v.initiatorType,$=v.duration;if(b&&$&&UT(T)){for(T=0,$=v.responseEnd,m+=1;m<u.length;m++){var G=u[m],ie=G.startTime;if(ie>$)break;var pe=G.transferSize,be=G.initiatorType;pe&&UT(be)&&(G=G.responseEnd,T+=pe*(G<$?1:($-ie)/(G-ie)))}if(--m,l+=8*(b+T)/(v.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lx=null,Ux=null;function cp(i){return i.nodeType===9?i:i.ownerDocument}function VT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zT(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Vx(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var zx=null;function pV(){var i=window.event;return i&&i.type==="popstate"?i===zx?!1:(zx=i,!0):(zx=null,!1)}var BT=typeof setTimeout=="function"?setTimeout:void 0,gV=typeof clearTimeout=="function"?clearTimeout:void 0,$T=typeof Promise=="function"?Promise:void 0,yV=typeof queueMicrotask=="function"?queueMicrotask:typeof $T<"u"?function(i){return $T.resolve(null).then(i).catch(vV)}:BT;function vV(i){setTimeout(function(){throw i})}function Eo(i){return i==="head"}function FT(i,l){var u=l,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(v),du(l);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")df(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,df(u);for(var b=u.firstChild;b;){var T=b.nextSibling,$=b.nodeName;b[bi]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=T}}else u==="body"&&df(i.ownerDocument.body);u=v}while(u);du(l)}function qT(i,l){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Bx(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Bx(u),Ac(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function xV(i,l,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[bi])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Aa(i.nextSibling),i===null)break}return null}function bV(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Aa(i.nextSibling),i===null))return null;return i}function HT(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Aa(i.nextSibling),i===null))return null;return i}function $x(i){return i.data==="$?"||i.data==="$~"}function Fx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function wV(i,l){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||u.readyState!=="loading")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Aa(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var qx=null;function GT(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(l===0)return Aa(i.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}i=i.nextSibling}return null}function KT(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return i;l--}else u!=="/$"&&u!=="/&"||l++}i=i.previousSibling}return null}function YT(i,l,u){switch(l=cp(u),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function df(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Ac(i)}var Ta=new Map,WT=new Set;function up(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bs=le.d;le.d={f:NV,r:_V,D:jV,C:EV,L:SV,m:AV,X:CV,S:TV,M:IV};function NV(){var i=bs.f(),l=tp();return i||l}function _V(i){var l=ya(i);l!==null&&l.tag===5&&l.type==="form"?fA(l):bs.r(i)}var lu=typeof document>"u"?null:document;function XT(i,l,u){var m=lu;if(m&&typeof l=="string"&&l){var v=Mr(l);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),WT.has(v)||(WT.add(v),i={rel:i,crossOrigin:u,href:l},m.querySelector(v)===null&&(l=m.createElement("link"),cr(l,"link",i),Sn(l),m.head.appendChild(l)))}}function jV(i){bs.D(i),XT("dns-prefetch",i,null)}function EV(i,l){bs.C(i,l),XT("preconnect",i,l)}function SV(i,l,u){bs.L(i,l,u);var m=lu;if(m&&i&&l){var v='link[rel="preload"][as="'+Mr(l)+'"]';l==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Mr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Mr(u.imageSizes)+'"]')):v+='[href="'+Mr(i)+'"]';var b=v;switch(l){case"style":b=cu(i);break;case"script":b=uu(i)}Ta.has(b)||(i=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),Ta.set(b,i),m.querySelector(v)!==null||l==="style"&&m.querySelector(ff(b))||l==="script"&&m.querySelector(hf(b))||(l=m.createElement("link"),cr(l,"link",i),Sn(l),m.head.appendChild(l)))}}function AV(i,l){bs.m(i,l);var u=lu;if(u&&i){var m=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+Mr(m)+'"][href="'+Mr(i)+'"]',b=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=uu(i)}if(!Ta.has(b)&&(i=g({rel:"modulepreload",href:i},l),Ta.set(b,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(hf(b)))return}m=u.createElement("link"),cr(m,"link",i),Sn(m),u.head.appendChild(m)}}}function TV(i,l,u){bs.S(i,l,u);var m=lu;if(m&&i){var v=Ni(m).hoistableStyles,b=cu(i);l=l||"default";var T=v.get(b);if(!T){var $={loading:0,preload:null};if(T=m.querySelector(ff(b)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":l},u),(u=Ta.get(b))&&Hx(i,u);var G=T=m.createElement("link");Sn(G),cr(G,"link",i),G._p=new Promise(function(ie,pe){G.onload=ie,G.onerror=pe}),G.addEventListener("load",function(){$.loading|=1}),G.addEventListener("error",function(){$.loading|=2}),$.loading|=4,dp(T,l,m)}T={type:"stylesheet",instance:T,count:1,state:$},v.set(b,T)}}}function CV(i,l){bs.X(i,l);var u=lu;if(u&&i){var m=Ni(u).hoistableScripts,v=uu(i),b=m.get(v);b||(b=u.querySelector(hf(v)),b||(i=g({src:i,async:!0},l),(l=Ta.get(v))&&Gx(i,l),b=u.createElement("script"),Sn(b),cr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function IV(i,l){bs.M(i,l);var u=lu;if(u&&i){var m=Ni(u).hoistableScripts,v=uu(i),b=m.get(v);b||(b=u.querySelector(hf(v)),b||(i=g({src:i,async:!0,type:"module"},l),(l=Ta.get(v))&&Gx(i,l),b=u.createElement("script"),Sn(b),cr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function QT(i,l,u,m){var v=(v=je.current)?up(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=cu(u.href),u=Ni(v).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=cu(u.href);var b=Ni(v).hoistableStyles,T=b.get(i);if(T||(v=v.ownerDocument||v,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,T),(b=v.querySelector(ff(i)))&&!b._p&&(T.instance=b,T.state.loading=5),Ta.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ta.set(i,u),b||OV(v,i,u,T.state))),l&&m===null)throw Error(r(528,""));return T}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=uu(u),u=Ni(v).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function cu(i){return'href="'+Mr(i)+'"'}function ff(i){return'link[rel="stylesheet"]['+i+"]"}function JT(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function OV(i,l,u,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),cr(l,"link",u),Sn(l),i.head.appendChild(l))}function uu(i){return'[src="'+Mr(i)+'"]'}function hf(i){return"script[async]"+i}function ZT(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+Mr(u.href)+'"]');if(m)return l.instance=m,Sn(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Sn(m),cr(m,"style",v),dp(m,u.precedence,i),l.instance=m;case"stylesheet":v=cu(u.href);var b=i.querySelector(ff(v));if(b)return l.state.loading|=4,l.instance=b,Sn(b),b;m=JT(u),(v=Ta.get(v))&&Hx(m,v),b=(i.ownerDocument||i).createElement("link"),Sn(b);var T=b;return T._p=new Promise(function($,G){T.onload=$,T.onerror=G}),cr(b,"link",m),l.state.loading|=4,dp(b,u.precedence,i),l.instance=b;case"script":return b=uu(u.src),(v=i.querySelector(hf(b)))?(l.instance=v,Sn(v),v):(m=u,(v=Ta.get(b))&&(m=g({},u),Gx(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),Sn(v),cr(v,"link",m),i.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,dp(m,u.precedence,i));return l.instance}function dp(i,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,b=v,T=0;T<m.length;T++){var $=m[T];if($.dataset.precedence===l)b=$;else if(b!==v)break}b?b.parentNode.insertBefore(i,b.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Hx(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Gx(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var fp=null;function e2(i,l,u){if(fp===null){var m=new Map,v=fp=new Map;v.set(u,m)}else v=fp,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var b=u[v];if(!(b[bi]||b[En]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var T=b.getAttribute(l)||"";T=i+T;var $=m.get(T);$?$.push(b):m.set(T,[b])}}return m}function t2(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function RV(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function n2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function DV(i,l,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=cu(m.href),b=l.querySelector(ff(v));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=hp.bind(i),l.then(i,i)),u.state.loading|=4,u.instance=b,Sn(b);return}b=l.ownerDocument||l,m=JT(m),(v=Ta.get(v))&&Hx(m,v),b=b.createElement("link"),Sn(b);var T=b;T._p=new Promise(function($,G){T.onload=$,T.onerror=G}),cr(b,"link",m),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=hp.bind(i),l.addEventListener("load",u),l.addEventListener("error",u))}}var Kx=0;function PV(i,l){return i.stylesheets&&i.count===0&&pp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&pp(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+l);0<i.imgBytes&&Kx===0&&(Kx=62500*mV());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&pp(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Kx?50:800)+l);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function hp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mp=null;function pp(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mp=new Map,l.forEach(kV,i),mp=null,hp.call(i))}function kV(i,l){if(!(l.state.loading&4)){var u=mp.get(i);if(u)var m=u.get(null);else{u=new Map,mp.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var T=v[b];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),m=T)}m&&u.set(null,m)}v=l.instance,T=v.getAttribute("data-precedence"),b=u.get(T)||m,b===m&&u.set(null,v),u.set(T,v),this.count++,m=hp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),b?b.parentNode.insertBefore(v,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),l.state.loading|=4}}var mf={$$typeof:A,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function MV(i,l,u,m,v,b,T,$,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function r2(i,l,u,m,v,b,T,$,G,ie,pe,be){return i=new MV(i,l,u,T,G,ie,pe,be,$),l=1,b===!0&&(l|=24),b=ra(3,null,null,l),i.current=b,b.stateNode=i,l=Sv(),l.refCount++,i.pooledCache=l,l.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:l},Iv(b),i}function a2(i){return i?(i=Bc,i):Bc}function i2(i,l,u,m,v,b){v=a2(v),m.context===null?m.context=v:m.pendingContext=v,m=mo(l),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=po(i,m,l),u!==null&&($r(u,i,l),Hd(u,i,l))}function s2(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Yx(i,l){s2(i,l),(i=i.alternate)&&s2(i,l)}function o2(i){if(i.tag===13||i.tag===31){var l=Cl(i,67108864);l!==null&&$r(l,i,67108864),Yx(i,67108864)}}function l2(i){if(i.tag===13||i.tag===31){var l=la();l=yl(l);var u=Cl(i,l);u!==null&&$r(u,i,l),Yx(i,l)}}var gp=!0;function LV(i,l,u,m){var v=Y.T;Y.T=null;var b=le.p;try{le.p=2,Wx(i,l,u,m)}finally{le.p=b,Y.T=v}}function UV(i,l,u,m){var v=Y.T;Y.T=null;var b=le.p;try{le.p=8,Wx(i,l,u,m)}finally{le.p=b,Y.T=v}}function Wx(i,l,u,m){if(gp){var v=Xx(m);if(v===null)kx(i,l,m,yp,u),u2(i,m);else if(zV(v,i,l,u,m))m.stopPropagation();else if(u2(i,m),l&4&&-1<VV.indexOf(i)){for(;v!==null;){var b=ya(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var T=gi(b.pendingLanes);if(T!==0){var $=b;for($.pendingLanes|=2,$.entangledLanes|=2;T;){var G=1<<31-mn(T);$.entanglements[1]|=G,T&=~G}ki(b),(wt&6)===0&&(Zm=Yn()+500,lf(0))}}break;case 31:case 13:$=Cl(b,2),$!==null&&$r($,b,2),tp(),Yx(b,2)}if(b=Xx(m),b===null&&kx(i,l,m,yp,u),b===v)break;v=b}v!==null&&m.stopPropagation()}else kx(i,l,m,null,u)}}function Xx(i){return i=va(i),Qx(i)}var yp=null;function Qx(i){if(yp=null,i=wi(i),i!==null){var l=s(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=c(l),i!==null)return i;i=null}else if(u===31){if(i=d(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return yp=i,null}function c2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Et:return 2;case on:return 8;case ln:case Zr:return 32;case dl:return 268435456;default:return 32}default:return 32}}var Jx=!1,So=null,Ao=null,To=null,pf=new Map,gf=new Map,Co=[],VV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u2(i,l){switch(i){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":pf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(l.pointerId)}}function yf(i,l,u,m,v,b){return i===null||i.nativeEvent!==b?(i={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},l!==null&&(l=ya(l),l!==null&&o2(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),i)}function zV(i,l,u,m,v){switch(l){case"focusin":return So=yf(So,i,l,u,m,v),!0;case"dragenter":return Ao=yf(Ao,i,l,u,m,v),!0;case"mouseover":return To=yf(To,i,l,u,m,v),!0;case"pointerover":var b=v.pointerId;return pf.set(b,yf(pf.get(b)||null,i,l,u,m,v)),!0;case"gotpointercapture":return b=v.pointerId,gf.set(b,yf(gf.get(b)||null,i,l,u,m,v)),!0}return!1}function d2(i){var l=wi(i.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){i.blockedOn=l,qa(i.priority,function(){l2(u)});return}}else if(l===31){if(l=d(u),l!==null){i.blockedOn=l,qa(i.priority,function(){l2(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vp(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Xx(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Cd=m,u.target.dispatchEvent(m),Cd=null}else return l=ya(u),l!==null&&o2(l),i.blockedOn=u,!1;l.shift()}return!0}function f2(i,l,u){vp(i)&&u.delete(l)}function BV(){Jx=!1,So!==null&&vp(So)&&(So=null),Ao!==null&&vp(Ao)&&(Ao=null),To!==null&&vp(To)&&(To=null),pf.forEach(f2),gf.forEach(f2)}function xp(i,l){i.blockedOn===l&&(i.blockedOn=null,Jx||(Jx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BV)))}var bp=null;function h2(i){bp!==i&&(bp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bp===i&&(bp=null);for(var l=0;l<i.length;l+=3){var u=i[l],m=i[l+1],v=i[l+2];if(typeof m!="function"){if(Qx(m||u)===null)continue;break}var b=ya(u);b!==null&&(i.splice(l,3),l-=3,Xv(b,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function du(i){function l(G){return xp(G,i)}So!==null&&xp(So,i),Ao!==null&&xp(Ao,i),To!==null&&xp(To,i),pf.forEach(l),gf.forEach(l);for(var u=0;u<Co.length;u++){var m=Co[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Co.length&&(u=Co[0],u.blockedOn===null);)d2(u),u.blockedOn===null&&Co.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],b=u[m+1],T=v[Wn]||null;if(typeof b=="function")T||h2(u);else if(T){var $=null;if(b&&b.hasAttribute("formAction")){if(v=b,T=b[Wn]||null)$=T.formAction;else if(Qx(v)!==null)continue}else $=T.action;typeof $=="function"?u[m+1]=$:(u.splice(m,3),m-=3),h2(u)}}}function m2(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(T){return v=T})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function Zx(i){this._internalRoot=i}wp.prototype.render=Zx.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,m=la();i2(u,m,i,l,null,null)},wp.prototype.unmount=Zx.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;i2(i.current,2,null,i,null,null),tp(),l[xi]=null}};function wp(i){this._internalRoot=i}wp.prototype.unstable_scheduleHydration=function(i){if(i){var l=tm();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Co.length&&l!==0&&l<Co[u].priority;u++);Co.splice(u,0,i),u===0&&d2(i)}};var p2=e.version;if(p2!=="19.2.0")throw Error(r(527,p2,"19.2.0"));le.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(l),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var $V={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Np.isDisabled&&Np.supportsFiber)try{kr=Np.inject($V),_n=Np}catch{}}return xf.createRoot=function(i,l){if(!a(i))throw Error(r(299));var u=!1,m="",v=NA,b=_A,T=jA;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),l=r2(i,1,!1,null,null,u,m,null,v,b,T,m2),i[xi]=l.current,Px(i),new Zx(l)},xf.hydrateRoot=function(i,l,u){if(!a(i))throw Error(r(299));var m=!1,v="",b=NA,T=_A,$=jA,G=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),l=r2(i,1,!0,l,u??null,m,v,G,b,T,$,m2),l.context=a2(null),u=l.current,m=la(),m=yl(m),v=mo(m),v.callback=null,po(u,v,m),u=m,l.current.lanes=u,pl(l,u),ki(l),i[xi]=l.current,Px(i),new wp(l)},xf.version="19.2.0",xf}var E2;function t7(){if(E2)return rb.exports;E2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rb.exports=e7(),rb.exports}var n7=t7();const r7=Ji(n7);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S2="popstate";function a7(t={}){function e(a,s){let{pathname:c="/",search:d="",hash:f=""}=pc(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),c1("",{pathname:c,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:Ff(s))}function r(a,s){pa(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return s7(e,n,r,t)}function nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i7(){return Math.random().toString(36).substring(2,10)}function A2(t,e){return{usr:t.state,key:t.key,idx:e}}function c1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pc(e):e,state:n,key:e&&e.key||r||i7()}}function Ff({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function s7(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,c=a.history,d="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let j=p(),C=j==null?null:j-h;h=j,f&&f({action:d,location:_.location,delta:C})}function x(j,C){d="PUSH";let L=c1(_.location,j,C);n&&n(L,j),h=p()+1;let A=A2(L,h),D=_.createHref(L);try{c.pushState(A,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(D)}s&&f&&f({action:d,location:_.location,delta:1})}function w(j,C){d="REPLACE";let L=c1(_.location,j,C);n&&n(L,j),h=p();let A=A2(L,h),D=_.createHref(L);c.replaceState(A,"",D),s&&f&&f({action:d,location:_.location,delta:0})}function E(j){return o7(j)}let _={get action(){return d},get location(){return t(a,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(S2,g),f=j,()=>{a.removeEventListener(S2,g),f=null}},createHref(j){return e(a,j)},createURL:E,encodeLocation(j){let C=E(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:w,go(j){return c.go(j)}};return _}function o7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ff(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $P(t,e,n="/"){return l7(t,e,n,!1)}function l7(t,e,n,r){let a=typeof e=="string"?pc(e):e,s=Ds(a.pathname||"/",n);if(s==null)return null;let c=FP(t);c7(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=b7(s);d=v7(c[f],h,r)}return d}function FP(t,e=[],n=[],r="",a=!1){let s=(c,d,f=a,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;nn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Cs([r,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(nn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),FP(c.children,e,x,g,f)),!(c.path==null&&!c.index)&&e.push({path:g,score:g7(g,c.index),routesMeta:x})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))s(c,d);else for(let h of qP(c.path))s(c,d,!0,h)}),e}function qP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let c=qP(r.join("/")),d=[];return d.push(...c.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function c7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:y7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var u7=/^:[\w-]+$/,d7=3,f7=2,h7=1,m7=10,p7=-2,T2=t=>t==="*";function g7(t,e){let n=t.split("/"),r=n.length;return n.some(T2)&&(r+=p7),e&&(r+=f7),n.filter(a=>!T2(a)).reduce((a,s)=>a+(u7.test(s)?d7:s===""?h7:m7),r)}function y7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function v7(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=pg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=pg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Cs([s,g.pathname]),pathnameBase:E7(Cs([s,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(s=Cs([s,g.pathnameBase]))}return c}function pg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=x7(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let E=d[x]||"";c=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=d[x];return g&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function x7(t,e=!1,n=!0){pa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function b7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ds(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var w7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N7=t=>w7.test(t);function _7(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?pc(t):t,s;if(n)if(N7(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),pa(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?s=C2(n.substring(1),"/"):s=C2(n,e)}else s=e;return{pathname:s,search:S7(r),hash:A7(a)}}function C2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ob(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $N(t){let e=j7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function FN(t,e,n,r=!1){let a;typeof t=="string"?a=pc(t):(a={...t},nn(!a.pathname||!a.pathname.includes("?"),ob("?","pathname","search",a)),nn(!a.pathname||!a.pathname.includes("#"),ob("#","pathname","hash",a)),nn(!a.search||!a.search.includes("#"),ob("#","search","hash",a)));let s=t===""||a.pathname==="",c=s?"/":a.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}d=g>=0?e[g]:"/"}let f=_7(a,d),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Cs=t=>t.join("/").replace(/\/\/+/g,"/"),E7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),S7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function T7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HP=["POST","PUT","PATCH","DELETE"];new Set(HP);var C7=["GET",...HP];new Set(C7);var Zu=N.createContext(null);Zu.displayName="DataRouter";var Py=N.createContext(null);Py.displayName="DataRouterState";N.createContext(!1);var GP=N.createContext({isTransitioning:!1});GP.displayName="ViewTransition";var I7=N.createContext(new Map);I7.displayName="Fetchers";var O7=N.createContext(null);O7.displayName="Await";var fi=N.createContext(null);fi.displayName="Navigation";var ph=N.createContext(null);ph.displayName="Location";var Zi=N.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var qN=N.createContext(null);qN.displayName="RouteError";function R7(t,{relative:e}={}){nn(ed(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(fi),{hash:a,pathname:s,search:c}=gh(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:Cs([n,s])),r.createHref({pathname:d,search:c,hash:a})}function ed(){return N.useContext(ph)!=null}function es(){return nn(ed(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(ph).location}var KP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YP(t){N.useContext(fi).static||N.useLayoutEffect(t)}function HN(){let{isDataRoute:t}=N.useContext(Zi);return t?H7():D7()}function D7(){nn(ed(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Zu),{basename:e,navigator:n}=N.useContext(fi),{matches:r}=N.useContext(Zi),{pathname:a}=es(),s=JSON.stringify($N(r)),c=N.useRef(!1);return YP(()=>{c.current=!0}),N.useCallback((f,h={})=>{if(pa(c.current,KP),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=FN(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Cs([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,a,t])}N.createContext(null);function gh(t,{relative:e}={}){let{matches:n}=N.useContext(Zi),{pathname:r}=es(),a=JSON.stringify($N(n));return N.useMemo(()=>FN(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function P7(t,e){return WP(t,e)}function WP(t,e,n,r,a){var L;nn(ed(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(fi),{matches:c}=N.useContext(Zi),d=c[c.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";XP(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=es(),w;if(e){let A=typeof e=="string"?pc(e):e;nn(p==="/"||((L=A.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),w=A}else w=x;let E=w.pathname||"/",_=E;if(p!=="/"){let A=p.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(A.length).join("/")}let j=$P(t,{pathname:_});pa(g||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),pa(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=V7(j&&j.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:Cs([p,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:Cs([p,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,n,r,a);return e&&C?N.createElement(ph.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function k7(){let t=q7(),e=T7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,c)}var M7=N.createElement(k7,null),L7=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(Zi.Provider,{value:this.props.routeContext},N.createElement(qN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U7({routeContext:t,match:e,children:n}){let r=N.useContext(Zu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Zi.Provider,{value:t},n)}function V7(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,c=n==null?void 0:n.errors;if(c!=null){let p=s.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);nn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:w}=n,E=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&r?(p,g)=>{var x,w;r(p,{location:n.location,params:((w=(x=n.matches)==null?void 0:x[0])==null?void 0:w.params)??{},errorInfo:g})}:void 0;return s.reduceRight((p,g,x)=>{let w,E=!1,_=null,j=null;n&&(w=c&&g.route.id?c[g.route.id]:void 0,_=g.route.errorElement||M7,d&&(f<0&&x===0?(XP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,j=null):f===x&&(E=!0,j=g.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,x+1)),L=()=>{let A;return w?A=_:E?A=j:g.route.Component?A=N.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=p,N.createElement(U7,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?N.createElement(L7,{location:n.location,revalidation:n.revalidation,component:_,error:w,children:L(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):L()},null)}function GN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z7(t){let e=N.useContext(Zu);return nn(e,GN(t)),e}function B7(t){let e=N.useContext(Py);return nn(e,GN(t)),e}function $7(t){let e=N.useContext(Zi);return nn(e,GN(t)),e}function KN(t){let e=$7(t),n=e.matches[e.matches.length-1];return nn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function F7(){return KN("useRouteId")}function q7(){var r;let t=N.useContext(qN),e=B7("useRouteError"),n=KN("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function H7(){let{router:t}=z7("useNavigate"),e=KN("useNavigate"),n=N.useRef(!1);return YP(()=>{n.current=!0}),N.useCallback(async(a,s={})=>{pa(n.current,KP),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var I2={};function XP(t,e,n){!e&&!I2[t]&&(I2[t]=!0,pa(!1,n))}N.memo(G7);function G7({routes:t,future:e,state:n,unstable_onError:r}){return WP(t,void 0,n,r,e)}function K7({to:t,replace:e,state:n,relative:r}){nn(ed(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(fi);pa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(Zi),{pathname:c}=es(),d=HN(),f=FN(t,$N(s),c,r==="path"),h=JSON.stringify(f);return N.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function Qt(t){nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){nn(!ed(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:a,static:s,future:{}}),[c,a,s]);typeof n=="string"&&(n=pc(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,w=N.useMemo(()=>{let E=Ds(f,c);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:x},navigationType:r}},[c,f,h,p,g,x,r]);return pa(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(fi.Provider,{value:d},N.createElement(ph.Provider,{children:e,value:w}))}function W7({children:t,location:e}){return P7(u1(t),e)}function u1(t,e=[]){let n=[];return N.Children.forEach(t,(r,a)=>{if(!N.isValidElement(r))return;let s=[...e,a];if(r.type===N.Fragment){n.push.apply(n,u1(r.props.children,s));return}nn(r.type===Qt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=u1(r.props.children,s)),n.push(c)}),n}var Xp="get",Qp="application/x-www-form-urlencoded";function ky(t){return t!=null&&typeof t.tagName=="string"}function X7(t){return ky(t)&&t.tagName.toLowerCase()==="button"}function Q7(t){return ky(t)&&t.tagName.toLowerCase()==="form"}function J7(t){return ky(t)&&t.tagName.toLowerCase()==="input"}function Z7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function e9(t,e){return t.button===0&&(!e||e==="_self")&&!Z7(t)}var _p=null;function t9(){if(_p===null)try{new FormData(document.createElement("form"),0),_p=!1}catch{_p=!0}return _p}var n9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lb(t){return t!=null&&!n9.has(t)?(pa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qp}"`),null):t}function r9(t,e){let n,r,a,s,c;if(Q7(t)){let d=t.getAttribute("action");r=d?Ds(d,e):null,n=t.getAttribute("method")||Xp,a=lb(t.getAttribute("enctype"))||Qp,s=new FormData(t)}else if(X7(t)||J7(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Ds(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Xp,a=lb(t.getAttribute("formenctype"))||lb(d.getAttribute("enctype"))||Qp,s=new FormData(d,t),!t9()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else h&&s.append(h,g)}}else{if(ky(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xp,r=null,a=Qp,c=t}return s&&a==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function YN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function a9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ds(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function i9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function o9(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let c=await i9(s,n);return c.links?c.links():[]}return[]}));return d9(r.flat(1).filter(s9).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function O2(t,e,n,r,a,s){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,h)=>c(f,h)||d(f,h)):s==="data"?e.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function l9(t,e,{includeHydrateFallback:n}={}){return c9(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function c9(t){return[...new Set(t)]}function u9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function d9(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(u9(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function QP(){let t=N.useContext(Zu);return YN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function f9(){let t=N.useContext(Py);return YN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var WN=N.createContext(void 0);WN.displayName="FrameworkContext";function JP(){let t=N.useContext(WN);return YN(t,"You must render this element inside a <HydratedRouter> element"),t}function h9(t,e){let n=N.useContext(WN),[r,a]=N.useState(!1),[s,c]=N.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=C=>{C.forEach(L=>{c(L.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[t]),N.useEffect(()=>{if(r){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[r]);let w=()=>{a(!0)},E=()=>{a(!1),c(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:bf(d,w),onBlur:bf(f,E),onMouseEnter:bf(h,w),onMouseLeave:bf(p,E),onTouchStart:bf(g,w)}]:[!1,x,{}]}function bf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function m9({page:t,...e}){let{router:n}=QP(),r=N.useMemo(()=>$P(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(g9,{page:t,matches:r,...e}):null}function p9(t){let{manifest:e,routeModules:n}=JP(),[r,a]=N.useState([]);return N.useEffect(()=>{let s=!1;return o9(t,e,n).then(c=>{s||a(c)}),()=>{s=!0}},[t,e,n]),r}function g9({page:t,matches:e,...n}){let r=es(),{manifest:a,routeModules:s}=JP(),{basename:c}=QP(),{loaderData:d,matches:f}=f9(),h=N.useMemo(()=>O2(t,e,f,a,r,"data"),[t,e,f,a,r]),p=N.useMemo(()=>O2(t,e,f,a,r,"assets"),[t,e,f,a,r]),g=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,_=!1;if(e.forEach(C=>{var A;let L=a.routes[C.route.id];!L||!L.hasLoader||(!h.some(D=>D.route.id===C.route.id)&&C.route.id in d&&((A=s[C.route.id])!=null&&A.shouldRevalidate)||L.hasClientLoader?_=!0:E.add(C.route.id))}),E.size===0)return[];let j=a9(t,c,"data");return _&&E.size>0&&j.searchParams.set("_routes",e.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[j.pathname+j.search]},[c,d,r,a,h,e,t,s]),x=N.useMemo(()=>l9(p,a),[p,a]),w=p9(p);return N.createElement(N.Fragment,null,g.map(E=>N.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>N.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:_})=>N.createElement("link",{key:E,nonce:n.nonce,..._})))}function y9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZP&&(window.__reactRouterVersion="7.9.6")}catch{}function v9({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=a7({window:n,v5Compat:!0}));let a=r.current,[s,c]=N.useState({action:a.action,location:a.location}),d=N.useCallback(f=>{N.startTransition(()=>c(f))},[c]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(Y7,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var e4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XN=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...x},w){let{basename:E}=N.useContext(fi),_=typeof h=="string"&&e4.test(h),j,C=!1;if(typeof h=="string"&&_&&(j=h,ZP))try{let k=new URL(window.location.href),I=h.startsWith("//")?new URL(k.protocol+h):new URL(h),P=Ds(I.pathname,E);I.origin===k.origin&&P!=null?h=P+I.search+I.hash:C=!0}catch{pa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=R7(h,{relative:a}),[A,D,R]=h9(r,x),U=N9(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function O(k){e&&e(k),k.defaultPrevented||U(k)}let V=N.createElement("a",{...x,...R,href:j||L,onClick:C||s?e:O,ref:y9(w,D),target:f,"data-discover":!_&&n==="render"?"true":void 0});return A&&!_?N.createElement(N.Fragment,null,V,N.createElement(m9,{page:L})):V});XN.displayName="Link";var x9=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:c,viewTransition:d,children:f,...h},p){let g=gh(c,{relative:h.relative}),x=es(),w=N.useContext(Py),{navigator:E,basename:_}=N.useContext(fi),j=w!=null&&A9(g)&&d===!0,C=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,L=x.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(L=L.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&_&&(A=Ds(A,_)||A);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let R=L===C||!a&&L.startsWith(C)&&L.charAt(D)==="/",U=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),O={isActive:R,isPending:U,isTransitioning:j},V=R?e:void 0,k;typeof r=="function"?k=r(O):k=[r,R?"active":null,U?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(O):s;return N.createElement(XN,{...h,"aria-current":V,className:k,ref:p,style:I,to:c,viewTransition:d},typeof f=="function"?f(O):f)});x9.displayName="NavLink";var b9=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:c=Xp,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...x},w)=>{let E=E9(),_=S9(d,{relative:h}),j=c.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&e4.test(d),L=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let D=A.nativeEvent.submitter,R=(D==null?void 0:D.getAttribute("formmethod"))||c;E(D||A.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return N.createElement("form",{ref:w,method:j,action:_,onSubmit:r?f:L,...x,"data-discover":!C&&t==="render"?"true":void 0})});b9.displayName="Form";function w9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t4(t){let e=N.useContext(Zu);return nn(e,w9(t)),e}function N9(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:c}={}){let d=HN(),f=es(),h=gh(t,{relative:s});return N.useCallback(p=>{if(e9(p,e)){p.preventDefault();let g=n!==void 0?n:Ff(f)===Ff(h);d(t,{replace:g,state:r,preventScrollReset:a,relative:s,viewTransition:c})}},[f,d,h,n,r,e,t,a,s,c])}var _9=0,j9=()=>`__${String(++_9)}__`;function E9(){let{router:t}=t4("useSubmit"),{basename:e}=N.useContext(fi),n=F7();return N.useCallback(async(r,a={})=>{let{action:s,method:c,encType:d,formData:f,body:h}=r9(r,e);if(a.navigate===!1){let p=a.fetcherKey||j9();await t.fetch(p,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function S9(t,{relative:e}={}){let{basename:n}=N.useContext(fi),r=N.useContext(Zi);nn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...gh(t||".",{relative:e})},c=es();if(t==null){s.search=c.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Cs([n,s.pathname])),Ff(s)}function A9(t,{relative:e}={}){let n=N.useContext(GP);nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=t4("useViewTransitionState"),a=gh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ds(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ds(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pg(a.pathname,c)!=null||pg(a.pathname,s)!=null}var n4=BP();/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),R2=t=>{const e=C9(t);return e.charAt(0).toUpperCase()+e.slice(1)},r4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),I9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:c,...d},f)=>N.createElement("svg",{ref:f,...O9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:r4("lucide",a),...!s&&!I9(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,p])=>N.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=N.forwardRef(({className:r,...a},s)=>N.createElement(R9,{ref:s,iconNode:e,className:r4(`lucide-${T9(R2(t))}`,`lucide-${t}`,r),...a}));return n.displayName=R2(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],a4=Ce("activity",D9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],D2=Ce("archive",P9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],M9=Ce("arrow-left",k9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],U9=Ce("arrow-right-left",L9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Eu=Ce("award",V9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],i4=Ce("badge-check",z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Is=Ce("book-open",B9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ps=Ce("briefcase",$9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],q9=Ce("building",F9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],G9=Ce("bus",H9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Jp=Ce("calendar-days",K9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yh=Ce("calendar",Y9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],X9=Ce("chart-column",W9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],QN=Ce("chevron-down",Q9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],JN=Ce("chevron-up",J9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ZN=Ce("circle-alert",Z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gr=Ce("circle-check",ez);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nz=Ce("circle-play",tz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],kf=Ce("circle-plus",rz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],s4=Ce("circle-user",az);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],e_=Ce("circle-x",iz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],o4=Ce("clipboard-list",sz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hi=Ce("clock",oz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],_r=Ce("cloud-upload",lz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],uz=Ce("coins",cz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fz=Ce("copy",dz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gg=Ce("download",hz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],yg=Ce("external-link",mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],gz=Ce("file-clock",pz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1",key:"1q9hii"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],l4=Ce("file-input",yz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M4.226 20.925A2 2 0 0 0 6 22h12a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.127",key:"wfxp4w"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],c4=Ce("file-output",vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mr=Ce("file-text",xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],d1=Ce("flask-conical",bz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Nz=Ce("funnel",wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],t_=Ce("globe",_z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ql=Ce("graduation-cap",jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Sz=Ce("history",Ez);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],Tz=Ce("import",Az);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],f1=Ce("key",Cz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Oz=Ce("layout-dashboard",Iz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],u4=Ce("leaf",Rz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],d4=Ce("library",Dz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],P2=Ce("link",Pz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tt=Ce("loader-circle",kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cb=Ce("lock",Mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Uz=Ce("log-out",Lz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],h1=Ce("mail",Vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],f4=Ce("map-pin",zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],m1=Ce("megaphone",Bz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Fz=Ce("menu",$z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],k2=Ce("message-circle",qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],Gz=Ce("mic-vocal",Hz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],vg=Ce("microscope",Kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Cf=Ce("network",Yz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ub=Ce("phone",Wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],My=Ce("plane",Xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ft=Ce("plus",Qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],Zz=Ce("presentation",Jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],tB=Ce("qr-code",eB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],p1=Ce("refresh-ccw",nB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bn=Ce("save",rB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ku=Ce("search",aB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],h4=Ce("send",iB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m4=Ce("settings",sB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],lB=Ce("shield-alert",oB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],wu=Ce("sprout",cB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pr=Ce("square-pen",uB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],fB=Ce("stethoscope",dB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],mB=Ce("table",hB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zp=Ce("target",pB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pt=Ce("trash-2",gB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yr=Ce("triangle-alert",yB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],M2=Ce("user-check",vB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bB=Ce("user-cog",xB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],p4=Ce("user-plus",wB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],n_=Ce("user",NB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],si=Ce("users",_B);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vt=Ce("x",jB);var Ne=(t=>(t.ADMIN="ADMIN",t.DATA_ENTRY="DATA_ENTRY",t.STAFF="STAFF",t.STUDENT_PG="STUDENT_PG",t.STUDENT_UG="STUDENT_UG",t.ALUMNI="ALUMNI",t.EMPLOYEE="EMPLOYEE",t))(Ne||{}),Ze=(t=>(t.OUTGOING="OUTGOING",t.INCOMING="INCOMING",t.DEPARTMENT_COUNCIL="DEPARTMENT_COUNCIL",t.COMMITTEE_MEETING="COMMITTEE_MEETING",t))(Ze||{});const EB=({children:t,user:e,onLogout:n})=>{const[r,a]=N.useState(!1),s=es(),c=h=>s.pathname===h,f=[{path:"/",label:" ",icon:Oz,roles:[Ne.ADMIN,Ne.STAFF,Ne.DATA_ENTRY,Ne.EMPLOYEE]},{path:"/outgoing",label:"",icon:c4,roles:[Ne.ADMIN,Ne.STAFF,Ne.DATA_ENTRY]},{path:"/incoming",label:"",icon:l4,roles:[Ne.ADMIN,Ne.STAFF,Ne.DATA_ENTRY]},{path:"/councils",label:" ",icon:si,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/committees",label:" ",icon:o4,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/formation",label:"  ",icon:Cf,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/research-plan",label:"  ",icon:Zp,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG,Ne.STUDENT_UG]},{path:"/events",label:"  ",icon:m1,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG,Ne.STUDENT_UG,Ne.ALUMNI,Ne.EMPLOYEE]},{path:"/pg-manager",label:"  ",icon:gz,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/repository",label:"   ",icon:d4,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG,Ne.STUDENT_UG,Ne.ALUMNI,Ne.EMPLOYEE]},{path:"/inventory",label:" ",icon:vg,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/labs",label:" ",icon:d1,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG]},{path:"/greenhouse",label:"  ",icon:wu,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG]},{path:"/staff",label:" ",icon:s4,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG,Ne.STUDENT_UG]},{path:"/annual-report",label:" ",icon:mr,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/leaves",label:" ",icon:Jp,roles:[Ne.ADMIN,Ne.STAFF,Ne.EMPLOYEE]},{path:"/career-movements",label:"   ",icon:My,roles:[Ne.ADMIN,Ne.STAFF,Ne.EMPLOYEE]},{path:"/students",label:" ",icon:Is,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG,Ne.STUDENT_UG]},{path:"/alumni",label:" ",icon:Ps,roles:[Ne.ADMIN,Ne.STAFF,Ne.ALUMNI]},{path:"/users",label:" ",icon:bB,roles:[Ne.ADMIN]},{path:"/activity-log",label:" ",icon:a4,roles:[Ne.ADMIN]},{path:"/search",label:" ",icon:ku,roles:[Ne.ADMIN,Ne.STAFF,Ne.DATA_ENTRY]}].filter(h=>h.roles.includes(e.role));return o.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[r&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>a(!1)}),o.jsxs("aside",{className:`
          fixed top-0 right-0 h-full w-64 bg-green-900 text-white z-30 transform transition-transform duration-300 ease-in-out shadow-xl flex flex-col
          ${r?"translate-x-0":"translate-x-full"} 
          lg:relative lg:translate-x-0
        `,children:[o.jsxs("div",{className:"p-6 border-b border-green-800 flex items-center gap-3 shrink-0",children:[o.jsx("div",{className:"bg-white p-2 rounded-full",children:o.jsx(u4,{className:"w-6 h-6 text-green-700"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-bold text-sm",children:"   "}),o.jsx("p",{className:"text-xs text-green-300",children:"  - "})]})]}),o.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto custom-scrollbar",children:f.map(h=>o.jsxs(XN,{to:h.path,onClick:()=>a(!1),className:`
                flex items-center gap-3 px-4 py-3 rounded-lg transition-colors
                ${c(h.path)?"bg-green-700 text-white font-semibold shadow-md":"text-green-100 hover:bg-green-800 hover:text-white"}
              `,children:[o.jsx(h.icon,{className:"w-5 h-5"}),o.jsx("span",{children:h.label})]},h.path))}),o.jsxs("div",{className:"p-4 border-t border-green-800 bg-green-900 shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-700 flex items-center justify-center font-bold text-lg border-2 border-green-600",children:e.name.charAt(0)}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),o.jsx("p",{className:"text-xs text-green-300 truncate",children:e.role===Ne.ADMIN?" ":e.role===Ne.STAFF?"  ":e.role===Ne.STUDENT_PG?" ":e.role===Ne.STUDENT_UG?"":e.role===Ne.EMPLOYEE?" / ":""})]})]}),o.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg text-sm transition-colors",children:[o.jsx(Uz,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[o.jsxs("header",{className:"bg-white shadow-sm lg:hidden flex items-center justify-between p-4 z-10",children:[o.jsx("h2",{className:"font-bold text-gray-800 text-sm",children:"   "}),o.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",children:o.jsx(Fz,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8",children:t})]})]})};function g4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=g4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Mt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=g4(t))&&(r&&(r+=" "),r+=e);return r}var SB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function r_(t){if(typeof t!="string")return!1;var e=SB;return e.includes(t)}var AB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],TB=new Set(AB);function y4(t){return typeof t!="string"?!1:TB.has(t)}function v4(t){return typeof t=="string"&&t.startsWith("data-")}function li(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(y4(n)||v4(n))&&(e[n]=t[n]);return e}function qf(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return li(e)}return typeof t=="object"&&!Array.isArray(t)?li(t):null}function ka(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(y4(n)||v4(n)||r_(n))&&(e[n]=t[n]);return e}var CB=["children","width","height","viewBox","className","style","title","desc"];function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g1.apply(null,arguments)}function IB(t,e){if(t==null)return{};var n,r,a=OB(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function OB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var x4=N.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:c,style:d,title:f,desc:h}=t,p=IB(t,CB),g=s||{width:r,height:a,x:0,y:0},x=Mt("recharts-surface",c);return N.createElement("svg",g1({},ka(p),{className:x,width:r,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),N.createElement("title",null,f),N.createElement("desc",null,h),n)}),RB=["children","className"];function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y1.apply(null,arguments)}function DB(t,e){if(t==null)return{};var n,r,a=PB(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function PB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dr=N.forwardRef((t,e)=>{var{children:n,className:r}=t,a=DB(t,RB),s=Mt("recharts-layer",r);return N.createElement("g",y1({className:s},ka(a),{ref:e}),n)}),kB=N.createContext(null);function Bt(t){return function(){return t}}const b4=Math.cos,xg=Math.sin,hi=Math.sqrt,bg=Math.PI,Ly=2*bg,v1=Math.PI,x1=2*v1,$l=1e-6,MB=x1-$l;function w4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function LB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w4;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class UB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w4:LB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,c){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,f=r-e,h=a-n,p=c-e,g=d-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>$l)if(!(Math.abs(g*f-h*p)>$l)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-c,E=a-d,_=f*f+h*h,j=w*w+E*E,C=Math.sqrt(_),L=Math.sqrt(x),A=s*Math.tan((v1-Math.acos((_+x-j)/(2*C*L)))/2),D=A/L,R=A/C;Math.abs(D-1)>$l&&this._append`L${e+D*p},${n+D*g}`,this._append`A${s},${s},0,0,${+(g*w>p*E)},${this._x1=e+R*f},${this._y1=n+R*h}`}}arc(e,n,r,a,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),f=r*Math.sin(a),h=e+d,p=n+f,g=1^c,x=c?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>$l||Math.abs(this._y1-p)>$l)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%x1+x1),x>MB?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>$l&&this._append`A${r},${r},0,${+(x>=v1)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function a_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new UB(e)}function i_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function N4(t){this._context=t}N4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Uy(t){return new N4(t)}function _4(t){return t[0]}function j4(t){return t[1]}function E4(t,e){var n=Bt(!0),r=null,a=Uy,s=null,c=a_(d);t=typeof t=="function"?t:t===void 0?_4:Bt(t),e=typeof e=="function"?e:e===void 0?j4:Bt(e);function d(f){var h,p=(f=i_(f)).length,g,x=!1,w;for(r==null&&(s=a(w=c())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(g,h,f),+e(g,h,f));if(w)return s=null,w+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Bt(!!f),d):n},d.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),d):a},d.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),d):r},d}function jp(t,e,n){var r=null,a=Bt(!0),s=null,c=Uy,d=null,f=a_(h);t=typeof t=="function"?t:t===void 0?_4:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?j4:Bt(+n);function h(g){var x,w,E,_=(g=i_(g)).length,j,C=!1,L,A=new Array(_),D=new Array(_);for(s==null&&(d=c(L=f())),x=0;x<=_;++x){if(!(x<_&&a(j=g[x],x,g))===C)if(C=!C)w=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),E=x-1;E>=w;--E)d.point(A[E],D[E]);d.lineEnd(),d.areaEnd()}C&&(A[x]=+t(j,x,g),D[x]=+e(j,x,g),d.point(r?+r(j,x,g):A[x],n?+n(j,x,g):D[x]))}if(L)return d=null,L+""||null}function p(){return E4().defined(a).curve(c).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Bt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Bt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Bt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Bt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Bt(!!g),h):a},h.curve=function(g){return arguments.length?(c=g,s!=null&&(d=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=d=null:d=c(s=g),h):s},h}class S4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function VB(t){return new S4(t,!0)}function zB(t){return new S4(t,!1)}const s_={draw(t,e){const n=hi(e/bg);t.moveTo(n,0),t.arc(0,0,n,0,Ly)}},BB={draw(t,e){const n=hi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},A4=hi(1/3),$B=A4*2,FB={draw(t,e){const n=hi(e/$B),r=n*A4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},qB={draw(t,e){const n=hi(e),r=-n/2;t.rect(r,r,n,n)}},HB=.8908130915292852,T4=xg(bg/10)/xg(7*bg/10),GB=xg(Ly/10)*T4,KB=-b4(Ly/10)*T4,YB={draw(t,e){const n=hi(e*HB),r=GB*n,a=KB*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const c=Ly*s/5,d=b4(c),f=xg(c);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*a,f*r+d*a)}t.closePath()}},db=hi(3),WB={draw(t,e){const n=-hi(e/(db*3));t.moveTo(0,n*2),t.lineTo(-db*n,-n),t.lineTo(db*n,-n),t.closePath()}},Ca=-.5,Ia=hi(3)/2,b1=1/hi(12),XB=(b1/2+1)*3,QB={draw(t,e){const n=hi(e/XB),r=n/2,a=n*b1,s=r,c=n*b1+n,d=-s,f=c;t.moveTo(r,a),t.lineTo(s,c),t.lineTo(d,f),t.lineTo(Ca*r-Ia*a,Ia*r+Ca*a),t.lineTo(Ca*s-Ia*c,Ia*s+Ca*c),t.lineTo(Ca*d-Ia*f,Ia*d+Ca*f),t.lineTo(Ca*r+Ia*a,Ca*a-Ia*r),t.lineTo(Ca*s+Ia*c,Ca*c-Ia*s),t.lineTo(Ca*d+Ia*f,Ca*f-Ia*d),t.closePath()}};function JB(t,e){let n=null,r=a_(a);t=typeof t=="function"?t:Bt(t||s_),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Bt(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function wg(){}function Ng(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function C4(t){this._context=t}C4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ng(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZB(t){return new C4(t)}function I4(t){this._context=t}I4.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e$(t){return new I4(t)}function O4(t){this._context=t}O4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t$(t){return new O4(t)}function R4(t){this._context=t}R4.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function n$(t){return new R4(t)}function L2(t){return t<0?-1:1}function U2(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),c=(n-t._y1)/(a||r<0&&-0),d=(s*a+c*r)/(r+a);return(L2(s)+L2(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function V2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function fb(t,e,n){var r=t._x0,a=t._y0,s=t._x1,c=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,a+d*e,s-d,c-d*n,s,c)}function _g(t){this._context=t}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fb(this,this._t0,V2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,fb(this,V2(this,n=U2(this,t,e)),n);break;default:fb(this,this._t0,n=U2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function D4(t){this._context=new P4(t)}(D4.prototype=Object.create(_g.prototype)).point=function(t,e){_g.prototype.point.call(this,e,t)};function P4(t){this._context=t}P4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function r$(t){return new _g(t)}function a$(t){return new D4(t)}function k4(t){this._context=t}k4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=z2(t),a=z2(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function z2(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),c=new Array(n);for(a[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(a[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(c[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function i$(t){return new k4(t)}function Vy(t,e){this._context=t,this._t=e}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function s$(t){return new Vy(t,.5)}function o$(t){return new Vy(t,0)}function l$(t){return new Vy(t,1)}function Mu(t,e){if((c=t.length)>1)for(var n=1,r,a,s=t[e[0]],c,d=s.length;n<c;++n)for(a=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function w1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function c$(t,e){return t[e]}function u$(t){const e=[];return e.key=t,e}function d$(){var t=Bt([]),e=w1,n=Mu,r=c$;function a(s){var c=Array.from(t.apply(this,arguments),u$),d,f=c.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(c[d][h]=[0,+r(g,c[d].key,h,s)]).data=g;for(d=0,p=i_(e(c));d<f;++d)c[p[d]].index=d;return n(c,p),c}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Bt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Bt(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?w1:typeof s=="function"?s:Bt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Mu,a):n},a}function f$(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,c;a<s;++a){for(c=n=0;n<r;++n)c+=t[n][a][1]||0;if(c)for(n=0;n<r;++n)t[n][a][1]/=c}Mu(t,e)}}function h$(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var c=0,d=0;c<a;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}Mu(t,e)}}function m$(t,e){if(!(!((c=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,c;r<s;++r){for(var d=0,f=0,h=0;d<c;++d){for(var p=t[e[d]],g=p[r][1]||0,x=p[r-1][1]||0,w=(g-x)/2,E=0;E<d;++E){var _=t[e[E]],j=_[r][1]||0,C=_[r-1][1]||0;w+=j-C}f+=g,h+=w*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=h/f)}a[r-1][1]+=a[r-1][0]=n,Mu(t,e)}}var hb={},mb={},B2;function p$(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(mb)),mb}var pb={},$2;function M4(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(pb)),pb}var gb={},F2;function o_(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(gb)),gb}var yb={},vb={},q2;function g$(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(vb)),vb}var H2;function l_(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g$(),n=o_();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],c=a.length;if(c===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<c;){const g=a[d];h?g==="\\"&&d+1<c?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=r})(yb)),yb}var G2;function c_(){return G2||(G2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p$(),n=M4(),r=o_(),a=l_();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function c(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(hb)),hb}var xb,K2;function y$(){return K2||(K2=1,xb=c_().get),xb}var v$=y$();const rc=Ji(v$);var nr=t=>t===0?0:t>0?1:-1,ci=t=>typeof t=="number"&&t!=+t,ks=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Le=t=>(typeof t=="number"||t instanceof Number)&&!ci(t),Gi=t=>Le(t)||typeof t=="string",x$=0,Hf=t=>{var e=++x$;return"".concat(t||"").concat(e)},jr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(e)&&typeof e!="string")return r;var s;if(ks(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return ci(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},L4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function zn(t,e,n){return Le(t)&&Le(e)?t+n*(e-t):e}function b$(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):rc(r,e))===n)}var rr=t=>t===null||typeof t>"u",vh=t=>rr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function w$(t){return t!=null}function xh(){}var N$=["type","size","sizeType"];function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N1.apply(null,arguments)}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function W2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){_$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _$(t,e,n){return(e=j$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j$(t){var e=E$(t,"string");return typeof e=="symbol"?e:e+""}function E$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S$(t,e){if(t==null)return{};var n,r,a=A$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function A$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U4={symbolCircle:s_,symbolCross:BB,symbolDiamond:FB,symbolSquare:qB,symbolStar:YB,symbolTriangle:WB,symbolWye:QB},T$=Math.PI/180,C$=t=>{var e="symbol".concat(vh(t));return U4[e]||s_},I$=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*T$;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},O$=(t,e)=>{U4["symbol".concat(vh(t))]=e},V4=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=S$(t,N$),s=W2(W2({},a),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var x=C$(c),w=JB().type(x).size(I$(n,r,c)),E=w();if(E!==null)return E},{className:f,cx:h,cy:p}=s,g=ka(s);return Le(h)&&Le(p)&&Le(n)?N.createElement("path",N1({},g,{className:Mt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};V4.registerSymbol=O$;var z4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,R$=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{r_(a)&&(r[a]=(s=>n[a](n,s)))}),r},D$=(t,e,n)=>r=>(t(e,n,r),null),zy=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];r_(a)&&typeof s=="function"&&(r||(r={}),r[a]=D$(s,e,n))}),r};function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function P$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){k$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k$(t,e,n){return(e=M$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M$(t){var e=L$(t,"string");return typeof e=="symbol"?e:e+""}function L$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sr(t,e){var n=P$({},t),r=e,a=Object.keys(e),s=a.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return s}var bb={},wb={},Q2;function U$(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const c=n[s],d=r(c);a.has(d)||a.set(d,c)}return Array.from(a.values())}t.uniqBy=e})(wb)),wb}var Nb={},J2;function B4(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Nb)),Nb}var _b={},jb={},Eb={},Z2;function V$(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Eb)),Eb}var eC;function u_(){return eC||(eC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V$();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(jb)),jb}var Sb={},tC;function z$(){return tC||(tC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Sb)),Sb}var nC;function B$(){return nC||(nC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u_(),n=z$();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(_b)),_b}var Ab={},Tb={},rC;function $$(){return rC||(rC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c_();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Tb)),Tb}var Cb={},Ib={},Ob={},Rb={},aC;function $4(){return aC||(aC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Rb)),Rb}var Db={},iC;function F4(){return iC||(iC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Db)),Db}var Pb={},sC;function q4(){return sC||(sC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Pb)),Pb}var oC;function F$(){return oC||(oC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$4(),n=F4(),r=q4();function a(p,g,x){return typeof x!="function"?a(p,g,()=>{}):s(p,g,function w(E,_,j,C,L,A){const D=x(E,_,j,C,L,A);return D!==void 0?!!D:s(E,_,w,A)},new Map)}function s(p,g,x,w){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,x,w);case"function":return Object.keys(g).length>0?s(p,{...g},x,w):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function c(p,g,x,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,x,w);if(g instanceof Map)return d(p,g,x,w);if(g instanceof Set)return h(p,g,x,w);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===p;w==null||w.set(g,p);try{for(let _=0;_<E.length;_++){const j=E[_];if(!n.isPrimitive(p)&&!(j in p)||g[j]===void 0&&p[j]!==void 0||g[j]===null&&p[j]!==null||!x(p[j],g[j],j,p,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function d(p,g,x,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,_]of g.entries()){const j=p.get(E);if(x(j,_,E,p,g,w)===!1)return!1}return!0}function f(p,g,x,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let _=0;_<g.length;_++){const j=g[_];let C=!1;for(let L=0;L<p.length;L++){if(E.has(L))continue;const A=p[L];let D=!1;if(x(A,j,_,p,g,w)&&(D=!0),D){E.add(L),C=!0;break}}if(!C)return!1}return!0}function h(p,g,x,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],x,w):!1}t.isMatchWith=a,t.isSetMatch=h})(Ob)),Ob}var lC;function H4(){return lC||(lC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F$();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Ib)),Ib}var kb={},Mb={},Lb={},cC;function q$(){return cC||(cC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Lb)),Lb}var Ub={},uC;function G4(){return uC||(uC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Ub)),Ub}var Vb={},dC;function K4(){return dC||(dC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",w="[object Object]",E="[object Error]",_="[object DataView]",j="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",A="[object Uint32Array]",D="[object BigUint64Array]",R="[object Int8Array]",U="[object Int16Array]",O="[object Int32Array]",V="[object BigInt64Array]",k="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=V,t.bigUint64ArrayTag=D,t.booleanTag=a,t.dataViewTag=_,t.dateTag=d,t.errorTag=E,t.float32ArrayTag=k,t.float64ArrayTag=I,t.functionTag=g,t.int16ArrayTag=U,t.int32ArrayTag=O,t.int8ArrayTag=R,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=L,t.uint32ArrayTag=A,t.uint8ArrayTag=j,t.uint8ClampedArrayTag=C})(Vb)),Vb}var zb={},fC;function H$(){return fC||(fC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(zb)),zb}var hC;function Y4(){return hC||(hC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q$(),n=G4(),r=K4(),a=F4(),s=H$();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,x,w=new Map,E=void 0){const _=E==null?void 0:E(p,g,x,w);if(_!==void 0)return _;if(a.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const j=new Array(p.length);w.set(p,j);for(let C=0;C<p.length;C++)j[C]=d(p[C],C,x,w,E);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;w.set(p,j);for(const[C,L]of p)j.set(C,d(L,C,x,w,E));return j}if(p instanceof Set){const j=new Set;w.set(p,j);for(const C of p)j.add(d(C,void 0,x,w,E));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,j);for(let C=0;C<p.length;C++)j[C]=d(p[C],C,x,w,E);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,j),f(j,p,x,w,E),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return w.set(p,j),f(j,p,x,w,E),j}if(typeof Blob<"u"&&p instanceof Blob){const j=new Blob([p],{type:p.type});return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof Error){const j=new p.constructor;return w.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,f(j,p,x,w,E),j}if(p instanceof Boolean){const j=new Boolean(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof Number){const j=new Number(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof String){const j=new String(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(typeof p=="object"&&h(p)){const j=Object.create(Object.getPrototypeOf(p));return w.set(p,j),f(j,p,x,w,E),j}return p}function f(p,g,x=p,w,E){const _=[...Object.keys(g),...e.getSymbols(g)];for(let j=0;j<_.length;j++){const C=_[j],L=Object.getOwnPropertyDescriptor(p,C);(L==null||L.writable)&&(p[C]=d(g[C],C,x,w,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=f})(Mb)),Mb}var mC;function G$(){return mC||(mC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(kb)),kb}var pC;function K$(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H4(),n=G$();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r})(Cb)),Cb}var Bb={},$b={},Fb={},gC;function Y$(){return gC||(gC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y4(),n=K4();function r(a,s){return e.cloneDeepWith(a,(c,d,f,h)=>{const p=s==null?void 0:s(c,d,f,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Fb)),Fb}var yC;function W$(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y$();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})($b)),$b}var qb={},Hb={},vC;function W4(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Hb)),Hb}var Gb={},xC;function X$(){return xC||(xC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Gb)),Gb}var bC;function Q$(){return bC||(bC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M4(),n=W4(),r=X$(),a=l_();function s(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(qb)),qb}var wC;function J$(){return wC||(wC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H4(),n=o_(),r=W$(),a=c_(),s=Q$();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(Bb)),Bb}var NC;function Z$(){return NC||(NC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B4(),n=$$(),r=K$(),a=J$();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s})(Ab)),Ab}var _C;function eF(){return _C||(_C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U$(),n=B4(),r=B$(),a=Z$();function s(c,d=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),a.iteratee(d)):[]}t.uniqBy=s})(bb)),bb}var Kb,jC;function tF(){return jC||(jC=1,Kb=eF().uniqBy),Kb}var nF=tF();const EC=Ji(nF);function rF(t,e,n){return e===!0?EC(t,n):typeof e=="function"?EC(t,e):t}var Yb={exports:{}},Wb={},Xb={exports:{}},Qb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function aF(){if(SC)return Qb;SC=1;var t=Ju();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function d(g,x){var w=x(),E=r({inst:{value:w,getSnapshot:x}}),_=E[0].inst,j=E[1];return s(function(){_.value=w,_.getSnapshot=x,f(_)&&j({inst:_})},[g,w,x]),a(function(){return f(_)&&j({inst:_}),g(function(){f(_)&&j({inst:_})})},[g]),c(w),w}function f(g){var x=g.getSnapshot;g=g.value;try{var w=x();return!n(g,w)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Qb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Qb}var AC;function iF(){return AC||(AC=1,Xb.exports=aF()),Xb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function sF(){if(TC)return Wb;TC=1;var t=Ju(),e=iF();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Wb.useSyncExternalStoreWithSelector=function(h,p,g,x,w){var E=s(null);if(E.current===null){var _={hasValue:!1,value:null};E.current=_}else _=E.current;E=d(function(){function C(U){if(!L){if(L=!0,A=U,U=x(U),w!==void 0&&_.hasValue){var O=_.value;if(w(O,U))return D=O}return D=U}if(O=D,r(A,U))return O;var V=x(U);return w!==void 0&&w(O,V)?(A=U,O):(A=U,D=V)}var L=!1,A,D,R=g===void 0?null:g;return[function(){return C(p())},R===null?void 0:function(){return C(R())}]},[p,g,x,w]);var j=a(h,E[0],E[1]);return c(function(){_.hasValue=!0,_.value=j},[j]),f(j),j},Wb}var CC;function oF(){return CC||(CC=1,Yb.exports=sF()),Yb.exports}var lF=oF(),d_=N.createContext(null),cF=t=>t,rn=()=>{var t=N.useContext(d_);return t?t.store.dispatch:cF},eg=()=>{},uF=()=>eg,dF=(t,e)=>t===e;function Ue(t){var e=N.useContext(d_);return lF.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:uF,e?e.store.getState:eg,e?e.store.getState:eg,e?t:eg,dF)}function fF(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function hF(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function mF(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var IC=t=>Array.isArray(t)?t:[t];function pF(t){const e=Array.isArray(t[0])?t[0]:t;return mF(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function gF(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var yF=class{constructor(t){this.value=t}deref(){return this.value}},vF=typeof WeakRef<"u"?WeakRef:yF,xF=0,OC=1;function Ep(){return{s:xF,v:void 0,o:null,p:null}}function X4(t,e={}){let n=Ep();const{resultEqualityCheck:r}=e;let a,s=0;function c(){var g;let d=n;const{length:f}=arguments;for(let x=0,w=f;x<w;x++){const E=arguments[x];if(typeof E=="function"||typeof E=="object"&&E!==null){let _=d.o;_===null&&(d.o=_=new WeakMap);const j=_.get(E);j===void 0?(d=Ep(),_.set(E,d)):d=j}else{let _=d.p;_===null&&(d.p=_=new Map);const j=_.get(E);j===void 0?(d=Ep(),_.set(E,d)):d=j}}const h=d;let p;if(d.s===OC)p=d.v;else if(p=t.apply(null,arguments),s++,r){const x=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;x!=null&&r(x,p)&&(p=x,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new vF(p):p}return h.s=OC,h.v=p,p}return c.clearCache=()=>{n=Ep(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function bF(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,c=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),fF(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:w=X4,argsMemoizeOptions:E=[]}=p,_=IC(x),j=IC(E),C=pF(a),L=g(function(){return s++,h.apply(null,arguments)},..._),A=w(function(){c++;const R=gF(C,arguments);return d=L.apply(null,R),d},...j);return Object.assign(A,{resultFunc:h,memoizedResultFunc:L,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var se=bF(X4),wF=Object.assign((t,e=se)=>{hF(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>wF}),Jb={},Zb={},ew={},RC;function NF(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const c=e(r),d=e(a);if(c===d&&c===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};t.compareValues=n})(ew)),ew}var tw={},nw={},DC;function Q4(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(nw)),nw}var PC;function _F(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=a})(tw)),tw}var kC;function jF(){return kC||(kC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NF(),n=_F(),r=l_();function a(s,c,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const h=(w,E)=>{let _=w;for(let j=0;j<E.length&&_!=null;++j)_=_[E[j]];return _},p=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:h(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?h(E,w):typeof E=="object"?E[w]:E,g=c.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(E=>p(E,w))})).slice().sort((w,E)=>{for(let _=0;_<g.length;_++){const j=e.compareValues(w.criteria[_],E.criteria[_],d[_]);if(j!==0)return j}return 0}).map(w=>w.original)}t.orderBy=a})(Zb)),Zb}var rw={},MC;function EF(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),c=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?c(p,f+1):a.push(p)}};return c(n,0),a}t.flatten=e})(rw)),rw}var aw={},LC;function J4(){return LC||(LC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W4(),n=u_(),r=$4(),a=q4();function s(c,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.eq(f[d],c):!1}t.isIterateeCall=s})(aw)),aw}var UC;function SF(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jF(),n=EF(),r=J4();function a(s,...c){const d=c.length;return d>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=a})(Jb)),Jb}var iw,VC;function AF(){return VC||(VC=1,iw=SF().sortBy),iw}var TF=AF();const By=Ji(TF);var Z4=t=>t.legend.settings,CF=t=>t.legend.size,IF=t=>t.legend.payload;se([IF,Z4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?By(r,n):r});var Sp=1;function OF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>Sp||Math.abs(c.left-e.left)>Sp||Math.abs(c.top-e.top)>Sp||Math.abs(c.width-e.width)>Sp)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ur(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var RF=typeof Symbol=="function"&&Symbol.observable||"@@observable",zC=RF,sw=()=>Math.random().toString(36).substring(7).split("").join("."),DF={INIT:`@@redux/INIT${sw()}`,REPLACE:`@@redux/REPLACE${sw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sw()}`},jg=DF;function f_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ek(t,e,n){if(typeof t!="function")throw new Error(ur(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ur(1));return n(ek)(t,e)}let r=t,a=e,s=new Map,c=s,d=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((j,C)=>{c.set(C,j)}))}function p(){if(f)throw new Error(ur(3));return a}function g(j){if(typeof j!="function")throw new Error(ur(4));if(f)throw new Error(ur(5));let C=!0;h();const L=d++;return c.set(L,j),function(){if(C){if(f)throw new Error(ur(6));C=!1,h(),c.delete(L),s=null}}}function x(j){if(!f_(j))throw new Error(ur(7));if(typeof j.type>"u")throw new Error(ur(8));if(typeof j.type!="string")throw new Error(ur(17));if(f)throw new Error(ur(9));try{f=!0,a=r(a,j)}finally{f=!1}return(s=c).forEach(L=>{L()}),j}function w(j){if(typeof j!="function")throw new Error(ur(10));r=j,x({type:jg.REPLACE})}function E(){const j=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(ur(11));function L(){const D=C;D.next&&D.next(p())}return L(),{unsubscribe:j(L)}},[zC](){return this}}}return x({type:jg.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:w,[zC]:E}}function PF(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:jg.INIT})>"u")throw new Error(ur(12));if(typeof n(void 0,{type:jg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ur(13))})}function tk(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let a;try{PF(n)}catch(s){a=s}return function(c={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],w=c[g],E=x(w,d);if(typeof E>"u")throw d&&d.type,new Error(ur(14));h[g]=E,f=f||E!==w}return f=f||r.length!==Object.keys(c).length,f?h:c}}function Eg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function kF(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(ur(15))};const c={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=t.map(f=>f(c));return s=Eg(...d)(a.dispatch),{...a,dispatch:s}}}function nk(t){return f_(t)&&"type"in t&&typeof t.type=="string"}var rk=Symbol.for("immer-nothing"),BC=Symbol.for("immer-draftable"),Pr=Symbol.for("immer-state");function ei(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var da=Object,Lu=da.getPrototypeOf,Sg="constructor",$y="prototype",_1="configurable",Ag="enumerable",tg="writable",Gf="value",Ms=t=>!!t&&!!t[Pr];function Ki(t){var e;return t?ak(t)||Fy(t)||!!t[BC]||!!((e=t[Sg])!=null&&e[BC])||qy(t)||Hy(t):!1}var MF=da[$y][Sg].toString(),$C=new WeakMap;function ak(t){if(!t||!h_(t))return!1;const e=Lu(t);if(e===null||e===da[$y])return!0;const n=da.hasOwnProperty.call(e,Sg)&&e[Sg];if(n===Object)return!0;if(!gu(n))return!1;let r=$C.get(n);return r===void 0&&(r=Function.toString.call(n),$C.set(n,r)),r===MF}function bh(t,e,n=!0){wh(t)===0?(n?Reflect.ownKeys(t):da.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function wh(t){const e=t[Pr];return e?e.type_:Fy(t)?1:qy(t)?2:Hy(t)?3:0}var FC=(t,e,n=wh(t))=>n===2?t.has(e):da[$y].hasOwnProperty.call(t,e),j1=(t,e,n=wh(t))=>n===2?t.get(e):t[e],Tg=(t,e,n,r=wh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function LF(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Fy=Array.isArray,qy=t=>t instanceof Map,Hy=t=>t instanceof Set,h_=t=>typeof t=="object",gu=t=>typeof t=="function",ow=t=>typeof t=="boolean",Ns=t=>t.copy_||t.base_,m_=t=>t.modified_?t.copy_:t.base_;function E1(t,e){if(qy(t))return new Map(t);if(Hy(t))return new Set(t);if(Fy(t))return Array[$y].slice.call(t);const n=ak(t);if(e===!0||e==="class_only"&&!n){const r=da.getOwnPropertyDescriptors(t);delete r[Pr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],d=r[c];d[tg]===!1&&(d[tg]=!0,d[_1]=!0),(d.get||d.set)&&(r[c]={[_1]:!0,[tg]:!0,[Ag]:d[Ag],[Gf]:t[c]})}return da.create(Lu(t),r)}else{const r=Lu(t);if(r!==null&&n)return{...t};const a=da.create(r);return da.assign(a,t)}}function p_(t,e=!1){return Gy(t)||Ms(t)||(wh(t)>1&&da.defineProperties(t,{set:Ap,add:Ap,clear:Ap,delete:Ap}),da.freeze(t),e&&bh(t,(n,r)=>{p_(r,!0)},!1)),t}function UF(){ei(2)}var Ap={[Gf]:UF};function Gy(t){return t===null||!h_(t)?!0:da.isFrozen(t)}var Cg="MapSet",S1="Patches",ik={};function Uu(t){const e=ik[t];return e||ei(0,t),e}var VF=t=>!!ik[t],Kf,sk=()=>Kf,zF=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:VF(Cg)?Uu(Cg):void 0});function qC(t,e){e&&(t.patchPlugin_=Uu(S1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function A1(t){T1(t),t.drafts_.forEach(BF),t.drafts_=null}function T1(t){t===Kf&&(Kf=t.parent_)}var HC=t=>Kf=zF(Kf,t);function BF(t){const e=t[Pr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function GC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Pr].modified_&&(A1(e),ei(4)),Ki(t)&&(t=KC(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[Pr].base_,t,e)}else t=KC(e,n);return $F(e,t,!0),A1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==rk?t:void 0}function KC(t,e){if(Gy(e))return e;const n=e[Pr];if(!n)return g_(e,t.handledSet_,t);if(!Ky(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);ck(n,t)}return n.copy_}function $F(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&p_(e,n)}function ok(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Ky=(t,e)=>t.scope_===e,FF=[];function lk(t,e,n,r){const a=Ns(t),s=t.type_;if(r!==void 0&&j1(a,r,s)===e){Tg(a,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;bh(a,(f,h)=>{if(Ms(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const c=t.draftLocations_.get(e)??FF;for(const d of c)Tg(a,d,n,s)}function qF(t,e,n){t.callbacks_.push(function(a){var d;const s=e;if(!s||!Ky(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const c=m_(s);lk(t,s.draft_??s,c,n),ck(s,a)})}function ck(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const s=a.getPath(t);s&&a.generatePatches_(t,s,e)}ok(t)}}function HF(t,e,n){const{scope_:r}=t;if(Ms(n)){const a=n[Pr];Ky(a,r)&&a.callbacks_.push(function(){ng(t);const c=m_(a);lk(t,n,c,e)})}else Ki(n)&&t.callbacks_.push(function(){const s=Ns(t);j1(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&g_(j1(t.copy_,e,t.type_),r.handledSet_,r)})}function g_(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ms(t)||e.has(t)||!Ki(t)||Gy(t)||(e.add(t),bh(t,(r,a)=>{if(Ms(a)){const s=a[Pr];if(Ky(s,n)){const c=m_(s);Tg(t,r,c,t.type_),ok(s)}}else Ki(a)&&g_(a,e,n)})),t}function GF(t,e){const n=Fy(t),r={type_:n?1:0,scope_:e?e.scope_:sk(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=y_;n&&(a=[r],s=Yf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=c,[d,r]}var y_={get(t,e){if(e===Pr)return t;const n=Ns(t);if(!FC(n,e,t.type_))return KF(t,n,e);const r=n[e];if(t.finalized_||!Ki(r))return r;if(r===lw(t.base_,e)){ng(t);const a=t.type_===1?+e:e,s=I1(t.scope_,r,t,a);return t.copy_[a]=s}return r},has(t,e){return e in Ns(t)},ownKeys(t){return Reflect.ownKeys(Ns(t))},set(t,e,n){const r=uk(Ns(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=lw(Ns(t),e),s=a==null?void 0:a[Pr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(LF(n,a)&&(n!==void 0||FC(t.base_,e,t.type_)))return!0;ng(t),C1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),HF(t,e,n)),!0},deleteProperty(t,e){return ng(t),lw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),C1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ns(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[tg]:!0,[_1]:t.type_!==1||e!=="length",[Ag]:r[Ag],[Gf]:n[e]}},defineProperty(){ei(11)},getPrototypeOf(t){return Lu(t.base_)},setPrototypeOf(){ei(12)}},Yf={};bh(y_,(t,e)=>{Yf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Yf.deleteProperty=function(t,e){return Yf.set.call(this,t,e,void 0)};Yf.set=function(t,e,n){return y_.set.call(this,t[0],e,n,t[0])};function lw(t,e){const n=t[Pr];return(n?Ns(n):t)[e]}function KF(t,e,n){var a;const r=uk(e,n);return r?Gf in r?r[Gf]:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function uk(t,e){if(!(e in t))return;let n=Lu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lu(n)}}function C1(t){t.modified_||(t.modified_=!0,t.parent_&&C1(t.parent_))}function ng(t){t.copy_||(t.assigned_=new Map,t.copy_=E1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var YF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(gu(n)&&!gu(r)){const c=r;r=n;const d=this;return function(h=c,...p){return d.produce(h,g=>r.call(this,g,...p))}}gu(r)||ei(6),a!==void 0&&!gu(a)&&ei(7);let s;if(Ki(n)){const c=HC(this),d=I1(c,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?A1(c):T1(c)}return qC(c,a),GC(s,c)}else if(!n||!h_(n)){if(s=r(n),s===void 0&&(s=n),s===rk&&(s=void 0),this.autoFreeze_&&p_(s,!0),a){const c=[],d=[];Uu(S1).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:d}),a(c,d)}return s}else ei(1,n)},this.produceWithPatches=(n,r)=>{if(gu(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let a,s;return[this.produce(n,r,(d,f)=>{a=d,s=f}),a,s]},ow(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ow(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ow(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ki(e)||ei(8),Ms(e)&&(e=oi(e));const n=HC(this),r=I1(n,e,void 0);return r[Pr].isManual_=!0,T1(n),r}finishDraft(e,n){const r=e&&e[Pr];(!r||!r.isManual_)&&ei(9);const{scope_:a}=r;return qC(a,n),GC(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Uu(S1).applyPatches_;return Ms(e)?a(e,n):this.produce(e,s=>a(s,n))}};function I1(t,e,n,r){const[a,s]=qy(e)?Uu(Cg).proxyMap_(e,n):Hy(e)?Uu(Cg).proxySet_(e,n):GF(e,n);return((n==null?void 0:n.scope_)??sk()).drafts_.push(a),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?qF(n,s,r):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function oi(t){return Ms(t)||ei(10,t),dk(t)}function dk(t){if(!Ki(t)||Gy(t))return t;const e=t[Pr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=E1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=E1(t,!0);return bh(n,(a,s)=>{Tg(n,a,dk(s))},r),e&&(e.finalized_=!1),n}var WF=new YF,fk=WF.produce;function hk(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var XF=hk(),QF=hk,JF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eg:Eg.apply(null,arguments)};function Ma(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(ha(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>nk(r)&&r.type===t,n}var mk=class If extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,If.prototype)}static get[Symbol.species](){return If}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new If(...e[0].concat(this)):new If(...e.concat(this))}};function YC(t){return Ki(t)?fk(t,()=>{}):t}function Tp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function ZF(t){return typeof t=="boolean"}var eq=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let c=new mk;return n&&(ZF(n)?c.push(XF):c.push(QF(n.extraArgument))),c},pk="RTK_autoBatch",Zt=()=>t=>({payload:t,meta:{[pk]:!0}}),WC=t=>e=>{setTimeout(e,t)},gk=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WC(10):t.type==="callback"?t.queueNotification:WC(t.timeout),h=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),x=r.subscribe(g);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[pk]),s=!a,s&&(c||(c=!0,f(h))),r.dispatch(p)}finally{a=!0}}})},tq=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new mk(t);return r&&a.push(gk(typeof r=="object"?r:void 0)),a};function nq(t){const e=eq(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(f_(n))d=tk(n);else throw new Error(ha(1));let f;typeof r=="function"?f=r(e):f=e();let h=Eg;a&&(h=JF({trace:!1,...typeof a=="object"&&a}));const p=kF(...f),g=tq(p);let x=typeof c=="function"?c(g):g();const w=h(...x);return ek(d,s,w)}function yk(t){const e={},n=[];let r;const a={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(ha(28));if(d in e)throw new Error(ha(29));return e[d]=c,a},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return n.push({matcher:s,reducer:c}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function rq(t){return typeof t=="function"}function aq(t,e){let[n,r,a]=yk(e),s;if(rq(t))s=()=>YC(t());else{const d=YC(t);s=()=>d}function c(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(Ms(p)){const w=g(p,f);return w===void 0?p:w}else{if(Ki(p))return fk(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return c.getInitialState=s,c}var iq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sq=(t=21)=>{let e="",n=t;for(;n--;)e+=iq[Math.random()*64|0];return e},oq=Symbol.for("rtk-slice-createasyncthunk");function lq(t,e){return`${t}/${e}`}function cq({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[oq];return function(a){const{name:s,reducerPath:c=s}=a;if(!s)throw new Error(ha(11));const d=(typeof a.reducers=="function"?a.reducers(dq()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(D,R){const U=typeof D=="string"?D:D.type;if(!U)throw new Error(ha(12));if(U in h.sliceCaseReducersByType)throw new Error(ha(13));return h.sliceCaseReducersByType[U]=R,p},addMatcher(D,R){return h.sliceMatchers.push({matcher:D,reducer:R}),p},exposeAction(D,R){return h.actionCreators[D]=R,p},exposeCaseReducer(D,R){return h.sliceCaseReducersByName[D]=R,p}};f.forEach(D=>{const R=d[D],U={reducerName:D,type:lq(s,D),createNotation:typeof a.reducers=="function"};hq(R)?pq(U,R,p,e):fq(U,R,p)});function g(){const[D={},R=[],U=void 0]=typeof a.extraReducers=="function"?yk(a.extraReducers):[a.extraReducers],O={...D,...h.sliceCaseReducersByType};return aq(a.initialState,V=>{for(let k in O)V.addCase(k,O[k]);for(let k of h.sliceMatchers)V.addMatcher(k.matcher,k.reducer);for(let k of R)V.addMatcher(k.matcher,k.reducer);U&&V.addDefaultCase(U)})}const x=D=>D,w=new Map,E=new WeakMap;let _;function j(D,R){return _||(_=g()),_(D,R)}function C(){return _||(_=g()),_.getInitialState()}function L(D,R=!1){function U(V){let k=V[D];return typeof k>"u"&&R&&(k=Tp(E,U,C)),k}function O(V=x){const k=Tp(w,R,()=>new WeakMap);return Tp(k,V,()=>{const I={};for(const[P,B]of Object.entries(a.selectors??{}))I[P]=uq(B,V,()=>Tp(E,V,C),R);return I})}return{reducerPath:D,getSelectors:O,get selectors(){return O(U)},selectSlice:U}}const A={name:s,reducer:j,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,...L(c),injectInto(D,{reducerPath:R,...U}={}){const O=R??c;return D.inject({reducerPath:O,reducer:j},U),{...A,...L(O,!0)}}};return A}}function uq(t,e,n,r){function a(s,...c){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var Qr=cq();function dq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function fq({type:t,reducerName:e,createNotation:n},r,a){let s,c;if("reducer"in r){if(n&&!mq(r))throw new Error(ha(17));s=r.reducer,c=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?Ma(t,c):Ma(t))}function hq(t){return t._reducerDefinitionType==="asyncThunk"}function mq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function pq({type:t,reducerName:e},n,r,a){if(!a)throw new Error(ha(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:f,settled:h,options:p}=n,g=a(t,s,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:c||Cp,pending:d||Cp,rejected:f||Cp,settled:h||Cp})}function Cp(){}var gq="task",vk="listener",xk="completed",v_="cancelled",yq=`task-${v_}`,vq=`task-${xk}`,O1=`${vk}-${v_}`,xq=`${vk}-${xk}`,Yy=class{constructor(t){eb(this,"name","TaskAbortError");eb(this,"message");this.code=t,this.message=`${gq} ${v_} (reason: ${t})`}},x_=(t,e)=>{if(typeof t!="function")throw new TypeError(ha(32))},Ig=()=>{},bk=(t,e=Ig)=>(t.catch(e),t),wk=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Jl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Zl=t=>{if(t.aborted){const{reason:e}=t;throw new Yy(e)}};function Nk(t,e){let n=Ig;return new Promise((r,a)=>{const s=()=>a(new Yy(t.reason));if(t.aborted){s();return}n=wk(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Ig})}var bq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Yy?"cancelled":"rejected",error:n}}finally{e==null||e()}},Og=t=>e=>bk(Nk(t,e).then(n=>(Zl(t),n))),_k=t=>{const e=Og(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Su}=Object,XC={},Wy="listenerMiddleware",wq=(t,e)=>{const n=r=>wk(t,()=>Jl(r,t.reason));return(r,a)=>{x_(r);const s=new AbortController;n(s);const c=bq(async()=>{Zl(t),Zl(s.signal);const d=await r({pause:Og(s.signal),delay:_k(s.signal),signal:s.signal});return Zl(s.signal),d},()=>Jl(s,vq));return a!=null&&a.autoJoin&&e.push(c.catch(Ig)),{result:Og(t)(c),cancel(){Jl(s,yq)}}}},Nq=(t,e)=>{const n=async(r,a)=>{Zl(e);let s=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await Nk(e,Promise.race(d));return Zl(e),f}finally{s()}};return(r,a)=>bk(n(r,a))},jk=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=Ma(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ha(21));return x_(s),{predicate:a,type:e,effect:s}},Ek=Su(t=>{const{type:e,predicate:n,effect:r}=jk(t);return{id:sq(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ha(22))}}},{withTypes:()=>Ek}),QC=(t,e)=>{const{type:n,effect:r,predicate:a}=jk(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},R1=t=>{t.pending.forEach(e=>{Jl(e,O1)})},_q=(t,e)=>()=>{for(const n of e.keys())R1(n);t.clear()},JC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Sk=Su(Ma(`${Wy}/add`),{withTypes:()=>Sk}),jq=Ma(`${Wy}/removeAll`),Ak=Su(Ma(`${Wy}/remove`),{withTypes:()=>Ak}),Eq=(...t)=>{console.error(`${Wy}/error`,...t)},Nh=(t={})=>{const e=new Map,n=new Map,r=w=>{const E=n.get(w)??0;n.set(w,E+1)},a=w=>{const E=n.get(w)??1;E===1?n.delete(w):n.set(w,E-1)},{extra:s,onError:c=Eq}=t;x_(c);const d=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),E=>{w.unsubscribe(),E!=null&&E.cancelActive&&R1(w)}),f=w=>{const E=QC(e,w)??Ek(w);return d(E)};Su(f,{withTypes:()=>f});const h=w=>{const E=QC(e,w);return E&&(E.unsubscribe(),w.cancelActive&&R1(E)),!!E};Su(h,{withTypes:()=>h});const p=async(w,E,_,j)=>{const C=new AbortController,L=Nq(f,C.signal),A=[];try{w.pending.add(C),r(w),await Promise.resolve(w.effect(E,Su({},_,{getOriginalState:j,condition:(D,R)=>L(D,R).then(Boolean),take:L,delay:_k(C.signal),pause:Og(C.signal),extra:s,signal:C.signal,fork:wq(C.signal,A),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((D,R,U)=>{D!==C&&(Jl(D,O1),U.delete(D))})},cancel:()=>{Jl(C,O1),w.pending.delete(C)},throwIfCancelled:()=>{Zl(C.signal)}})))}catch(D){D instanceof Yy||JC(c,D,{raisedBy:"effect"})}finally{await Promise.all(A),Jl(C,xq),a(w),w.pending.delete(C)}},g=_q(e,n);return{middleware:w=>E=>_=>{if(!nk(_))return E(_);if(Sk.match(_))return f(_.payload);if(jq.match(_)){g();return}if(Ak.match(_))return h(_.payload);let j=w.getState();const C=()=>{if(j===XC)throw new Error(ha(23));return j};let L;try{if(L=E(_),e.size>0){const A=w.getState(),D=Array.from(e.values());for(const R of D){let U=!1;try{U=R.predicate(_,A,j)}catch(O){U=!1,JC(c,O,{raisedBy:"predicate"})}U&&p(R,_,w,C)}}}finally{j=XC}return L},startListening:f,stopListening:h,clearListeners:g}};function ha(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Sq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Tk=Qr({name:"chartLayout",initialState:Sq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Aq,setLayout:Tq,setChartSize:Cq,setScale:Iq}=Tk.actions,Oq=Tk.reducer;function Ck(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){Rq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rq(t,e,n){return(e=Dq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dq(t){var e=Pq(t,"string");return typeof e=="symbol"?e:e+""}function Pq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function en(t,e,n){return rr(t)||rr(e)?n:Gi(e)?rc(t,e,n):typeof e=="function"?e(t):n}var kq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&Le(t[s]))return Nu(Nu({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&Le(t[c]))return Nu(Nu({},t),{},{[c]:t[c]+(a||0)})}return t},gc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Ik=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,s,c=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate));return a||c.push(e),s||c.push(n),c},Ok=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:w}=t;if(!c)return null;var E=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,_=a==="category"&&c.bandwidth?c.bandwidth()/E:0;if(_=w==="angleAxis"&&s&&s.length>=2?nr(s[0]-s[1])*2*_:_,g||x){var j=(g||x||[]).map((C,L)=>{var A=r?r.indexOf(C):C;return{coordinate:c(A)+_,value:C,offset:_,index:L}});return j.filter(C=>!ci(C.coordinate))}return f&&h?h.map((C,L)=>({coordinate:c(C)+_,value:C,index:L,offset:_})):c.ticks&&p!=null?c.ticks(p).map((C,L)=>({coordinate:c(C)+_,value:C,offset:_,index:L})):c.domain().map((C,L)=>({coordinate:c(C)+_,value:r?r[C]:C,index:L,offset:_}))},eI=1e-4,Mq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-eI,s=Math.max(r[0],r[1])+eI,c=t(e[0]),d=t(e[n-1]);(c<a||c>s||d<a||d>s)&&t.domain([e[0],e[n-1]])}},Lq=(t,e)=>{if(!e||e.length!==2||!Le(e[0])||!Le(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Le(t[0])||t[0]<n)&&(a[0]=n),(!Le(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},Uq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,c=0;c<e;++c){var d=ci(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=a,t[c][n][1]=a+d,a=t[c][n][1]):(t[c][n][0]=s,t[c][n][1]=s+d,s=t[c][n][1])}},Vq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var c=ci(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=a,t[s][n][1]=a+c,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},zq={sign:Uq,expand:f$,none:Mu,silhouette:h$,wiggle:m$,positive:Vq},Bq=(t,e,n)=>{var r=zq[n],a=d$().keys(e).value((s,c)=>Number(en(s,c,0))).order(w1).offset(r);return a(t)};function $q(t){return t==null?void 0:String(t)}var tI=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var d=en(s,e.dataKey,e.scale.domain()[c]);return rr(d)?null:e.scale(d)-a/2+r},Fq=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},qq=t=>{var e=t.flat(2).filter(Le);return[Math.min(...e),Math.max(...e)]},Hq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Gq=(t,e,n)=>{if(t!=null)return Hq(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:c}=s,d=c.reduce((f,h)=>{var p=Ck(h,e,n),g=qq(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},nI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=By(e,p=>p.coordinate),s=1/0,c=1,d=a.length;c<d;c++){var f=a[c],h=a[c-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function aI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return Nu(Nu({},e),{},{dataKey:n,payload:r,value:a,name:s})}function Xy(t,e){if(t)return String(t);if(typeof e=="string")return e}var Kq=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Yq=(t,e)=>e==="centric"?t.angle:t.radius,Ks=t=>t.layout.width,Ys=t=>t.layout.height,Wq=t=>t.layout.scale,Rk=t=>t.layout.margin,Qy=se(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Jy=se(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Dk="data-recharts-item-index",Pk="data-recharts-item-data-key",_h=60;function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){Xq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xq(t,e,n){return(e=Qq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qq(t){var e=Jq(t,"string");return typeof e=="symbol"?e:e+""}function Jq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zq=t=>t.brush.height;function eH(t){var e=Jy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:_h;return n+a}return n},0)}function tH(t){var e=Jy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:_h;return n+a}return n},0)}function nH(t){var e=Qy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function rH(t){var e=Qy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var qn=se([Ks,Ys,Rk,Zq,eH,tH,nH,rH,Z4,CF],(t,e,n,r,a,s,c,d,f,h)=>{var p={left:(n.left||0)+a,right:(n.right||0)+s},g={top:(n.top||0)+c,bottom:(n.bottom||0)+d},x=Ip(Ip({},g),p),w=x.bottom;x.bottom+=r,x=kq(x,f,h);var E=t-x.left-x.right,_=e-x.top-x.bottom;return Ip(Ip({brushBottom:w},x),{},{width:Math.max(E,0),height:Math.max(_,0)})}),aH=se(qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),b_=se(Ks,Ys,(t,e)=>({x:0,y:0,width:t,height:e})),iH=N.createContext(null),Jr=()=>N.useContext(iH)!=null,Zy=t=>t.brush,e0=se([Zy,qn,Rk],(t,e,n)=>({height:t.height,x:Le(t.x)?t.x:e.left,y:Le(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Le(t.width)?t.width:e.width})),cw={},uw={},dw={},sI;function sH(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let c,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},g=()=>{h&&p(),_()};let x=null;const w=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},E=()=>{x!==null&&(clearTimeout(x),x=null)},_=()=>{E(),c=void 0,d=null},j=()=>{p()},C=function(...L){if(a!=null&&a.aborted)return;c=this,d=L;const A=x==null;w(),f&&A&&p()};return C.schedule=w,C.cancel=_,C.flush=j,a==null||a.addEventListener("abort",_,{once:!0}),C}t.debounce=e})(dw)),dw}var oI;function oH(){return oI||(oI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sH();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(..._){p=r.apply(this,_),g=null},a,{edges:h}),w=function(..._){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,_),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,_),p)},E=()=>(x.flush(),p);return w.cancel=x.cancel,w.flush=E,w}t.debounce=n})(uw)),uw}var lI;function lH(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oH();function n(r,a=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return e.debounce(r,a,{leading:c,maxWait:a,trailing:d})}t.throttle=n})(cw)),cw}var fw,cI;function cH(){return cI||(cI=1,fw=lH().throttle),fw}var uH=cH();const dH=Ji(uH);var Dg=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},kk=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:c}=n,d=ks(r)?t:Number(r),f=ks(a)?e:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},fH={width:0,height:0,overflow:"visible"},hH={width:0,overflowX:"visible"},mH={height:0,overflowY:"visible"},pH={},gH=t=>{var{width:e,height:n}=t,r=ks(e),a=ks(n);return r&&a?fH:r?hH:a?mH:pH};function yH(t){var{width:e,height:n,aspect:r}=t,a=e,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function wn(t){return Number.isFinite(t)}function Yi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D1.apply(null,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){vH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vH(t,e,n){return(e=xH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xH(t){var e=bH(t,"string");return typeof e=="symbol"?e:e+""}function bH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mk=N.createContext({width:-1,height:-1});function wH(t){return Yi(t.width)&&Yi(t.height)}function Lk(t){var{children:e,width:n,height:r}=t,a=N.useMemo(()=>({width:n,height:r}),[n,r]);return wH(a)?N.createElement(Mk.Provider,{value:a},e):null}var w_=()=>N.useContext(Mk),NH=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:c=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:w,style:E={}}=t,_=N.useRef(null),j=N.useRef();j.current=w,N.useImperativeHandle(e,()=>_.current);var[C,L]=N.useState({containerWidth:r.width,containerHeight:r.height}),A=N.useCallback((V,k)=>{L(I=>{var P=Math.round(V),B=Math.round(k);return I.containerWidth===P&&I.containerHeight===B?I:{containerWidth:P,containerHeight:B}})},[]);N.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return xh;var V=B=>{var z,{width:ge,height:ce}=B[0].contentRect;A(ge,ce),(z=j.current)===null||z===void 0||z.call(j,ge,ce)};p>0&&(V=dH(V,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(V),{width:I,height:P}=_.current.getBoundingClientRect();return A(I,P),k.observe(_.current),()=>{k.disconnect()}},[A,p]);var{containerWidth:D,containerHeight:R}=C;Dg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:U,calculatedHeight:O}=kk(D,R,{width:a,height:s,aspect:n,maxHeight:f});return Dg(U!=null&&U>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,O,a,s,c,d,n),N.createElement("div",{id:g?"".concat(g):void 0,className:Mt("recharts-responsive-container",x),style:dI(dI({},E),{},{width:a,height:s,minWidth:c,minHeight:d,maxHeight:f}),ref:_},N.createElement("div",{style:gH({width:a,height:s})},N.createElement(Lk,{width:U,height:O},h)))}),Uk=N.forwardRef((t,e)=>{var n=w_();if(Yi(n.width)&&Yi(n.height))return t.children;var{width:r,height:a}=yH({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=kk(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Le(s)&&Le(c)?N.createElement(Lk,{width:s,height:c},t.children):N.createElement(NH,D1({},t,{width:r,height:a,ref:e}))});function Vk(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var t0=()=>{var t,e=Jr(),n=Ue(aH),r=Ue(e0),a=(t=Ue(Zy))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},_H={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zk=()=>{var t;return(t=Ue(qn))!==null&&t!==void 0?t:_H},Bk=()=>Ue(Ks),$k=()=>Ue(Ys),xt=t=>t.layout.layoutType,n0=()=>Ue(xt),jH=()=>{var t=n0();return t!==void 0},r0=t=>{var e=rn(),n=Jr(),{width:r,height:a}=t,s=w_(),c=r,d=a;return s&&(c=s.width>0?s.width:r,d=s.height>0?s.height:a),N.useEffect(()=>{!n&&Yi(c)&&Yi(d)&&e(Cq({width:c,height:d}))},[e,n,c,d]),null},Fk=Symbol.for("immer-nothing"),fI=Symbol.for("immer-draftable"),ga=Symbol.for("immer-state");function ti(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wf=Object.getPrototypeOf;function Vu(t){return!!t&&!!t[ga]}function ac(t){var e;return t?qk(t)||Array.isArray(t)||!!t[fI]||!!((e=t.constructor)!=null&&e[fI])||jh(t)||i0(t):!1}var EH=Object.prototype.constructor.toString(),hI=new WeakMap;function qk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=hI.get(n);return r===void 0&&(r=Function.toString.call(n),hI.set(n,r)),r===EH}function Pg(t,e,n=!0){a0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function a0(t){const e=t[ga];return e?e.type_:Array.isArray(t)?1:jh(t)?2:i0(t)?3:0}function P1(t,e){return a0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Hk(t,e,n){const r=a0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function SH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function jh(t){return t instanceof Map}function i0(t){return t instanceof Set}function Fl(t){return t.copy_||t.base_}function k1(t,e){if(jh(t))return new Map(t);if(i0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=qk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ga];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Wf(t),r)}else{const r=Wf(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function N_(t,e=!1){return s0(t)||Vu(t)||!ac(t)||(a0(t)>1&&Object.defineProperties(t,{set:Op,add:Op,clear:Op,delete:Op}),Object.freeze(t),e&&Object.values(t).forEach(n=>N_(n,!0))),t}function AH(){ti(2)}var Op={value:AH};function s0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var TH={};function ic(t){const e=TH[t];return e||ti(0,t),e}var Xf;function Gk(){return Xf}function CH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mI(t,e){e&&(ic("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function M1(t){L1(t),t.drafts_.forEach(IH),t.drafts_=null}function L1(t){t===Xf&&(Xf=t.parent_)}function pI(t){return Xf=CH(Xf,t)}function IH(t){const e=t[ga];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ga].modified_&&(M1(e),ti(4)),ac(t)&&(t=kg(e,t),e.parent_||Mg(e,t)),e.patches_&&ic("Patches").generateReplacementPatches_(n[ga].base_,t,e.patches_,e.inversePatches_)):t=kg(e,n,[]),M1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Fk?t:void 0}function kg(t,e,n){if(s0(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[ga];if(!a)return Pg(e,(s,c)=>yI(t,a,e,s,c,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return Mg(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,d=!1;a.type_===3&&(c=new Set(s),s.clear(),d=!0),Pg(c,(f,h)=>yI(t,a,s,f,h,n,d),r),Mg(t,s,!1),n&&t.patches_&&ic("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function yI(t,e,n,r,a,s,c){if(a==null||typeof a!="object"&&!c)return;const d=s0(a);if(!(d&&!c)){if(Vu(a)){const f=s&&e&&e.type_!==3&&!P1(e.assigned_,r)?s.concat(r):void 0,h=kg(t,a,f);if(Hk(n,r,h),Vu(h))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(ac(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;kg(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(jh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Mg(t,a)}}}function Mg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&N_(e,n)}function OH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Gk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=__;n&&(a=[r],s=Qf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=c,d}var __={get(t,e){if(e===ga)return t;const n=Fl(t);if(!P1(n,e))return RH(t,n,e);const r=n[e];return t.finalized_||!ac(r)?r:r===hw(t.base_,e)?(mw(t),t.copy_[e]=V1(r,t)):r},has(t,e){return e in Fl(t)},ownKeys(t){return Reflect.ownKeys(Fl(t))},set(t,e,n){const r=Kk(Fl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=hw(Fl(t),e),s=a==null?void 0:a[ga];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(SH(n,a)&&(n!==void 0||P1(t.base_,e)))return!0;mw(t),U1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return hw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,mw(t),U1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ti(11)},getPrototypeOf(t){return Wf(t.base_)},setPrototypeOf(){ti(12)}},Qf={};Pg(__,(t,e)=>{Qf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Qf.deleteProperty=function(t,e){return Qf.set.call(this,t,e,void 0)};Qf.set=function(t,e,n){return __.set.call(this,t[0],e,n,t[0])};function hw(t,e){const n=t[ga];return(n?Fl(n):t)[e]}function RH(t,e,n){var a;const r=Kk(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function Kk(t,e){if(!(e in t))return;let n=Wf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wf(n)}}function U1(t){t.modified_||(t.modified_=!0,t.parent_&&U1(t.parent_))}function mw(t){t.copy_||(t.copy_=k1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var DH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(f=s,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&ti(6),r!==void 0&&typeof r!="function"&&ti(7);let a;if(ac(e)){const s=pI(this),c=V1(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?M1(s):L1(s)}return mI(s,r),gI(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===Fk&&(a=void 0),this.autoFreeze_&&N_(a,!0),r){const s=[],c=[];ic("Patches").generateReplacementPatches_(e,a,s,c),r(s,c)}return a}else ti(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let r,a;return[this.produce(e,n,(c,d)=>{r=c,a=d}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ac(t)||ti(8),Vu(t)&&(t=PH(t));const e=pI(this),n=V1(t,void 0);return n[ga].isManual_=!0,L1(e),n}finishDraft(t,e){const n=t&&t[ga];(!n||!n.isManual_)&&ti(9);const{scope_:r}=n;return mI(r,e),gI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=ic("Patches").applyPatches_;return Vu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function V1(t,e){const n=jh(t)?ic("MapSet").proxyMap_(t,e):i0(t)?ic("MapSet").proxySet_(t,e):OH(t,e);return(e?e.scope_:Gk()).drafts_.push(n),n}function PH(t){return Vu(t)||ti(10,t),Yk(t)}function Yk(t){if(!ac(t)||s0(t))return t;const e=t[ga];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=k1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=k1(t,!0);return Pg(n,(a,s)=>{Hk(n,a,Yk(s))},r),e&&(e.finalized_=!1),n}var kH=new DH;kH.produce;var MH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Wk=Qr({name:"legend",initialState:MH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Zt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=oi(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:Zt()},removeLegendPayload:{reducer(t,e){var n=oi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Zt()}}}),{setLegendSize:Cge,setLegendSettings:Ige,addLegendPayload:Xk,replaceLegendPayload:Qk,removeLegendPayload:Jk}=Wk.actions,LH=Wk.reducer;function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(null,arguments)}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){UH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UH(t,e,n){return(e=VH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VH(t){var e=zH(t,"string");return typeof e=="symbol"?e:e+""}function zH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BH(t){return Array.isArray(t)&&Gi(t[0])&&Gi(t[1])?t.join(" ~ "):t}var $H=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,w=()=>{if(s&&s.length){var R={padding:0,margin:0},U=(d?By(s,d):s).map((O,V)=>{if(O.type==="none")return null;var k=O.formatter||c||BH,{value:I,name:P}=O,B=I,z=P;if(k){var ge=k(I,P,O,V,s);if(Array.isArray(ge))[B,z]=ge;else if(ge!=null)B=ge;else return null}var ce=pw({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:ce},Gi(z)?N.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Gi(z)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},B),N.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:R},U)}return null},E=pw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=pw({margin:0},a),j=!rr(p),C=j?p:"",L=Mt("recharts-default-tooltip",f),A=Mt("recharts-tooltip-label",h);j&&g&&s!==void 0&&s!==null&&(C=g(p,s));var D=x?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",z1({className:L,style:E},D),N.createElement("p",{className:A,style:_},N.isValidElement(C)?C:"".concat(C)),w())},wf="recharts-tooltip-wrapper",FH={visibility:"hidden"};function qH(t){var{coordinate:e,translateX:n,translateY:r}=t;return Mt(wf,{["".concat(wf,"-right")]:Le(n)&&e&&Le(e.x)&&n>=e.x,["".concat(wf,"-left")]:Le(n)&&e&&Le(e.x)&&n<e.x,["".concat(wf,"-bottom")]:Le(r)&&e&&Le(e.y)&&r>=e.y,["".concat(wf,"-top")]:Le(r)&&e&&Le(e.y)&&r<e.y})}function xI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(s&&Le(s[r]))return s[r];var p=n[r]-d-(a>0?a:0),g=n[r]+a;if(e[r])return c[r]?p:g;var x=f[r];if(x==null)return 0;if(c[r]){var w=p,E=x;return w<E?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var _=g+d,j=x+h;return _>j?Math.max(p,x):Math.max(g,x)}function HH(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function GH(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:c,useTranslate3d:d,viewBox:f}=t,h,p,g;return c.height>0&&c.width>0&&n?(p=xI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=xI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=HH({translateX:p,translateY:g,useTranslate3d:d})):h=FH,{cssProperties:h,cssClasses:qH({translateX:p,translateY:g,coordinate:n})}}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){B1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B1(t,e,n){return(e=KH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KH(t){var e=YH(t,"string");return typeof e=="symbol"?e:e+""}function YH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class WH extends N.PureComponent{constructor(){super(...arguments),B1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),B1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:c,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:w,wrapperStyle:E,lastBoundingBox:_,innerRef:j,hasPortalFromProps:C}=this.props,{cssClasses:L,cssProperties:A}=GH({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:_.height,width:_.width},useTranslate3d:x,viewBox:w}),D=C?{}:Rp(Rp({transition:f&&e?"transform ".concat(r,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),R=Rp(Rp({},D),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},E);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:R,ref:j},s)}}var XH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yc={devToolsEnabled:!1,isSsr:XH()},Zk=()=>{var t;return(t=Ue(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(null,arguments)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function NI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){QH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QH(t,e,n){return(e=JH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JH(t){var e=ZH(t,"string");return typeof e=="symbol"?e:e+""}function ZH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _I={curveBasisClosed:e$,curveBasisOpen:t$,curveBasis:ZB,curveBumpX:VB,curveBumpY:zB,curveLinearClosed:n$,curveLinear:Uy,curveMonotoneX:r$,curveMonotoneY:a$,curveNatural:i$,curveStep:s$,curveStepAfter:l$,curveStepBefore:o$},Lg=t=>wn(t.x)&&wn(t.y),jI=t=>t.base!=null&&Lg(t.base)&&Lg(t),Nf=t=>t.x,_f=t=>t.y,eG=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(vh(t));return(n==="curveMonotone"||n==="curveBump")&&e?_I["".concat(n).concat(e==="vertical"?"Y":"X")]:_I[n]||Uy},tG=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,c=eG(e,a),d=s?n.filter(Lg):n,f;if(Array.isArray(r)){var h=n.map((w,E)=>NI(NI({},w),{},{base:r[E]}));a==="vertical"?f=jp().y(_f).x1(Nf).x0(w=>w.base.x):f=jp().x(Nf).y1(_f).y0(w=>w.base.y);var p=f.defined(jI).curve(c),g=s?h.filter(jI):h;return p(g)}a==="vertical"&&Le(r)?f=jp().y(_f).x1(Nf).x0(r):Le(r)?f=jp().x(Nf).y1(_f).y0(r):f=E4().x(Nf).y(_f);var x=f.defined(Lg).curve(c);return x(d)},j_=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?tG(t):r;return N.createElement("path",$1({},li(t),R$(t),{className:Mt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},nG=["x","y","top","left","width","height","className"];function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(null,arguments)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){aG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aG(t,e,n){return(e=iG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iG(t){var e=sG(t,"string");return typeof e=="symbol"?e:e+""}function sG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oG(t,e){if(t==null)return{};var n,r,a=lG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cG=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),uG=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:c=0,className:d}=t,f=oG(t,nG),h=rG({x:e,y:n,top:r,left:a,width:s,height:c},f);return!Le(e)||!Le(n)||!Le(s)||!Le(c)||!Le(r)||!Le(a)?null:N.createElement("path",F1({},ka(h),{className:Mt("recharts-cross",d),d:cG(e,n,s,c,r,a)}))};function dG(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){fG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fG(t,e,n){return(e=hG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hG(t){var e=mG(t,"string");return typeof e=="symbol"?e:e+""}function mG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),eM=(t,e,n)=>t.map(r=>"".concat(pG(r)," ").concat(e,"ms ").concat(n)).join(","),gG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Jf=(t,e)=>Object.keys(e).reduce((n,r)=>AI(AI({},n),{},{[r]:t(r,e[r])}),{});function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){yG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yG(t,e,n){return(e=vG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vG(t){var e=xG(t,"string");return typeof e=="symbol"?e:e+""}function xG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ug=(t,e,n)=>t+(e-t)*n,q1=t=>{var{from:e,to:n}=t;return e!==n},tM=(t,e,n)=>{var r=Jf((a,s)=>{if(q1(s)){var[c,d]=t(s.from,s.to,s.velocity);return Bn(Bn({},s),{},{from:c,velocity:d})}return s},e);return n<1?Jf((a,s)=>q1(s)?Bn(Bn({},s),{},{velocity:Ug(s.velocity,r[a].velocity,n),from:Ug(s.from,r[a].from,n)}):s,e):tM(t,r,n-1)};function bG(t,e,n,r,a,s){var c,d=r.reduce((x,w)=>Bn(Bn({},x),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>Jf((x,w)=>w.from,d),h=()=>!Object.values(d).filter(q1).length,p=null,g=x=>{c||(c=x);var w=x-c,E=w/n.dt;d=tM(n,d,E),a(Bn(Bn(Bn({},t),e),f())),c=x,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function wG(t,e,n,r,a,s,c){var d=null,f=a.reduce((g,x)=>Bn(Bn({},g),{},{[x]:[t[x],e[x]]}),{}),h,p=g=>{h||(h=g);var x=(g-h)/r,w=Jf((_,j)=>Ug(...j,n(x)),f);if(s(Bn(Bn(Bn({},t),e),w)),x<1)d=c.setTimeout(p);else{var E=Jf((_,j)=>Ug(...j,n(1)),f);s(Bn(Bn(Bn({},t),e),E))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const NG=(t,e,n,r,a,s)=>{var c=gG(t,e);return n==null?()=>(a(Bn(Bn({},t),e)),()=>{}):n.isStepper===!0?bG(t,e,n,c,a,s):wG(t,e,n,r,c,a,s)};var Vg=1e-4,nM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],rM=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),CI=(t,e)=>n=>{var r=nM(t,e);return rM(r,n)},_G=(t,e)=>n=>{var r=nM(t,e),a=[...r.map((s,c)=>s*c).slice(1),0];return rM(a,n)},jG=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var c=s[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return n.length===4?n:[0,0,1,1]},EG=(t,e,n,r)=>{var a=CI(t,n),s=CI(e,r),c=_G(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,x=0;x<8;++x){var w=a(g)-p,E=c(g);if(Math.abs(w-p)<Vg||E<Vg)return s(g);g=d(g-w/E)}return s(g)};return f.isStepper=!1,f},II=function(){return EG(...jG(...arguments))},SG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(c,d,f)=>{var h=-(c-d)*n,p=f*r,g=f+(h-p)*a/1e3,x=f*a/1e3+c;return Math.abs(x-d)<Vg&&Math.abs(g)<Vg?[d,0]:[x,g]};return s.isStepper=!0,s.dt=a,s},AG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return II(t);case"spring":return SG();default:if(t.split("(")[0]==="cubic-bezier")return II(t)}return typeof t=="function"?t:null};function TG(t){var e,n=()=>null,r=!1,a=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...h]=d;if(typeof f=="number"){a=t.setTimeout(s.bind(null,h),f);return}s(f),a=t.setTimeout(s.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class CG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function IG(){return TG(new CG)}var OG=N.createContext(IG);function RG(t,e){var n=N.useContext(OG);return N.useMemo(()=>e??n(t),[t,e,n])}var DG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},OI={t:0},gw={t:1};function o0(t){var e=Sr(t,DG),{isActive:n,canBegin:r,duration:a,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!yc.isSsr:n,g=RG(e.animationId,e.animationManager),[x,w]=N.useState(p?OI:gw),E=N.useRef(null);return N.useEffect(()=>{p||w(gw)},[p]),N.useEffect(()=>{if(!p||!r)return xh;var _=NG(OI,gw,AG(s),a,w,g.getTimeoutController()),j=()=>{E.current=_()};return g.start([f,c,j,a,d]),()=>{g.stop(),E.current&&E.current(),d()}},[p,r,a,s,c,f,d,g]),h(x.t)}function l0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(Hf(e)),r=N.useRef(t);return r.current!==t&&(n.current=Hf(e),r.current=t),n.current}var PG=["radius"],kG=["radius"];function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function DI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){MG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MG(t,e,n){return(e=LG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LG(t){var e=UG(t,"string");return typeof e=="symbol"?e:e+""}function UG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(null,arguments)}function PI(t,e){if(t==null)return{};var n,r,a=VG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function VG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kI=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=a[g]>s?s:a[g];h="M".concat(t,",").concat(e+c*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(e)),h+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+c*p[1])),h+="L ".concat(t+n,",").concat(e+r-c*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),h+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-c*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var w=Math.min(s,a);h="M ".concat(t,",").concat(e+c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(e,`
            L `).concat(t+n-d*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(e+c*w,`
            L `).concat(t+n,",").concat(e+r-c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-d*w,",").concat(e+r,`
            L `).concat(t+d*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(e+r-c*w," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},MI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aM=t=>{var e=Sr(t,MI),n=N.useRef(null),[r,a]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var le=n.current.getTotalLength();le&&a(le)}catch{}},[]);var{x:s,y:c,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:_}=e,j=N.useRef(d),C=N.useRef(f),L=N.useRef(s),A=N.useRef(c),D=N.useMemo(()=>({x:s,y:c,width:d,height:f,radius:h}),[s,c,d,f,h]),R=l0(D,"rectangle-");if(s!==+s||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var U=Mt("recharts-rectangle",p);if(!_){var O=ka(e),{radius:V}=O,k=PI(O,PG);return N.createElement("path",zg({},k,{radius:typeof h=="number"?h:void 0,className:U,d:kI(s,c,d,f,h)}))}var I=j.current,P=C.current,B=L.current,z=A.current,ge="0px ".concat(r===-1?1:r,"px"),ce="".concat(r,"px 0px"),Y=eM(["strokeDasharray"],x,typeof g=="string"?g:MI.animationEasing);return N.createElement(o0,{animationId:R,key:R,canBegin:r>0,duration:x,easing:g,isActive:_,begin:w},le=>{var X=zn(I,d,le),ye=zn(P,f,le),Q=zn(B,s,le),q=zn(z,c,le);n.current&&(j.current=X,C.current=ye,L.current=Q,A.current=q);var Z;E?le>0?Z={transition:Y,strokeDasharray:ce}:Z={strokeDasharray:ge}:Z={strokeDasharray:ce};var K=ka(e),{radius:ee}=K,fe=PI(K,kG);return N.createElement("path",zg({},fe,{radius:typeof h=="number"?h:void 0,className:U,d:kI(Q,q,X,ye,h),ref:n,style:DI(DI({},Z),e.style)}))})};function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function UI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){zG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zG(t,e,n){return(e=BG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BG(t){var e=$G(t,"string");return typeof e=="symbol"?e:e+""}function $G(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bg=Math.PI/180,FG=t=>t*180/Math.PI,Mn=(t,e,n,r)=>({x:t+Math.cos(-Bg*r)*n,y:e+Math.sin(-Bg*r)*n}),iM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},qG=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},HG=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,c=qG({x:n,y:r},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var d=(n-a)/c,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:c,angle:FG(f),angleInRadian:f}},GG=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},KG=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(a,s);return t+c*360},YG=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:s}=HG({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(a<c||a>d||a===0)return null;var{startAngle:f,endAngle:h}=GG(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?UI(UI({},e),{},{radius:a,angle:KG(p,e)}):null};function sM(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,c=Mn(e,n,r,a),d=Mn(e,n,r,s);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H1.apply(null,arguments)}var WG=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Dp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:f}=t,h=d*(c?1:-1)+r,p=Math.asin(d/h)/Bg,g=f?a:a+s*p,x=Mn(e,n,h,g),w=Mn(e,n,r,g),E=f?a-s*p:a,_=Mn(e,n,h*Math.cos(p*Bg),E);return{center:x,circleTangency:w,lineTangency:_,theta:p}},oM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:c}=t,d=WG(s,c),f=s+d,h=Mn(e,n,a,s),p=Mn(e,n,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=Mn(e,n,r,s),w=Mn(e,n,r,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},XG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=nr(h-f),{circleTangency:g,lineTangency:x,theta:w}=Dp({cx:e,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:E,lineTangency:_,theta:j}=Dp({cx:e,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),C=d?Math.abs(f-h):Math.abs(f-h)-w-j;if(C<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):oM({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:h});var L="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:D,theta:R}=Dp({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:U,lineTangency:O,theta:V}=Dp({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),k=d?Math.abs(f-h):Math.abs(f-h)-R-V;if(k<0&&s===0)return"".concat(L,"L").concat(e,",").concat(n,"Z");L+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else L+="L".concat(e,",").concat(n,"Z");return L},QG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lM=t=>{var e=Sr(t,QG),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<a||h===p)return null;var x=Mt("recharts-sector",g),w=s-a,E=jr(c,w,0,!0),_;return E>0&&Math.abs(h-p)<360?_=XG({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):_=oM({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),N.createElement("path",H1({},ka(e),{className:x,d:_}))};function JG(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(z4(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:c,angle:d}=e,f=Mn(r,a,s,d),h=Mn(r,a,c,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return sM(e)}}var yw={},vw={},xw={},VI;function ZG(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(xw)),xw}var zI;function eK(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZG();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(vw)),vw}var BI;function tK(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J4(),n=eK();function r(a,s,c){c&&typeof c!="number"&&e.isIterateeCall(a,s,c)&&(s=c=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),c=c===void 0?a<s?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=c;return f}t.range=r})(yw)),yw}var bw,$I;function nK(){return $I||($I=1,bw=tK().range),bw}var rK=nK();const cM=Ji(rK);function zo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function E_(t){let e,n,r;t.length!==2?(e=zo,n=(d,f)=>zo(t(d),f),r=(d,f)=>t(d)-f):(e=t===zo||t===aK?t:iK,n=t,r=t);function a(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:a,center:c,right:s}}function iK(){return 0}function uM(t){return t===null?NaN:+t}function*sK(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const oK=E_(zo),Eh=oK.right;E_(uM).center;class FI extends Map{constructor(e,n=uK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(qI(this,e))}has(e){return super.has(qI(this,e))}set(e,n){return super.set(lK(this,e),n)}delete(e){return super.delete(cK(this,e))}}function qI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function lK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function cK({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function uK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function dK(t=zo){if(t===zo)return dM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function dM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fK=Math.sqrt(50),hK=Math.sqrt(10),mK=Math.sqrt(2);function $g(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),c=s>=fK?10:s>=hK?5:s>=mK?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/c,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,a)*c,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?$g(t,e,n*2):[d,f,h]}function G1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,c]=r?$g(e,t,n):$g(t,e,n);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(r)if(c<0)for(let h=0;h<d;++h)f[h]=(s-h)/-c;else for(let h=0;h<d;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<d;++h)f[h]=(a+h)/-c;else for(let h=0;h<d;++h)f[h]=(a+h)*c;return f}function K1(t,e,n){return e=+e,t=+t,n=+n,$g(t,e,n)[2]}function Y1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?K1(e,t,n):K1(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function HI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function fM(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?dM:dK(a);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),w=Math.max(n,Math.floor(e-h*g/f+x)),E=Math.min(r,Math.floor(e+(f-h)*g/f+x));fM(t,e,w,E,a)}const s=t[e];let c=n,d=r;for(jf(t,n,e),a(t[r],s)>0&&jf(t,n,r);c<d;){for(jf(t,c,d),++c,--d;a(t[c],s)<0;)++c;for(;a(t[d],s)>0;)--d}a(t[n],s)===0?jf(t,n,d):(++d,jf(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function jf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pK(t,e,n){if(t=Float64Array.from(sK(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return GI(t);if(e>=1)return HI(t);var r,a=(r-1)*e,s=Math.floor(a),c=HI(fM(t,s).subarray(0,s+1)),d=GI(t.subarray(s+1));return c+(d-c)*(a-s)}}function gK(t,e,n=uM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),c=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return c+(d-c)*(a-s)}}function yK(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function Va(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ws(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const W1=Symbol("implicit");function S_(){var t=new FI,e=[],n=[],r=W1;function a(s){let c=t.get(s);if(c===void 0){if(r!==W1)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new FI;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return S_(e,n).unknown(r)},Va.apply(a,arguments),a}function A_(){var t=S_().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,c,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,w=a<r,E=w?a:r,_=w?r:a;s=(_-E)/Math.max(1,x-f+h*2),d&&(s=Math.floor(s)),E+=(_-E-s*(x-f))*p,c=s*(1-f),d&&(E=Math.round(E),c=Math.round(c));var j=yK(x).map(function(C){return E+s*C});return n(w?j.reverse():j)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(x){return arguments.length?(d=!!x,g()):d},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return A_(e(),[r,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},Va.apply(g(),arguments)}function hM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return hM(e())},t}function vK(){return hM(A_.apply(null,arguments).paddingInner(1))}function T_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sh(){}var Zf=.7,Fg=1/Zf,Au="\\s*([+-]?\\d+)\\s*",eh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xK=/^#([0-9a-f]{3,8})$/,bK=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),wK=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),NK=new RegExp(`^rgba\\(${Au},${Au},${Au},${eh}\\)$`),_K=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${eh}\\)$`),jK=new RegExp(`^hsl\\(${eh},${Ui},${Ui}\\)$`),EK=new RegExp(`^hsla\\(${eh},${Ui},${Ui},${eh}\\)$`),KI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T_(Sh,th,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:YI,formatHex:YI,formatHex8:SK,formatHsl:AK,formatRgb:WI,toString:WI});function YI(){return this.rgb().formatHex()}function SK(){return this.rgb().formatHex8()}function AK(){return pM(this).formatHsl()}function WI(){return this.rgb().formatRgb()}function th(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?XI(e):n===3?new Kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Pp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Pp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bK.exec(t))?new Kr(e[1],e[2],e[3],1):(e=wK.exec(t))?new Kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=NK.exec(t))?Pp(e[1],e[2],e[3],e[4]):(e=_K.exec(t))?Pp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jK.exec(t))?ZI(e[1],e[2]/100,e[3]/100,1):(e=EK.exec(t))?ZI(e[1],e[2]/100,e[3]/100,e[4]):KI.hasOwnProperty(t)?XI(KI[t]):t==="transparent"?new Kr(NaN,NaN,NaN,0):null}function XI(t){return new Kr(t>>16&255,t>>8&255,t&255,1)}function Pp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kr(t,e,n,r)}function TK(t){return t instanceof Sh||(t=th(t)),t?(t=t.rgb(),new Kr(t.r,t.g,t.b,t.opacity)):new Kr}function X1(t,e,n,r){return arguments.length===1?TK(t):new Kr(t,e,n,r??1)}function Kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}T_(Kr,X1,mM(Sh,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kr(ec(this.r),ec(this.g),ec(this.b),qg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QI,formatHex:QI,formatHex8:CK,formatRgb:JI,toString:JI}));function QI(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function CK(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function JI(){const t=qg(this.opacity);return`${t===1?"rgb(":"rgba("}${ec(this.r)}, ${ec(this.g)}, ${ec(this.b)}${t===1?")":`, ${t})`}`}function qg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ec(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gl(t){return t=ec(t),(t<16?"0":"")+t.toString(16)}function ZI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ni(t,e,n,r)}function pM(t){if(t instanceof ni)return new ni(t.h,t.s,t.l,t.opacity);if(t instanceof Sh||(t=th(t)),!t)return new ni;if(t instanceof ni)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,d=s-a,f=(s+a)/2;return d?(e===s?c=(n-r)/d+(n<r)*6:n===s?c=(r-e)/d+2:c=(e-n)/d+4,d/=f<.5?s+a:2-s-a,c*=60):d=f>0&&f<1?0:c,new ni(c,d,f,t.opacity)}function IK(t,e,n,r){return arguments.length===1?pM(t):new ni(t,e,n,r??1)}function ni(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}T_(ni,IK,mM(Sh,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Kr(ww(t>=240?t-240:t+120,a,r),ww(t,a,r),ww(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ni(eO(this.h),kp(this.s),kp(this.l),qg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qg(this.opacity);return`${t===1?"hsl(":"hsla("}${eO(this.h)}, ${kp(this.s)*100}%, ${kp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function eO(t){return t=(t||0)%360,t<0?t+360:t}function kp(t){return Math.max(0,Math.min(1,t||0))}function ww(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const C_=t=>()=>t;function OK(t,e){return function(n){return t+n*e}}function RK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function DK(t){return(t=+t)==1?gM:function(e,n){return n-e?RK(e,n,t):C_(isNaN(e)?n:e)}}function gM(t,e){var n=e-t;return n?OK(t,n):C_(isNaN(t)?e:t)}const tO=(function t(e){var n=DK(e);function r(a,s){var c=n((a=X1(a)).r,(s=X1(s)).r),d=n(a.g,s.g),f=n(a.b,s.b),h=gM(a.opacity,s.opacity);return function(p){return a.r=c(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return r.gamma=t,r})(1);function PK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function kK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function MK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)a[c]=td(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(d){for(c=0;c<r;++c)s[c]=a[c](d);return s}}function LK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Hg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function UK(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=td(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Q1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nw=new RegExp(Q1.source,"g");function VK(t){return function(){return t}}function zK(t){return function(e){return t(e)+""}}function BK(t,e){var n=Q1.lastIndex=Nw.lastIndex=0,r,a,s,c=-1,d=[],f=[];for(t=t+"",e=e+"";(r=Q1.exec(t))&&(a=Nw.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),d[c]?d[c]+=s:d[++c]=s),(r=r[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,f.push({i:c,x:Hg(r,a)})),n=Nw.lastIndex;return n<e.length&&(s=e.slice(n),d[c]?d[c]+=s:d[++c]=s),d.length<2?f[0]?zK(f[0].x):VK(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function td(t,e){var n=typeof e,r;return e==null||n==="boolean"?C_(e):(n==="number"?Hg:n==="string"?(r=th(e))?(e=r,tO):BK:e instanceof th?tO:e instanceof Date?LK:kK(e)?PK:Array.isArray(e)?MK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?UK:Hg)(t,e)}function I_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $K(t,e){e===void 0&&(e=t,t=td);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[d](c-d)}}function FK(t){return function(){return t}}function Gg(t){return+t}var nO=[0,1];function Or(t){return t}function J1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:FK(isNaN(e)?NaN:.5)}function qK(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function HK(t,e,n){var r=t[0],a=t[1],s=e[0],c=e[1];return a<r?(r=J1(a,r),s=n(c,s)):(r=J1(r,a),s=n(s,c)),function(d){return s(r(d))}}function GK(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)a[c]=J1(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(d){var f=Eh(t,d,1,r)-1;return s[f](a[f](d))}}function Ah(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function c0(){var t=nO,e=nO,n=td,r,a,s,c=Or,d,f,h;function p(){var x=Math.min(t.length,e.length);return c!==Or&&(c=qK(t[0],t[x-1])),d=x>2?GK:HK,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?s:(f||(f=d(t.map(r),e,n)))(r(c(x)))}return g.invert=function(x){return c(a((h||(h=d(e,t.map(r),Hg)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,Gg),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=I_,p()},g.clamp=function(x){return arguments.length?(c=x?!0:Or,p()):c!==Or},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(s=x,g):s},function(x,w){return r=x,a=w,p()}}function O_(){return c0()(Or,Or)}function KK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function zu(t){return t=Kg(Math.abs(t)),t?t[1]:NaN}function YK(t,e){return function(n,r){for(var a=n.length,s=[],c=0,d=t[0],f=0;a>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(a-=d,a+d)),!((f+=d+1)>r));)d=t[c=(c+1)%t.length];return s.reverse().join(e)}}function WK(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var XK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nh(t){if(!(e=XK.exec(t)))throw new Error("invalid format: "+t);var e;return new R_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nh.prototype=R_.prototype;function R_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}R_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QK(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var yM;function JK(t,e){var n=Kg(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(yM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Kg(t,Math.max(0,e+s-1))[0]}function rO(t,e){var n=Kg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const aO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:KK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rO(t*100,e),r:rO,s:JK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iO(t){return t}var sO=Array.prototype.map,oO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZK(t){var e=t.grouping===void 0||t.thousands===void 0?iO:YK(sO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?iO:WK(sO.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=nh(g);var x=g.fill,w=g.align,E=g.sign,_=g.symbol,j=g.zero,C=g.width,L=g.comma,A=g.precision,D=g.trim,R=g.type;R==="n"?(L=!0,R="g"):aO[R]||(A===void 0&&(A=12),D=!0,R="g"),(j||x==="0"&&w==="=")&&(j=!0,x="0",w="=");var U=_==="$"?n:_==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",O=_==="$"?r:/[%p]/.test(R)?c:"",V=aO[R],k=/[defgprs%]/.test(R);A=A===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function I(P){var B=U,z=O,ge,ce,Y;if(R==="c")z=V(P)+z,P="";else{P=+P;var le=P<0||1/P<0;if(P=isNaN(P)?f:V(Math.abs(P),A),D&&(P=QK(P)),le&&+P==0&&E!=="+"&&(le=!1),B=(le?E==="("?E:d:E==="-"||E==="("?"":E)+B,z=(R==="s"?oO[8+yM/3]:"")+z+(le&&E==="("?")":""),k){for(ge=-1,ce=P.length;++ge<ce;)if(Y=P.charCodeAt(ge),48>Y||Y>57){z=(Y===46?a+P.slice(ge+1):P.slice(ge))+z,P=P.slice(0,ge);break}}}L&&!j&&(P=e(P,1/0));var X=B.length+P.length+z.length,ye=X<C?new Array(C-X+1).join(x):"";switch(L&&j&&(P=e(ye+P,ye.length?C-z.length:1/0),ye=""),w){case"<":P=B+P+z+ye;break;case"=":P=B+ye+P+z;break;case"^":P=ye.slice(0,X=ye.length>>1)+B+P+z+ye.slice(X);break;default:P=ye+B+P+z;break}return s(P)}return I.toString=function(){return g+""},I}function p(g,x){var w=h((g=nh(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(zu(x)/3)))*3,_=Math.pow(10,-E),j=oO[8+E/3];return function(C){return w(_*C)+j}}return{format:h,formatPrefix:p}}var Mp,D_,vM;eY({thousands:",",grouping:[3],currency:["$",""]});function eY(t){return Mp=ZK(t),D_=Mp.format,vM=Mp.formatPrefix,Mp}function tY(t){return Math.max(0,-zu(Math.abs(t)))}function nY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zu(e)/3)))*3-zu(Math.abs(t)))}function rY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zu(e)-zu(t))+1}function xM(t,e,n,r){var a=Y1(t,e,n),s;switch(r=nh(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=nY(a,c))&&(r.precision=s),vM(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=rY(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=tY(a))&&(r.precision=s-(r.type==="%")*2);break}}return D_(r)}function nl(t){var e=t.domain;return t.ticks=function(n){var r=e();return G1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return xM(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,c=r[a],d=r[s],f,h,p=10;for(d<c&&(h=c,c=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=K1(c,d,n),h===f)return r[a]=c,r[s]=d,e(r);if(h>0)c=Math.floor(c/h)*h,d=Math.ceil(d/h)*h;else if(h<0)c=Math.ceil(c*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function bM(){var t=O_();return t.copy=function(){return Ah(t,bM())},Va.apply(t,arguments),nl(t)}function wM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Gg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return wM(t).unknown(e)},t=arguments.length?Array.from(t,Gg):[0,1],nl(n)}function NM(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],c;return s<a&&(c=n,n=r,r=c,c=a,a=s,s=c),t[n]=e.floor(a),t[r]=e.ceil(s),t}function lO(t){return Math.log(t)}function cO(t){return Math.exp(t)}function aY(t){return-Math.log(-t)}function iY(t){return-Math.exp(-t)}function sY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function oY(t){return t===10?sY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function uO(t){return(e,n)=>-t(-e,n)}function P_(t){const e=t(lO,cO),n=e.domain;let r=10,a,s;function c(){return a=lY(r),s=oY(r),n()[0]<0?(a=uO(a),s=uO(s),t(aY,iY)):t(lO,cO),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=a(h),w=a(p),E,_;const j=d==null?10:+d;let C=[];if(!(r%1)&&w-x<j){if(x=Math.floor(x),w=Math.ceil(w),h>0){for(;x<=w;++x)for(E=1;E<r;++E)if(_=x<0?E/s(-x):E*s(x),!(_<h)){if(_>p)break;C.push(_)}}else for(;x<=w;++x)for(E=r-1;E>=1;--E)if(_=x>0?E/s(-x):E*s(x),!(_<h)){if(_>p)break;C.push(_)}C.length*2<j&&(C=G1(h,p,j))}else C=G1(x,w,Math.min(w-x,j)).map(s);return g?C.reverse():C},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=nh(f)).precision==null&&(f.trim=!0),f=D_(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(NM(n(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),e}function _M(){const t=P_(c0()).domain([1,10]);return t.copy=()=>Ah(t,_M()).base(t.base()),Va.apply(t,arguments),t}function dO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function k_(t){var e=1,n=t(dO(e),fO(e));return n.constant=function(r){return arguments.length?t(dO(e=+r),fO(e)):e},nl(n)}function jM(){var t=k_(c0());return t.copy=function(){return Ah(t,jM()).constant(t.constant())},Va.apply(t,arguments)}function hO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function uY(t){return t<0?-t*t:t*t}function M_(t){var e=t(Or,Or),n=1;function r(){return n===1?t(Or,Or):n===.5?t(cY,uY):t(hO(n),hO(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},nl(e)}function L_(){var t=M_(c0());return t.copy=function(){return Ah(t,L_()).exponent(t.exponent())},Va.apply(t,arguments),t}function dY(){return L_.apply(null,arguments).exponent(.5)}function mO(t){return Math.sign(t)*t*t}function fY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function EM(){var t=O_(),e=[0,1],n=!1,r;function a(s){var c=fY(t(s));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(s){return t.invert(mO(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Gg)).map(mO)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return EM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Va.apply(a,arguments),nl(a)}function SM(){var t=[],e=[],n=[],r;function a(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=gK(t,c/d);return s}function s(c){return c==null||isNaN(c=+c)?r:e[Eh(n,c)]}return s.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(zo),a()},s.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return SM().domain(t).range(e).unknown(r)},Va.apply(s,arguments)}function AM(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[Eh(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,d()):a.slice()},c.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return AM().domain([t,e]).range(a).unknown(s)},Va.apply(nl(c),arguments)}function TM(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[Eh(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return TM().domain(t).range(e).unknown(n)},Va.apply(a,arguments)}const _w=new Date,jw=new Date;function Hn(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const c=a(s),d=a.ceil(s);return s-c<d-s?c:d},a.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return f;let h;do f.push(h=new Date(+s)),e(s,d),t(s);while(h<s&&s<c);return f},a.filter=s=>Hn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!s(c););else for(;--d>=0;)for(;e(c,1),!s(c););}),n&&(a.count=(s,c)=>(_w.setTime(+s),jw.setTime(+c),t(_w),t(jw),Math.floor(n(_w,jw))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?c=>r(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Yg=Hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Yg);Yg.range;const Es=1e3,Pa=Es*60,Ss=Pa*60,Ls=Ss*24,U_=Ls*7,pO=Ls*30,Ew=Ls*365,Kl=Hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCSeconds());Kl.range;const V_=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getMinutes());V_.range;const z_=Hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getUTCMinutes());z_.range;const B_=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es-t.getMinutes()*Pa)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getHours());B_.range;const $_=Hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCHours());$_.range;const Th=Hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pa)/Ls,t=>t.getDate()-1);Th.range;const u0=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>t.getUTCDate()-1);u0.range;const CM=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>Math.floor(t/Ls));CM.range;function vc(t){return Hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Pa)/U_)}const d0=vc(0),Wg=vc(1),hY=vc(2),mY=vc(3),Bu=vc(4),pY=vc(5),gY=vc(6);d0.range;Wg.range;hY.range;mY.range;Bu.range;pY.range;gY.range;function xc(t){return Hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/U_)}const f0=xc(0),Xg=xc(1),yY=xc(2),vY=xc(3),$u=xc(4),xY=xc(5),bY=xc(6);f0.range;Xg.range;yY.range;vY.range;$u.range;xY.range;bY.range;const F_=Hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());F_.range;const q_=Hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());q_.range;const Us=Hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Us.range;const Vs=Hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vs.range;function IM(t,e,n,r,a,s){const c=[[Kl,1,Es],[Kl,5,5*Es],[Kl,15,15*Es],[Kl,30,30*Es],[s,1,Pa],[s,5,5*Pa],[s,15,15*Pa],[s,30,30*Pa],[a,1,Ss],[a,3,3*Ss],[a,6,6*Ss],[a,12,12*Ss],[r,1,Ls],[r,2,2*Ls],[n,1,U_],[e,1,pO],[e,3,3*pO],[t,1,Ew]];function d(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const w=g&&typeof g.range=="function"?g:f(h,p,g),E=w?w.range(h,+p+1):[];return x?E.reverse():E}function f(h,p,g){const x=Math.abs(p-h)/g,w=E_(([,,j])=>j).right(c,x);if(w===c.length)return t.every(Y1(h/Ew,p/Ew,g));if(w===0)return Yg.every(Math.max(Y1(h,p,g),1));const[E,_]=c[x/c[w-1][2]<c[w][2]/x?w-1:w];return E.every(_)}return[d,f]}const[wY,NY]=IM(Vs,q_,f0,CM,$_,z_),[_Y,jY]=IM(Us,F_,d0,Th,B_,V_);function Sw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Aw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ef(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function EY(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,c=t.shortDays,d=t.months,f=t.shortMonths,h=Sf(a),p=Af(a),g=Sf(s),x=Af(s),w=Sf(c),E=Af(c),_=Sf(d),j=Af(d),C=Sf(f),L=Af(f),A={a:le,A:X,b:ye,B:Q,c:null,d:wO,e:wO,f:YY,g:aW,G:sW,H:HY,I:GY,j:KY,L:OM,m:WY,M:XY,p:q,q:Z,Q:jO,s:EO,S:QY,u:JY,U:ZY,V:eW,w:tW,W:nW,x:null,X:null,y:rW,Y:iW,Z:oW,"%":_O},D={a:K,A:ee,b:fe,B:je,c:null,d:NO,e:NO,f:dW,g:wW,G:_W,H:lW,I:cW,j:uW,L:DM,m:fW,M:hW,p:Ie,q:qe,Q:jO,s:EO,S:mW,u:pW,U:gW,V:yW,w:vW,W:xW,x:null,X:null,y:bW,Y:NW,Z:jW,"%":_O},R={a:I,A:P,b:B,B:z,c:ge,d:xO,e:xO,f:BY,g:vO,G:yO,H:bO,I:bO,j:LY,L:zY,m:MY,M:UY,p:k,q:kY,Q:FY,s:qY,S:VY,u:IY,U:OY,V:RY,w:CY,W:DY,x:ce,X:Y,y:vO,Y:yO,Z:PY,"%":$Y};A.x=U(n,A),A.X=U(r,A),A.c=U(e,A),D.x=U(n,D),D.X=U(r,D),D.c=U(e,D);function U(H,Ee){return function(J){var ae=[],Fe=-1,Ve=0,_t=H.length,_e,ft,me;for(J instanceof Date||(J=new Date(+J));++Fe<_t;)H.charCodeAt(Fe)===37&&(ae.push(H.slice(Ve,Fe)),(ft=gO[_e=H.charAt(++Fe)])!=null?_e=H.charAt(++Fe):ft=_e==="e"?" ":"0",(me=Ee[_e])&&(_e=me(J,ft)),ae.push(_e),Ve=Fe+1);return ae.push(H.slice(Ve,Fe)),ae.join("")}}function O(H,Ee){return function(J){var ae=Ef(1900,void 0,1),Fe=V(ae,H,J+="",0),Ve,_t;if(Fe!=J.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Ee&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Ve=Aw(Ef(ae.y,0,1)),_t=Ve.getUTCDay(),Ve=_t>4||_t===0?Xg.ceil(Ve):Xg(Ve),Ve=u0.offset(Ve,(ae.V-1)*7),ae.y=Ve.getUTCFullYear(),ae.m=Ve.getUTCMonth(),ae.d=Ve.getUTCDate()+(ae.w+6)%7):(Ve=Sw(Ef(ae.y,0,1)),_t=Ve.getDay(),Ve=_t>4||_t===0?Wg.ceil(Ve):Wg(Ve),Ve=Th.offset(Ve,(ae.V-1)*7),ae.y=Ve.getFullYear(),ae.m=Ve.getMonth(),ae.d=Ve.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),_t="Z"in ae?Aw(Ef(ae.y,0,1)).getUTCDay():Sw(Ef(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(_t+5)%7:ae.w+ae.U*7-(_t+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Aw(ae)):Sw(ae)}}function V(H,Ee,J,ae){for(var Fe=0,Ve=Ee.length,_t=J.length,_e,ft;Fe<Ve;){if(ae>=_t)return-1;if(_e=Ee.charCodeAt(Fe++),_e===37){if(_e=Ee.charAt(Fe++),ft=R[_e in gO?Ee.charAt(Fe++):_e],!ft||(ae=ft(H,J,ae))<0)return-1}else if(_e!=J.charCodeAt(ae++))return-1}return ae}function k(H,Ee,J){var ae=h.exec(Ee.slice(J));return ae?(H.p=p.get(ae[0].toLowerCase()),J+ae[0].length):-1}function I(H,Ee,J){var ae=w.exec(Ee.slice(J));return ae?(H.w=E.get(ae[0].toLowerCase()),J+ae[0].length):-1}function P(H,Ee,J){var ae=g.exec(Ee.slice(J));return ae?(H.w=x.get(ae[0].toLowerCase()),J+ae[0].length):-1}function B(H,Ee,J){var ae=C.exec(Ee.slice(J));return ae?(H.m=L.get(ae[0].toLowerCase()),J+ae[0].length):-1}function z(H,Ee,J){var ae=_.exec(Ee.slice(J));return ae?(H.m=j.get(ae[0].toLowerCase()),J+ae[0].length):-1}function ge(H,Ee,J){return V(H,e,Ee,J)}function ce(H,Ee,J){return V(H,n,Ee,J)}function Y(H,Ee,J){return V(H,r,Ee,J)}function le(H){return c[H.getDay()]}function X(H){return s[H.getDay()]}function ye(H){return f[H.getMonth()]}function Q(H){return d[H.getMonth()]}function q(H){return a[+(H.getHours()>=12)]}function Z(H){return 1+~~(H.getMonth()/3)}function K(H){return c[H.getUTCDay()]}function ee(H){return s[H.getUTCDay()]}function fe(H){return f[H.getUTCMonth()]}function je(H){return d[H.getUTCMonth()]}function Ie(H){return a[+(H.getUTCHours()>=12)]}function qe(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var Ee=U(H+="",A);return Ee.toString=function(){return H},Ee},parse:function(H){var Ee=O(H+="",!1);return Ee.toString=function(){return H},Ee},utcFormat:function(H){var Ee=U(H+="",D);return Ee.toString=function(){return H},Ee},utcParse:function(H){var Ee=O(H+="",!0);return Ee.toString=function(){return H},Ee}}}var gO={"-":"",_:" ",0:"0"},ar=/^\s*\d+/,SY=/^%/,AY=/[\\^$*+?|[\]().{}]/g;function vt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function TY(t){return t.replace(AY,"\\$&")}function Sf(t){return new RegExp("^(?:"+t.map(TY).join("|")+")","i")}function Af(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function CY(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function IY(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function OY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function RY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function DY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function yO(t,e,n){var r=ar.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function vO(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function PY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kY(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function MY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function xO(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function LY(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function bO(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function UY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function zY(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function BY(t,e,n){var r=ar.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $Y(t,e,n){var r=SY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function FY(t,e,n){var r=ar.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function qY(t,e,n){var r=ar.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function wO(t,e){return vt(t.getDate(),e,2)}function HY(t,e){return vt(t.getHours(),e,2)}function GY(t,e){return vt(t.getHours()%12||12,e,2)}function KY(t,e){return vt(1+Th.count(Us(t),t),e,3)}function OM(t,e){return vt(t.getMilliseconds(),e,3)}function YY(t,e){return OM(t,e)+"000"}function WY(t,e){return vt(t.getMonth()+1,e,2)}function XY(t,e){return vt(t.getMinutes(),e,2)}function QY(t,e){return vt(t.getSeconds(),e,2)}function JY(t){var e=t.getDay();return e===0?7:e}function ZY(t,e){return vt(d0.count(Us(t)-1,t),e,2)}function RM(t){var e=t.getDay();return e>=4||e===0?Bu(t):Bu.ceil(t)}function eW(t,e){return t=RM(t),vt(Bu.count(Us(t),t)+(Us(t).getDay()===4),e,2)}function tW(t){return t.getDay()}function nW(t,e){return vt(Wg.count(Us(t)-1,t),e,2)}function rW(t,e){return vt(t.getFullYear()%100,e,2)}function aW(t,e){return t=RM(t),vt(t.getFullYear()%100,e,2)}function iW(t,e){return vt(t.getFullYear()%1e4,e,4)}function sW(t,e){var n=t.getDay();return t=n>=4||n===0?Bu(t):Bu.ceil(t),vt(t.getFullYear()%1e4,e,4)}function oW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vt(e/60|0,"0",2)+vt(e%60,"0",2)}function NO(t,e){return vt(t.getUTCDate(),e,2)}function lW(t,e){return vt(t.getUTCHours(),e,2)}function cW(t,e){return vt(t.getUTCHours()%12||12,e,2)}function uW(t,e){return vt(1+u0.count(Vs(t),t),e,3)}function DM(t,e){return vt(t.getUTCMilliseconds(),e,3)}function dW(t,e){return DM(t,e)+"000"}function fW(t,e){return vt(t.getUTCMonth()+1,e,2)}function hW(t,e){return vt(t.getUTCMinutes(),e,2)}function mW(t,e){return vt(t.getUTCSeconds(),e,2)}function pW(t){var e=t.getUTCDay();return e===0?7:e}function gW(t,e){return vt(f0.count(Vs(t)-1,t),e,2)}function PM(t){var e=t.getUTCDay();return e>=4||e===0?$u(t):$u.ceil(t)}function yW(t,e){return t=PM(t),vt($u.count(Vs(t),t)+(Vs(t).getUTCDay()===4),e,2)}function vW(t){return t.getUTCDay()}function xW(t,e){return vt(Xg.count(Vs(t)-1,t),e,2)}function bW(t,e){return vt(t.getUTCFullYear()%100,e,2)}function wW(t,e){return t=PM(t),vt(t.getUTCFullYear()%100,e,2)}function NW(t,e){return vt(t.getUTCFullYear()%1e4,e,4)}function _W(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$u(t):$u.ceil(t),vt(t.getUTCFullYear()%1e4,e,4)}function jW(){return"+0000"}function _O(){return"%"}function jO(t){return+t}function EO(t){return Math.floor(+t/1e3)}var fu,kM,MM;EW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function EW(t){return fu=EY(t),kM=fu.format,fu.parse,MM=fu.utcFormat,fu.utcParse,fu}function SW(t){return new Date(t)}function AW(t){return t instanceof Date?+t:+new Date(+t)}function H_(t,e,n,r,a,s,c,d,f,h){var p=O_(),g=p.invert,x=p.domain,w=h(".%L"),E=h(":%S"),_=h("%I:%M"),j=h("%I %p"),C=h("%a %d"),L=h("%b %d"),A=h("%B"),D=h("%Y");function R(U){return(f(U)<U?w:d(U)<U?E:c(U)<U?_:s(U)<U?j:r(U)<U?a(U)<U?C:L:n(U)<U?A:D)(U)}return p.invert=function(U){return new Date(g(U))},p.domain=function(U){return arguments.length?x(Array.from(U,AW)):x().map(SW)},p.ticks=function(U){var O=x();return t(O[0],O[O.length-1],U??10)},p.tickFormat=function(U,O){return O==null?R:h(O)},p.nice=function(U){var O=x();return(!U||typeof U.range!="function")&&(U=e(O[0],O[O.length-1],U??10)),U?x(NM(O,U)):p},p.copy=function(){return Ah(p,H_(t,e,n,r,a,s,c,d,f,h))},p}function TW(){return Va.apply(H_(_Y,jY,Us,F_,d0,Th,B_,V_,Kl,kM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CW(){return Va.apply(H_(wY,NY,Vs,q_,f0,u0,$_,z_,Kl,MM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function h0(){var t=0,e=1,n,r,a,s,c=Or,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(s(g)-n)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(x){var w,E;return arguments.length?([w,E]=x,c=g(w,E),h):[c(0),c(1)]}}return h.range=p(td),h.rangeRound=p(I_),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),h}}function rl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function LM(){var t=nl(h0()(Or));return t.copy=function(){return rl(t,LM())},Ws.apply(t,arguments)}function UM(){var t=P_(h0()).domain([1,10]);return t.copy=function(){return rl(t,UM()).base(t.base())},Ws.apply(t,arguments)}function VM(){var t=k_(h0());return t.copy=function(){return rl(t,VM()).constant(t.constant())},Ws.apply(t,arguments)}function G_(){var t=M_(h0());return t.copy=function(){return rl(t,G_()).exponent(t.exponent())},Ws.apply(t,arguments)}function IW(){return G_.apply(null,arguments).exponent(.5)}function zM(){var t=[],e=Or;function n(r){if(r!=null&&!isNaN(r=+r))return e((Eh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(zo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>pK(t,s/r))},n.copy=function(){return zM(e).domain(t)},Ws.apply(n,arguments)}function m0(){var t=0,e=.5,n=1,r=1,a,s,c,d,f,h=Or,p,g=!1,x;function w(_){return isNaN(_=+_)?x:(_=.5+((_=+p(_))-s)*(r*_<r*s?d:f),h(g?Math.max(0,Math.min(1,_)):_))}w.domain=function(_){return arguments.length?([t,e,n]=_,a=p(t=+t),s=p(e=+e),c=p(n=+n),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,w):[t,e,n]},w.clamp=function(_){return arguments.length?(g=!!_,w):g},w.interpolator=function(_){return arguments.length?(h=_,w):h};function E(_){return function(j){var C,L,A;return arguments.length?([C,L,A]=j,h=$K(_,[C,L,A]),w):[h(0),h(.5),h(1)]}}return w.range=E(td),w.rangeRound=E(I_),w.unknown=function(_){return arguments.length?(x=_,w):x},function(_){return p=_,a=_(t),s=_(e),c=_(n),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,w}}function BM(){var t=nl(m0()(Or));return t.copy=function(){return rl(t,BM())},Ws.apply(t,arguments)}function $M(){var t=P_(m0()).domain([.1,1,10]);return t.copy=function(){return rl(t,$M()).base(t.base())},Ws.apply(t,arguments)}function FM(){var t=k_(m0());return t.copy=function(){return rl(t,FM()).constant(t.constant())},Ws.apply(t,arguments)}function K_(){var t=M_(m0());return t.copy=function(){return rl(t,K_()).exponent(t.exponent())},Ws.apply(t,arguments)}function OW(){return K_.apply(null,arguments).exponent(.5)}const Of=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:A_,scaleDiverging:BM,scaleDivergingLog:$M,scaleDivergingPow:K_,scaleDivergingSqrt:OW,scaleDivergingSymlog:FM,scaleIdentity:wM,scaleImplicit:W1,scaleLinear:bM,scaleLog:_M,scaleOrdinal:S_,scalePoint:vK,scalePow:L_,scaleQuantile:SM,scaleQuantize:AM,scaleRadial:EM,scaleSequential:LM,scaleSequentialLog:UM,scaleSequentialPow:G_,scaleSequentialQuantile:zM,scaleSequentialSqrt:IW,scaleSequentialSymlog:VM,scaleSqrt:dY,scaleSymlog:jM,scaleThreshold:TM,scaleTime:TW,scaleUtc:CW,tickFormat:xM},Symbol.toStringTag,{value:"Module"}));var al=t=>t.chartData,Y_=se([al],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),W_=(t,e,n,r)=>r?Y_(t):al(t);function Go(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(wn(e)&&wn(n))return!0}return!1}function SO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function qM(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(wn(n))a=n;else if(typeof n=="function")return;if(wn(r))s=r;else if(typeof r=="function")return;var c=[a,s];if(Go(c))return c}}function RW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Go(r))return SO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,c,d;if(a==="auto")e!=null&&(c=Math.min(...e));else if(Le(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&nI.test(a)){var f=nI.exec(a);if(f==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e==null?void 0:e[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Le(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&rI.test(s)){var p=rI.exec(s);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var x=[c,d];if(Go(x))return e==null?x:SO(x,e,n)}}}var nd=1e9,DW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q_,tn=!0,La="[DecimalError] ",tc=La+"Invalid argument: ",X_=La+"Exponent out of range: ",rd=Math.floor,ql=Math.pow,PW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ua,er=1e7,Gt=7,HM=9007199254740991,Qg=rd(HM/Gt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Gt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Os(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return Ut(Os(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return Un(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ua))throw Error(La+"NaN");if(n.s<1)throw Error(La+(n.s?"NaN":"-Infinity"));return n.eq(ua)?new r(0):(tn=!1,e=Os(rh(n,s),rh(t,s),s),tn=!0,Ut(e,a))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YM(e,t):GM(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(La+"NaN");return n.s?(tn=!1,e=Os(n,t,0,1).times(t),tn=!0,n.minus(e)):Ut(new r(n),a)};Pe.naturalExponential=Pe.exp=function(){return KM(this)};Pe.naturalLogarithm=Pe.ln=function(){return rh(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GM(e,t):YM(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tc+t);if(e=Un(a)+1,r=a.d.length-1,n=r*Gt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,a,s,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(La+"NaN")}for(t=Un(d),tn=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Li(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=rd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(s=r,r=s.plus(Os(d,s,c+2)).times(.5),Li(s.d).slice(0,c)===(e=Li(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(Ut(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;c+=4}return tn=!0,Ut(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,a,s,c,d,f,h,p=this,g=p.constructor,x=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=w.length,f<h&&(s=x,x=w,w=s,c=f,f=h,h=c),s=[],c=f+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,a=f+r;a>r;)d=s[a]+w[r]*x[a-r-1]+e,s[a--]=d%er|0,e=d/er|0;s[a]=(s[a]+e)%er|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,tn?Ut(t,g.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wi(t,0,nd),e===void 0?e=r.rounding:Wi(e,0,8),Ut(n,t+Un(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=sc(r,!0):(Wi(t,0,nd),e===void 0?e=a.rounding:Wi(e,0,8),r=Ut(new a(r),t+1,e),n=sc(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?sc(a):(Wi(t,0,nd),e===void 0?e=s.rounding:Wi(e,0,8),r=Ut(new s(a),t+Un(a)+1,e),n=sc(r.abs(),!1,t+Un(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Ut(new e(t),Un(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,a,s,c,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(ua);if(d=new f(d),!d.s){if(t.s<1)throw Error(La+"Infinity");return d}if(d.eq(ua))return d;if(r=f.precision,t.eq(ua))return Ut(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=d.s,c){if((n=p<0?-p:p)<=HM){for(a=new f(ua),e=Math.ceil(r/Gt+4),tn=!1;n%2&&(a=a.times(d),TO(a.d,e)),n=rd(n/2),n!==0;)d=d.times(d),TO(d.d,e);return tn=!0,t.s<0?new f(ua).div(a):Ut(a,r)}}else if(s<0)throw Error(La+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,tn=!1,a=t.times(rh(d,r+h)),tn=!0,a=KM(a),a.s=s,a};Pe.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=Un(a),r=sc(a,n<=s.toExpNeg||n>=s.toExpPos)):(Wi(t,1,nd),e===void 0?e=s.rounding:Wi(e,0,8),a=Ut(new s(a),t,e),n=Un(a),r=sc(a,t<=n||n<=s.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wi(t,1,nd),e===void 0?e=r.rounding:Wi(e,0,8)),Ut(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Un(t),n=t.constructor;return sc(t,e<=n.toExpNeg||e>=n.toExpPos)};function GM(t,e){var n,r,a,s,c,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),tn?Ut(e,g):e;if(f=t.d,h=e.d,c=t.e,a=e.e,f=f.slice(),s=c-a,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,a=c,d=f.length),c=Math.ceil(g/Gt),d=c>d?c+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/er|0,f[s]%=er;for(n&&(f.unshift(n),++a),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=a,tn?Ut(e,g):e}function Wi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tc+t)}function Li(t){var e,n,r,a=t.length-1,s="",c=t[0];if(a>0){for(s+=c,e=1;e<a;e++)r=t[e]+"",n=Gt-r.length,n&&(s+=Ro(n)),s+=r;c=t[e],r=c+"",n=Gt-r.length,n&&(s+=Ro(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Os=(function(){function t(r,a){var s,c=0,d=r.length;for(r=r.slice();d--;)s=r[d]*a+c,r[d]=s%er|0,c=s/er|0;return c&&r.unshift(c),r}function e(r,a,s,c){var d,f;if(s!=c)f=s>c?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=a[d]){f=r[d]>a[d]?1:-1;break}return f}function n(r,a,s){for(var c=0;s--;)r[s]-=c,c=r[s]<a[s]?1:0,r[s]=c*er+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,c){var d,f,h,p,g,x,w,E,_,j,C,L,A,D,R,U,O,V,k=r.constructor,I=r.s==a.s?1:-1,P=r.d,B=a.d;if(!r.s)return new k(r);if(!a.s)throw Error(La+"Division by zero");for(f=r.e-a.e,O=B.length,R=P.length,w=new k(I),E=w.d=[],h=0;B[h]==(P[h]||0);)++h;if(B[h]>(P[h]||0)&&--f,s==null?L=s=k.precision:c?L=s+(Un(r)-Un(a))+1:L=s,L<0)return new k(0);if(L=L/Gt+2|0,h=0,O==1)for(p=0,B=B[0],L++;(h<R||p)&&L--;h++)A=p*er+(P[h]||0),E[h]=A/B|0,p=A%B|0;else{for(p=er/(B[0]+1)|0,p>1&&(B=t(B,p),P=t(P,p),O=B.length,R=P.length),D=O,_=P.slice(0,O),j=_.length;j<O;)_[j++]=0;V=B.slice(),V.unshift(0),U=B[0],B[1]>=er/2&&++U;do p=0,d=e(B,_,O,j),d<0?(C=_[0],O!=j&&(C=C*er+(_[1]||0)),p=C/U|0,p>1?(p>=er&&(p=er-1),g=t(B,p),x=g.length,j=_.length,d=e(g,_,x,j),d==1&&(p--,n(g,O<x?V:B,x))):(p==0&&(d=p=1),g=B.slice()),x=g.length,x<j&&g.unshift(0),n(_,g,j),d==-1&&(j=_.length,d=e(B,_,O,j),d<1&&(p++,n(_,O<j?V:B,j))),j=_.length):d===0&&(p++,_=[0]),E[h++]=p,d&&_[0]?_[j++]=P[D]||0:(_=[P[D]],j=1);while((D++<R||_[0]!==void 0)&&L--)}return E[0]||E.shift(),w.e=f,Ut(w,c?s+Un(w)+1:s)}})();function KM(t,e){var n,r,a,s,c,d,f=0,h=0,p=t.constructor,g=p.precision;if(Un(t)>16)throw Error(X_+Un(t));if(!t.s)return new p(ua);for(tn=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(ql(2,h))/Math.LN10*2+5|0,d+=r,n=a=s=new p(ua),p.precision=d;;){if(a=Ut(a.times(t),d),n=n.times(++f),c=s.plus(Os(a,n,d)),Li(c.d).slice(0,d)===Li(s.d).slice(0,d)){for(;h--;)s=Ut(s.times(s),d);return p.precision=g,e==null?(tn=!0,Ut(s,g)):s}s=c}}function Un(t){for(var e=t.e*Gt,n=t.d[0];n>=10;n/=10)e++;return e}function Tw(t,e,n){if(e>t.LN10.sd())throw tn=!0,n&&(t.precision=n),Error(La+"LN10 precision limit exceeded");return Ut(new t(t.LN10),e)}function Ro(t){for(var e="";t--;)e+="0";return e}function rh(t,e){var n,r,a,s,c,d,f,h,p,g=1,x=10,w=t,E=w.d,_=w.constructor,j=_.precision;if(w.s<1)throw Error(La+(w.s?"NaN":"-Infinity"));if(w.eq(ua))return new _(0);if(e==null?(tn=!1,h=j):h=e,w.eq(10))return e==null&&(tn=!0),Tw(_,h);if(h+=x,_.precision=h,n=Li(E),r=n.charAt(0),s=Un(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Li(w.d),r=n.charAt(0),g++;s=Un(w),r>1?(w=new _("0."+n),s++):w=new _(r+"."+n.slice(1))}else return f=Tw(_,h+2,j).times(s+""),w=rh(new _(r+"."+n.slice(1)),h-x).plus(f),_.precision=j,e==null?(tn=!0,Ut(w,j)):w;for(d=c=w=Os(w.minus(ua),w.plus(ua),h),p=Ut(w.times(w),h),a=3;;){if(c=Ut(c.times(p),h),f=d.plus(Os(c,new _(a),h)),Li(f.d).slice(0,h)===Li(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(Tw(_,h+2,j).times(s+""))),d=Os(d,new _(g),h),_.precision=j,e==null?(tn=!0,Ut(d,j)):d;d=f,a+=2}}function AO(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=rd(n/Gt),t.d=[],r=(n+1)%Gt,n<0&&(r+=Gt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Gt;r<a;)t.d.push(+e.slice(r,r+=Gt));e=e.slice(r),r=Gt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),tn&&(t.e>Qg||t.e<-Qg))throw Error(X_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ut(t,e,n){var r,a,s,c,d,f,h,p,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=Gt,a=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Gt),s=g.length,p>=s)return t;for(h=s=g[p],c=1;s>=10;s/=10)c++;r%=Gt,a=r-Gt+c}if(n!==void 0&&(s=ql(10,c-a-1),d=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?a>0?h/ql(10,c-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=Un(t),g.length=1,e=e-s-1,g[0]=ql(10,(Gt-e%Gt)%Gt),t.e=rd(-e/Gt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=ql(10,Gt-r),g[p]=a>0?(h/ql(10,c-a)%ql(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==er&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=er)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(tn&&(t.e>Qg||t.e<-Qg))throw Error(X_+Un(t));return t}function YM(t,e){var n,r,a,s,c,d,f,h,p,g,x=t.constructor,w=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),tn?Ut(e,w):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,d=g.length):(n=g,r=h,d=f.length),a=Math.max(Math.ceil(w/Gt),d)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}c=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=er-1;--f[s],f[a]+=er}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,tn?Ut(e,w):e):new x(0)}function sc(t,e,n){var r,a=Un(t),s=Li(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Ro(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ro(-a-1)+s,n&&(r=n-c)>0&&(s+=Ro(r))):a>=c?(s+=Ro(a+1-c),n&&(r=n-a-1)>0&&(s=s+"."+Ro(r))):((r=a+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(s+="."),s+=Ro(r))),t.s<0?"-"+s:s}function TO(t,e){if(t.length>e)return t.length=e,!0}function WM(t){var e,n,r;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(tc+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return AO(c,s.toString())}else if(typeof s!="string")throw Error(tc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,PW.test(s))AO(c,s);else throw Error(tc+s)}if(a.prototype=Pe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=WM,a.config=a.set=kW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function kW(t){if(!t||typeof t!="object")throw Error(La+"Object expected");var e,n,r,a=["precision",1,nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(rd(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(tc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tc+n+": "+r);return this}var Q_=WM(DW);ua=new Q_(1);const Ct=Q_;var MW=t=>t,XM={},QM=t=>t===XM,CO=t=>function e(){return arguments.length===0||arguments.length===1&&QM(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},JM=(t,e)=>t===1?e:CO(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(c=>c!==XM).length;return s>=t?e(...r):JM(t-s,CO(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=r.map(p=>QM(p)?d.shift():p);return e(...h,...d)}))}),LW=t=>JM(t.length,t),Z1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},UW=LW((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),VW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return MW;var a=n.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce((d,f)=>f(d),s(...arguments))}},eN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function ZM(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function e5(t,e,n){for(var r=new Ct(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var t5=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},n5=(t,e,n)=>{if(t.lte(0))return new Ct(0);var r=ZM(t.toNumber()),a=new Ct(10).pow(r),s=t.div(a),c=r!==1?.05:.1,d=new Ct(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=d.mul(a);return e?new Ct(f.toNumber()):new Ct(Math.ceil(f.toNumber()))},zW=(t,e,n)=>{var r=new Ct(1),a=new Ct(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new Ct(10).pow(ZM(t)-1),a=new Ct(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new Ct(Math.floor(t)))}else t===0?a=new Ct(Math.floor((e-1)/2)):n||(a=new Ct(Math.floor(t)));var c=Math.floor((e-1)/2),d=VW(UW(f=>a.add(new Ct(f-c).mul(r)).toNumber()),Z1);return d(0,e)},r5=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var c=n5(new Ct(n).sub(e).div(r-1),a,s),d;e<=0&&n>=0?d=new Ct(0):(d=new Ct(e).add(n).div(2),d=d.sub(new Ct(d).mod(c)));var f=Math.ceil(d.sub(e).div(c).toNumber()),h=Math.ceil(new Ct(n).sub(d).div(c).toNumber()),p=f+h+1;return p>r?r5(e,n,r,a,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:d.sub(new Ct(f).mul(c)),tickMax:d.add(new Ct(h).mul(c))})},BW=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[d,f]=t5([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Z1(0,a-1).map(()=>1/0)]:[...Z1(0,a-1).map(()=>-1/0),f];return n>r?eN(h):h}if(d===f)return zW(d,a,s);var{step:p,tickMin:g,tickMax:x}=r5(d,f,c,s,0),w=e5(g,x.add(new Ct(.1).mul(p)),p);return n>r?eN(w):w},$W=function(e,n){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=t5([r,a]);if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var f=Math.max(n,2),h=n5(new Ct(d).sub(c).div(f-1),s,0),p=[...e5(new Ct(c),new Ct(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),r>a?eN(p):p},a5=t=>t.rootProps.maxBarSize,FW=t=>t.rootProps.barGap,i5=t=>t.rootProps.barCategoryGap,qW=t=>t.rootProps.barSize,Ch=t=>t.rootProps.stackOffset,s5=t=>t.rootProps.reverseStackOrder,J_=t=>t.options.chartName,Z_=t=>t.rootProps.syncId,o5=t=>t.rootProps.syncMethod,ej=t=>t.options.eventEmitter,hr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},_s={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ca={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},p0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},HW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:_s.reversed,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:_s.type,unit:void 0},GW={allowDataOverflow:ca.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ca.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ca.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ca.scale,tick:ca.tick,tickCount:ca.tickCount,ticks:void 0,type:ca.type,unit:void 0},KW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_s.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},YW={allowDataOverflow:ca.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ca.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ca.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ca.scale,tick:ca.tick,tickCount:ca.tickCount,ticks:void 0,type:"category",unit:void 0},tj=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?KW:HW,nj=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?YW:GW,g0=t=>t.polarOptions,rj=se([Ks,Ys,qn],iM),l5=se([g0,rj],(t,e)=>{if(t!=null)return jr(t.innerRadius,e,0)}),c5=se([g0,rj],(t,e)=>{if(t!=null)return jr(t.outerRadius,e,e*.8)}),WW=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},u5=se([g0],WW);se([tj,u5],p0);var d5=se([rj,l5,c5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});se([nj,d5],p0);var f5=se([xt,g0,l5,c5,Ks,Ys],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:h}=e;return{cx:jr(c,a,a/2),cy:jr(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),an=(t,e)=>e,Ih=(t,e,n)=>n;function aj(t){return t==null?void 0:t.id}function h5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,c=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=aj(d);h.forEach((g,x)=>{var w=s==null||a?x:String(en(g,s,null)),E=en(g,d.dataKey,0),_;c.has(w)?_=c.get(w):_={},Object.assign(_,{[p]:E}),c.set(w,_)})}}),Array.from(c.values())}function y0(t){return t.stackId!=null&&t.dataKey!=null}var v0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function x0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function XW(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Gn=t=>{var e=xt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ad=t=>t.tooltip.settings.axisId;function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){QW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QW(t,e,n){return(e=JW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JW(t){var e=ZW(t,"string");return typeof e=="symbol"?e:e+""}function ZW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tN=[0,"auto"],Jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},m5=(t,e)=>t.cartesianAxis.xAxis[e],Xs=(t,e)=>{var n=m5(t,e);return n??Jn},Zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:tN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:_h},p5=(t,e)=>t.cartesianAxis.yAxis[e],Qs=(t,e)=>{var n=p5(t,e);return n??Zn},eX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ij=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??eX},un=(t,e,n)=>{switch(e){case"xAxis":return Xs(t,n);case"yAxis":return Qs(t,n);case"zAxis":return ij(t,n);case"angleAxis":return tj(t,n);case"radiusAxis":return nj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tX=(t,e,n)=>{switch(e){case"xAxis":return Xs(t,n);case"yAxis":return Qs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Oh=(t,e,n)=>{switch(e){case"xAxis":return Xs(t,n);case"yAxis":return Qs(t,n);case"angleAxis":return tj(t,n);case"radiusAxis":return nj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},g5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function sj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var oj=t=>t.graphicalItems.cartesianItems,nX=se([an,Ih],sj),lj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Rh=se([oj,un,nX],lj,{memoizeOptions:{resultEqualityCheck:x0}}),y5=se([Rh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(y0)),v5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),rX=se([Rh],v5),cj=t=>t.map(e=>e.data).filter(Boolean).flat(1),aX=se([Rh],cj,{memoizeOptions:{resultEqualityCheck:x0}}),uj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},dj=se([aX,W_],uj),fj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:en(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:en(a,r)}))):t.map(r=>({value:r})),b0=se([dj,un,Rh],fj);function x5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function rg(t){if(Gi(t)||t instanceof Date){var e=Number(t);if(wn(e))return e}}function OO(t){if(Array.isArray(t)){var e=[rg(t[0]),rg(t[1])];return Go(e)?e:void 0}var n=rg(t);if(n!=null)return[n,n]}function zs(t){return t.map(rg).filter(w$)}function iX(t,e,n){return!n||typeof e!="number"||ci(e)?[]:n.length?zs(n.flatMap(r=>{var a=en(t,r.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!wn(s)||!wn(c)))return[e-s,e+c]})):[]}var Kn=t=>{var e=Gn(t),n=ad(t);return Oh(t,e,n)},Dh=se([Kn],t=>t==null?void 0:t.dataKey),sX=se([y5,W_,Kn],h5),b5=(t,e,n,r)=>{var a={},s=e.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),a);return Object.fromEntries(Object.entries(s).map(c=>{var[d,f]=c,h=r?[...f].reverse():f,p=h.map(aj);return[d,{stackedData:Bq(t,p,n),graphicalItems:h}]}))},nN=se([sX,y5,Ch,s5],b5),w5=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var c=Gq(t,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},oX=se([un],t=>t.allowDataOverflow),hj=t=>{var e;if(t==null||!("domain"in t))return tN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=zs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:tN},mj=se([un],hj),pj=se([mj,oX],qM),lX=se([nN,al,an,pj],w5,{memoizeOptions:{resultEqualityCheck:v0}}),w0=t=>t.errorBars,cX=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>x5(n,r)),Zg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},gj=(t,e,n,r,a)=>{var s,c;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(C=>x5(a,C)),x=en(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=iX(d,x,g);if(w.length>=2){var E=Math.min(...w),_=Math.max(...w);(s==null||E<s)&&(s=E),(c==null||_>c)&&(c=_)}var j=OO(x);j!=null&&(s=s==null?j[0]:Math.min(s,j[0]),c=c==null?j[1]:Math.max(c,j[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var f=OO(en(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),wn(s)&&wn(c))return[s,c]},uX=se([dj,un,rX,w0,an],gj,{memoizeOptions:{resultEqualityCheck:v0}});function dX(t){var{value:e}=t;if(Gi(e)||e instanceof Date)return e}var fX=(t,e,n)=>{var r=t.map(dX).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&L4(r))?cM(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},N5=t=>t.referenceElements.dots,id=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),hX=se([N5,an,Ih],id),_5=t=>t.referenceElements.areas,mX=se([_5,an,Ih],id),j5=t=>t.referenceElements.lines,pX=se([j5,an,Ih],id),E5=(t,e)=>{var n=zs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gX=se(hX,an,E5),S5=(t,e)=>{var n=zs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yX=se([mX,an],S5);function vX(t){var e;if(t.x!=null)return zs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:zs(n)}function xX(t){var e;if(t.y!=null)return zs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:zs(n)}var A5=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?vX(r):xX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bX=se([pX,an],A5),wX=se(gX,bX,yX,(t,e,n)=>Zg(t,n,e)),yj=(t,e,n,r,a,s,c,d)=>{if(n!=null)return n;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",h=f?Zg(r,s,a):Zg(s,a);return RW(e,h,t.allowDataOverflow)},NX=se([un,mj,pj,lX,uX,wX,xt,an],yj,{memoizeOptions:{resultEqualityCheck:v0}}),_X=[0,1],vj=(t,e,n,r,a,s,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=t,h=gc(e,s);if(h&&d==null){var p;return cM(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?fX(r,t,h):a==="expand"?_X:c}},xj=se([un,xt,dj,b0,Ch,an,NX],vj),T5=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:c}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(vh(s));return d in Of?d:"point"}}},sd=se([un,xt,g5,J_,an],T5);function jX(t){if(t!=null){if(t in Of)return Of[t]();var e="scale".concat(vh(t));if(e in Of)return Of[e]()}}function bj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=jX(e);if(a!=null){var s=a.domain(n).range(r);return Mq(s),s}}}var wj=(t,e,n)=>{var r=hj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Go(t))return BW(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Go(t))return $W(t,e.tickCount,e.allowDecimals)}},Nj=se([xj,Oh,sd],wj),_j=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Go(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],c=e[1],d=n[n.length-1];return[Math.min(a,s),Math.max(c,d)]}return e},EX=se([un,xj,Nj,an],_j),SX=se(b0,un,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(zs(t.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s+1]-r[s];n=Math.min(n,c)}return n/a}}),C5=se(SX,xt,i5,qn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!wn(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var c=jr(n,t*s),d=t*s/2;return d-c-(d-c)/s*c}return 0}),AX=(t,e)=>{var n=Xs(t,e);return n==null||typeof n.padding!="string"?0:C5(t,"xAxis",e,n.padding)},TX=(t,e)=>{var n=Qs(t,e);return n==null||typeof n.padding!="string"?0:C5(t,"yAxis",e,n.padding)},CX=se(Xs,AX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),IX=se(Qs,TX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),OX=se([qn,CX,e0,Zy,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),RX=se([qn,xt,IX,e0,Zy,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:c}=a;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Ph=(t,e,n,r)=>{var a;switch(e){case"xAxis":return OX(t,n,r);case"yAxis":return RX(t,n,r);case"zAxis":return(a=ij(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return u5(t);case"radiusAxis":return d5(t,n);default:return}},I5=se([un,Ph],p0),od=se([un,sd,EX,I5],bj);se([Rh,w0,an],cX);function O5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var N0=(t,e)=>e,_0=(t,e,n)=>n,DX=se(Qy,N0,_0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(O5)),PX=se(Jy,N0,_0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(O5)),R5=(t,e)=>({width:t.width,height:e.height}),kX=(t,e)=>{var n=typeof e.width=="number"?e.width:_h;return{width:n,height:t.height}},D5=se(qn,Xs,R5),MX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},LX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},UX=se(Ys,qn,DX,N0,_0,(t,e,n,r,a)=>{var s={},c;return n.forEach(d=>{var f=R5(e,d);c==null&&(c=MX(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;s[d.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),VX=se(Ks,qn,PX,N0,_0,(t,e,n,r,a)=>{var s={},c;return n.forEach(d=>{var f=kX(e,d);c==null&&(c=LX(e,r,t));var h=r==="left"&&!a||r==="right"&&a;s[d.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),zX=(t,e)=>{var n=Xs(t,e);if(n!=null)return UX(t,n.orientation,n.mirror)},BX=se([qn,Xs,zX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),$X=(t,e)=>{var n=Qs(t,e);if(n!=null)return VX(t,n.orientation,n.mirror)},FX=se([qn,Qs,$X,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),P5=se(qn,Qs,(t,e)=>{var n=typeof e.width=="number"?e.width:_h;return{width:n,height:t.height}}),RO=(t,e,n)=>{switch(e){case"xAxis":return D5(t,n).width;case"yAxis":return P5(t,n).height;default:return}},k5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=n,d=gc(t,r),f=e.map(h=>h.value);if(c&&d&&s==="category"&&a&&L4(f))return f}},jj=se([xt,b0,un,an],k5),M5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,c=gc(t,r);if(c&&(a==="number"||s!=="auto"))return e.map(d=>d.value)}},Ej=se([xt,b0,Oh,an],M5),DO=se([xt,tX,sd,od,jj,Ej,Ph,Nj,an],(t,e,n,r,a,s,c,d,f)=>{if(e!=null){var h=gc(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:c,realScaleType:n,scale:r}}}),qX=(t,e,n,r,a,s,c,d,f)=>{if(!(e==null||r==null)){var h=gc(t,f),{type:p,ticks:g,tickCount:x}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/w:0;E=f==="angleAxis"&&s!=null&&s.length>=2?nr(s[0]-s[1])*2*E:E;var _=g||a;if(_){var j=_.map((C,L)=>{var A=c?c.indexOf(C):C;return{index:L,coordinate:r(A)+E,value:C,offset:E}});return j.filter(C=>wn(C.coordinate))}return h&&d?d.map((C,L)=>({coordinate:r(C)+E,value:C,index:L,offset:E})).filter(C=>wn(C.coordinate)):r.ticks?r.ticks(x).map(C=>({coordinate:r(C)+E,value:C,offset:E})):r.domain().map((C,L)=>({coordinate:r(C)+E,value:c?c[C]:C,index:L,offset:E}))}},L5=se([xt,Oh,sd,od,Nj,Ph,jj,Ej,an],qX),HX=(t,e,n,r,a,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=gc(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&(r==null?void 0:r.length)>=2?nr(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}},Fu=se([xt,Oh,od,Ph,jj,Ej,an],HX),qu=se(un,od,(t,e)=>{if(!(t==null||e==null))return Jg(Jg({},t),{},{scale:e})}),GX=se([un,sd,xj,I5],bj);se((t,e,n)=>ij(t,n),GX,(t,e)=>{if(!(t==null||e==null))return Jg(Jg({},t),{},{scale:e})});var KX=se([xt,Qy,Jy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),U5=t=>t.options.defaultTooltipEventType,V5=t=>t.options.validateTooltipEventTypes;function z5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Sj(t,e){var n=U5(t),r=V5(t);return z5(e,n,r)}function YX(t){return Ue(e=>Sj(e,t))}var B5=(t,e)=>{var n,r=Number(e);if(!(ci(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},WX=t=>t.tooltip.settings,Po={active:!1,index:null,dataKey:void 0,coordinate:void 0},XX={itemInteraction:{click:Po,hover:Po},axisInteraction:{click:Po,hover:Po},keyboardInteraction:Po,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$5=Qr({name:"tooltip",initialState:XX,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Zt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=oi(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:Zt()},removeTooltipEntrySettings:{reducer(t,e){var n=oi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Zt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:QX,replaceTooltipEntrySettings:JX,removeTooltipEntrySettings:ZX,setTooltipSettingsState:eQ,setActiveMouseOverItemIndex:F5,mouseLeaveItem:tQ,mouseLeaveChart:q5,setActiveClickItemIndex:nQ,setMouseOverAxisIndex:H5,setMouseClickAxisIndex:rQ,setSyncInteraction:rN,setKeyboardInteraction:aN}=$5.actions,aQ=$5.reducer;function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return(e=sQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sQ(t){var e=oQ(t,"string");return typeof e=="symbol"?e:e+""}function oQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function cQ(t){return t.index!=null}var G5=(t,e,n,r)=>{if(e==null)return Po;var a=lQ(t,e,n);if(a==null)return Po;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(cQ(a)){if(s)return Lp(Lp({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Lp(Lp({},Po),{},{coordinate:a.coordinate})};function uQ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function dQ(t,e){var n=uQ(t),r=e[0],a=e[1];if(n===void 0)return!1;var s=Math.min(r,a),c=Math.max(r,a);return n>=s&&n<=c}function fQ(t,e,n){if(n==null||e==null)return!0;var r=en(t,e);return r==null||!Go(n)?!0:dQ(r,n)}var Aj=(t,e,n,r)=>{var a=t==null?void 0:t.index;if(a==null)return null;var s=Number(a);if(!wn(s))return a;var c=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(c,Math.min(s,d)),h=e[f];return h==null||fQ(h,n,r)?String(f):null},K5=(t,e,n,r,a,s,c,d)=>{if(!(s==null||d==null)){var f=c[0],h=f==null?void 0:d(f.positions,s);if(h!=null)return h;var p=a==null?void 0:a[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},Y5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===a})},kh=t=>t.options.tooltipPayloadSearcher,ld=t=>t.tooltip;function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){hQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hQ(t,e,n){return(e=mQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mQ(t){var e=pQ(t,"string");return typeof e=="symbol"?e:e+""}function pQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gQ(t,e){return t??e}var W5=(t,e,n,r,a,s,c)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,w)=>{var E,{dataDefinedOnItem:_,settings:j}=w,C=gQ(_,d),L=Array.isArray(C)?Ck(C,h,p):C,A=(E=j==null?void 0:j.dataKey)!==null&&E!==void 0?E:r,D=j==null?void 0:j.nameKey,R;if(r&&Array.isArray(L)&&!Array.isArray(L[0])&&c==="axis"?R=b$(L,r,a):R=s(L,e,f,D),Array.isArray(R))R.forEach(O=>{var V=MO(MO({},j),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});x.push(aI({tooltipEntrySettings:V,dataKey:O.dataKey,payload:O.payload,value:en(O.payload,O.dataKey),name:O.name}))});else{var U;x.push(aI({tooltipEntrySettings:j,dataKey:A,payload:R,value:en(R,A),name:(U=en(R,D))!==null&&U!==void 0?U:j==null?void 0:j.name}))}return x},g)}},Tj=se([Kn,xt,g5,J_,Gn],T5),yQ=se([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),vQ=se([Gn,ad],sj),Mh=se([yQ,Kn,vQ],lj,{memoizeOptions:{resultEqualityCheck:x0}}),xQ=se([Mh],t=>t.filter(y0)),bQ=se([Mh],cj,{memoizeOptions:{resultEqualityCheck:x0}}),cd=se([bQ,al],uj),wQ=se([xQ,al,Kn],h5),Cj=se([cd,Kn,Mh],fj),X5=se([Kn],hj),NQ=se([Kn],t=>t.allowDataOverflow),Q5=se([X5,NQ],qM),_Q=se([Mh],t=>t.filter(y0)),jQ=se([wQ,_Q,Ch,s5],b5),EQ=se([jQ,al,Gn,Q5],w5),SQ=se([Mh],v5),AQ=se([cd,Kn,SQ,w0,Gn],gj,{memoizeOptions:{resultEqualityCheck:v0}}),TQ=se([N5,Gn,ad],id),CQ=se([TQ,Gn],E5),IQ=se([_5,Gn,ad],id),OQ=se([IQ,Gn],S5),RQ=se([j5,Gn,ad],id),DQ=se([RQ,Gn],A5),PQ=se([CQ,DQ,OQ],Zg),kQ=se([Kn,X5,Q5,EQ,AQ,PQ,xt,Gn],yj),Lh=se([Kn,xt,cd,Cj,Ch,Gn,kQ],vj),MQ=se([Lh,Kn,Tj],wj),LQ=se([Kn,Lh,MQ,Gn],_j),J5=t=>{var e=Gn(t),n=ad(t),r=!1;return Ph(t,e,n,r)},Z5=se([Kn,J5],p0),e6=se([Kn,Tj,LQ,Z5],bj),UQ=se([xt,Cj,Kn,Gn],k5),VQ=se([xt,Cj,Kn,Gn],M5),zQ=(t,e,n,r,a,s,c,d)=>{if(e){var{type:f}=e,h=gc(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?nr(a[0]-a[1])*2*g:g,h&&c?c.map((x,w)=>({coordinate:r(x)+g,value:x,index:w,offset:g})):r.domain().map((x,w)=>({coordinate:r(x)+g,value:s?s[x]:x,index:w,offset:g}))}}},Js=se([xt,Kn,Tj,e6,J5,UQ,VQ,Gn],zQ),Ij=se([U5,V5,WX],(t,e,n)=>z5(n.shared,t,e)),t6=t=>t.tooltip.settings.trigger,Oj=t=>t.tooltip.settings.defaultIndex,j0=se([ld,Ij,t6,Oj],G5),oc=se([j0,cd,Dh,Lh],Aj),n6=se([Js,oc],B5),r6=se([j0],t=>{if(t)return t.dataKey}),a6=se([ld,Ij,t6,Oj],Y5),BQ=se([Ks,Ys,xt,qn,Js,Oj,a6,kh],K5),$Q=se([j0,BQ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),FQ=se([j0],t=>t.active),qQ=se([a6,oc,al,Dh,n6,kh,Ij],W5);se([qQ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function UO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return(e=GQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=KQ(t,"string");return typeof e=="symbol"?e:e+""}function KQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YQ=()=>Ue(Kn),WQ=()=>{var t=YQ(),e=Ue(Js),n=Ue(e6);return Rg(!t||!n?void 0:UO(UO({},t),{},{scale:n}),e)};function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){XQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQ(t,e,n){return(e=QQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=JQ(t,"string");return typeof e=="symbol"?e:e+""}function JQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZQ=(t,e,n,r)=>{var a=e.find(s=>s&&s.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},eJ=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="centric"){var s=a.coordinate,{radius:c}=r;return hu(hu(hu({},r),Mn(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var d=a.coordinate,{angle:f}=r;return hu(hu(hu({},r),Mn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function tJ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var i6=(t,e,n,r,a)=>{var s,c=-1,d=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if(nr(p-h)!==nr(g-p)){var w=[];if(nr(g-p)===nr(a[1]-a[0])){x=g;var E=p+a[1]-a[0];w[0]=Math.min(E,(E+h)/2),w[1]=Math.max(E,(E+h)/2)}else{x=h;var _=g+a[1]-a[0];w[0]=Math.min(p,(_+p)/2),w[1]=Math.max(p,(_+p)/2)}var j=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>j[0]&&t<=j[1]||t>=w[0]&&t<=w[1]){({index:c}=n[f]);break}}else{var C=Math.min(h,g),L=Math.max(h,g);if(t>(C+p)/2&&t<=(L+p)/2){({index:c}=n[f]);break}}}else if(e){for(var A=0;A<d;A++)if(A===0&&t<=(e[A].coordinate+e[A+1].coordinate)/2||A>0&&A<d-1&&t>(e[A].coordinate+e[A-1].coordinate)/2&&t<=(e[A].coordinate+e[A+1].coordinate)/2||A===d-1&&t>(e[A].coordinate+e[A-1].coordinate)/2){({index:c}=e[A]);break}}return c},nJ=()=>Ue(J_),Rj=(t,e)=>e,s6=(t,e,n)=>n,Dj=(t,e,n,r)=>r,rJ=se(Js,t=>By(t,e=>e.coordinate)),Pj=se([ld,Rj,s6,Dj],G5),kj=se([Pj,cd,Dh,Lh],Aj),aJ=(t,e,n)=>{if(e!=null){var r=ld(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},o6=se([ld,Rj,s6,Dj],Y5),ey=se([Ks,Ys,xt,qn,Js,Dj,o6,kh],K5),iJ=se([Pj,ey],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),l6=se([Js,kj],B5),sJ=se([o6,kj,al,Dh,l6,kh,Rj],W5),oJ=se([Pj,kj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),lJ=(t,e,n,r,a,s,c)=>{if(!(!t||!n||!r||!a)&&tJ(t,c)){var d=Kq(t,e),f=i6(d,s,a,n,r),h=ZQ(e,a,f,t);return{activeIndex:String(f),activeCoordinate:h}}},cJ=(t,e,n,r,a,s,c)=>{if(!(!t||!r||!a||!s||!n)){var d=YG(t,n);if(d){var f=Yq(d,e),h=i6(f,c,s,r,a),p=eJ(e,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},uJ=(t,e,n,r,a,s,c,d)=>{if(!(!t||!e||!r||!a||!s))return e==="horizontal"||e==="vertical"?lJ(t,e,r,a,s,c,d):cJ(t,e,n,r,a,s,c)},dJ=se(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),fJ=se(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(hr)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:XW}});function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function BO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){hJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJ(t,e,n){return(e=mJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=pJ(t,"string");return typeof e=="symbol"?e:e+""}function pJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gJ={},yJ={zIndexMap:Object.values(hr).reduce((t,e)=>BO(BO({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),gJ)},vJ=new Set(Object.values(hr));function xJ(t){return vJ.has(t)}var c6=Qr({name:"zIndex",initialState:yJ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Zt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!xJ(n)&&delete t.zIndexMap[n])},prepare:Zt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:Zt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Zt()}}}),{registerZIndexPortal:bJ,unregisterZIndexPortal:wJ,registerZIndexPortalId:NJ,unregisterZIndexPortalId:_J}=c6.actions,jJ=c6.reducer;function mi(t){var{zIndex:e,children:n}=t,r=jH(),a=r&&e!==void 0&&e!==0,s=Jr(),c=rn();N.useLayoutEffect(()=>a?(c(bJ({zIndex:e})),()=>{c(wJ({zIndex:e}))}):xh,[c,e,a]);var d=Ue(h=>dJ(h,e,s));if(!a)return n;if(!d)return null;var f=document.getElementById(d);return f?n4.createPortal(n,f):null}function iN(){return iN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iN.apply(null,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){EJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EJ(t,e,n){return(e=SJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=AJ(t,"string");return typeof e=="symbol"?e:e+""}function AJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TJ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return N.isValidElement(e)?N.cloneElement(e,r):N.createElement(n,r)}function CJ(t){var e,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,x=r,w=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,_,j;if(p==="ScatterChart")E=g,_=uG,j=hr.cursorLine;else if(p==="BarChart")E=dG(d,g,s,c),_=aM,j=hr.cursorRectangle;else if(d==="radial"&&z4(g)){var{cx:C,cy:L,radius:A,startAngle:D,endAngle:R}=sM(g);E={cx:C,cy:L,startAngle:D,endAngle:R,innerRadius:A,outerRadius:A},_=lM,j=hr.cursorLine}else E={points:JG(d,g,s)},_=j_,j=hr.cursorLine;var U=typeof f=="object"&&"className"in f?f.className:void 0,O=Up(Up(Up(Up({stroke:"#ccc",pointerEvents:"none"},s),E),qf(f)),{},{payload:x,payloadIndex:w,className:Mt("recharts-tooltip-cursor",U)});return N.createElement(mi,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:j},N.createElement(TJ,{cursor:f,cursorComp:_,cursorProps:O}))}function IJ(t){var e=WQ(),n=zk(),r=n0(),a=nJ();return e==null||n==null||r==null||a==null?null:N.createElement(CJ,iN({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var u6=N.createContext(null),OJ=()=>N.useContext(u6),Cw={exports:{}},FO;function RJ(){return FO||(FO=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new a(p,g||f,x),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],w]:f._events[E].push(w):(f._events[E]=w,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,w=g.length,E=new Array(w);x<w;x++)E[x]=g[x].fn;return E},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,x,w,E){var _=n?n+h:h;if(!this._events[_])return!1;var j=this._events[_],C=arguments.length,L,A;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),C){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,g),!0;case 4:return j.fn.call(j.context,p,g,x),!0;case 5:return j.fn.call(j.context,p,g,x,w),!0;case 6:return j.fn.call(j.context,p,g,x,w,E),!0}for(A=1,L=new Array(C-1);A<C;A++)L[A-1]=arguments[A];j.fn.apply(j.context,L)}else{var D=j.length,R;for(A=0;A<D;A++)switch(j[A].once&&this.removeListener(h,j[A].fn,void 0,!0),C){case 1:j[A].fn.call(j[A].context);break;case 2:j[A].fn.call(j[A].context,p);break;case 3:j[A].fn.call(j[A].context,p,g);break;case 4:j[A].fn.call(j[A].context,p,g,x);break;default:if(!L)for(R=1,L=new Array(C-1);R<C;R++)L[R-1]=arguments[R];j[A].fn.apply(j[A].context,L)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,x){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return c(this,w),this;var E=this._events[w];if(E.fn)E.fn===p&&(!x||E.once)&&(!g||E.context===g)&&c(this,w);else{for(var _=0,j=[],C=E.length;_<C;_++)(E[_].fn!==p||x&&!E[_].once||g&&E[_].context!==g)&&j.push(E[_]);j.length?this._events[w]=j.length===1?j[0]:j:c(this,w)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(Cw)),Cw.exports}var DJ=RJ();const PJ=Ji(DJ);var ah=new PJ,sN="recharts.syncEvent.tooltip",qO="recharts.syncEvent.brush";function d6(t,e){if(e){var n=Number.parseInt(e,10);if(!ci(n))return t==null?void 0:t[n]}}var kJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},f6=Qr({name:"options",initialState:kJ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),MJ=f6.reducer,{createEventEmitter:LJ}=f6.actions;function UJ(t){return t.tooltip.syncInteraction}var VJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},h6=Qr({name:"chartData",initialState:VJ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:HO,setDataStartEndIndexes:zJ,setComputedData:Oge}=h6.actions,BJ=h6.reducer,$J=["x","y"];function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){FJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FJ(t,e,n){return(e=qJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qJ(t){var e=HJ(t,"string");return typeof e=="symbol"?e:e+""}function HJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GJ(t,e){if(t==null)return{};var n,r,a=KJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function KJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YJ(){var t=Ue(Z_),e=Ue(ej),n=rn(),r=Ue(o5),a=Ue(Js),s=n0(),c=t0(),d=Ue(f=>f.rootProps.className);N.useEffect(()=>{if(t==null)return xh;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(c&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:E,y:_}=w,j=GJ(w,$J),{x:C,y:L,width:A,height:D}=p.payload.sourceViewBox,R=mu(mu({},j),{},{x:c.x+(A?(E-C)/A:0)*c.width,y:c.y+(D?(_-L)/D:0)*c.height});n(mu(mu({},p),{},{payload:mu(mu({},p.payload),{},{coordinate:R})}))}else n(p);return}if(a!=null){var U;if(typeof r=="function"){var O={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},V=r(a,O);U=a[V]}else r==="value"&&(U=a.find(Y=>String(Y.value)===p.payload.label));var{coordinate:k}=p.payload;if(U==null||p.payload.active===!1||k==null||c==null){n(rN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:I,y:P}=k,B=Math.min(I,c.x+c.width),z=Math.min(P,c.y+c.height),ge={x:s==="horizontal"?U.coordinate:B,y:s==="horizontal"?z:U.coordinate},ce=rN({active:p.payload.active,coordinate:ge,dataKey:p.payload.dataKey,index:String(U.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(ce)}}};return ah.on(sN,f),()=>{ah.off(sN,f)}},[d,n,e,t,r,a,s,c])}function WJ(){var t=Ue(Z_),e=Ue(ej),n=rn();N.useEffect(()=>{if(t==null)return xh;var r=(a,s,c)=>{e!==c&&t===a&&n(zJ(s))};return ah.on(qO,r),()=>{ah.off(qO,r)}},[n,e,t])}function XJ(){var t=rn();N.useEffect(()=>{t(LJ())},[t]),YJ(),WJ()}function QJ(t,e,n,r,a,s){var c=Ue(w=>aJ(w,t,e)),d=Ue(ej),f=Ue(Z_),h=Ue(o5),p=Ue(UJ),g=p==null?void 0:p.active,x=t0();N.useEffect(()=>{if(!g&&f!=null&&d!=null){var w=rN({active:s,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x});ah.emit(sN,f,w,d)}},[g,n,c,a,r,d,f,h,s,x])}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function YO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){JJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JJ(t,e,n){return(e=ZJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=eZ(t,"string");return typeof e=="symbol"?e:e+""}function eZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tZ(t){return t.dataKey}function nZ(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement($H,e)}var WO=[],rZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!yc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function m6(t){var e,n,r=Sr(t,rZ),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:x,position:w,reverseDirection:E,useTranslate3d:_,wrapperStyle:j,cursor:C,shared:L,trigger:A,defaultIndex:D,portal:R,axisId:U}=r,O=rn(),V=typeof D=="number"?String(D):D;N.useEffect(()=>{O(eQ({shared:L,trigger:A,axisId:U,active:a,defaultIndex:V}))},[O,L,A,U,a,V]);var k=t0(),I=Zk(),P=YX(L),{activeIndex:B,isActive:z}=(e=Ue(Ie=>oJ(Ie,P,A,V)))!==null&&e!==void 0?e:{},ge=Ue(Ie=>sJ(Ie,P,A,V)),ce=Ue(Ie=>l6(Ie,P,A,V)),Y=Ue(Ie=>iJ(Ie,P,A,V)),le=ge,X=OJ(),ye=(n=a??z)!==null&&n!==void 0?n:!1,[Q,q]=OF([le,ye]),Z=P==="axis"?ce:void 0;QJ(P,A,Y,Z,B,ye);var K=R??X;if(K==null||k==null||P==null)return null;var ee=le??WO;ye||(ee=WO),h&&ee.length&&(ee=rF(ee.filter(Ie=>Ie.value!=null&&(Ie.hide!==!0||r.includeHidden)),x,tZ));var fe=ee.length>0,je=N.createElement(WH,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:p,active:ye,coordinate:Y,hasPayload:fe,offset:g,position:w,reverseDirection:E,useTranslate3d:_,viewBox:k,wrapperStyle:j,lastBoundingBox:Q,innerRef:q,hasPortalFromProps:!!R},nZ(f,YO(YO({},r),{},{payload:ee,label:Z,active:ye,activeIndex:B,coordinate:Y,accessibilityLayer:I})));return N.createElement(N.Fragment,null,n4.createPortal(je,K),ye&&N.createElement(IJ,{cursor:C,tooltipEventType:P,coordinate:Y,payload:ee,index:B}))}var Uh=t=>null;Uh.displayName="Cell";function aZ(t,e,n){return(e=iZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iZ(t){var e=sZ(t,"string");return typeof e=="symbol"?e:e+""}function sZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oZ{constructor(e){aZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){cZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cZ(t,e,n){return(e=uZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uZ(t){var e=dZ(t,"string");return typeof e=="symbol"?e:e+""}function dZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fZ={cacheSize:2e3,enableCache:!0},p6=lZ({},fZ),QO=new oZ(p6.cacheSize),hZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JO="recharts_measurement_span";function mZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(d)}var ZO=(t,e)=>{try{var n=document.getElementById(JO);n||(n=document.createElement("span"),n.setAttribute("id",JO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,hZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Mf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yc.isSsr)return{width:0,height:0};if(!p6.enableCache)return ZO(e,n);var r=mZ(e,n),a=QO.get(r);if(a)return a;var s=ZO(e,n);return QO.set(r,s),s},eR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,g6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yZ=Object.keys(g6),_u="NaN";function vZ(t,e){return t*g6[e]}class Fr{static parse(e){var n,[,r,a]=(n=gZ.exec(e))!==null&&n!==void 0?n:[];return new Fr(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ci(e)&&(this.unit=""),n!==""&&!pZ.test(n)&&(this.num=NaN,this.unit=""),yZ.includes(n)&&(this.num=vZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ci(this.num)}}function y6(t){if(t.includes(_u))return _u;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=eR.exec(e))!==null&&n!==void 0?n:[],c=Fr.parse(r??""),d=Fr.parse(s??""),f=a==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return _u;e=e.replace(eR,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=tR.exec(e))!==null&&h!==void 0?h:[],w=Fr.parse(p??""),E=Fr.parse(x??""),_=g==="+"?w.add(E):w.subtract(E);if(_.isNaN())return _u;e=e.replace(tR,_.toString())}return e}var nR=/\(([^()]*)\)/;function xZ(t){for(var e=t,n;(n=nR.exec(e))!=null;){var[,r]=n;e=e.replace(nR,y6(r))}return e}function bZ(t){var e=t.replace(/\s+/g,"");return e=xZ(e),e=y6(e),e}function wZ(t){try{return bZ(t)}catch{return _u}}function Iw(t){var e=wZ(t.slice(5,-1));return e===_u?"":e}var NZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_Z=["dx","dy","angle","className","breakAll"];function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oN.apply(null,arguments)}function rR(t,e){if(t==null)return{};var n,r,a=jZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function jZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var v6=/[ \f\n\r\t\v\u2028\u2029]+/,x6=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];rr(e)||(n?a=e.toString().split(""):a=e.toString().split(v6));var s=a.map(d=>({word:d,width:Mf(d,r).width})),c=n?0:Mf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function EZ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var b6=(t,e,n,r)=>t.reduce((a,s)=>{var{word:c,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(c),f.width+=d+n;else{var h={words:[c],width:d};a.push(h)}return a},[]),w6=t=>t.reduce((e,n)=>e.width>n.width?e:n),SZ="",aR=(t,e,n,r,a,s,c,d)=>{var f=t.slice(0,e),h=x6({breakAll:n,style:r,children:f+SZ});if(!h)return[!1,[]];var p=b6(h.wordsWithComputedWidth,s,c,d),g=p.length>a||w6(p).width>Number(s);return[g,p]},AZ=(t,e,n,r,a)=>{var{maxLines:s,children:c,style:d,breakAll:f}=t,h=Le(s),p=String(c),g=b6(e,r,n,a);if(!h||a)return g;var x=g.length>s||w6(g).width>Number(r);if(!x)return g;for(var w=0,E=p.length-1,_=0,j;w<=E&&_<=p.length-1;){var C=Math.floor((w+E)/2),L=C-1,[A,D]=aR(p,L,f,d,s,r,n,a),[R]=aR(p,C,f,d,s,r,n,a);if(!A&&!R&&(w=C+1),A&&R&&(E=C-1),!A&&R){j=D;break}_++}return j||g},iR=t=>{var e=rr(t)?[]:t.toString().split(v6);return[{words:e,width:void 0}]},TZ=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:c}=t;if((e||n)&&!yc.isSsr){var d,f,h=x6({breakAll:s,children:r,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return iR(r);return AZ({breakAll:s,children:r,maxLines:c,style:a},d,f,e,!!n)}return iR(r)},N6="#808080",CZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:N6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},E0=N.forwardRef((t,e)=>{var n=Sr(t,CZ),{x:r,y:a,lineHeight:s,capHeight:c,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=rR(n,NZ),x=N.useMemo(()=>TZ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:E,angle:_,className:j,breakAll:C}=g,L=rR(g,_Z);if(!Gi(r)||!Gi(a)||x.length===0)return null;var A=Number(r)+(Le(w)?w:0),D=Number(a)+(Le(E)?E:0);if(!wn(A)||!wn(D))return null;var R;switch(p){case"start":R=Iw("calc(".concat(c,")"));break;case"middle":R=Iw("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:R=Iw("calc(".concat(x.length-1," * -").concat(s,")"));break}var U=[];if(f){var O=x[0].width,{width:V}=g;U.push("scale(".concat(Le(V)&&Le(O)?V/O:1,")"))}return _&&U.push("rotate(".concat(_,", ").concat(A,", ").concat(D,")")),U.length&&(L.transform=U.join(" ")),N.createElement("text",oN({},ka(L),{ref:e,x:A,y:D,className:Mt("recharts-text",j),textAnchor:h,fill:d.includes("url")?N6:d}),x.map((k,I)=>{var P=k.words.join(C?"":" ");return N.createElement("tspan",{x:A,dy:I===0?R:s,key:"".concat(P,"-").concat(I)},P)}))});E0.displayName="Text";var IZ=["labelRef"];function OZ(t,e){if(t==null)return{};var n,r,a=RZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function RZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){DZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DZ(t,e,n){return(e=PZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PZ(t){var e=kZ(t,"string");return typeof e=="symbol"?e:e+""}function kZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(null,arguments)}var _6=N.createContext(null),MZ=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:c,children:d}=t,f=N.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:c}),[e,n,r,a,s,c]);return N.createElement(_6.Provider,{value:f},d)},j6=()=>{var t=N.useContext(_6),e=t0();return t||Vk(e)},LZ=N.createContext(null),UZ=()=>{var t=N.useContext(LZ),e=Ue(f5);return t||e},VZ=t=>{var{value:e,formatter:n}=t,r=rr(t.children)?e:t.children;return typeof n=="function"?n(r):r},Mj=t=>t!=null&&typeof t=="function",zZ=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},BZ=(t,e,n,r,a)=>{var{offset:s,className:c}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:w}=a,E=(h+p)/2,_=zZ(g,x),j=_>=0?1:-1,C,L;switch(e){case"insideStart":C=g+j*s,L=w;break;case"insideEnd":C=x-j*s,L=!w;break;case"end":C=x+j*s,L=w;break;default:throw new Error("Unsupported position ".concat(e))}L=_<=0?L:!L;var A=Mn(d,f,E,C),D=Mn(d,f,E,C+(L?1:-1)*359),R="M".concat(A.x,",").concat(A.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(L?0:1,`,
    `).concat(D.x,",").concat(D.y),U=rr(t.id)?Hf("recharts-radial-line-"):t.id;return N.createElement("text",js({},r,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",c)}),N.createElement("defs",null,N.createElement("path",{id:U,d:R})),N.createElement("textPath",{xlinkHref:"#".concat(U)},n))},$Z=(t,e,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:c,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=Mn(r,a,c+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+c)/2,{x:w,y:E}=Mn(r,a,x,h);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},lN=t=>"cx"in t&&Le(t.cx),FZ=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,s;n!=null&&!lN(n)&&(s=n);var{x:c,y:d,upperWidth:f,lowerWidth:h,height:p}=e,g=c,x=c+(f-h)/2,w=(g+x)/2,E=(f+h)/2,_=g+f/2,j=p>=0?1:-1,C=j*r,L=j>0?"end":"start",A=j>0?"start":"end",D=f>=0?1:-1,R=D*r,U=D>0?"end":"start",O=D>0?"start":"end";if(a==="top"){var V={x:g+f/2,y:d-C,textAnchor:"middle",verticalAnchor:L};return vn(vn({},V),s?{height:Math.max(d-s.y,0),width:f}:{})}if(a==="bottom"){var k={x:x+h/2,y:d+p+C,textAnchor:"middle",verticalAnchor:A};return vn(vn({},k),s?{height:Math.max(s.y+s.height-(d+p),0),width:h}:{})}if(a==="left"){var I={x:w-R,y:d+p/2,textAnchor:U,verticalAnchor:"middle"};return vn(vn({},I),s?{width:Math.max(I.x-s.x,0),height:p}:{})}if(a==="right"){var P={x:w+E+R,y:d+p/2,textAnchor:O,verticalAnchor:"middle"};return vn(vn({},P),s?{width:Math.max(s.x+s.width-P.x,0),height:p}:{})}var B=s?{width:E,height:p}:{};return a==="insideLeft"?vn({x:w+R,y:d+p/2,textAnchor:O,verticalAnchor:"middle"},B):a==="insideRight"?vn({x:w+E-R,y:d+p/2,textAnchor:U,verticalAnchor:"middle"},B):a==="insideTop"?vn({x:g+f/2,y:d+C,textAnchor:"middle",verticalAnchor:A},B):a==="insideBottom"?vn({x:x+h/2,y:d+p-C,textAnchor:"middle",verticalAnchor:L},B):a==="insideTopLeft"?vn({x:g+R,y:d+C,textAnchor:O,verticalAnchor:A},B):a==="insideTopRight"?vn({x:g+f-R,y:d+C,textAnchor:U,verticalAnchor:A},B):a==="insideBottomLeft"?vn({x:x+R,y:d+p-C,textAnchor:O,verticalAnchor:L},B):a==="insideBottomRight"?vn({x:x+h-R,y:d+p-C,textAnchor:U,verticalAnchor:L},B):a&&typeof a=="object"&&(Le(a.x)||ks(a.x))&&(Le(a.y)||ks(a.y))?vn({x:c+jr(a.x,E),y:d+jr(a.y,p),textAnchor:"end",verticalAnchor:"end"},B):vn({x:_,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},B)},qZ={angle:0,offset:5,zIndex:hr.label,position:"middle",textBreakAll:!1};function Do(t){var e=Sr(t,qZ),{viewBox:n,position:r,value:a,children:s,content:c,className:d="",textBreakAll:f,labelRef:h}=e,p=UZ(),g=j6(),x=r==="center"?g:p??g,w,E,_;if(n==null?w=x:lN(n)?w=n:w=Vk(n),!w||rr(a)&&rr(s)&&!N.isValidElement(c)&&typeof c!="function")return null;var j=vn(vn({},e),{},{viewBox:w});if(N.isValidElement(c)){var{labelRef:C}=j,L=OZ(j,IZ);return N.cloneElement(c,L)}if(typeof c=="function"){if(E=N.createElement(c,j),N.isValidElement(E))return E}else E=VZ(e);var A=ka(e);if(lN(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return BZ(e,r,E,A,w);_=$Z(w,e.offset,e.position)}else _=FZ(e,w);return N.createElement(mi,{zIndex:e.zIndex},N.createElement(E0,js({ref:h,className:Mt("recharts-label",d)},A,_,{textAnchor:EZ(A.textAnchor)?A.textAnchor:_.textAnchor,breakAll:f}),E))}Do.displayName="Label";var HZ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?N.createElement(Do,js({key:"label-implicit"},r)):Gi(t)?N.createElement(Do,js({key:"label-implicit",value:t},r)):N.isValidElement(t)?t.type===Do?N.cloneElement(t,vn({key:"label-implicit"},r)):N.createElement(Do,js({key:"label-implicit",content:t},r)):Mj(t)?N.createElement(Do,js({key:"label-implicit",content:t},r)):t&&typeof t=="object"?N.createElement(Do,js({},t,{key:"label-implicit"},r)):null};function GZ(t){var{label:e,labelRef:n}=t,r=j6();return HZ(e,r,n)||null}var Ow={},Rw={},oR;function KZ(){return oR||(oR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Rw)),Rw}var Dw={},lR;function YZ(){return lR||(lR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Dw)),Dw}var cR;function WZ(){return cR||(cR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KZ(),n=YZ(),r=u_();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(Ow)),Ow}var Pw,uR;function XZ(){return uR||(uR=1,Pw=WZ().last),Pw}var QZ=XZ();const JZ=Ji(QZ);var ZZ=["valueAccessor"],eee=["dataKey","clockWise","id","textBreakAll","zIndex"];function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(null,arguments)}function dR(t,e){if(t==null)return{};var n,r,a=tee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nee=t=>Array.isArray(t.value)?JZ(t.value):t.value,E6=N.createContext(void 0),ree=E6.Provider,S6=N.createContext(void 0),aee=S6.Provider;function iee(){return N.useContext(E6)}function see(){return N.useContext(S6)}function ag(t){var{valueAccessor:e=nee}=t,n=dR(t,ZZ),{dataKey:r,clockWise:a,id:s,textBreakAll:c,zIndex:d}=n,f=dR(n,eee),h=iee(),p=see(),g=h||p;return!g||!g.length?null:N.createElement(mi,{zIndex:d??hr.label},N.createElement(Dr,{className:"recharts-label-list"},g.map((x,w)=>{var E,_=rr(r)?e(x,w):en(x&&x.payload,r),j=rr(s)?{}:{id:"".concat(s,"-").concat(w)};return N.createElement(Do,ty({key:"label-".concat(w)},ka(x),f,j,{fill:(E=n.fill)!==null&&E!==void 0?E:x.fill,parentViewBox:x.parentViewBox,value:_,textBreakAll:c,viewBox:x.viewBox,index:w,zIndex:0}))})))}ag.displayName="LabelList";function A6(t){var{label:e}=t;return e?e===!0?N.createElement(ag,{key:"labelList-implicit"}):N.isValidElement(e)||Mj(e)?N.createElement(ag,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(ag,ty({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var T6=t=>t.graphicalItems.polarItems,oee=se([an,Ih],sj),S0=se([T6,un,oee],lj),lee=se([S0],cj),A0=se([lee,Y_],uj),cee=se([A0,un,S0],fj);se([A0,un,S0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,c=en(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:en(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var fR=()=>{},uee=se([A0,un,S0,w0,an],gj),dee=se([un,mj,pj,fR,uee,fR,xt,an],yj),C6=se([un,xt,A0,cee,Ch,an,dee],vj),fee=se([C6,un,sd],wj);se([un,C6,fee,an],_j);var hee={radiusAxis:{},angleAxis:{}},I6=Qr({name:"polarAxis",initialState:hee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Rge,removeRadiusAxis:Dge,addAngleAxis:Pge,removeAngleAxis:kge}=I6.actions,mee=I6.reducer;function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pee(t,e,n){return(e=gee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=yee(t,"string");return typeof e=="symbol"?e:e+""}function yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vee=(t,e)=>e,Lj=se([T6,vee],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),xee=[],Uj=(t,e,n)=>(n==null?void 0:n.length)===0?xee:n,O6=se([Y_,Lj,Uj],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>mR(mR({},e.presentationProps),s.props))),a!=null)return a}}),bee=se([O6,Lj,Uj],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var s,c=en(r,e.nameKey,e.name),d;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:Xy(c,e.dataKey),color:d,payload:r,type:e.legendType}})}),wee=se([O6,Lj,Uj,qn],(t,e,n,r)=>{if(!(e==null||t==null))return jte({offset:r,pieSettings:e,displayedData:t,cells:n})}),kw={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR;function Nee(){if(pR)return Pt;pR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(_){if(typeof _=="object"&&_!==null){var j=_.$$typeof;switch(j){case t:switch(_=_.type,_){case n:case a:case r:case f:case h:case x:return _;default:switch(_=_&&_.$$typeof,_){case c:case d:case g:case p:return _;case s:return _;default:return j}}case e:return j}}}return Pt.ContextConsumer=s,Pt.ContextProvider=c,Pt.Element=t,Pt.ForwardRef=d,Pt.Fragment=n,Pt.Lazy=g,Pt.Memo=p,Pt.Portal=e,Pt.Profiler=a,Pt.StrictMode=r,Pt.Suspense=f,Pt.SuspenseList=h,Pt.isContextConsumer=function(_){return E(_)===s},Pt.isContextProvider=function(_){return E(_)===c},Pt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},Pt.isForwardRef=function(_){return E(_)===d},Pt.isFragment=function(_){return E(_)===n},Pt.isLazy=function(_){return E(_)===g},Pt.isMemo=function(_){return E(_)===p},Pt.isPortal=function(_){return E(_)===e},Pt.isProfiler=function(_){return E(_)===a},Pt.isStrictMode=function(_){return E(_)===r},Pt.isSuspense=function(_){return E(_)===f},Pt.isSuspenseList=function(_){return E(_)===h},Pt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===a||_===r||_===f||_===h||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===p||_.$$typeof===c||_.$$typeof===s||_.$$typeof===d||_.$$typeof===w||_.getModuleId!==void 0)},Pt.typeOf=E,Pt}var gR;function _ee(){return gR||(gR=1,kw.exports=Nee()),kw.exports}var jee=_ee(),yR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",vR=null,Mw=null,R6=t=>{if(t===vR&&Array.isArray(Mw))return Mw;var e=[];return N.Children.forEach(t,n=>{rr(n)||(jee.isFragment(n)?e=e.concat(R6(n.props.children)):e.push(n))}),Mw=e,vR=t,e};function Vj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>yR(a)):r=[yR(e)],R6(t).forEach(a=>{var s=rc(a,"type.displayName")||rc(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var Lw={},xR;function Eee(){return xR||(xR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Lw)),Lw}var Uw,bR;function See(){return bR||(bR=1,Uw=Eee().isPlainObject),Uw}var Aee=See();const Tee=Ji(Aee);function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){Cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cee(t,e,n){return(e=Iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=Oee(t,"string");return typeof e=="symbol"?e:e+""}function Oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(null,arguments)}var _R=(t,e,n,r,a)=>{var s=n-r,c;return c="M ".concat(t,",").concat(e),c+="L ".concat(t+n,",").concat(e),c+="L ".concat(t+n-s/2,",").concat(e+a),c+="L ".concat(t+n-s/2-r,",").concat(e+a),c+="L ".concat(t,",").concat(e," Z"),c},Ree={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dee=t=>{var e=Sr(t,Ree),{x:n,y:r,upperWidth:a,lowerWidth:s,height:c,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=N.useRef(null),[w,E]=N.useState(-1),_=N.useRef(a),j=N.useRef(s),C=N.useRef(c),L=N.useRef(n),A=N.useRef(r),D=l0(t,"trapezoid-");if(N.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var ge=x.current.getTotalLength();ge&&E(ge)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var R=Mt("recharts-trapezoid",d);if(!g)return N.createElement("g",null,N.createElement("path",ny({},ka(e),{className:R,d:_R(n,r,a,s,c)})));var U=_.current,O=j.current,V=C.current,k=L.current,I=A.current,P="0px ".concat(w===-1?1:w,"px"),B="".concat(w,"px 0px"),z=eM(["strokeDasharray"],h,f);return N.createElement(o0,{animationId:D,key:D,canBegin:w>0,duration:h,easing:f,isActive:g,begin:p},ge=>{var ce=zn(U,a,ge),Y=zn(O,s,ge),le=zn(V,c,ge),X=zn(k,n,ge),ye=zn(I,r,ge);x.current&&(_.current=ce,j.current=Y,C.current=le,L.current=X,A.current=ye);var Q=ge>0?{transition:z,strokeDasharray:B}:{strokeDasharray:P};return N.createElement("path",ny({},ka(e),{className:R,d:_R(X,ye,ce,Y,le),ref:x,style:NR(NR({},Q),e.style)}))})},Pee=["option","shapeType","propTransformer","activeClassName"];function kee(t,e){if(t==null)return{};var n,r,a=Mee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Mee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){Lee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lee(t,e,n){return(e=Uee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uee(t){var e=Vee(t,"string");return typeof e=="symbol"?e:e+""}function Vee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zee(t,e){return ry(ry({},e),t)}function Bee(t,e){return t==="symbols"}function ER(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return N.createElement(aM,n);case"trapezoid":return N.createElement(Dee,n);case"sector":return N.createElement(lM,n);case"symbols":if(Bee(e))return N.createElement(V4,n);break;case"curve":return N.createElement(j_,n);default:return null}}function $ee(t){return N.isValidElement(t)?t.props:t}function D6(t){var{option:e,shapeType:n,propTransformer:r=zee,activeClassName:a="recharts-active-shape"}=t,s=kee(t,Pee),c;if(N.isValidElement(e))c=N.cloneElement(e,ry(ry({},s),$ee(e)));else if(typeof e=="function")c=e(s);else if(Tee(e)&&typeof e!="boolean"){var d=r(e,s);c=N.createElement(ER,{shapeType:n,elementProps:d})}else{var f=s;c=N.createElement(ER,{shapeType:n,elementProps:f})}return s.isActive?N.createElement(Dr,{className:a},c):c}var zj=(t,e)=>{var n=rn();return(r,a)=>s=>{t==null||t(r,a,s),n(F5({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Bj=t=>{var e=rn();return(n,r)=>a=>{t==null||t(n,r,a),e(tQ())}},$j=(t,e)=>{var n=rn();return(r,a)=>s=>{t==null||t(r,a,s),n(nQ({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function P6(t){var{tooltipEntrySettings:e}=t,n=rn(),r=Jr(),a=N.useRef(null);return N.useLayoutEffect(()=>{r||(a.current===null?n(QX(e)):a.current!==e&&n(JX({prev:a.current,next:e})),a.current=e)},[e,n,r]),N.useLayoutEffect(()=>()=>{a.current&&(n(ZX(a.current)),a.current=null)},[n]),null}function Fee(t){var{legendPayload:e}=t,n=rn(),r=Jr(),a=N.useRef(null);return N.useLayoutEffect(()=>{r||(a.current===null?n(Xk(e)):a.current!==e&&n(Qk({prev:a.current,next:e})),a.current=e)},[n,r,e]),N.useLayoutEffect(()=>()=>{a.current&&(n(Jk(a.current)),a.current=null)},[n]),null}function qee(t){var{legendPayload:e}=t,n=rn(),r=Ue(xt),a=N.useRef(null);return N.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(Xk(e)):a.current!==e&&n(Qk({prev:a.current,next:e})),a.current=e)},[n,r,e]),N.useLayoutEffect(()=>()=>{a.current&&(n(Jk(a.current)),a.current=null)},[n]),null}var Vw,Hee=()=>{var[t]=N.useState(()=>Hf("uid-"));return t},Gee=(Vw=XV.useId)!==null&&Vw!==void 0?Vw:Hee;function k6(t,e){var n=Gee();return e||(t?"".concat(t,"-").concat(n):n)}var Kee=N.createContext(void 0),M6=t=>{var{id:e,type:n,children:r}=t,a=k6("recharts-".concat(n),e);return N.createElement(Kee.Provider,{value:a},r(a))},Yee={cartesianItems:[],polarItems:[]},L6=Qr({name:"graphicalItems",initialState:Yee,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Zt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=oi(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:Zt()},removeCartesianGraphicalItem:{reducer(t,e){var n=oi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Zt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Zt()},removePolarGraphicalItem:{reducer(t,e){var n=oi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Zt()}}}),{addCartesianGraphicalItem:Wee,replaceCartesianGraphicalItem:Xee,removeCartesianGraphicalItem:Qee,addPolarGraphicalItem:Jee,removePolarGraphicalItem:Zee}=L6.actions,ete=L6.reducer,tte=t=>{var e=rn(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(Wee(t)):n.current!==t&&e(Xee({prev:n.current,next:t})),n.current=t},[e,t]),N.useLayoutEffect(()=>()=>{n.current&&(e(Qee(n.current)),n.current=null)},[e]),null},nte=N.memo(tte);function rte(t){var e=rn();return N.useLayoutEffect(()=>(e(Jee(t)),()=>{e(Zee(t))}),[e,t]),null}var ate=["key"],ite=["onMouseEnter","onClick","onMouseLeave"],ste=["id"],ote=["id"];function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lte(t,e,n){return(e=cte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(null,arguments)}function T0(t,e){if(t==null)return{};var n,r,a=dte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function dte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fte(t){var e=N.useMemo(()=>Vj(t.children,Uh),[t.children]),n=Ue(r=>bee(r,t.id,e));return n==null?null:N.createElement(qee,{legendPayload:n})}var hte=N.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:c,name:d,hide:f,tooltipType:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:c,dataKey:e,nameKey:n,name:Xy(d,e),hide:f,type:h,color:c,unit:""}};return N.createElement(P6,{tooltipEntrySettings:p})}),mte=(t,e)=>t>e?"start":t<e?"end":"middle",pte=(t,e,n)=>jr(typeof e=="function"?e(t):e,n,n*.8),gte=(t,e,n)=>{var{top:r,left:a,width:s,height:c}=e,d=iM(s,c),f=a+jr(t.cx,s,s/2),h=r+jr(t.cy,c,c/2),p=jr(t.innerRadius,d,0),g=pte(n,t.outerRadius,d),x=t.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},yte=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function vte(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var xte=(t,e)=>{if(N.isValidElement(t))return N.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Mt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=T0(e,ate);return N.createElement(j_,Ko({},a,{type:"linear",className:n}))},bte=(t,e,n)=>{if(N.isValidElement(t))return N.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),N.isValidElement(r)))return r;var a=Mt("recharts-pie-label-text",vte(t));return N.createElement(E0,Ko({},e,{alignmentBaseline:"middle",className:a}),r)};function wte(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:c}=n;if(!r||!a||!e)return null;var d=li(n),f=qf(a),h=qf(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((x,w)=>{var E=(x.startAngle+x.endAngle)/2,_=Mn(x.cx,x.cy,x.outerRadius+p,E),j=hn(hn(hn(hn({},d),x),{},{stroke:"none"},f),{},{index:w,textAnchor:mte(_.x,x.cx)},_),C=hn(hn(hn(hn({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:w,points:[Mn(x.cx,x.cy,x.outerRadius,E),_],key:"line"});return N.createElement(mi,{zIndex:hr.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(w)},N.createElement(Dr,null,s&&xte(s,C),bte(a,j,en(x,c))))});return N.createElement(Dr,{className:"recharts-pie-labels"},g)}function Nte(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?N.createElement(A6,{label:a}):N.createElement(wte,{sectors:e,props:n,showLabels:r})}function _te(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s}=t,c=Ue(oc),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,p=T0(a,ite),g=zj(d,a.dataKey),x=Bj(h),w=$j(f,a.dataKey);return e==null||e.length===0?null:N.createElement(N.Fragment,null,e.map((E,_)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var j=String(_)===c,C=c?r:null,L=n&&j?n:C,A=hn(hn({},E),{},{stroke:E.stroke,tabIndex:-1,[Dk]:_,[Pk]:a.dataKey});return N.createElement(Dr,Ko({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},zy(p,E,_),{onMouseEnter:g(E,_),onMouseLeave:x(E,_),onClick:w(E,_)}),N.createElement(D6,Ko({option:s??L,shapeType:"sector",isActive:j},A)))}))}function jte(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),w=yte(d,f),E=Math.abs(w),_=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,j=r.filter(U=>en(U,h,0)!==0).length,C=(E>=360?j:j-1)*_,L=E-j*x-C,A=r.reduce((U,O)=>{var V=en(O,h,0);return U+(Le(V)?V:0)},0),D;if(A>0){var R;D=r.map((U,O)=>{var V=en(U,h,0),k=en(U,p,O),I=gte(n,s,U),P=(Le(V)?V:0)/A,B,z=hn(hn({},U),a&&a[O]&&a[O].props);O?B=R.endAngle+nr(w)*_*(V!==0?1:0):B=d;var ge=B+nr(w)*((V!==0?x:0)+P*L),ce=(B+ge)/2,Y=(I.innerRadius+I.outerRadius)/2,le=[{name:k,value:V,payload:z,dataKey:h,type:g}],X=Mn(I.cx,I.cy,Y,ce);return R=hn(hn(hn(hn({},n.presentationProps),{},{percent:P,cornerRadius:typeof c=="string"?parseFloat(c):c,name:k,tooltipPayload:le,midAngle:ce,middleRadius:Y,tooltipPosition:X},z),I),{},{value:V,startAngle:B,endAngle:ge,payload:z,paddingAngle:nr(w)*_}),R})}return D}function Ete(t){var{showLabels:e,sectors:n,children:r}=t,a=N.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return N.createElement(aee,{value:e?a:void 0},r)}function Ste(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,x=l0(e,"recharts-pie-"),w=n.current,[E,_]=N.useState(!1),j=N.useCallback(()=>{typeof g=="function"&&g(),_(!1)},[g]),C=N.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);return N.createElement(Ete,{showLabels:!E,sectors:r},N.createElement(o0,{animationId:x,begin:s,duration:c,isActive:a,easing:d,onAnimationStart:C,onAnimationEnd:j,key:x},L=>{var A=[],D=r&&r[0],R=D==null?void 0:D.startAngle;return r==null||r.forEach((U,O)=>{var V=w&&w[O],k=O>0?rc(U,"paddingAngle",0):0;if(V){var I=zn(V.endAngle-V.startAngle,U.endAngle-U.startAngle,L),P=hn(hn({},U),{},{startAngle:R+k,endAngle:R+I+k});A.push(P),R=P.endAngle}else{var{endAngle:B,startAngle:z}=U,ge=zn(0,B-z,L),ce=hn(hn({},U),{},{startAngle:R+k,endAngle:R+ge+k});A.push(ce),R=ce.endAngle}}),n.current=A,N.createElement(Dr,null,N.createElement(_te,{sectors:A,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape}))}),N.createElement(Nte,{showLabels:!E,sectors:r,props:e}),e.children)}var Ate={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!yc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:hr.area};function Tte(t){var{id:e}=t,n=T0(t,ste),{hide:r,className:a,rootTabIndex:s}=t,c=N.useMemo(()=>Vj(t.children,Uh),[t.children]),d=Ue(p=>wee(p,e,c)),f=N.useRef(null),h=Mt("recharts-pie",a);return r||d==null?(f.current=null,N.createElement(Dr,{tabIndex:s,className:h})):N.createElement(mi,{zIndex:t.zIndex},N.createElement(hte,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),N.createElement(Dr,{tabIndex:s,className:h},N.createElement(Ste,{props:hn(hn({},n),{},{sectors:d}),previousSectorsRef:f})))}function U6(t){var e=Sr(t,Ate),{id:n}=e,r=T0(e,ote),a=li(r);return N.createElement(M6,{id:n,type:"pie"},s=>N.createElement(N.Fragment,null,N.createElement(rte,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),N.createElement(fte,Ko({},r,{id:s})),N.createElement(Tte,Ko({},r,{id:s}))))}U6.displayName="Pie";function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function TR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){Cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e,n){return(e=Ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=Ote(t,"string");return typeof e=="symbol"?e:e+""}function Ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rte={xAxis:{},yAxis:{},zAxis:{}},V6=Qr({name:"cartesianAxis",initialState:Rte,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Zt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Zt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Zt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Zt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Zt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Zt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Zt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Zt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Zt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var c=[...s,r].slice(-3);t.yAxis[n]=TR(TR({},t.yAxis[n]),{},{width:r,widthHistory:c})}}}}),{addXAxis:Dte,replaceXAxis:Pte,removeXAxis:kte,addYAxis:Mte,replaceYAxis:Lte,removeYAxis:Ute,addZAxis:Mge,replaceZAxis:Lge,removeZAxis:Uge,updateYAxisWidth:Vte}=V6.actions,zte=V6.reducer,Bte=se([qn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),$te=se([Bte,Ks,Ys],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),z6=()=>Ue($te),Fte="Invariant failed";function qte(t,e){throw new Error(Fte)}var Hte=["x","y"];function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cN.apply(null,arguments)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){Gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Yte(t,"string");return typeof e=="symbol"?e:e+""}function Yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wte(t,e){if(t==null)return{};var n,r,a=Xte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Xte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qte(t,e){var{x:n,y:r}=t,a=Wte(t,Hte),s="".concat(n),c=parseInt(s,10),d="".concat(r),f=parseInt(d,10),h="".concat(e.height||a.height),p=parseInt(h,10),g="".concat(e.width||a.width),x=parseInt(g,10);return Tf(Tf(Tf(Tf(Tf({},e),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:p,width:x,name:e.name,radius:e.radius})}function ay(t){return N.createElement(D6,cN({shapeType:"rectangle",propTransformer:Qte,activeClassName:"recharts-active-bar"},t))}var Jte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Le(e))return e;var s=Le(r)||rr(r);return s?e(r,a):(s||qte(),n)}},Zte={},B6=Qr({name:"errorBars",initialState:Zte,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Vge,replaceErrorBar:zge,removeErrorBar:Bge}=B6.actions,ene=B6.reducer,tne=["children"];function nne(t,e){if(t==null)return{};var n,r,a=rne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function rne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ane={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ine=N.createContext(ane);function sne(t){var{children:e}=t,n=nne(t,tne);return N.createElement(ine.Provider,{value:n},e)}function $6(t,e){var n,r,a=Ue(h=>Xs(h,t)),s=Ue(h=>Qs(h,e)),c=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Jn.allowDataOverflow,d=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Zn.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function one(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=z6(),{needClipX:s,needClipY:c,needClip:d}=$6(e,n);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:s?f:f-p/2,y:c?h:h-g/2,width:s?p:p*2,height:c?g:g*2}))}function lne(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&wn(t.zIndex)?t.zIndex:e}var zw={exports:{}},Bw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR;function cne(){if(IR)return Bw;IR=1;var t=Ju();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Bw.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=c(function(){function j(R){if(!C){if(C=!0,L=R,R=g(R),x!==void 0&&E.hasValue){var U=E.value;if(x(U,R))return A=U}return A=R}if(U=A,n(L,R))return U;var O=g(R);return x!==void 0&&x(U,O)?(L=R,U):(L=R,A=O)}var C=!1,L,A,D=p===void 0?null:p;return[function(){return j(h())},D===null?void 0:function(){return j(D())}]},[h,p,g,x]);var _=r(f,w[0],w[1]);return s(function(){E.hasValue=!0,E.value=_},[_]),d(_),_},Bw}var OR;function une(){return OR||(OR=1,zw.exports=cne()),zw.exports}une();function dne(t){t()}function fne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){dne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var RR={notify(){},get:()=>[]};function hne(t,e){let n,r=RR,a=0,s=!1;function c(_){p();const j=r.subscribe(_);let C=!1;return()=>{C||(C=!0,j(),g())}}function d(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){a++,n||(n=t.subscribe(f),r=fne())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=RR)}function x(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const E={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:w,getListeners:()=>r};return E}var mne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pne=mne(),gne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yne=gne(),vne=()=>pne||yne?N.useLayoutEffect:N.useEffect,xne=vne();function DR(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function bne(t,e){if(DR(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!DR(t[n[a]],e[n[a]]))return!1;return!0}var $w=Symbol.for("react-redux-context"),Fw=typeof globalThis<"u"?globalThis:{};function wne(){if(!N.createContext)return{};const t=Fw[$w]??(Fw[$w]=new Map);let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var Nne=wne();function _ne(t){const{children:e,context:n,serverState:r,store:a}=t,s=N.useMemo(()=>{const f=hne(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),c=N.useMemo(()=>a.getState(),[a]);xne(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const d=n||Nne;return N.createElement(d.Provider,{value:s},e)}var jne=_ne,Ene=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Sne(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Fj(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Ene.has(r)){if(t[r]==null&&e[r]==null)continue;if(!bne(t[r],e[r]))return!1}else if(!Sne(t[r],e[r]))return!1;return!0}var Ane=["onMouseEnter","onMouseLeave","onClick"],Tne=["value","background","tooltipPosition"],Cne=["id"],Ine=["onMouseEnter","onClick","onMouseLeave"];function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(null,arguments)}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return(e=Rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rne(t){var e=Dne(t,"string");return typeof e=="symbol"?e:e+""}function Dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iy(t,e){if(t==null)return{};var n,r,a=Pne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Pne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kne=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:Xy(n,e),payload:t}]},Mne=N.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:c,unit:d,tooltipType:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Xy(s,e),hide:c,type:f,color:a,unit:d}};return N.createElement(P6,{tooltipEntrySettings:h})});function Lne(t){var e=Ue(oc),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:c,onMouseLeave:d,onClick:f}=s,h=iy(s,Ane),p=zj(c,r),g=Bj(d),x=$j(f,r);if(!a||n==null)return null;var w=qf(a);return N.createElement(mi,{zIndex:lne(a,hr.barBackground)},n.map((E,_)=>{var{value:j,background:C,tooltipPosition:L}=E,A=iy(E,Tne);if(!C)return null;var D=p(E,_),R=g(E,_),U=x(E,_),O=Ir(Ir(Ir(Ir(Ir({option:a,isActive:String(_)===e},A),{},{fill:"#eee"},C),w),zy(h,E,_)),{},{onMouseEnter:D,onMouseLeave:R,onClick:U,dataKey:r,index:_,className:"recharts-bar-background-rectangle"});return N.createElement(ay,Bs({key:"background-bar-".concat(_)},O))}))}function Une(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Ir(Ir({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return N.createElement(ree,{value:e?a:void 0},n)}function Vne(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:s,dataKey:c}=t,d=Ue(oc),f=Ue(r6),h=n&&String(s)===d&&(f==null||c===f),p=h?n:e;return h?N.createElement(mi,{zIndex:hr.activeBar},N.createElement(ay,Bs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:c}))):N.createElement(ay,Bs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:c}))}function zne(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:s}=t;return N.createElement(ay,Bs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:s}))}function Bne(t){var e,{data:n,props:r}=t,a=(e=li(r))!==null&&e!==void 0?e:{},{id:s}=a,c=iy(a,Cne),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:x}=r,w=iy(r,Ine),E=zj(p,f),_=Bj(x),j=$j(g,f);return n?N.createElement(N.Fragment,null,n.map((C,L)=>N.createElement(Dr,Bs({key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(L),className:"recharts-bar-rectangle"},zy(w,C,L),{onMouseEnter:E(C,L),onMouseLeave:_(C,L),onClick:j(C,L)}),h?N.createElement(Vne,{shape:d,activeBar:h,baseProps:c,entry:C,index:L,dataKey:f}):N.createElement(zne,{shape:d,baseProps:c,entry:C,index:L,dataKey:f})))):null}function $ne(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=l0(e,"recharts-bar-"),[w,E]=N.useState(!1),_=!w,j=N.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),C=N.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return N.createElement(Une,{showLabels:_,rects:r},N.createElement(o0,{animationId:x,begin:c,duration:d,isActive:s,easing:f,onAnimationEnd:j,onAnimationStart:C,key:x},L=>{var A=L===1?r:r==null?void 0:r.map((D,R)=>{var U=g&&g[R];if(U)return Ir(Ir({},D),{},{x:zn(U.x,D.x,L),y:zn(U.y,D.y,L),width:zn(U.width,D.width,L),height:zn(U.height,D.height,L)});if(a==="horizontal"){var O=zn(0,D.height,L),V=zn(D.stackedBarStart,D.y,L);return Ir(Ir({},D),{},{y:V,height:O})}var k=zn(0,D.width,L),I=zn(D.stackedBarStart,D.x,L);return Ir(Ir({},D),{},{width:k,x:I})});return L>0&&(n.current=A??null),A==null?null:N.createElement(Dr,null,N.createElement(Bne,{props:e,data:A}))}),N.createElement(A6,{label:e.label}),e.children)}function Fne(t){var e=N.useRef(null);return N.createElement($ne,{previousRectanglesRef:e,props:t})}var F6=0,qne=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:en(t,e)}};class Hne extends N.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:c,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=Mt("recharts-bar",a),g=h;return N.createElement(Dr,{className:p,id:h},d&&N.createElement("defs",null,N.createElement(one,{clipPathId:g,xAxisId:s,yAxisId:c})),N.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},N.createElement(Lne,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),N.createElement(Fne,this.props)))}}var Gne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:F6,xAxisId:0,yAxisId:0,zIndex:hr.bar};function Kne(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=$6(e,n),x=n0(),w=Jr(),E=Vj(t.children,Uh),_=Ue(L=>wre(L,e,n,w,t.id,E));if(x!=="vertical"&&x!=="horizontal")return null;var j,C=_==null?void 0:_[0];return C==null||C.height==null||C.width==null?j=0:j=x==="vertical"?C.height/2:C.width/2,N.createElement(sne,{xAxisId:e,yAxisId:n,data:_,dataPointFormatter:qne,errorBarOffset:j},N.createElement(Hne,Bs({},t,{layout:x,needClip:g,data:_,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Yne(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:w,parentViewBox:E,dataStartIndex:_}=t,j=e==="horizontal"?d:c,C=p?j.scale.domain():null,L=Fq({numericAxis:j}),A=j.scale(L);return g.map((D,R)=>{var U,O,V,k,I,P;p?U=Lq(p[R+_],C):(U=en(D,n),Array.isArray(U)||(U=[L,U]));var B=Jte(r,F6)(U[1],R);if(e==="horizontal"){var z,[ge,ce]=[d.scale(U[0]),d.scale(U[1])];O=tI({axis:c,ticks:f,bandSize:s,offset:a.offset,entry:D,index:R}),V=(z=ce??ge)!==null&&z!==void 0?z:void 0,k=a.size;var Y=ge-ce;if(I=ci(Y)?0:Y,P={x:O,y:x.top,width:k,height:x.height},Math.abs(B)>0&&Math.abs(I)<Math.abs(B)){var le=nr(I||B)*(Math.abs(B)-Math.abs(I));V-=le,I+=le}}else{var[X,ye]=[c.scale(U[0]),c.scale(U[1])];if(O=X,V=tI({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:D,index:R}),k=ye-X,I=a.size,P={x:x.left,y:V,width:x.width,height:I},Math.abs(B)>0&&Math.abs(k)<Math.abs(B)){var Q=nr(k||B)*(Math.abs(B)-Math.abs(k));k+=Q}}if(O==null||V==null||k==null||I==null)return null;var q=Ir(Ir({},D),{},{stackedBarStart:A,x:O,y:V,width:k,height:I,value:p?U:U[1],payload:D,background:P,tooltipPosition:{x:O+k/2,y:V+I/2},parentViewBox:E},w&&w[R]&&w[R].props);return q}).filter(Boolean)}function Wne(t){var e=Sr(t,Gne),n=Jr();return N.createElement(M6,{id:e.id,type:"bar"},r=>N.createElement(N.Fragment,null,N.createElement(Fee,{legendPayload:kne(e)}),N.createElement(Mne,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),N.createElement(nte,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:$q(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),N.createElement(mi,{zIndex:e.zIndex},N.createElement(Kne,Bs({},e,{id:r})))))}var q6=N.memo(Wne,Fj);q6.displayName="Bar";function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){Xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xne(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Jne(t,"string");return typeof e=="symbol"?e:e+""}function Jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zne=(t,e)=>e,ere=(t,e,n)=>n,tre=(t,e,n,r)=>r,nre=(t,e,n,r,a)=>a,Vh=se([oj,nre],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),rre=se([Vh],t=>t==null?void 0:t.maxBarSize),are=(t,e,n,r,a,s)=>s,MR=(t,e,n)=>{var r=n??t;if(!rr(r))return jr(r,e,0)},ire=se([xt,oj,Zne,ere,tre],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),sre=(t,e,n,r)=>{var a=xt(t);return a==="horizontal"?nN(t,"yAxis",n,r):nN(t,"xAxis",e,r)},ore=(t,e,n)=>{var r=xt(t);return r==="horizontal"?RO(t,"xAxis",e):RO(t,"yAxis",n)},lre=(t,e,n)=>{var r={},a=t.filter(y0),s=t.filter(h=>h.stackId==null),c=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(c).map(h=>{var[p,g]=h,x=g.map(E=>E.dataKey),w=MR(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:w}}),f=s.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=MR(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},cre=se([ire,qW,ore],lre),ure=(t,e,n,r,a)=>{var s,c,d=Vh(t,e,n,r,a);if(d!=null){var f=xt(t),h=a5(t),{maxBarSize:p}=d,g=rr(p)?h:p,x,w;return f==="horizontal"?(x=qu(t,"xAxis",e,r),w=Fu(t,"xAxis",e,r)):(x=qu(t,"yAxis",n,r),w=Fu(t,"yAxis",n,r)),(s=(c=Rg(x,w,!0))!==null&&c!==void 0?c:g)!==null&&s!==void 0?s:0}},H6=(t,e,n,r)=>{var a=xt(t),s,c;return a==="horizontal"?(s=qu(t,"xAxis",e,r),c=Fu(t,"xAxis",e,r)):(s=qu(t,"yAxis",n,r),c=Fu(t,"yAxis",n,r)),Rg(s,c)};function dre(t,e,n,r,a){var s=r.length;if(!(s<1)){var c=jr(t,n,0,!0),d,f=[];if(wn(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((C,L)=>C+(L.barSize||0),0);g+=(s-1)*c,g>=n&&(g-=(s-1)*c,c=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var x=(n-g)/2>>0,w={offset:x-c,size:0};d=r.reduce((C,L)=>{var A,D={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:w.offset+w.size+c,size:h?p:(A=L.barSize)!==null&&A!==void 0?A:0}},R=[...C,D];return w=R[R.length-1].position,R},f)}else{var E=jr(e,n,0,!0);n-2*E-(s-1)*c<=0&&(c=0);var _=(n-2*E-(s-1)*c)/s;_>1&&(_>>=0);var j=wn(a)?Math.min(_,a):_;d=r.reduce((C,L,A)=>[...C,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:E+(_+c)*A+(_-j)/2,size:j}}],f)}return d}}var fre=(t,e,n,r,a,s,c)=>{var d=rr(c)?e:c,f=dre(n,r,a!==s?a:s,t,d);return a!==s&&f!=null&&(f=f.map(h=>Vp(Vp({},h),{},{position:Vp(Vp({},h.position),{},{offset:h.position.offset-a/2})}))),f},hre=se([cre,a5,FW,i5,ure,H6,rre],fre),mre=(t,e,n,r)=>qu(t,"xAxis",e,r),pre=(t,e,n,r)=>qu(t,"yAxis",n,r),gre=(t,e,n,r)=>Fu(t,"xAxis",e,r),yre=(t,e,n,r)=>Fu(t,"yAxis",n,r),vre=se([hre,Vh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),xre=(t,e)=>{var n=aj(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:s}=a;if(s)return s.find(c=>c.key===n)}}}},bre=se([sre,Vh],xre),wre=se([qn,b_,mre,pre,gre,yre,vre,xt,W_,H6,bre,Vh,are],(t,e,n,r,a,s,c,d,f,h,p,g,x)=>{var{chartData:w,dataStartIndex:E,dataEndIndex:_}=f;if(!(g==null||c==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||s==null||h==null)){var{data:j}=g,C;if(j!=null&&j.length>0?C=j:C=w==null?void 0:w.slice(E,_+1),C!=null)return Yne({layout:d,barSettings:g,pos:c,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:C,offset:t,cells:x,dataStartIndex:E})}}),G6=t=>{var{chartData:e}=t,n=rn(),r=Jr();return N.useEffect(()=>r?()=>{}:(n(HO(e)),()=>{n(HO(void 0))}),[e,n,r]),null},LR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},K6=Qr({name:"brush",initialState:LR,reducers:{setBrushSettings(t,e){return e.payload==null?LR:e.payload}}}),{setBrushSettings:$ge}=K6.actions,Nre=K6.reducer;function _re(t,e,n){return(e=jre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}function Ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qj{static create(e){return new qj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}_re(qj,"EPS",1e-4);function Sre(t){return(t%180+180)%180}var Are=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Sre(a),c=s*Math.PI/180,d=Math.atan(r/n),f=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Tre={dots:[],areas:[],lines:[]},Y6=Qr({name:"referenceElements",initialState:Tre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=oi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=oi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=oi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Fge,removeDot:qge,addArea:Hge,removeArea:Gge,addLine:Kge,removeLine:Yge}=Y6.actions,Cre=Y6.reducer,Ire=N.createContext(void 0),Ore=t=>{var{children:e}=t,[n]=N.useState("".concat(Hf("recharts"),"-clip")),r=z6();if(r==null)return null;var{x:a,y:s,width:c,height:d}=r;return N.createElement(Ire.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:a,y:s,height:d,width:c}))),e)};function W6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Rre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Are(r,n)}function Dre(t,e,n){var r=n==="width",{x:a,y:s,width:c,height:d}=t;return e===1?{start:r?a:s,end:r?a+c:s+d}:{start:r?a+c:s+d,end:r?a:s}}function sy(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function Pre(t,e){return W6(t,e+1)}function kre(t,e,n,r,a){for(var s=(r||[]).slice(),{start:c,end:d}=e,f=0,h=1,p=c,g=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:W6(r,h)};var _=f,j,C=()=>(j===void 0&&(j=n(E,_)),j),L=E.coordinate,A=f===0||sy(t,L,C,p,d);A||(f=0,p=c,h+=1),A&&(p=L+t*(C()/2+a),f+=h)},x;h<=s.length;)if(x=g(),x)return x.v;return[]}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mre(t,e,n){return(e=Lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lre(t){var e=Ure(t,"string");return typeof e=="symbol"?e:e+""}function Ure(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vre(t,e,n,r,a){for(var s=(r||[]).slice(),c=s.length,{start:d}=e,{end:f}=e,h=function(x){var w=s[x],E,_=()=>(E===void 0&&(E=n(w,x)),E);if(x===c-1){var j=t*(w.coordinate+t*_()/2-f);s[x]=w=xr(xr({},w),{},{tickCoord:j>0?w.coordinate-j*t:w.coordinate})}else s[x]=w=xr(xr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var C=sy(t,w.tickCoord,_,d,f);C&&(f=w.tickCoord-t*(_()/2+a),s[x]=xr(xr({},w),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return s}function zre(t,e,n,r,a,s){var c=(r||[]).slice(),d=c.length,{start:f,end:h}=e;if(s){var p=r[d-1],g=n(p,d-1),x=t*(p.coordinate+t*g/2-h);if(c[d-1]=p=xr(xr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate}),p.tickCoord!=null){var w=sy(t,p.tickCoord,()=>g,f,h);w&&(h=p.tickCoord-t*(g/2+a),c[d-1]=xr(xr({},p),{},{isShow:!0}))}}for(var E=s?d-1:d,_=function(L){var A=c[L],D,R=()=>(D===void 0&&(D=n(A,L)),D);if(L===0){var U=t*(A.coordinate-t*R()/2-f);c[L]=A=xr(xr({},A),{},{tickCoord:U<0?A.coordinate-U*t:A.coordinate})}else c[L]=A=xr(xr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var O=sy(t,A.tickCoord,R,f,h);O&&(f=A.tickCoord+t*(R()/2+a),c[L]=xr(xr({},A),{},{isShow:!0}))}},j=0;j<E;j++)_(j);return c}function Hj(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:c,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if(Le(f)||yc.isSsr){var x;return(x=Pre(a,Le(f)?f:0))!==null&&x!==void 0?x:[]}var w=[],E=d==="top"||d==="bottom"?"width":"height",_=p&&E==="width"?Mf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},j=(A,D)=>{var R=typeof h=="function"?h(A.value,D):A.value;return E==="width"?Rre(Mf(R,{fontSize:e,letterSpacing:n}),_,g):Mf(R,{fontSize:e,letterSpacing:n})[E]},C=a.length>=2?nr(a[1].coordinate-a[0].coordinate):1,L=Dre(s,C,E);return f==="equidistantPreserveStart"?kre(C,L,j,a,c):(f==="preserveStart"||f==="preserveStartEnd"?w=zre(C,L,j,a,c,f==="preserveStartEnd"):w=Vre(C,L,j,a,c),w.filter(A=>A.isShow))}var Bre=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=a+s,h=c+f+d+(n?r:0);return Math.round(h)}return 0},$re=["axisLine","width","height","className","hide","ticks","axisType"];function Fre(t,e){if(t==null)return{};var n,r,a=qre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function qre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(null,arguments)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){Hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hre(t,e,n){return(e=Gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gre(t){var e=Kre(t,"string");return typeof e=="symbol"?e:e+""}function Kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:hr.axis};function Yre(t){var{x:e,y:n,width:r,height:a,orientation:s,mirror:c,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=Dn(Dn(Dn({},f),li(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);h=Dn(Dn({},h),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=Dn(Dn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return N.createElement("line",lc({},h,{className:Mt("recharts-cartesian-axis-line",rc(d,"className"))}))}function Wre(t,e,n,r,a,s,c,d,f){var h,p,g,x,w,E,_=d?-1:1,j=t.tickSize||c,C=Le(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,x=n+ +!d*a,g=x-_*j,E=g-_*f,w=C;break;case"left":g=x=t.coordinate,p=e+ +!d*r,h=p-_*j,w=h-_*f,E=C;break;case"right":g=x=t.coordinate,p=e+ +d*r,h=p+_*j,w=h+_*f,E=C;break;default:h=p=t.coordinate,x=n+ +d*a,g=x+_*j,E=g+_*f,w=C;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:w,y:E}}}function Xre(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Qre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Jre(t){var{option:e,tickProps:n,value:r}=t,a,s=Mt(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(e))a=N.cloneElement(e,Dn(Dn({},n),{},{className:s}));else if(typeof e=="function")a=e(Dn(Dn({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Mt(c,e==null?void 0:e.className)),a=N.createElement(E0,lc({},n,{className:c}),r)}return a}var Zre=N.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:c,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x,y:w,width:E,height:_,tickSize:j,tickMargin:C,fontSize:L,letterSpacing:A,getTicksConfig:D,events:R,axisType:U}=t,O=Hj(Dn(Dn({},D),{},{ticks:n}),L,A),V=Xre(p,g),k=Qre(p,g),I=li(D),P=qf(r),B={};typeof a=="object"&&(B=a);var z=Dn(Dn({},I),{},{fill:"none"},B),ge=O.map(le=>Dn({entry:le},Wre(le,x,w,E,_,p,j,g,C))),ce=ge.map(le=>{var{entry:X,line:ye}=le;return N.createElement(Dr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},a&&N.createElement("line",lc({},z,ye,{className:Mt("recharts-cartesian-axis-tick-line",rc(a,"className"))})))}),Y=ge.map((le,X)=>{var{entry:ye,tick:Q}=le,q=Dn(Dn(Dn(Dn({textAnchor:V,verticalAnchor:k},I),{},{stroke:"none",fill:s},P),Q),{},{index:X,payload:ye,visibleTicksCount:O.length,tickFormatter:c,padding:f},h);return N.createElement(Dr,lc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ye.value,"-").concat(ye.coordinate,"-").concat(ye.tickCoord)},zy(R,ye,X)),r&&N.createElement(Jre,{option:r,tickProps:q,value:"".concat(typeof c=="function"?c(ye.value,X):ye.value).concat(d||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(U,"-ticks")},Y.length>0&&N.createElement(mi,{zIndex:hr.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(U,"-tick-labels"),ref:e},Y)),ce.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(U,"-tick-lines")},ce))}),eae=N.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:s,hide:c,ticks:d,axisType:f}=t,h=Fre(t,$re),[p,g]=N.useState(""),[x,w]=N.useState(""),E=N.useRef(null);N.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var j;return Bre({ticks:E.current,label:(j=t.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var _=N.useCallback(j=>{if(j){var C=j.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=C;var L=C[0];if(L){var A=window.getComputedStyle(L),D=A.fontSize,R=A.letterSpacing;(D!==p||R!==x)&&(g(D),w(R))}}},[p,x]);return c||r!=null&&r<=0||a!=null&&a<=0?null:N.createElement(mi,{zIndex:t.zIndex},N.createElement(Dr,{className:Mt("recharts-cartesian-axis",s)},N.createElement(Yre,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:li(t)}),N.createElement(Zre,{ref:_,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),N.createElement(MZ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},N.createElement(GZ,{label:t.label,labelRef:t.labelRef}),t.children)))}),Gj=N.forwardRef((t,e)=>{var n=Sr(t,Rs);return N.createElement(eae,lc({},n,{ref:e}))});Gj.displayName="CartesianAxis";var tae=["x1","y1","x2","y2","key"],nae=["offset"],rae=["xAxisId","yAxisId"],aae=["xAxisId","yAxisId"];function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iae(t,e,n){return(e=sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sae(t){var e=oae(t,"string");return typeof e=="symbol"?e:e+""}function oae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(null,arguments)}function oy(t,e){if(t==null)return{};var n,r,a=lae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cae=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:c,ry:d}=t;return N.createElement("rect",{x:r,y:a,ry:d,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function X6(t){var{option:e,lineItemProps:n}=t,r;if(N.isValidElement(e))r=N.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:s,y1:c,x2:d,y2:f,key:h}=n,p=oy(n,tae),g=(a=li(p))!==null&&a!==void 0?a:{},{offset:x}=g,w=oy(g,nae);r=N.createElement("line",Yl({},w,{x1:s,y1:c,x2:d,y2:f,fill:"none",key:h}))}return r}function uae(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=oy(t,rae),f=a.map((h,p)=>{var g=wr(wr({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return N.createElement(X6,{key:"line-".concat(p),option:r,lineItemProps:g})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function dae(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=oy(t,aae),f=a.map((h,p)=>{var g=wr(wr({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return N.createElement(X6,{option:r,lineItemProps:g,key:"line-".concat(p)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function fae(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:c,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+c-g:h[x+1]-g;if(E<=0)return null;var _=x%e.length;return N.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:E,width:s,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function hae(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:c,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+c-g:h[x+1]-g;if(E<=0)return null;var _=x%n.length;return N.createElement("rect",{key:"react-".concat(x),x:g,y:s,width:E,height:d,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var mae=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return Ik(Hj(wr(wr(wr({},Rs),n),{},{ticks:Ok(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},pae=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return Ik(Hj(wr(wr(wr({},Rs),n),{},{ticks:Ok(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},gae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:hr.grid};function Q6(t){var e=Bk(),n=$k(),r=zk(),a=wr(wr({},Sr(t,gae)),{},{x:Le(t.x)?t.x:r.left,y:Le(t.y)?t.y:r.top,width:Le(t.width)?t.width:r.width,height:Le(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:w}=a,E=Jr(),_=Ue(k=>DO(k,"xAxis",s,E)),j=Ue(k=>DO(k,"yAxis",c,E));if(!Yi(h)||!Yi(p)||!Le(d)||!Le(f))return null;var C=a.verticalCoordinatesGenerator||mae,L=a.horizontalCoordinatesGenerator||pae,{horizontalPoints:A,verticalPoints:D}=a;if((!A||!A.length)&&typeof L=="function"){var R=x&&x.length,U=L({yAxis:j?wr(wr({},j),{},{ticks:R?x:j.ticks}):void 0,width:e??h,height:n??p,offset:r},R?!0:g);Dg(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(A=U)}if((!D||!D.length)&&typeof C=="function"){var O=w&&w.length,V=C({xAxis:_?wr(wr({},_),{},{ticks:O?w:_.ticks}):void 0,width:e??h,height:n??p,offset:r},O?!0:g);Dg(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(D=V)}return N.createElement(mi,{zIndex:a.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(cae,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),N.createElement(fae,Yl({},a,{horizontalPoints:A})),N.createElement(hae,Yl({},a,{verticalPoints:D})),N.createElement(uae,Yl({},a,{offset:r,horizontalPoints:A,xAxis:_,yAxis:j})),N.createElement(dae,Yl({},a,{offset:r,verticalPoints:D,xAxis:_,yAxis:j}))))}Q6.displayName="CartesianGrid";var yae=["domain","range"],vae=["domain","range"];function BR(t,e){if(t==null)return{};var n,r,a=xae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $R(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function J6(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=BR(t,yae),{domain:s,range:c}=e,d=BR(e,vae);return!$R(n,s)||!$R(r,c)?!1:Fj(a,d)}var bae=["dangerouslySetInnerHTML","ticks"],wae=["id"];function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uN.apply(null,arguments)}function FR(t,e){if(t==null)return{};var n,r,a=Nae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Nae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _ae(t){var e=rn(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(Dte(t)):n.current!==t&&e(Pte({prev:n.current,next:t})),n.current=t},[t,e]),N.useLayoutEffect(()=>()=>{n.current&&(e(kte(n.current)),n.current=null)},[e]),null}var jae=t=>{var{xAxisId:e,className:n}=t,r=Ue(b_),a=Jr(),s="xAxis",c=Ue(j=>od(j,s,e,a)),d=Ue(j=>L5(j,s,e,a)),f=Ue(j=>D5(j,e)),h=Ue(j=>BX(j,e)),p=Ue(j=>m5(j,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,w=FR(t,bae),{id:E}=p,_=FR(p,wae);return N.createElement(Gj,uN({},w,_,{scale:c,x:h.x,y:h.y,width:f.width,height:f.height,className:Mt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d,axisType:s}))},Eae={allowDataOverflow:Jn.allowDataOverflow,allowDecimals:Jn.allowDecimals,allowDuplicatedCategory:Jn.allowDuplicatedCategory,angle:Jn.angle,axisLine:Rs.axisLine,height:Jn.height,hide:!1,includeHidden:Jn.includeHidden,interval:Jn.interval,minTickGap:Jn.minTickGap,mirror:Jn.mirror,orientation:Jn.orientation,padding:Jn.padding,reversed:Jn.reversed,scale:Jn.scale,tick:Jn.tick,tickCount:Jn.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:Jn.type,xAxisId:0},Sae=t=>{var e=Sr(t,Eae);return N.createElement(N.Fragment,null,N.createElement(_ae,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),N.createElement(jae,e))},Z6=N.memo(Sae,J6);Z6.displayName="XAxis";var Aae=["dangerouslySetInnerHTML","ticks"],Tae=["id"];function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dN.apply(null,arguments)}function qR(t,e){if(t==null)return{};var n,r,a=Cae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Cae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Iae(t){var e=rn(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(Mte(t)):n.current!==t&&e(Lte({prev:n.current,next:t})),n.current=t},[t,e]),N.useLayoutEffect(()=>()=>{n.current&&(e(Ute(n.current)),n.current=null)},[e]),null}var Oae=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,s=N.useRef(null),c=N.useRef(null),d=Ue(b_),f=Jr(),h=rn(),p="yAxis",g=Ue(R=>od(R,p,e,f)),x=Ue(R=>P5(R,e)),w=Ue(R=>FX(R,e)),E=Ue(R=>L5(R,p,e,f)),_=Ue(R=>p5(R,e));if(N.useLayoutEffect(()=>{if(!(r!=="auto"||!x||Mj(a)||N.isValidElement(a)||_==null)){var R=s.current;if(R){var U=R.getCalculatedWidth();Math.round(x.width)!==Math.round(U)&&h(Vte({id:e,width:U}))}}},[E,x,h,a,e,r,_]),x==null||w==null||_==null)return null;var{dangerouslySetInnerHTML:j,ticks:C}=t,L=qR(t,Aae),{id:A}=_,D=qR(_,Tae);return N.createElement(Gj,dN({},L,D,{ref:s,labelRef:c,scale:g,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:Mt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:E,axisType:p}))},Rae={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:Zn.allowDecimals,allowDuplicatedCategory:Zn.allowDuplicatedCategory,angle:Zn.angle,axisLine:Rs.axisLine,hide:!1,includeHidden:Zn.includeHidden,interval:Zn.interval,minTickGap:Zn.minTickGap,mirror:Zn.mirror,orientation:Zn.orientation,padding:Zn.padding,reversed:Zn.reversed,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:Zn.type,width:Zn.width,yAxisId:0},Dae=t=>{var e=Sr(t,Rae);return N.createElement(N.Fragment,null,N.createElement(Iae,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),N.createElement(Oae,e))},e3=N.memo(Dae,J6);e3.displayName="YAxis";var Pae=(t,e)=>e,Kj=se([Pae,xt,f5,Gn,Z5,Js,rJ,qn],uJ),Yj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},t3=Ma("mouseClick"),n3=Nh();n3.startListening({actionCreator:t3,effect:(t,e)=>{var n=t.payload,r=Kj(e.getState(),Yj(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(rQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var fN=Ma("mouseMove"),r3=Nh(),zp=null;r3.startListening({actionCreator:fN,effect:(t,e)=>{var n=t.payload;zp!==null&&cancelAnimationFrame(zp);var r=Yj(n);zp=requestAnimationFrame(()=>{var a=e.getState(),s=Sj(a,a.tooltip.settings.shared);if(s==="axis"){var c=Kj(a,r);(c==null?void 0:c.activeIndex)!=null?e.dispatch(H5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(q5())}zp=null})}});var HR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},a3=Qr({name:"rootProps",initialState:HR,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:HR.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),kae=a3.reducer,{updateOptions:Mae}=a3.actions,i3=Qr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Lae}=i3.actions,Uae=i3.reducer,s3=Ma("keyDown"),o3=Ma("focus"),Wj=Nh();Wj.startListening({actionCreator:s3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Aj(a,cd(n),Dh(n),Lh(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=Js(n);if(s==="Enter"){var h=ey(n,"axis","hover",String(a.index));e.dispatch(aN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var p=KX(n),g=p==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,w=d+x*g;if(!(f==null||w>=f.length||w<0)){var E=ey(n,"axis","hover",String(w));e.dispatch(aN({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});Wj.startListening({actionCreator:o3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",c=ey(n,"axis","hover",String(s));e.dispatch(aN({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Oa=Ma("externalEvent"),l3=Nh(),qw=new Map;l3.startListening({actionCreator:Oa,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,s=qw.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:$Q(d),activeDataKey:r6(d),activeIndex:oc(d),activeLabel:n6(d),activeTooltipIndex:oc(d),isTooltipActive:FQ(d)};n(f,r)}finally{qw.delete(a)}});qw.set(a,c)}}});var Vae=se([ld],t=>t.tooltipItemPayloads),zae=se([Vae,kh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var c=e(s,n);return c}}}),c3=Ma("touchMove"),u3=Nh();u3.startListening({actionCreator:c3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=Sj(r,r.tooltip.settings.shared);if(a==="axis"){var s=Kj(r,Yj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(H5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(Dk),p=(c=f.getAttribute(Pk))!==null&&c!==void 0?c:void 0,g=zae(e.getState(),h,p);e.dispatch(F5({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var Bae=tk({brush:Nre,cartesianAxis:zte,chartData:BJ,errorBars:ene,graphicalItems:ete,layout:Oq,legend:LH,options:MJ,polarAxis:mee,polarOptions:Uae,referenceElements:Cre,rootProps:kae,tooltip:aQ,zIndex:jJ}),$ae=function(e){return nq({reducer:Bae,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([n3.middleware,r3.middleware,Wj.middleware,l3.middleware,u3.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(gk({type:"raf"}))},devTools:yc.devToolsEnabled})};function d3(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Jr(),s=N.useRef(null);if(a)return n;s.current==null&&(s.current=$ae(e));var c=d_;return N.createElement(jne,{context:c,store:s.current},n)}function Fae(t){var{layout:e,margin:n}=t,r=rn(),a=Jr();return N.useEffect(()=>{a||(r(Tq(e)),r(Aq(n)))},[r,a,e,n]),null}var f3=N.memo(Fae,Fj);function h3(t){var e=rn();return N.useEffect(()=>{e(Mae(t))},[e,t]),null}function GR(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=k6("".concat(r).concat(e)),s=rn();return N.useLayoutEffect(()=>(s(NJ({zIndex:e,elementId:a,isPanorama:n})),()=>{s(_J({zIndex:e,isPanorama:n}))}),[s,e,a,n]),N.createElement("g",{id:a})}function KR(t){var{children:e,isPanorama:n}=t,r=Ue(fJ);if(!r||r.length===0)return e;var a=r.filter(c=>c<0),s=r.filter(c=>c>0);return N.createElement(N.Fragment,null,a.map(c=>N.createElement(GR,{key:c,zIndex:c,isPanorama:n})),e,s.map(c=>N.createElement(GR,{key:c,zIndex:c,isPanorama:n})))}var qae=["children"];function Hae(t,e){if(t==null)return{};var n,r,a=Gae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(null,arguments)}var Kae={width:"100%",height:"100%",display:"block"},Yae=N.forwardRef((t,e)=>{var n=Bk(),r=$k(),a=Zk();if(!Yi(n)||!Yi(r))return null;var{children:s,otherAttributes:c,title:d,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=a?0:void 0,typeof c.role=="string"?p=c.role:p=a?"application":void 0),N.createElement(x4,ly({},c,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Kae,ref:e}),s)}),Wae=t=>{var{children:e}=t,n=Ue(e0);if(!n)return null;var{width:r,height:a,y:s,x:c}=n;return N.createElement(x4,{width:r,height:a,x:c,y:s},e)},YR=N.forwardRef((t,e)=>{var{children:n}=t,r=Hae(t,qae),a=Jr();return a?N.createElement(Wae,null,N.createElement(KR,{isPanorama:!0},n)):N.createElement(Yae,ly({ref:e},r),N.createElement(KR,{isPanorama:!1},n))});function Xae(){var t=rn(),[e,n]=N.useState(null),r=Ue(Wq);return N.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;wn(s)&&s!==r&&t(Iq(s))}},[e,t,r]),n}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){Jae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jae(t,e,n){return(e=Zae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zae(t){var e=eie(t,"string");return typeof e=="symbol"?e:e+""}function eie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(null,arguments)}var tie=()=>(XJ(),null);function cy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var nie=N.forwardRef((t,e)=>{var n,r,a=N.useRef(null),[s,c]=N.useState({containerWidth:cy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:cy((r=t.style)===null||r===void 0?void 0:r.height)}),d=N.useCallback((h,p)=>{c(g=>{var x=Math.round(h),w=Math.round(p);return g.containerWidth===x&&g.containerHeight===w?g:{containerWidth:x,containerHeight:w}})},[]),f=N.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var x=E=>{var{width:_,height:j}=E[0].contentRect;d(_,j)},w=new ResizeObserver(x);w.observe(h),a.current=w}},[e,d]);return N.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),N.createElement(N.Fragment,null,N.createElement(r0,{width:s.containerWidth,height:s.containerHeight}),N.createElement("div",cc({ref:f},t)))}),rie=N.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,s]=N.useState({containerWidth:cy(n),containerHeight:cy(r)}),c=N.useCallback((f,h)=>{s(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),d=N.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return N.createElement(N.Fragment,null,N.createElement(r0,{width:a.containerWidth,height:a.containerHeight}),N.createElement("div",cc({ref:d},t)))}),aie=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return N.createElement(N.Fragment,null,N.createElement(r0,{width:n,height:r}),N.createElement("div",cc({ref:e},t)))}),iie=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return ks(n)||ks(r)?N.createElement(rie,cc({},t,{ref:e})):N.createElement(aie,cc({},t,{ref:e}))});function sie(t){return t===!0?nie:iie}var oie=N.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:w,onTouchMove:E,onTouchStart:_,style:j,width:C,responsive:L,dispatchTouchEvents:A=!0}=t,D=N.useRef(null),R=rn(),[U,O]=N.useState(null),[V,k]=N.useState(null),I=Xae(),P=w_(),B=(P==null?void 0:P.width)>0?P.width:C,z=(P==null?void 0:P.height)>0?P.height:a,ge=N.useCallback(H=>{I(H),typeof e=="function"&&e(H),O(H),k(H),H!=null&&(D.current=H)},[I,e,O,k]),ce=N.useCallback(H=>{R(t3(H)),R(Oa({handler:s,reactEvent:H}))},[R,s]),Y=N.useCallback(H=>{R(fN(H)),R(Oa({handler:h,reactEvent:H}))},[R,h]),le=N.useCallback(H=>{R(q5()),R(Oa({handler:p,reactEvent:H}))},[R,p]),X=N.useCallback(H=>{R(fN(H)),R(Oa({handler:g,reactEvent:H}))},[R,g]),ye=N.useCallback(()=>{R(o3())},[R]),Q=N.useCallback(H=>{R(s3(H.key))},[R]),q=N.useCallback(H=>{R(Oa({handler:c,reactEvent:H}))},[R,c]),Z=N.useCallback(H=>{R(Oa({handler:d,reactEvent:H}))},[R,d]),K=N.useCallback(H=>{R(Oa({handler:f,reactEvent:H}))},[R,f]),ee=N.useCallback(H=>{R(Oa({handler:x,reactEvent:H}))},[R,x]),fe=N.useCallback(H=>{R(Oa({handler:_,reactEvent:H}))},[R,_]),je=N.useCallback(H=>{A&&R(c3(H)),R(Oa({handler:E,reactEvent:H}))},[R,A,E]),Ie=N.useCallback(H=>{R(Oa({handler:w,reactEvent:H}))},[R,w]),qe=sie(L);return N.createElement(u6.Provider,{value:U},N.createElement(kB.Provider,{value:V},N.createElement(qe,{width:B??(j==null?void 0:j.width),height:z??(j==null?void 0:j.height),className:Mt("recharts-wrapper",r),style:Qae({position:"relative",cursor:"default",width:B,height:z},j),onClick:ce,onContextMenu:q,onDoubleClick:Z,onFocus:ye,onKeyDown:Q,onMouseDown:K,onMouseEnter:Y,onMouseLeave:le,onMouseMove:X,onMouseUp:ee,onTouchEnd:Ie,onTouchMove:je,onTouchStart:fe,ref:ge},N.createElement(tie,null),n)))}),lie=["width","height","responsive","children","className","style","compact","title","desc"];function cie(t,e){if(t==null)return{};var n,r,a=uie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function uie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var m3=N.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:s,className:c,style:d,compact:f,title:h,desc:p}=t,g=cie(t,lie),x=li(g);return f?N.createElement(N.Fragment,null,N.createElement(r0,{width:n,height:r}),N.createElement(YR,{otherAttributes:x,title:h,desc:p},s)):N.createElement(oie,{className:c,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(YR,{otherAttributes:x,title:h,desc:p,ref:e},N.createElement(Ore,null,s)))});function hN(){return hN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hN.apply(null,arguments)}var die={top:5,right:5,bottom:5,left:5},fie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:die,reverseStackOrder:!1,syncMethod:"index",responsive:!1},hie=N.forwardRef(function(e,n){var r,a=Sr(e.categoricalChartProps,fie),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return N.createElement(d3,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},N.createElement(G6,{chartData:h.data}),N.createElement(f3,{layout:a.layout,margin:a.margin}),N.createElement(h3,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),N.createElement(m3,hN({},a,{ref:n})))}),mie=["axis","item"],pie=N.forwardRef((t,e)=>N.createElement(hie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mie,tooltipPayloadSearcher:d6,categoricalChartProps:t,ref:e}));function gie(t){var e=rn();return N.useEffect(()=>{e(Lae(t))},[e,t]),null}var yie=["layout"];function mN(){return mN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mN.apply(null,arguments)}function vie(t,e){if(t==null)return{};var n,r,a=xie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bie={top:5,right:5,bottom:5,left:5},wie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:bie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Nie=N.forwardRef(function(e,n){var r,a=Sr(e.categoricalChartProps,wie),{layout:s}=a,c=vie(a,yie),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return N.createElement(d3,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},N.createElement(G6,{chartData:a.data}),N.createElement(f3,{layout:s,margin:a.margin}),N.createElement(h3,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),N.createElement(gie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),N.createElement(m3,mN({},c,{ref:n})))}),_ie=["item"],jie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Eie=N.forwardRef((t,e)=>{var n=Sr(t,jie);return N.createElement(Nie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_ie,tooltipPayloadSearcher:d6,categoricalChartProps:n,ref:e})});const Ra=({title:t,value:e,icon:n,color:r})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e})]}),o.jsx("div",{className:`p-3 rounded-full ${a[r]}`,children:o.jsx(n,{className:"w-6 h-6"})})]})},Sie=()=>{};var XR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Aie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(s&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|c&63)}}return e.join("")},g3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,h=f?t[a+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let x=(d&15)<<2|h>>6,w=h&63;f||(w=64,c||(x=64)),r.push(n[p],n[g],n[x],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Aie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||d==null||h==null||g==null)throw new Tie;const x=s<<2|d>>4;if(r.push(x),h!==64){const w=d<<4&240|h>>2;if(r.push(w),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cie=function(t){const e=p3(t);return g3.encodeByteArray(e,!0)},uy=function(t){return Cie(t).replace(/\./g,"")},y3=function(t){try{return g3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie=()=>Iie().__FIREBASE_DEFAULTS__,Rie=()=>{if(typeof process>"u"||typeof XR>"u")return;const t=XR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Die=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&y3(t[1]);return e&&JSON.parse(e)},C0=()=>{try{return Sie()||Oie()||Rie()||Die()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v3=t=>{var e,n;return(n=(e=C0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},x3=t=>{const e=v3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},b3=()=>{var t;return(t=C0())==null?void 0:t.config},w3=t=>{var e;return(e=C0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uy(JSON.stringify(n)),uy(JSON.stringify(c)),""].join(".")}const Lf={};function kie(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lf))Lf[e]?t.emulator.push(e):t.prod.push(e);return t}function Mie(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let QR=!1;function Qj(t,e){if(typeof window>"u"||typeof document>"u"||!bc(window.location.host)||Lf[t]===e||Lf[t]||QR)return;Lf[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=kie().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{QR=!0,c()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=Mie(r),w=n("text"),E=document.getElementById(w)||document.createElement("span"),_=n("learnmore"),j=document.getElementById(_)||document.createElement("a"),C=n("preprendIcon"),L=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const A=x.element;d(A),p(j,_);const D=h();f(L,C),A.append(L,E,j,D),document.body.appendChild(A)}s?(E.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function Uie(){var e;const t=(e=C0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bie(){const t=Er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $ie(){return!Uie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j3(){try{return typeof indexedDB=="object"}catch{return!1}}function E3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;e(((s=a.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function Fie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie="FirebaseError";class za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qie,Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],c=s?Hie(s,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new za(a,d,r)}}function Hie(t,e){return t.replace(Gie,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Gie=/\{\$([^}]+)}/g;function Kie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],c=e[a];if(JR(s)&&JR(c)){if(!Yo(s,c))return!1}else if(s!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function JR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yie(t,e){const n=new Wie(t,e);return n.subscribe.bind(n)}class Wie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xie(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Hw),a.error===void 0&&(a.error=Hw),a.complete===void 0&&(a.complete=Hw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xie(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qie=1e3,Jie=2,Zie=14400*1e3,ese=.5;function ZR(t,e=Qie,n=Jie){const r=e*Math.pow(n,t),a=Math.round(ese*r*(Math.random()-.5)*2);return Math.min(Zie,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t){return t&&t._delegate?t._delegate:t}class Ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Pie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rse(e))try{this.getOrInitializeService({instanceIdentifier:Hl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hl){return this.instances.has(e)}getOptions(e=Hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nse(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hl){return this.component?this.component.multipleInstances?e:Hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nse(t){return t===Hl?void 0:t}function rse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const ise={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},sse=ct.INFO,ose={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},lse=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=ose[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I0{constructor(e){this.name=e,this._logLevel=sse,this._logHandler=lse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ise[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const cse=(t,e)=>e.some(n=>t instanceof n);let eD,tD;function use(){return eD||(eD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dse(){return tD||(tD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S3=new WeakMap,pN=new WeakMap,A3=new WeakMap,Gw=new WeakMap,Jj=new WeakMap;function fse(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n(Bo(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&S3.set(n,t)}).catch(()=>{}),Jj.set(e,t),e}function hse(t){if(pN.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});pN.set(t,e)}let gN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mse(t){gN=t(gN)}function pse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kw(this),e,...n);return A3.set(r,e.sort?e.sort():[e]),Bo(r)}:dse().includes(t)?function(...e){return t.apply(Kw(this),e),Bo(S3.get(this))}:function(...e){return Bo(t.apply(Kw(this),e))}}function gse(t){return typeof t=="function"?pse(t):(t instanceof IDBTransaction&&hse(t),cse(t,use())?new Proxy(t,gN):t)}function Bo(t){if(t instanceof IDBRequest)return fse(t);if(Gw.has(t))return Gw.get(t);const e=gse(t);return e!==t&&(Gw.set(t,e),Jj.set(e,t)),e}const Kw=t=>Jj.get(t);function T3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const c=indexedDB.open(t,e),d=Bo(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Bo(c.result),f.oldVersion,f.newVersion,Bo(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const yse=["get","getKey","getAll","getAllKeys","count"],vse=["put","add","delete","clear"],Yw=new Map;function nD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yw.get(e))return Yw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=vse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||yse.includes(n)))return;const s=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),a&&f.done]))[0]};return Yw.set(e,s),s}mse(t=>({...t,get:(e,n,r)=>nD(e,n)||t.get(e,n,r),has:(e,n)=>!!nD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yN="@firebase/app",rD="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new I0("@firebase/app"),wse="@firebase/app-compat",Nse="@firebase/analytics-compat",_se="@firebase/analytics",jse="@firebase/app-check-compat",Ese="@firebase/app-check",Sse="@firebase/auth",Ase="@firebase/auth-compat",Tse="@firebase/database",Cse="@firebase/data-connect",Ise="@firebase/database-compat",Ose="@firebase/functions",Rse="@firebase/functions-compat",Dse="@firebase/installations",Pse="@firebase/installations-compat",kse="@firebase/messaging",Mse="@firebase/messaging-compat",Lse="@firebase/performance",Use="@firebase/performance-compat",Vse="@firebase/remote-config",zse="@firebase/remote-config-compat",Bse="@firebase/storage",$se="@firebase/storage-compat",Fse="@firebase/firestore",qse="@firebase/ai",Hse="@firebase/firestore-compat",Gse="firebase",Kse="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="[DEFAULT]",Yse={[yN]:"fire-core",[wse]:"fire-core-compat",[_se]:"fire-analytics",[Nse]:"fire-analytics-compat",[Ese]:"fire-app-check",[jse]:"fire-app-check-compat",[Sse]:"fire-auth",[Ase]:"fire-auth-compat",[Tse]:"fire-rtdb",[Cse]:"fire-data-connect",[Ise]:"fire-rtdb-compat",[Ose]:"fire-fn",[Rse]:"fire-fn-compat",[Dse]:"fire-iid",[Pse]:"fire-iid-compat",[kse]:"fire-fcm",[Mse]:"fire-fcm-compat",[Lse]:"fire-perf",[Use]:"fire-perf-compat",[Vse]:"fire-rc",[zse]:"fire-rc-compat",[Bse]:"fire-gcs",[$se]:"fire-gcs-compat",[Fse]:"fire-fst",[Hse]:"fire-fst-compat",[qse]:"fire-vertex","fire-js":"fire-js",[Gse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map,Wse=new Map,xN=new Map;function aD(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ui(t){const e=t.name;if(xN.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;xN.set(e,t);for(const n of dy.values())aD(n,t);for(const n of Wse.values())aD(n,t);return!0}function il(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ri(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new wc("app","Firebase",Xse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=Kse;function C3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vN,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw $o.create("bad-app-name",{appName:String(a)});if(n||(n=b3()),!n)throw $o.create("no-options");const s=dy.get(a);if(s){if(Yo(n,s.options)&&Yo(r,s.config))return s;throw $o.create("duplicate-app",{appName:a})}const c=new ase(a);for(const f of xN.values())c.addComponent(f);const d=new Qse(n,r,c);return dy.set(a,d),d}function O0(t=vN){const e=dy.get(t);if(!e&&t===vN&&b3())return C3();if(!e)throw $o.create("no-app",{appName:t});return e}function Wr(t,e,n){let r=Yse[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(c.join(" "));return}ui(new Ua(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jse="firebase-heartbeat-database",Zse=1,ih="firebase-heartbeat-store";let Ww=null;function I3(){return Ww||(Ww=T3(Jse,Zse,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ih)}catch(n){console.warn(n)}}}}).catch(t=>{throw $o.create("idb-open",{originalErrorMessage:t.message})})),Ww}async function eoe(t){try{const n=(await I3()).transaction(ih),r=await n.objectStore(ih).get(O3(t));return await n.done,r}catch(e){if(e instanceof za)$s.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(n.message)}}}async function iD(t,e){try{const r=(await I3()).transaction(ih,"readwrite");await r.objectStore(ih).put(e,O3(t)),await r.done}catch(n){if(n instanceof za)$s.warn(n.message);else{const r=$o.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$s.warn(r.message)}}}function O3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const toe=1024,noe=30;class roe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ioe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>noe){const c=soe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sD(),{heartbeatsToSend:r,unsentEntries:a}=aoe(this._heartbeatsCache.heartbeats),s=uy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $s.warn(n),""}}}function sD(){return new Date().toISOString().substring(0,10)}function aoe(t,e=toe){const n=[];let r=t.slice();for(const a of t){const s=n.find(c=>c.agent===a.agent);if(s){if(s.dates.push(a.date),oD(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),oD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ioe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j3()?E3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eoe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oD(t){return uy(JSON.stringify({version:2,heartbeats:t})).length}function soe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(t){ui(new Ua("platform-logger",e=>new xse(e),"PRIVATE")),ui(new Ua("heartbeat",e=>new roe(e),"PRIVATE")),Wr(yN,rD,t),Wr(yN,rD,"esm2020"),Wr("fire-js","")}ooe("");var loe="firebase",coe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(loe,coe,"app");const R3="@firebase/installations",Zj="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=1e4,P3=`w:${Zj}`,k3="FIS_v2",uoe="https://firebaseinstallations.googleapis.com/v1",doe=3600*1e3,foe="installations",hoe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const moe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},uc=new wc(foe,hoe,moe);function M3(t){return t instanceof za&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3({projectId:t}){return`${uoe}/projects/${t}/installations`}function U3(t){return{token:t.token,requestStatus:2,expiresIn:goe(t.expiresIn),creationTime:Date.now()}}async function V3(t,e){const r=(await e.json()).error;return uc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function z3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function poe(t,{refreshToken:e}){const n=z3(t);return n.append("Authorization",yoe(e)),n}async function B3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function goe(t){return Number(t.replace("s","000"))}function yoe(t){return`${k3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function voe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=L3(t),a=z3(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={fid:n,authVersion:k3,appId:t.appId,sdkVersion:P3},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await B3(()=>fetch(r,d));if(f.ok){const h=await f.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:U3(h.authToken)}}else throw await V3("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xoe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const boe=/^[cdef][\w-]{21}$/,bN="";function woe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Noe(t);return boe.test(n)?n:bN}catch{return bN}}function Noe(t){return xoe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new Map;function q3(t,e){const n=R0(t);H3(n,e),_oe(n,e)}function H3(t,e){const n=F3.get(t);if(n)for(const r of n)r(e)}function _oe(t,e){const n=joe();n&&n.postMessage({key:t,fid:e}),Eoe()}let Wl=null;function joe(){return!Wl&&"BroadcastChannel"in self&&(Wl=new BroadcastChannel("[Firebase] FID Change"),Wl.onmessage=t=>{H3(t.data.key,t.data.fid)}),Wl}function Eoe(){F3.size===0&&Wl&&(Wl.close(),Wl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Soe="firebase-installations-database",Aoe=1,dc="firebase-installations-store";let Xw=null;function eE(){return Xw||(Xw=T3(Soe,Aoe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(dc)}}})),Xw}async function fy(t,e){const n=R0(t),a=(await eE()).transaction(dc,"readwrite"),s=a.objectStore(dc),c=await s.get(n);return await s.put(e,n),await a.done,(!c||c.fid!==e.fid)&&q3(t,e.fid),e}async function G3(t){const e=R0(t),r=(await eE()).transaction(dc,"readwrite");await r.objectStore(dc).delete(e),await r.done}async function D0(t,e){const n=R0(t),a=(await eE()).transaction(dc,"readwrite"),s=a.objectStore(dc),c=await s.get(n),d=e(c);return d===void 0?await s.delete(n):await s.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&q3(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(t){let e;const n=await D0(t.appConfig,r=>{const a=Toe(r),s=Coe(t,a);return e=s.registrationPromise,s.installationEntry});return n.fid===bN?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Toe(t){const e=t||{fid:woe(),registrationStatus:0};return K3(e)}function Coe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(uc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ioe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ooe(t)}:{installationEntry:e}}async function Ioe(t,e){try{const n=await voe(t,e);return fy(t.appConfig,n)}catch(n){throw M3(n)&&n.customData.serverCode===409?await G3(t.appConfig):await fy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Ooe(t){let e=await lD(t.appConfig);for(;e.registrationStatus===1;)await $3(100),e=await lD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await tE(t);return r||n}return e}function lD(t){return D0(t,e=>{if(!e)throw uc.create("installation-not-found");return K3(e)})}function K3(t){return Roe(t)?{fid:t.fid,registrationStatus:0}:t}function Roe(t){return t.registrationStatus===1&&t.registrationTime+D3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Doe({appConfig:t,heartbeatServiceProvider:e},n){const r=Poe(t,n),a=poe(t,n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={installation:{sdkVersion:P3,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await B3(()=>fetch(r,d));if(f.ok){const h=await f.json();return U3(h)}else throw await V3("Generate Auth Token",f)}function Poe(t,{fid:e}){return`${L3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(t,e=!1){let n;const r=await D0(t.appConfig,s=>{if(!Y3(s))throw uc.create("not-registered");const c=s.authToken;if(!e&&Loe(c))return s;if(c.requestStatus===1)return n=koe(t,e),s;{if(!navigator.onLine)throw uc.create("app-offline");const d=Voe(s);return n=Moe(t,d),d}});return n?await n:r.authToken}async function koe(t,e){let n=await cD(t.appConfig);for(;n.authToken.requestStatus===1;)await $3(100),n=await cD(t.appConfig);const r=n.authToken;return r.requestStatus===0?nE(t,e):r}function cD(t){return D0(t,e=>{if(!Y3(e))throw uc.create("not-registered");const n=e.authToken;return zoe(n)?{...e,authToken:{requestStatus:0}}:e})}async function Moe(t,e){try{const n=await Doe(t,e),r={...e,authToken:n};return await fy(t.appConfig,r),n}catch(n){if(M3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await G3(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await fy(t.appConfig,r)}throw n}}function Y3(t){return t!==void 0&&t.registrationStatus===2}function Loe(t){return t.requestStatus===2&&!Uoe(t)}function Uoe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+doe}function Voe(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function zoe(t){return t.requestStatus===1&&t.requestTime+D3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Boe(t){const e=t,{installationEntry:n,registrationPromise:r}=await tE(e);return r?r.catch(console.error):nE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $oe(t,e=!1){const n=t;return await Foe(n),(await nE(n,e)).token}async function Foe(t){const{registrationPromise:e}=await tE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qoe(t){if(!t||!t.options)throw Qw("App Configuration");if(!t.name)throw Qw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Qw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Qw(t){return uc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="installations",Hoe="installations-internal",Goe=t=>{const e=t.getProvider("app").getImmediate(),n=qoe(e),r=il(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Koe=t=>{const e=t.getProvider("app").getImmediate(),n=il(e,W3).getImmediate();return{getId:()=>Boe(n),getToken:a=>$oe(n,a)}};function Yoe(){ui(new Ua(W3,Goe,"PUBLIC")),ui(new Ua(Hoe,Koe,"PRIVATE"))}Yoe();Wr(R3,Zj);Wr(R3,Zj,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="analytics",Woe="firebase_id",Xoe="origin",Qoe=60*1e3,Joe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new I0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zoe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ma=new wc("analytics","Analytics",Zoe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ele(t){if(!t.startsWith(rE)){const e=ma.create("invalid-gtag-resource",{gtagURL:t});return Rr.warn(e.message),""}return t}function X3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tle(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function nle(t,e){const n=tle("firebase-js-sdk-policy",{createScriptURL:ele}),r=document.createElement("script"),a=`${rE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function rle(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ale(t,e,n,r,a,s){const c=r[a];try{if(c)await e[c];else{const f=(await X3(n)).find(h=>h.measurementId===a);f&&await e[f.appId]}}catch(d){Rr.error(d)}t("config",a,s)}async function ile(t,e,n,r,a){try{let s=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await X3(n);for(const f of c){const h=d.find(g=>g.measurementId===f),p=h&&e[h.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,a||{})}catch(s){Rr.error(s)}}function sle(t,e,n,r){async function a(s,...c){try{if(s==="event"){const[d,f]=c;await ile(t,e,n,d,f)}else if(s==="config"){const[d,f]=c;await ale(t,e,n,r,d,f)}else if(s==="consent"){const[d,f]=c;t("consent",d,f)}else if(s==="get"){const[d,f,h]=c;t("get",d,f,h)}else if(s==="set"){const[d]=c;t("set",d)}else t(s,...c)}catch(d){Rr.error(d)}}return a}function ole(t,e,n,r,a){let s=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(s=window[a]),window[a]=sle(s,t,e,n),{gtagCore:s,wrappedGtag:window[a]}}function lle(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cle=30,ule=1e3;class dle{constructor(e={},n=ule){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Q3=new dle;function fle(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function hle(t){var c;const{appId:e,apiKey:n}=t,r={method:"GET",headers:fle(n)},a=Joe.replace("{app-id}",e),s=await fetch(a,r);if(s.status!==200&&s.status!==304){let d="";try{const f=await s.json();(c=f.error)!=null&&c.message&&(d=f.error.message)}catch{}throw ma.create("config-fetch-failed",{httpStatus:s.status,responseMessage:d})}return s.json()}async function mle(t,e=Q3,n){const{appId:r,apiKey:a,measurementId:s}=t.options;if(!r)throw ma.create("no-app-id");if(!a){if(s)return{measurementId:s,appId:r};throw ma.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new yle;return setTimeout(async()=>{d.abort()},Qoe),J3({appId:r,apiKey:a,measurementId:s},c,d,e)}async function J3(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=Q3){var d;const{appId:s,measurementId:c}=t;try{await ple(r,e)}catch(f){if(c)return Rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:c};throw f}try{const f=await hle(t);return a.deleteThrottleMetadata(s),f}catch(f){const h=f;if(!gle(h)){if(a.deleteThrottleMetadata(s),c)return Rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:s,measurementId:c};throw f}const p=Number((d=h==null?void 0:h.customData)==null?void 0:d.httpStatus)===503?ZR(n,a.intervalMillis,cle):ZR(n,a.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(s,g),Rr.debug(`Calling attemptFetch again in ${p} millis`),J3(t,g,r,a)}}function ple(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),s=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(s),r(ma.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gle(t){if(!(t instanceof za)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class yle{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function vle(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const s=await e,c={...r,send_to:s};t("event",n,c)}}async function xle(t,e,n,r){if(r&&r.global){const a={};for(const s of Object.keys(n))a[`user_properties.${s}`]=n[s];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ble(){if(j3())try{await E3()}catch(t){return Rr.warn(ma.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Rr.warn(ma.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wle(t,e,n,r,a,s,c){const d=mle(t);d.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Rr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Rr.error(x)),e.push(d);const f=ble().then(x=>{if(x)return r.getId()}),[h,p]=await Promise.all([d,f]);lle(s)||nle(s,h.measurementId),a("js",new Date);const g=(c==null?void 0:c.config)??{};return g[Xoe]="firebase",g.update=!0,p!=null&&(g[Woe]=p),a("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nle{constructor(e){this.app=e}_delete(){return delete Tu[this.app.options.appId],Promise.resolve()}}let Tu={},uD=[];const dD={};let Jw="dataLayer",_le="gtag",fD,aE,hD=!1;function jle(){const t=[];if(_3()&&t.push("This is a browser extension environment."),Fie()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=ma.create("invalid-analytics-context",{errorInfo:e});Rr.warn(n.message)}}function Ele(t,e,n){jle();const r=t.options.appId;if(!r)throw ma.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ma.create("no-api-key");if(Tu[r]!=null)throw ma.create("already-exists",{id:r});if(!hD){rle(Jw);const{wrappedGtag:s,gtagCore:c}=ole(Tu,uD,dD,Jw,_le);aE=s,fD=c,hD=!0}return Tu[r]=wle(t,uD,dD,e,fD,Jw,n),new Nle(t)}function Sle(t=O0()){t=Nn(t);const e=il(t,hy);return e.isInitialized()?e.getImmediate():Ale(t)}function Ale(t,e={}){const n=il(t,hy);if(n.isInitialized()){const a=n.getImmediate();if(Yo(e,n.getOptions()))return a;throw ma.create("already-initialized")}return n.initialize({options:e})}function Tle(t,e,n){t=Nn(t),xle(aE,Tu[t.app.options.appId],e,n).catch(r=>Rr.error(r))}function Cle(t,e,n,r){t=Nn(t),vle(aE,Tu[t.app.options.appId],e,n,r).catch(a=>Rr.error(a))}const mD="@firebase/analytics",pD="0.10.19";function Ile(){ui(new Ua(hy,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Ele(r,a,n)},"PUBLIC")),ui(new Ua("analytics-internal",t,"PRIVATE")),Wr(mD,pD),Wr(mD,pD,"esm2020");function t(e){try{const n=e.getProvider(hy).getImmediate();return{logEvent:(r,a,s)=>Cle(n,r,a,s),setUserProperties:(r,a)=>Tle(n,r,a)}}catch(n){throw ma.create("interop-component-reg-failed",{reason:n})}}}Ile();var gD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fo,Z3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,V){function k(){}k.prototype=V.prototype,O.F=V.prototype,O.prototype=new k,O.prototype.constructor=O,O.D=function(I,P,B){for(var z=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)z[ge-2]=arguments[ge];return V.prototype[P].apply(I,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,V,k){k||(k=0);const I=Array(16);if(typeof V=="string")for(var P=0;P<16;++P)I[P]=V.charCodeAt(k++)|V.charCodeAt(k++)<<8|V.charCodeAt(k++)<<16|V.charCodeAt(k++)<<24;else for(P=0;P<16;++P)I[P]=V[k++]|V[k++]<<8|V[k++]<<16|V[k++]<<24;V=O.g[0],k=O.g[1],P=O.g[2];let B=O.g[3],z;z=V+(B^k&(P^B))+I[0]+3614090360&4294967295,V=k+(z<<7&4294967295|z>>>25),z=B+(P^V&(k^P))+I[1]+3905402710&4294967295,B=V+(z<<12&4294967295|z>>>20),z=P+(k^B&(V^k))+I[2]+606105819&4294967295,P=B+(z<<17&4294967295|z>>>15),z=k+(V^P&(B^V))+I[3]+3250441966&4294967295,k=P+(z<<22&4294967295|z>>>10),z=V+(B^k&(P^B))+I[4]+4118548399&4294967295,V=k+(z<<7&4294967295|z>>>25),z=B+(P^V&(k^P))+I[5]+1200080426&4294967295,B=V+(z<<12&4294967295|z>>>20),z=P+(k^B&(V^k))+I[6]+2821735955&4294967295,P=B+(z<<17&4294967295|z>>>15),z=k+(V^P&(B^V))+I[7]+4249261313&4294967295,k=P+(z<<22&4294967295|z>>>10),z=V+(B^k&(P^B))+I[8]+1770035416&4294967295,V=k+(z<<7&4294967295|z>>>25),z=B+(P^V&(k^P))+I[9]+2336552879&4294967295,B=V+(z<<12&4294967295|z>>>20),z=P+(k^B&(V^k))+I[10]+4294925233&4294967295,P=B+(z<<17&4294967295|z>>>15),z=k+(V^P&(B^V))+I[11]+2304563134&4294967295,k=P+(z<<22&4294967295|z>>>10),z=V+(B^k&(P^B))+I[12]+1804603682&4294967295,V=k+(z<<7&4294967295|z>>>25),z=B+(P^V&(k^P))+I[13]+4254626195&4294967295,B=V+(z<<12&4294967295|z>>>20),z=P+(k^B&(V^k))+I[14]+2792965006&4294967295,P=B+(z<<17&4294967295|z>>>15),z=k+(V^P&(B^V))+I[15]+1236535329&4294967295,k=P+(z<<22&4294967295|z>>>10),z=V+(P^B&(k^P))+I[1]+4129170786&4294967295,V=k+(z<<5&4294967295|z>>>27),z=B+(k^P&(V^k))+I[6]+3225465664&4294967295,B=V+(z<<9&4294967295|z>>>23),z=P+(V^k&(B^V))+I[11]+643717713&4294967295,P=B+(z<<14&4294967295|z>>>18),z=k+(B^V&(P^B))+I[0]+3921069994&4294967295,k=P+(z<<20&4294967295|z>>>12),z=V+(P^B&(k^P))+I[5]+3593408605&4294967295,V=k+(z<<5&4294967295|z>>>27),z=B+(k^P&(V^k))+I[10]+38016083&4294967295,B=V+(z<<9&4294967295|z>>>23),z=P+(V^k&(B^V))+I[15]+3634488961&4294967295,P=B+(z<<14&4294967295|z>>>18),z=k+(B^V&(P^B))+I[4]+3889429448&4294967295,k=P+(z<<20&4294967295|z>>>12),z=V+(P^B&(k^P))+I[9]+568446438&4294967295,V=k+(z<<5&4294967295|z>>>27),z=B+(k^P&(V^k))+I[14]+3275163606&4294967295,B=V+(z<<9&4294967295|z>>>23),z=P+(V^k&(B^V))+I[3]+4107603335&4294967295,P=B+(z<<14&4294967295|z>>>18),z=k+(B^V&(P^B))+I[8]+1163531501&4294967295,k=P+(z<<20&4294967295|z>>>12),z=V+(P^B&(k^P))+I[13]+2850285829&4294967295,V=k+(z<<5&4294967295|z>>>27),z=B+(k^P&(V^k))+I[2]+4243563512&4294967295,B=V+(z<<9&4294967295|z>>>23),z=P+(V^k&(B^V))+I[7]+1735328473&4294967295,P=B+(z<<14&4294967295|z>>>18),z=k+(B^V&(P^B))+I[12]+2368359562&4294967295,k=P+(z<<20&4294967295|z>>>12),z=V+(k^P^B)+I[5]+4294588738&4294967295,V=k+(z<<4&4294967295|z>>>28),z=B+(V^k^P)+I[8]+2272392833&4294967295,B=V+(z<<11&4294967295|z>>>21),z=P+(B^V^k)+I[11]+1839030562&4294967295,P=B+(z<<16&4294967295|z>>>16),z=k+(P^B^V)+I[14]+4259657740&4294967295,k=P+(z<<23&4294967295|z>>>9),z=V+(k^P^B)+I[1]+2763975236&4294967295,V=k+(z<<4&4294967295|z>>>28),z=B+(V^k^P)+I[4]+1272893353&4294967295,B=V+(z<<11&4294967295|z>>>21),z=P+(B^V^k)+I[7]+4139469664&4294967295,P=B+(z<<16&4294967295|z>>>16),z=k+(P^B^V)+I[10]+3200236656&4294967295,k=P+(z<<23&4294967295|z>>>9),z=V+(k^P^B)+I[13]+681279174&4294967295,V=k+(z<<4&4294967295|z>>>28),z=B+(V^k^P)+I[0]+3936430074&4294967295,B=V+(z<<11&4294967295|z>>>21),z=P+(B^V^k)+I[3]+3572445317&4294967295,P=B+(z<<16&4294967295|z>>>16),z=k+(P^B^V)+I[6]+76029189&4294967295,k=P+(z<<23&4294967295|z>>>9),z=V+(k^P^B)+I[9]+3654602809&4294967295,V=k+(z<<4&4294967295|z>>>28),z=B+(V^k^P)+I[12]+3873151461&4294967295,B=V+(z<<11&4294967295|z>>>21),z=P+(B^V^k)+I[15]+530742520&4294967295,P=B+(z<<16&4294967295|z>>>16),z=k+(P^B^V)+I[2]+3299628645&4294967295,k=P+(z<<23&4294967295|z>>>9),z=V+(P^(k|~B))+I[0]+4096336452&4294967295,V=k+(z<<6&4294967295|z>>>26),z=B+(k^(V|~P))+I[7]+1126891415&4294967295,B=V+(z<<10&4294967295|z>>>22),z=P+(V^(B|~k))+I[14]+2878612391&4294967295,P=B+(z<<15&4294967295|z>>>17),z=k+(B^(P|~V))+I[5]+4237533241&4294967295,k=P+(z<<21&4294967295|z>>>11),z=V+(P^(k|~B))+I[12]+1700485571&4294967295,V=k+(z<<6&4294967295|z>>>26),z=B+(k^(V|~P))+I[3]+2399980690&4294967295,B=V+(z<<10&4294967295|z>>>22),z=P+(V^(B|~k))+I[10]+4293915773&4294967295,P=B+(z<<15&4294967295|z>>>17),z=k+(B^(P|~V))+I[1]+2240044497&4294967295,k=P+(z<<21&4294967295|z>>>11),z=V+(P^(k|~B))+I[8]+1873313359&4294967295,V=k+(z<<6&4294967295|z>>>26),z=B+(k^(V|~P))+I[15]+4264355552&4294967295,B=V+(z<<10&4294967295|z>>>22),z=P+(V^(B|~k))+I[6]+2734768916&4294967295,P=B+(z<<15&4294967295|z>>>17),z=k+(B^(P|~V))+I[13]+1309151649&4294967295,k=P+(z<<21&4294967295|z>>>11),z=V+(P^(k|~B))+I[4]+4149444226&4294967295,V=k+(z<<6&4294967295|z>>>26),z=B+(k^(V|~P))+I[11]+3174756917&4294967295,B=V+(z<<10&4294967295|z>>>22),z=P+(V^(B|~k))+I[2]+718787259&4294967295,P=B+(z<<15&4294967295|z>>>17),z=k+(B^(P|~V))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+V&4294967295,O.g[1]=O.g[1]+(P+(z<<21&4294967295|z>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+B&4294967295}r.prototype.v=function(O,V){V===void 0&&(V=O.length);const k=V-this.blockSize,I=this.C;let P=this.h,B=0;for(;B<V;){if(P==0)for(;B<=k;)a(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<V;)if(I[P++]=O.charCodeAt(B++),P==this.blockSize){a(this,I),P=0;break}}else for(;B<V;)if(I[P++]=O[B++],P==this.blockSize){a(this,I),P=0;break}}this.h=P,this.o+=V},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var V=1;V<O.length-8;++V)O[V]=0;V=this.o*8;for(var k=O.length-8;k<O.length;++k)O[k]=V&255,V/=256;for(this.v(O),O=Array(16),V=0,k=0;k<4;++k)for(let I=0;I<32;I+=8)O[V++]=this.g[k]>>>I&255;return O};function s(O,V){var k=d;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=V(O)}function c(O,V){this.h=V;const k=[];let I=!0;for(let P=O.length-1;P>=0;P--){const B=O[P]|0;I&&B==V||(k[P]=B,I=!1)}this.g=k}var d={};function f(O){return-128<=O&&O<128?s(O,function(V){return new c([V|0],V<0?-1:0)}):new c([O|0],O<0?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return g;if(O<0)return j(h(-O));const V=[];let k=1;for(let I=0;O>=k;I++)V[I]=O/k|0,k*=4294967296;return new c(V,0)}function p(O,V){if(O.length==0)throw Error("number format error: empty string");if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(O.charAt(0)=="-")return j(p(O.substring(1),V));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(V,8));let I=g;for(let B=0;B<O.length;B+=8){var P=Math.min(8,O.length-B);const z=parseInt(O.substring(B,B+P),V);P<8?(P=h(Math.pow(V,P)),I=I.j(P).add(h(z))):(I=I.j(k),I=I.add(h(z)))}return I}var g=f(0),x=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(_(this))return-j(this).m();let O=0,V=1;for(let k=0;k<this.g.length;k++){const I=this.i(k);O+=(I>=0?I:4294967296+I)*V,V*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(_(this))return"-"+j(this).toString(O);const V=h(Math.pow(O,6));var k=this;let I="";for(;;){const P=D(k,V).g;k=C(k,P.j(V));let B=((k.g.length>0?k.g[0]:k.h)>>>0).toString(O);if(k=P,E(k))return B+I;for(;B.length<6;)B="0"+B;I=B+I}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(let V=0;V<O.g.length;V++)if(O.g[V]!=0)return!1;return!0}function _(O){return O.h==-1}t.l=function(O){return O=C(this,O),_(O)?-1:E(O)?0:1};function j(O){const V=O.g.length,k=[];for(let I=0;I<V;I++)k[I]=~O.g[I];return new c(k,~O.h).add(x)}t.abs=function(){return _(this)?j(this):this},t.add=function(O){const V=Math.max(this.g.length,O.g.length),k=[];let I=0;for(let P=0;P<=V;P++){let B=I+(this.i(P)&65535)+(O.i(P)&65535),z=(B>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);I=z>>>16,B&=65535,z&=65535,k[P]=z<<16|B}return new c(k,k[k.length-1]&-2147483648?-1:0)};function C(O,V){return O.add(j(V))}t.j=function(O){if(E(this)||E(O))return g;if(_(this))return _(O)?j(this).j(j(O)):j(j(this).j(O));if(_(O))return j(this.j(j(O)));if(this.l(w)<0&&O.l(w)<0)return h(this.m()*O.m());const V=this.g.length+O.g.length,k=[];for(var I=0;I<2*V;I++)k[I]=0;for(I=0;I<this.g.length;I++)for(let P=0;P<O.g.length;P++){const B=this.i(I)>>>16,z=this.i(I)&65535,ge=O.i(P)>>>16,ce=O.i(P)&65535;k[2*I+2*P]+=z*ce,L(k,2*I+2*P),k[2*I+2*P+1]+=B*ce,L(k,2*I+2*P+1),k[2*I+2*P+1]+=z*ge,L(k,2*I+2*P+1),k[2*I+2*P+2]+=B*ge,L(k,2*I+2*P+2)}for(O=0;O<V;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=V;O<2*V;O++)k[O]=0;return new c(k,0)};function L(O,V){for(;(O[V]&65535)!=O[V];)O[V+1]+=O[V]>>>16,O[V]&=65535,V++}function A(O,V){this.g=O,this.h=V}function D(O,V){if(E(V))throw Error("division by zero");if(E(O))return new A(g,g);if(_(O))return V=D(j(O),V),new A(j(V.g),j(V.h));if(_(V))return V=D(O,j(V)),new A(j(V.g),V.h);if(O.g.length>30){if(_(O)||_(V))throw Error("slowDivide_ only works with positive integers.");for(var k=x,I=V;I.l(O)<=0;)k=R(k),I=R(I);var P=U(k,1),B=U(I,1);for(I=U(I,2),k=U(k,2);!E(I);){var z=B.add(I);z.l(O)<=0&&(P=P.add(k),B=z),I=U(I,1),k=U(k,1)}return V=C(O,P.j(V)),new A(P,V)}for(P=g;O.l(V)>=0;){for(k=Math.max(1,Math.floor(O.m()/V.m())),I=Math.ceil(Math.log(k)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),B=h(k),z=B.j(V);_(z)||z.l(O)>0;)k-=I,B=h(k),z=B.j(V);E(B)&&(B=x),P=P.add(B),O=C(O,z)}return new A(P,O)}t.B=function(O){return D(this,O).h},t.and=function(O){const V=Math.max(this.g.length,O.g.length),k=[];for(let I=0;I<V;I++)k[I]=this.i(I)&O.i(I);return new c(k,this.h&O.h)},t.or=function(O){const V=Math.max(this.g.length,O.g.length),k=[];for(let I=0;I<V;I++)k[I]=this.i(I)|O.i(I);return new c(k,this.h|O.h)},t.xor=function(O){const V=Math.max(this.g.length,O.g.length),k=[];for(let I=0;I<V;I++)k[I]=this.i(I)^O.i(I);return new c(k,this.h^O.h)};function R(O){const V=O.g.length+1,k=[];for(let I=0;I<V;I++)k[I]=O.i(I)<<1|O.i(I-1)>>>31;return new c(k,O.h)}function U(O,V){const k=V>>5;V%=32;const I=O.g.length-k,P=[];for(let B=0;B<I;B++)P[B]=V>0?O.i(B+k)>>>V|O.i(B+k+1)<<32-V:O.i(B+k);return new c(P,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Z3=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,Fo=c}).apply(typeof gD<"u"?gD:typeof self<"u"?self:typeof window<"u"?window:{});var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eL,Rf,tL,ig,wN,nL,rL,aL;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bp=="object"&&Bp];for(var S=0;S<y.length;++S){var M=y[S];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function a(y,S){if(S)e:{var M=r;y=y.split(".");for(var F=0;F<y.length-1;F++){var ne=y[F];if(!(ne in M))break e;M=M[ne]}y=y[y.length-1],F=M[y],S=S(F),S!=F&&S!=null&&e(M,y,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(S){var M=[],F;for(F in S)Object.prototype.hasOwnProperty.call(S,F)&&M.push([F,S[F]]);return M}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},c=this||self;function d(y){var S=typeof y;return S=="object"&&y!=null||S=="function"}function f(y,S,M){return y.call.apply(y.bind,arguments)}function h(y,S,M){return h=f,h.apply(null,arguments)}function p(y,S){var M=Array.prototype.slice.call(arguments,1);return function(){var F=M.slice();return F.push.apply(F,arguments),y.apply(this,F)}}function g(y,S){function M(){}M.prototype=S.prototype,y.Z=S.prototype,y.prototype=new M,y.prototype.constructor=y,y.Ob=function(F,ne,ue){for(var Te=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)Te[nt-2]=arguments[nt];return S.prototype[ne].apply(F,Te)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function w(y){const S=y.length;if(S>0){const M=Array(S);for(let F=0;F<S;F++)M[F]=y[F];return M}return[]}function E(y,S){for(let F=1;F<arguments.length;F++){const ne=arguments[F];var M=typeof ne;if(M=M!="object"?M:ne?Array.isArray(ne)?"array":M:"null",M=="array"||M=="object"&&typeof ne.length=="number"){M=y.length||0;const ue=ne.length||0;y.length=M+ue;for(let Te=0;Te<ue;Te++)y[M+Te]=ne[Te]}else y.push(ne)}}class _{constructor(S,M){this.i=S,this.j=M,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function j(y){c.setTimeout(()=>{throw y},0)}function C(){var y=O;let S=null;return y.g&&(S=y.g,y.g=y.g.next,y.g||(y.h=null),S.next=null),S}class L{constructor(){this.h=this.g=null}add(S,M){const F=A.get();F.set(S,M),this.h?this.h.next=F:this.g=F,this.h=F}}var A=new _(()=>new D,y=>y.reset());class D{constructor(){this.next=this.g=this.h=null}set(S,M){this.h=S,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let R,U=!1,O=new L,V=()=>{const y=Promise.resolve(void 0);R=()=>{y.then(k)}};function k(){for(var y;y=C();){try{y.h.call(y.g)}catch(M){j(M)}var S=A;S.j(y),S.h<100&&(S.h++,y.next=S.g,S.g=y)}U=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(y,S){this.type=y,this.g=this.target=S,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,S=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const M=()=>{};c.addEventListener("test",M,S),c.removeEventListener("test",M,S)}catch{}return y})();function z(y){return/^[\s\xa0]*$/.test(y)}function ge(y,S){P.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,S)}g(ge,P),ge.prototype.init=function(y,S){const M=this.type=y.type,F=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=S,S=y.relatedTarget,S||(M=="mouseover"?S=y.fromElement:M=="mouseout"&&(S=y.toElement)),this.relatedTarget=S,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),Y=0;function le(y,S,M,F,ne){this.listener=y,this.proxy=null,this.src=S,this.type=M,this.capture=!!F,this.ha=ne,this.key=++Y,this.da=this.fa=!1}function X(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ye(y,S,M){for(const F in y)S.call(M,y[F],F,y)}function Q(y,S){for(const M in y)S.call(void 0,y[M],M,y)}function q(y){const S={};for(const M in y)S[M]=y[M];return S}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(y,S){let M,F;for(let ne=1;ne<arguments.length;ne++){F=arguments[ne];for(M in F)y[M]=F[M];for(let ue=0;ue<Z.length;ue++)M=Z[ue],Object.prototype.hasOwnProperty.call(F,M)&&(y[M]=F[M])}}function ee(y){this.src=y,this.g={},this.h=0}ee.prototype.add=function(y,S,M,F,ne){const ue=y.toString();y=this.g[ue],y||(y=this.g[ue]=[],this.h++);const Te=je(y,S,F,ne);return Te>-1?(S=y[Te],M||(S.fa=!1)):(S=new le(S,this.src,ue,!!F,ne),S.fa=M,y.push(S)),S};function fe(y,S){const M=S.type;if(M in y.g){var F=y.g[M],ne=Array.prototype.indexOf.call(F,S,void 0),ue;(ue=ne>=0)&&Array.prototype.splice.call(F,ne,1),ue&&(X(S),y.g[M].length==0&&(delete y.g[M],y.h--))}}function je(y,S,M,F){for(let ne=0;ne<y.length;++ne){const ue=y[ne];if(!ue.da&&ue.listener==S&&ue.capture==!!M&&ue.ha==F)return ne}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),qe={};function H(y,S,M,F,ne){if(Array.isArray(S)){for(let ue=0;ue<S.length;ue++)H(y,S[ue],M,F,ne);return null}return M=me(M),y&&y[ce]?y.J(S,M,d(F)?!!F.capture:!1,ne):Ee(y,S,M,!1,F,ne)}function Ee(y,S,M,F,ne,ue){if(!S)throw Error("Invalid event type");const Te=d(ne)?!!ne.capture:!!ne;let nt=_e(y);if(nt||(y[Ie]=nt=new ee(y)),M=nt.add(S,M,F,Te,ue),M.proxy)return M;if(F=J(),M.proxy=F,F.src=y,F.listener=M,y.addEventListener)B||(ne=Te),ne===void 0&&(ne=!1),y.addEventListener(S.toString(),F,ne);else if(y.attachEvent)y.attachEvent(Ve(S.toString()),F);else if(y.addListener&&y.removeListener)y.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return M}function J(){function y(M){return S.call(y.src,y.listener,M)}const S=_t;return y}function ae(y,S,M,F,ne){if(Array.isArray(S))for(var ue=0;ue<S.length;ue++)ae(y,S[ue],M,F,ne);else F=d(F)?!!F.capture:!!F,M=me(M),y&&y[ce]?(y=y.i,ue=String(S).toString(),ue in y.g&&(S=y.g[ue],M=je(S,M,F,ne),M>-1&&(X(S[M]),Array.prototype.splice.call(S,M,1),S.length==0&&(delete y.g[ue],y.h--)))):y&&(y=_e(y))&&(S=y.g[S.toString()],y=-1,S&&(y=je(S,M,F,ne)),(M=y>-1?S[y]:null)&&Fe(M))}function Fe(y){if(typeof y!="number"&&y&&!y.da){var S=y.src;if(S&&S[ce])fe(S.i,y);else{var M=y.type,F=y.proxy;S.removeEventListener?S.removeEventListener(M,F,y.capture):S.detachEvent?S.detachEvent(Ve(M),F):S.addListener&&S.removeListener&&S.removeListener(F),(M=_e(S))?(fe(M,y),M.h==0&&(M.src=null,S[Ie]=null)):X(y)}}}function Ve(y){return y in qe?qe[y]:qe[y]="on"+y}function _t(y,S){if(y.da)y=!0;else{S=new ge(S,this);const M=y.listener,F=y.ha||y.src;y.fa&&Fe(y),y=M.call(F,S)}return y}function _e(y){return y=y[Ie],y instanceof ee?y:null}var ft="__closure_events_fn_"+(Math.random()*1e9>>>0);function me(y){return typeof y=="function"?y:(y[ft]||(y[ft]=function(S){return y.handleEvent(S)}),y[ft])}function Ye(){I.call(this),this.i=new ee(this),this.M=this,this.G=null}g(Ye,I),Ye.prototype[ce]=!0,Ye.prototype.removeEventListener=function(y,S,M,F){ae(this,y,S,M,F)};function Ke(y,S){var M,F=y.G;if(F)for(M=[];F;F=F.G)M.push(F);if(y=y.M,F=S.type||S,typeof S=="string")S=new P(S,y);else if(S instanceof P)S.target=S.target||y;else{var ne=S;S=new P(F,y),K(S,ne)}ne=!0;let ue,Te;if(M)for(Te=M.length-1;Te>=0;Te--)ue=S.g=M[Te],ne=jt(ue,F,!0,S)&&ne;if(ue=S.g=y,ne=jt(ue,F,!0,S)&&ne,ne=jt(ue,F,!1,S)&&ne,M)for(Te=0;Te<M.length;Te++)ue=S.g=M[Te],ne=jt(ue,F,!1,S)&&ne}Ye.prototype.N=function(){if(Ye.Z.N.call(this),this.i){var y=this.i;for(const S in y.g){const M=y.g[S];for(let F=0;F<M.length;F++)X(M[F]);delete y.g[S],y.h--}}this.G=null},Ye.prototype.J=function(y,S,M,F){return this.i.add(String(y),S,!1,M,F)},Ye.prototype.K=function(y,S,M,F){return this.i.add(String(y),S,!0,M,F)};function jt(y,S,M,F){if(S=y.i.g[String(S)],!S)return!0;S=S.concat();let ne=!0;for(let ue=0;ue<S.length;++ue){const Te=S[ue];if(Te&&!Te.da&&Te.capture==M){const nt=Te.listener,pn=Te.ha||Te.src;Te.fa&&fe(y.i,Te),ne=nt.call(pn,F)!==!1&&ne}}return ne&&!F.defaultPrevented}function Ba(y,S){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(y,S||0)}function $a(y){y.g=Ba(()=>{y.g=null,y.i&&(y.i=!1,$a(y))},y.l);const S=y.h;y.h=null,y.m.apply(null,S)}class Yn extends I{constructor(S,M){super(),this.m=S,this.l=M,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:$a(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Se(y){I.call(this),this.h=y,this.g={}}g(Se,I);var Et=[];function on(y){ye(y.g,function(S,M){this.g.hasOwnProperty(M)&&Fe(S)},y),y.g={}}Se.prototype.N=function(){Se.Z.N.call(this),on(this)},Se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ln=c.JSON.stringify,Zr=c.JSON.parse,dl=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function fl(){}function hl(){}var kr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _n(){P.call(this,"d")}g(_n,P);function Ar(){P.call(this,"c")}g(Ar,P);var mn={},Jh=null;function Ec(){return Jh=Jh||new Ye}mn.Ia="serverreachability";function Zh(y){P.call(this,mn.Ia,y)}g(Zh,P);function pi(y){const S=Ec();Ke(S,new Zh(S))}mn.STAT_EVENT="statevent";function ml(y,S){P.call(this,mn.STAT_EVENT,y),this.stat=S}g(ml,P);function jn(y){const S=Ec();Ke(S,new ml(S,y))}mn.Ja="timingevent";function gi(y,S){P.call(this,mn.Ja,y),this.size=S}g(gi,P);function yi(y,S){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},S)}function Fa(){this.g=!0}Fa.prototype.ua=function(){this.g=!1};function av(y,S,M,F,ne,ue){y.info(function(){if(y.g)if(ue){var Te="",nt=ue.split("&");for(let bt=0;bt<nt.length;bt++){var pn=nt[bt].split("=");if(pn.length>1){const Yt=pn[0];pn=pn[1];const ba=Yt.split("_");Te=ba.length>=2&&ba[1]=="type"?Te+(Yt+"="+pn+"&"):Te+(Yt+"=redacted&")}}}else Te=null;else Te=ue;return"XMLHTTP REQ ("+F+") [attempt "+ne+"]: "+S+`
`+M+`
`+Te})}function em(y,S,M,F,ne,ue,Te){y.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ne+"]: "+S+`
`+M+`
`+ue+" "+Te})}function vi(y,S,M,F){y.info(function(){return"XMLHTTP TEXT ("+S+"): "+iv(y,M)+(F?" "+F:"")})}function pl(y,S){y.info(function(){return"TIMEOUT: "+S})}Fa.prototype.info=function(){};function iv(y,S){if(!y.g)return S;if(!S)return null;try{const ue=JSON.parse(S);if(ue){for(y=0;y<ue.length;y++)if(Array.isArray(ue[y])){var M=ue[y];if(!(M.length<2)){var F=M[1];if(Array.isArray(F)&&!(F.length<1)){var ne=F[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Te=1;Te<F.length;Te++)F[Te]=""}}}}return ln(ue)}catch{return S}}var gl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xd;function yl(){}g(yl,fl),yl.prototype.g=function(){return new XMLHttpRequest},xd=new yl;function ns(y){return encodeURIComponent(String(y))}function tm(y){var S=1;y=y.split(":");const M=[];for(;S>0&&y.length;)M.push(y.shift()),S--;return y.length&&M.push(y.join(":")),M}function qa(y,S,M,F){this.j=y,this.i=S,this.l=M,this.S=F||1,this.V=new Se(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ha}function Ha(){this.i=null,this.g="",this.h=!1}var En={},Wn={};function xi(y,S,M){y.M=1,y.A=vl(An(S)),y.u=M,y.R=!0,Sc(y,null)}function Sc(y,S){y.F=Date.now(),bi(y),y.B=An(y.A);var M=y.B,F=y.S;Array.isArray(F)||(F=[String(F)]),Ic(M.i,"t",F),y.C=0,M=y.j.L,y.h=new Ha,y.g=gm(y.j,M?S:null,!y.u),y.P>0&&(y.O=new Yn(h(y.Y,y,y.g),y.P)),S=y.V,M=y.g,F=y.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(Et[0]=ne.toString()),ne=Et);for(let ue=0;ue<ne.length;ue++){const Te=H(M,ne[ue],F||S.handleEvent,!1,S.h||S);if(!Te)break;S.g[Te.key]=Te}S=y.J?q(y.J):{},y.u?(y.v||(y.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,S)):(y.v="GET",y.g.ea(y.B,y.v,null,S)),pi(),av(y.i,y.v,y.B,y.l,y.S,y.u)}qa.prototype.ba=function(y){y=y.target;const S=this.O;S&&Ya(y)==3?S.j():this.Y(y)},qa.prototype.Y=function(y){try{if(y==this.g)e:{const nt=Ya(this.g),pn=this.g.ya(),bt=this.g.ca();if(!(nt<3)&&(nt!=3||this.g&&(this.h.h||this.g.la()||ir(this.g)))){this.K||nt!=4||pn==7||(pn==8||bt<=0?pi(3):pi(2)),wi(this);var S=this.g.ca();this.X=S;var M=sv(this);if(this.o=S==200,em(this.i,this.v,this.B,this.l,this.S,nt,S),this.o){if(this.U&&!this.L){t:{if(this.g){var F,ne=this.g;if((F=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(F)){var ue=F;break t}}ue=null}if(y=ue)vi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,y);else{this.o=!1,this.m=3,jn(12),ea(this),ya(this);break e}}if(this.R){y=!0;let Yt;for(;!this.K&&this.C<M.length;)if(Yt=rm(this,M),Yt==Wn){nt==4&&(this.m=4,jn(14),y=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==En){this.m=4,jn(15),vi(this.i,this.l,M,"[Invalid Chunk]"),y=!1;break}else vi(this.i,this.l,Yt,null),Ni(this,Yt);if(nm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||M.length!=0||this.h.h||(this.m=1,jn(16),y=!1),this.o=this.o&&y,!y)vi(this.i,this.l,M,"[Invalid Chunked Response]"),ea(this),ya(this);else if(M.length>0&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.aa&&!Te.P&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),Pd(Te),Te.P=!0,jn(11))}}else vi(this.i,this.l,M,null),Ni(this,M);nt==4&&ea(this),this.o&&!this.K&&(nt==4?fm(this.j,this):(this.o=!1,bi(this)))}else as(this.g),S==400&&M.indexOf("Unknown SID")>0?(this.m=3,jn(12)):(this.m=0,jn(13)),ea(this),ya(this)}}}catch{}finally{}};function sv(y){if(!nm(y))return y.g.la();const S=ir(y.g);if(S==="")return"";let M="";const F=S.length,ne=Ya(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return ea(y),ya(y),"";y.h.i=new c.TextDecoder}for(let ue=0;ue<F;ue++)y.h.h=!0,M+=y.h.i.decode(S[ue],{stream:!(ne&&ue==F-1)});return S.length=0,y.h.g+=M,y.C=0,y.h.g}function nm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function rm(y,S){var M=y.C,F=S.indexOf(`
`,M);return F==-1?Wn:(M=Number(S.substring(M,F)),isNaN(M)?En:(F+=1,F+M>S.length?Wn:(S=S.slice(F,F+M),y.C=F+M,S)))}qa.prototype.cancel=function(){this.K=!0,ea(this)};function bi(y){y.T=Date.now()+y.H,Ac(y,y.H)}function Ac(y,S){if(y.D!=null)throw Error("WatchDog timer not null");y.D=yi(h(y.aa,y),S)}function wi(y){y.D&&(c.clearTimeout(y.D),y.D=null)}qa.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(pl(this.i,this.B),this.M!=2&&(pi(),jn(17)),ea(this),this.m=2,ya(this)):Ac(this,this.T-y)};function ya(y){y.j.I==0||y.K||fm(y.j,y)}function ea(y){wi(y);var S=y.O;S&&typeof S.dispose=="function"&&S.dispose(),y.O=null,on(y.V),y.g&&(S=y.g,y.g=null,S.abort(),S.dispose())}function Ni(y,S){try{var M=y.j;if(M.I!=0&&(M.g==y||ji(M.h,y))){if(!y.L&&ji(M.h,y)&&M.I==3){try{var F=M.Ba.g.parse(S)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ne=F;if(ne[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<y.F)kc(M),so(M);else break e;El(M),jn(18)}}else M.xa=ne[1],0<M.xa-M.K&&ne[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=yi(h(M.Va,M),6e3));_i(M.h)<=1&&M.ta&&(M.ta=void 0)}else Ii(M,11)}else if((y.L||M.g==y)&&kc(M),!z(S))for(ne=M.Ba.g.parse(S),S=0;S<ne.length;S++){let bt=ne[S];const Yt=bt[0];if(!(Yt<=M.K))if(M.K=Yt,bt=bt[1],M.I==2)if(bt[0]=="c"){M.M=bt[1],M.ba=bt[2];const ba=bt[3];ba!=null&&(M.ka=ba,M.j.info("VER="+M.ka));const Oi=bt[4];Oi!=null&&(M.za=Oi,M.j.info("SVER="+M.za));const Wa=bt[5];Wa!=null&&typeof Wa=="number"&&Wa>0&&(F=1.5*Wa,M.O=F,M.j.info("backChannelRequestTimeoutMs_="+F)),F=M;const Xa=y.g;if(Xa){const Sl=Xa.g?Xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sl){var ue=F.h;ue.g||Sl.indexOf("spdy")==-1&&Sl.indexOf("quic")==-1&&Sl.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Nd(ue,ue.h),ue.h=null))}if(F.G){const Mc=Xa.g?Xa.g.getResponseHeader("X-HTTP-Session-Id"):null;Mc&&(F.wa=Mc,St(F.J,F.G,Mc))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-y.F,M.j.info("Handshake RTT: "+M.T+"ms")),F=M;var Te=y;if(F.na=pm(F,F.L?F.ba:null,F.W),Te.L){_d(F.h,Te);var nt=Te,pn=F.O;pn&&(nt.H=pn),nt.D&&(wi(nt),bi(nt)),F.g=Te}else um(F);M.i.length>0&&Ci(M)}else bt[0]!="stop"&&bt[0]!="close"||Ii(M,7);else M.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Ii(M,7):Rd(M):bt[0]!="noop"&&M.l&&M.l.qa(bt),M.A=0)}}pi(4)}catch{}}var Sn=class{constructor(y,S){this.g=y,this.map=S}};function bd(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function _i(y){return y.h?1:y.g?y.g.size:0}function ji(y,S){return y.h?y.h==S:y.g?y.g.has(S):!1}function Nd(y,S){y.g?y.g.add(S):y.h=S}function _d(y,S){y.h&&y.h==S?y.h=null:y.g&&y.g.has(S)&&y.g.delete(S)}bd.prototype.cancel=function(){if(this.i=jd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function jd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let S=y.i;for(const M of y.g.values())S=S.concat(M.G);return S}return w(y.i)}var am=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tc(y,S){if(y){y=y.split("&");for(let M=0;M<y.length;M++){const F=y[M].indexOf("=");let ne,ue=null;F>=0?(ne=y[M].substring(0,F),ue=y[M].substring(F+1)):ne=y[M],S(ne,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function ta(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;y instanceof ta?(this.l=y.l,Xn(this,y.j),this.o=y.o,this.g=y.g,Zs(this,y.u),this.h=y.h,Ed(this,lm(y.i)),this.m=y.m):y&&(S=String(y).match(am))?(this.l=!1,Xn(this,S[1]||"",!0),this.o=Ei(S[2]||""),this.g=Ei(S[3]||"",!0),Zs(this,S[4]),this.h=Ei(S[5]||"",!0),Ed(this,S[6]||"",!0),this.m=Ei(S[7]||"")):(this.l=!1,this.i=new to(null,this.l))}ta.prototype.toString=function(){const y=[];var S=this.j;S&&y.push(xl(S,Cc,!0),":");var M=this.g;return(M||S=="file")&&(y.push("//"),(S=this.o)&&y.push(xl(S,Cc,!0),"@"),y.push(ns(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&y.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&y.push("/"),y.push(xl(M,M.charAt(0)=="/"?Sd:im,!0))),(M=this.i.toString())&&y.push("?",M),(M=this.m)&&y.push("#",xl(M,sm)),y.join("")},ta.prototype.resolve=function(y){const S=An(this);let M=!!y.j;M?Xn(S,y.j):M=!!y.o,M?S.o=y.o:M=!!y.g,M?S.g=y.g:M=y.u!=null;var F=y.h;if(M)Zs(S,y.u);else if(M=!!y.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var ne=S.h.lastIndexOf("/");ne!=-1&&(F=S.h.slice(0,ne+1)+F)}if(ne=F,ne==".."||ne==".")F="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){F=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const ue=[];for(let Te=0;Te<ne.length;){const nt=ne[Te++];nt=="."?F&&Te==ne.length&&ue.push(""):nt==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),F&&Te==ne.length&&ue.push("")):(ue.push(nt),F=!0)}F=ue.join("/")}else F=ne}return M?S.h=F:M=y.i.toString()!=="",M?Ed(S,lm(y.i)):M=!!y.m,M&&(S.m=y.m),S};function An(y){return new ta(y)}function Xn(y,S,M){y.j=M?Ei(S,!0):S,y.j&&(y.j=y.j.replace(/:$/,""))}function Zs(y,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);y.u=S}else y.u=null}function Ed(y,S,M){S instanceof to?(y.i=S,Oc(y.i,y.l)):(M||(S=xl(S,eo)),y.i=new to(S,y.l))}function St(y,S,M){y.i.set(S,M)}function vl(y){return St(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ei(y,S){return y?S?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function xl(y,S,M){return typeof y=="string"?(y=encodeURI(y).replace(S,Mr),M&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Mr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Cc=/[#\/\?@]/g,im=/[#\?:]/g,Sd=/[#\?]/g,eo=/[#\?@]/g,sm=/#/g;function to(y,S){this.h=this.g=null,this.i=y||null,this.j=!!S}function Lr(y){y.g||(y.g=new Map,y.h=0,y.i&&Tc(y.i,function(S,M){y.add(decodeURIComponent(S.replace(/\+/g," ")),M)}))}t=to.prototype,t.add=function(y,S){Lr(this),this.i=null,y=no(this,y);let M=this.g.get(y);return M||this.g.set(y,M=[]),M.push(S),this.h+=1,this};function om(y,S){Lr(y),S=no(y,S),y.g.has(S)&&(y.i=null,y.h-=y.g.get(S).length,y.g.delete(S))}function Ad(y,S){return Lr(y),S=no(y,S),y.g.has(S)}t.forEach=function(y,S){Lr(this),this.g.forEach(function(M,F){M.forEach(function(ne){y.call(S,ne,F,this)},this)},this)};function Td(y,S){Lr(y);let M=[];if(typeof S=="string")Ad(y,S)&&(M=M.concat(y.g.get(no(y,S))));else for(y=Array.from(y.g.values()),S=0;S<y.length;S++)M=M.concat(y[S]);return M}t.set=function(y,S){return Lr(this),this.i=null,y=no(this,y),Ad(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[S]),this.h+=1,this},t.get=function(y,S){return y?(y=Td(this,y),y.length>0?String(y[0]):S):S};function Ic(y,S,M){om(y,S),M.length>0&&(y.i=null,y.g.set(no(y,S),w(M)),y.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],S=Array.from(this.g.keys());for(let F=0;F<S.length;F++){var M=S[F];const ne=ns(M);M=Td(this,M);for(let ue=0;ue<M.length;ue++){let Te=ne;M[ue]!==""&&(Te+="="+ns(M[ue])),y.push(Te)}}return this.i=y.join("&")};function lm(y){const S=new to;return S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),S}function no(y,S){return S=String(S),y.j&&(S=S.toLowerCase()),S}function Oc(y,S){S&&!y.j&&(Lr(y),y.i=null,y.g.forEach(function(M,F){const ne=F.toLowerCase();F!=ne&&(om(this,F),Ic(this,ne,M))},y)),y.j=S}function Ga(y,S){const M=new Fa;if(c.Image){const F=new Image;F.onload=p(va,M,"TestLoadImage: loaded",!0,S,F),F.onerror=p(va,M,"TestLoadImage: error",!1,S,F),F.onabort=p(va,M,"TestLoadImage: abort",!1,S,F),F.ontimeout=p(va,M,"TestLoadImage: timeout",!1,S,F),c.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=y}else S(!1)}function Cd(y,S){const M=new Fa,F=new AbortController,ne=setTimeout(()=>{F.abort(),va(M,"TestPingServer: timeout",!1,S)},1e4);fetch(y,{signal:F.signal}).then(ue=>{clearTimeout(ne),ue.ok?va(M,"TestPingServer: ok",!0,S):va(M,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ne),va(M,"TestPingServer: error",!1,S)})}function va(y,S,M,F,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),F(M)}catch{}}function ro(){this.g=new dl}function Si(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Si,fl),Si.prototype.g=function(){return new bl(this.i,this.h)};function bl(y,S){Ye.call(this),this.H=y,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(bl,Ye),t=bl.prototype,t.open=function(y,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=S,this.readyState=1,Ka(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(S.body=y),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var S=y.value?y.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!y.done}))&&(this.response=this.responseText+=S)}y.done?ao(this):Ka(this),this.readyState==3&&Rc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,ao(this))},t.Na=function(y){this.g&&(this.response=y,ao(this))},t.ga=function(){this.g&&ao(this)};function ao(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ka(y)}t.setRequestHeader=function(y,S){this.A.append(y,S)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],S=this.h.entries();for(var M=S.next();!M.done;)M=M.value,y.push(M[0]+": "+M[1]),M=S.next();return y.join(`\r
`)};function Ka(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function xa(y){let S="";return ye(y,function(M,F){S+=F,S+=":",S+=M,S+=`\r
`}),S}function wl(y,S,M){e:{for(F in M){var F=!1;break e}F=!0}F||(M=xa(M),typeof y=="string"?M!=null&&ns(M):St(y,S,M))}function It(y){Ye.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(It,Ye);var Ai=/^https?$/i,Id=["POST","PUT"];t=It.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,S,M,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);S=S?S.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xd.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(y),!0),this.B=!1}catch(ue){Nl(this,ue);return}if(y=M||"",M=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ne in F)M.set(ne,F[ne]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ue of F.keys())M.set(ue,F.get(ue));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(M.keys()).find(ue=>ue.toLowerCase()=="content-type"),ne=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Id,S,void 0)>=0)||F||ne||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Te]of M)this.g.setRequestHeader(ue,Te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ue){Nl(this,ue)}};function Nl(y,S){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=S,y.o=5,Od(y),rs(y)}function Od(y){y.A||(y.A=!0,Ke(y,"complete"),Ke(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Ke(this,"complete"),Ke(this,"abort"),rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_l(this):this.Xa())},t.Xa=function(){_l(this)};function _l(y){if(y.h&&typeof s<"u"){if(y.v&&Ya(y)==4)setTimeout(y.Ca.bind(y),0);else if(Ke(y,"readystatechange"),Ya(y)==4){y.h=!1;try{const ue=y.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var M;if(!(M=S)){var F;if(F=ue===0){let Te=String(y.D).match(am)[1]||null;!Te&&c.self&&c.self.location&&(Te=c.self.location.protocol.slice(0,-1)),F=!Ai.test(Te?Te.toLowerCase():"")}M=F}if(M)Ke(y,"complete"),Ke(y,"success");else{y.o=6;try{var ne=Ya(y)>2?y.g.statusText:""}catch{ne=""}y.l=ne+" ["+y.ca()+"]",Od(y)}}finally{rs(y)}}}}function rs(y,S){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const M=y.g;y.g=null,S||Ke(y,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ya(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ya(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var S=this.g.responseText;return y&&S.indexOf(y)==0&&(S=S.substring(y.length)),Zr(S)}};function ir(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function as(y){const S={};y=(y.g&&Ya(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<y.length;F++){if(z(y[F]))continue;var M=tm(y[F]);const ne=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ue=S[ne]||[];S[ne]=ue,ue.push(M)}Q(S,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(y,S,M){return M&&M.internalChannelParams&&M.internalChannelParams[y]||S}function io(y){this.za=0,this.i=[],this.j=new Fa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,y),this.Za=Ti("retryDelaySeedMs",1e4,y),this.Ta=Ti("forwardChannelMaxRetries",2,y),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new bd(y&&y.concurrentRequestLimit),this.Ba=new ro,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=io.prototype,t.ka=8,t.I=1,t.connect=function(y,S,M,F){jn(0),this.W=y,this.H=S||{},M&&F!==void 0&&(this.H.OSID=M,this.H.OAID=F),this.F=this.X,this.J=pm(this,null,this.W),Ci(this)};function Rd(y){if(Dc(y),y.I==3){var S=y.V++,M=An(y.J);if(St(M,"SID",y.M),St(M,"RID",S),St(M,"TYPE","terminate"),jl(y,M),S=new qa(y,y.j,S),S.M=2,S.A=vl(An(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!M&&c.Image&&(new Image().src=S.A,M=!0),M||(S.g=gm(S.j,null),S.g.ea(S.A)),S.F=Date.now(),bi(S)}mm(y)}function so(y){y.g&&(Pd(y),y.g.cancel(),y.g=null)}function Dc(y){so(y),y.v&&(c.clearTimeout(y.v),y.v=null),kc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function Ci(y){if(!wd(y.h)&&!y.m){y.m=!0;var S=y.Ea;R||V(),U||(R(),U=!0),O.add(S,y),y.D=0}}function Pc(y,S){return _i(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=S.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=yi(h(y.Ea,y,S),hm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ne=new qa(this,this.j,y);let ue=this.o;if(this.U&&(ue?(ue=q(ue),K(ue,this.U)):ue=this.U),this.u!==null||this.R||(ne.J=ue,ue=null),this.S)e:{for(var S=0,M=0;M<this.i.length;M++){t:{var F=this.i[M];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(S+=F,S>4096){S=M;break e}if(S===4096||M===this.i.length-1){S=M+1;break e}}S=1e3}else S=1e3;S=cm(this,ne,S),M=An(this.J),St(M,"RID",y),St(M,"CVER",22),this.G&&St(M,"X-HTTP-Session-Id",this.G),jl(this,M),ue&&(this.R?S="headers="+ns(xa(ue))+"&"+S:this.u&&wl(M,this.u,ue)),Nd(this.h,ne),this.Ra&&St(M,"TYPE","init"),this.S?(St(M,"$req",S),St(M,"SID","null"),ne.U=!0,xi(ne,M,null)):xi(ne,M,S),this.I=2}}else this.I==3&&(y?Dd(this,y):this.i.length==0||wd(this.h)||Dd(this))};function Dd(y,S){var M;S?M=S.l:M=y.V++;const F=An(y.J);St(F,"SID",y.M),St(F,"RID",M),St(F,"AID",y.K),jl(y,F),y.u&&y.o&&wl(F,y.u,y.o),M=new qa(y,y.j,M,y.D+1),y.u===null&&(M.J=y.o),S&&(y.i=S.G.concat(y.i)),S=cm(y,M,1e3),M.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Nd(y.h,M),xi(M,F,S)}function jl(y,S){y.H&&ye(y.H,function(M,F){St(S,F,M)}),y.l&&ye({},function(M,F){St(S,F,M)})}function cm(y,S,M){M=Math.min(y.i.length,M);const F=y.l?h(y.l.Ka,y.l,y):null;e:{var ne=y.i;let nt=-1;for(;;){const pn=["count="+M];nt==-1?M>0?(nt=ne[0].g,pn.push("ofs="+nt)):nt=0:pn.push("ofs="+nt);let bt=!0;for(let Yt=0;Yt<M;Yt++){var ue=ne[Yt].g;const ba=ne[Yt].map;if(ue-=nt,ue<0)nt=Math.max(0,ne[Yt].g-100),bt=!1;else try{ue="req"+ue+"_"||"";try{var Te=ba instanceof Map?ba:Object.entries(ba);for(const[Oi,Wa]of Te){let Xa=Wa;d(Wa)&&(Xa=ln(Wa)),pn.push(ue+Oi+"="+encodeURIComponent(Xa))}}catch(Oi){throw pn.push(ue+"type="+encodeURIComponent("_badmap")),Oi}}catch{F&&F(ba)}}if(bt){Te=pn.join("&");break e}}Te=void 0}return y=y.i.splice(0,M),S.G=y,Te}function um(y){if(!y.g&&!y.v){y.Y=1;var S=y.Da;R||V(),U||(R(),U=!0),O.add(S,y),y.A=0}}function El(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=yi(h(y.Da,y),hm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,dm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=yi(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jn(10),so(this),dm(this))};function Pd(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function dm(y){y.g=new qa(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var S=An(y.na);St(S,"RID","rpc"),St(S,"SID",y.M),St(S,"AID",y.K),St(S,"CI",y.F?"0":"1"),!y.F&&y.ia&&St(S,"TO",y.ia),St(S,"TYPE","xmlhttp"),jl(y,S),y.u&&y.o&&wl(S,y.u,y.o),y.O&&(y.g.H=y.O);var M=y.g;y=y.ba,M.M=1,M.A=vl(An(S)),M.u=null,M.R=!0,Sc(M,y)}t.Va=function(){this.C!=null&&(this.C=null,so(this),El(this),jn(19))};function kc(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function fm(y,S){var M=null;if(y.g==S){kc(y),Pd(y),y.g=null;var F=2}else if(ji(y.h,S))M=S.G,_d(y.h,S),F=1;else return;if(y.I!=0){if(S.o)if(F==1){M=S.u?S.u.length:0,S=Date.now()-S.F;var ne=y.D;F=Ec(),Ke(F,new gi(F,M)),Ci(y)}else um(y);else if(ne=S.m,ne==3||ne==0&&S.X>0||!(F==1&&Pc(y,S)||F==2&&El(y)))switch(M&&M.length>0&&(S=y.h,S.i=S.i.concat(M)),ne){case 1:Ii(y,5);break;case 4:Ii(y,10);break;case 3:Ii(y,6);break;default:Ii(y,2)}}}function hm(y,S){let M=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(M*=2),M*S}function Ii(y,S){if(y.j.info("Error code "+S),S==2){var M=h(y.bb,y),F=y.Ua;const ne=!F;F=new ta(F||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xn(F,"https"),vl(F),ne?Ga(F.toString(),M):Cd(F.toString(),M)}else jn(2);y.I=0,y.l&&y.l.pa(S),mm(y),Dc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),jn(2)):(this.j.info("Failed to ping google.com"),jn(1))};function mm(y){if(y.I=0,y.ja=[],y.l){const S=jd(y.h);(S.length!=0||y.i.length!=0)&&(E(y.ja,S),E(y.ja,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.oa()}}function pm(y,S,M){var F=M instanceof ta?An(M):new ta(M);if(F.g!="")S&&(F.g=S+"."+F.g),Zs(F,F.u);else{var ne=c.location;F=ne.protocol,S=S?S+"."+ne.hostname:ne.hostname,ne=+ne.port;const ue=new ta(null);F&&Xn(ue,F),S&&(ue.g=S),ne&&Zs(ue,ne),M&&(ue.h=M),F=ue}return M=y.G,S=y.wa,M&&S&&St(F,M,S),St(F,"VER",y.ka),jl(y,F),F}function gm(y,S,M){if(S&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=y.Aa&&!y.ma?new It(new Si({ab:M})):new It(y.ma),S.Fa(y.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ym(){}t=ym.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function oo(){}oo.prototype.g=function(y,S){return new Tr(y,S)};function Tr(y,S){Ye.call(this),this.g=new io(S),this.l=y,this.h=S&&S.messageUrlParams||null,y=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(y?y["X-WebChannel-Content-Type"]=S.messageContentType:y={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(y?y["X-WebChannel-Client-Profile"]=S.sa:y={"X-WebChannel-Client-Profile":S.sa}),this.g.U=y,(y=S&&S.Qb)&&!z(y)&&(this.g.u=y),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!z(S)&&(this.g.G=S,y=this.h,y!==null&&S in y&&(y=this.h,S in y&&delete y[S])),this.j=new is(this)}g(Tr,Ye),Tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){Rd(this.g)},Tr.prototype.o=function(y){var S=this.g;if(typeof y=="string"){var M={};M.__data__=y,y=M}else this.v&&(M={},M.__data__=ln(y),y=M);S.i.push(new Sn(S.Ya++,y)),S.I==3&&Ci(S)},Tr.prototype.N=function(){this.g.l=null,delete this.j,Rd(this.g),delete this.g,Tr.Z.N.call(this)};function vm(y){_n.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var S=y.__sm__;if(S){e:{for(const M in S){y=M;break e}y=void 0}(this.i=y)&&(y=this.i,S=S!==null&&y in S?S[y]:void 0),this.data=S}else this.data=y}g(vm,_n);function xm(){Ar.call(this),this.status=1}g(xm,Ar);function is(y){this.g=y}g(is,ym),is.prototype.ra=function(){Ke(this.g,"a")},is.prototype.qa=function(y){Ke(this.g,new vm(y))},is.prototype.pa=function(y){Ke(this.g,new xm)},is.prototype.oa=function(){Ke(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,aL=function(){return new oo},rL=function(){return Ec()},nL=mn,wN={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gl.NO_ERROR=0,gl.TIMEOUT=8,gl.HTTP_ERROR=6,ig=gl,vd.COMPLETE="complete",tL=vd,hl.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",Ye.prototype.listen=Ye.prototype.J,Rf=hl,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,eL=It}).apply(typeof Bp<"u"?Bp:typeof self<"u"?self:typeof window<"u"?window:{});const yD="@firebase/firestore",vD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new I0("@firebase/firestore");function yu(){return fc.logLevel}function De(t,...e){if(fc.logLevel<=ct.DEBUG){const n=e.map(iE);fc.debug(`Firestore (${ud}): ${t}`,...n)}}function Fs(t,...e){if(fc.logLevel<=ct.ERROR){const n=e.map(iE);fc.error(`Firestore (${ud}): ${t}`,...n)}}function Hu(t,...e){if(fc.logLevel<=ct.WARN){const n=e.map(iE);fc.warn(`Firestore (${ud}): ${t}`,...n)}}function iE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iL(t,r,n)}function iL(t,e,n){let r=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fs(r),new Error(r)}function Nt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||iL(e,a,r)}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ole{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(br.UNAUTHENTICATED)))}shutdown(){}}class Rle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Dle{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Nt(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new qo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qo,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qo)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt(typeof r.accessToken=="string",31837,{l:r}),new sL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string",2055,{h:e}),new br(e)}}class Ple{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=br.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kle{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Ple(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mle{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Nt(this.o===void 0,3512);const r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,De("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xD(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Lle(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function NN(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return Zw(a)===Zw(s)?ut(a,s):Zw(a)?1:-1}return ut(t.length,e.length)}const Ule=55296,Vle=57343;function Zw(t){const e=t.charCodeAt(0);return e>=Ule&&e<=Vle}function Gu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="__name__";class Mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=Mi.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return ut(e.length,n.length)}static compareSegments(e,n){const r=Mi.isNumericId(e),a=Mi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):NN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fo.fromString(e.substring(4,e.length-2))}}class $t extends Mi{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new $t(n)}static emptyPath(){return new $t([])}}const zle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends Mi{construct(e,n,r){return new fr(e,n,r)}static isValidIdentifier(e){return zle.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bD}static keyField(){return new fr([bD])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Re(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Re(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Re(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(s(),a++)}if(s(),c)throw new Re(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(n)}static emptyPath(){return new fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be($t.fromString(e))}static fromName(e){return new Be($t.fromString(e).popFirst(5))}static empty(){return new Be($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e,n){if(!n)throw new Re(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ble(t,e,n,r){if(e===!0&&r===!0)throw new Re(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wD(t){if(!Be.isDocumentKey(t))throw new Re(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ND(t){if(Be.isDocumentKey(t))throw new Re(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function P0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Wo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=P0(t);throw new Re(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bh(t,e){if(!lL(t))throw new Re(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Re(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=-62135596800,jD=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jD);return new Kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_D)throw new Re(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jD}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bh(e,Kt._jsonSchema))return new Kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_D;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kt._jsonSchemaVersion="firestore/timestamp/1.0",Kt._jsonSchema={type:Ln("string",Kt._jsonSchemaVersion),seconds:Ln("number"),nanoseconds:Ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Kt(0,0))}static max(){return new Xe(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=-1;function $le(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Xe.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new Xo(a,Be.empty(),e)}function Fle(t){return new Xo(t.readTime,t.key,sh)}class Xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xo(Xe.min(),Be.empty(),sh)}static max(){return new Xo(Xe.max(),Be.empty(),sh)}}function qle(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==Hle)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):we.reject(n)}static resolve(e){return new we(((n,r)=>{n(e)}))}static reject(e){return new we(((n,r)=>{r(e)}))}static waitFor(e){return new we(((n,r)=>{let a=0,s=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++s,c&&s===a&&n()}),(f=>r(f)))})),c=!0,s===a&&n()}))}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next((a=>a?we.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,s)=>{r.push(n.call(this,a,s))})),this.waitFor(r)}static mapArray(e,n){return new we(((r,a)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++d,d===s&&r(c)}),(p=>a(p)))}}))}static doWhile(e,n){return new we(((r,a)=>{const s=()=>{e()===!0?n().next((()=>{s()}),a):r()};s()}))}}function Kle(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}k0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=-1;function M0(t){return t==null}function my(t){return t===0&&1/t==-1/0}function Yle(t){return typeof t=="number"&&Number.isInteger(t)&&!my(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="";function Wle(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ED(e)),e=Xle(t.get(n),e);return ED(e)}function Xle(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case cL:n+="";break;default:n+=s}}return n}function ED(t){return t+cL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){this.comparator=e,this.root=n||dr.EMPTY}insert(e,n){return new cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $p(this.root,e,this.comparator,!1)}getReverseIterator(){return new $p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $p(this.root,e,this.comparator,!0)}}class $p{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??dr.RED,this.left=a??dr.EMPTY,this.right=s??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new dr(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return dr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AD(this.data.getIterator())}getIteratorFrom(e){return new AD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class AD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new fa([])}unionWith(e){let n=new Fn(fr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dL("Invalid base64 string: "+s):s}})(e);return new gr(n)}static fromUint8Array(e){const n=(function(a){let s="";for(let c=0;c<a.length;++c)s+=String.fromCharCode(a[c]);return s})(e);return new gr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const Qle=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(t){if(Nt(!!t,39018),typeof t=="string"){let e=0;const n=Qle.exec(t);if(Nt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(t.seconds),nanos:xn(t.nanos)}}function xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?gr.fromBase64String(t):gr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="server_timestamp",hL="__type__",mL="__previous_value__",pL="__local_write_time__";function lE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hL])==null?void 0:r.stringValue)===fL}function L0(t){const e=t.mapValue.fields[mL];return lE(e)?L0(e):e}function oh(t){const e=Qo(t.mapValue.fields[pL].timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jle{constructor(e,n,r,a,s,c,d,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const py="(default)";class lh{constructor(e,n){this.projectId=e,this.database=n||py}static empty(){return new lh("","")}get isDefaultDatabase(){return this.database===py}isEqual(e){return e instanceof lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="__type__",Zle="__max__",Fp={mapValue:{}},yL="__vector__",gy="value";function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lE(t)?4:tce(t)?9007199254740991:ece(t)?10:11:Ge(28295,{value:t})}function Xi(t,e){if(t===e)return!0;const n=Zo(t);if(n!==Zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oh(t).isEqual(oh(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const c=Qo(a.timestampValue),d=Qo(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Jo(a.bytesValue).isEqual(Jo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return xn(a.geoPointValue.latitude)===xn(s.geoPointValue.latitude)&&xn(a.geoPointValue.longitude)===xn(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return xn(a.integerValue)===xn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const c=xn(a.doubleValue),d=xn(s.doubleValue);return c===d?my(c)===my(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(a,s){const c=a.mapValue.fields||{},d=s.mapValue.fields||{};if(SD(c)!==SD(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Xi(c[f],d[f])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function ch(t,e){return(t.values||[]).find((n=>Xi(n,e)))!==void 0}function Ku(t,e){if(t===e)return 0;const n=Zo(t),r=Zo(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const d=xn(s.integerValue||s.doubleValue),f=xn(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return TD(t.timestampValue,e.timestampValue);case 4:return TD(oh(t),oh(e));case 5:return NN(t.stringValue,e.stringValue);case 6:return(function(s,c){const d=Jo(s),f=Jo(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const d=s.split("/"),f=c.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=ut(d[h],f[h]);if(p!==0)return p}return ut(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const d=ut(xn(s.latitude),xn(c.latitude));return d!==0?d:ut(xn(s.longitude),xn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return CD(t.arrayValue,e.arrayValue);case 10:return(function(s,c){var x,w,E,_;const d=s.fields||{},f=c.fields||{},h=(x=d[gy])==null?void 0:x.arrayValue,p=(w=f[gy])==null?void 0:w.arrayValue,g=ut(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((_=p==null?void 0:p.values)==null?void 0:_.length)||0);return g!==0?g:CD(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===Fp.mapValue&&c===Fp.mapValue)return 0;if(s===Fp.mapValue)return 1;if(c===Fp.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=NN(f[g],p[g]);if(x!==0)return x;const w=Ku(d[f[g]],h[p[g]]);if(w!==0)return w}return ut(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function TD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=Qo(t),r=Qo(e),a=ut(n.seconds,r.seconds);return a!==0?a:ut(n.nanos,r.nanos)}function CD(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=Ku(n[a],r[a]);if(s)return s}return ut(n.length,r.length)}function Yu(t){return _N(t)}function _N(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Qo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Jo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=_N(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const c of r)s?s=!1:a+=",",a+=`${c}:${_N(n.fields[c])}`;return a+"}"})(t.mapValue):Ge(61005,{value:t})}function sg(t){switch(Zo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=L0(t);return e?16+sg(e):16;case 5:return 2*t.stringValue.length;case 6:return Jo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+sg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return sl(r.fields,((s,c)=>{a+=s.length+sg(c)})),a})(t.mapValue);default:throw Ge(13486,{value:t})}}function ID(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jN(t){return!!t&&"integerValue"in t}function cE(t){return!!t&&"arrayValue"in t}function OD(t){return!!t&&"nullValue"in t}function RD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function og(t){return!!t&&"mapValue"in t}function ece(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gL])==null?void 0:r.stringValue)===yL}function Uf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return sl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Uf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uf(t.arrayValue.values[n]);return e}return{...t}}function tce(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Zle}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!og(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uf(n)}setAll(e){let n=fr.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Uf(c):a.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());og(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];og(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){sl(n,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new Hr(Uf(this.value))}}function vL(t){const e=[];return sl(t.fields,((n,r)=>{const a=new fr([n]);if(og(r)){const s=vL(r.mapValue).fields;if(s.length===0)e.push(a);else for(const c of s)e.push(a.child(c))}else e.push(a)})),new fa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,a,s,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Nr(e,0,Xe.min(),Xe.min(),Xe.min(),Hr.empty(),0)}static newFoundDocument(e,n,r,a){return new Nr(e,1,n,Xe.min(),r,a,0)}static newNoDocument(e,n){return new Nr(e,2,n,Xe.min(),Xe.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new Nr(e,3,n,Xe.min(),Xe.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.position=e,this.inclusive=n}}function DD(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],c=t.position[a];if(s.field.isKeyField()?r=Be.comparator(Be.fromName(c.referenceValue),n.key):r=Ku(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function PD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n="asc"){this.field=e,this.dir=n}}function nce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{}class Pn extends xL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ace(e,n,r):n==="array-contains"?new oce(e,r):n==="in"?new lce(e,r):n==="not-in"?new cce(e,r):n==="array-contains-any"?new uce(e,r):new Pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ice(e,r):new sce(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ku(n,this.value)):n!==null&&Zo(this.value)===Zo(n)&&this.matchesComparison(Ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends xL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new di(e,n)}matches(e){return bL(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bL(t){return t.op==="and"}function wL(t){return rce(t)&&bL(t)}function rce(t){for(const e of t.filters)if(e instanceof di)return!1;return!0}function EN(t){if(t instanceof Pn)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(wL(t))return t.filters.map((e=>EN(e))).join(",");{const e=t.filters.map((n=>EN(n))).join(",");return`${t.op}(${e})`}}function NL(t,e){return t instanceof Pn?(function(r,a){return a instanceof Pn&&r.op===a.op&&r.field.isEqual(a.field)&&Xi(r.value,a.value)})(t,e):t instanceof di?(function(r,a){return a instanceof di&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,c,d)=>s&&NL(c,a.filters[d])),!0):!1})(t,e):void Ge(19439)}function _L(t){return t instanceof Pn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yu(n.value)}`})(t):t instanceof di?(function(n){return n.op.toString()+" {"+n.getFilters().map(_L).join(" ,")+"}"})(t):"Filter"}class ace extends Pn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class ice extends Pn{constructor(e,n){super(e,"in",n),this.keys=jL("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class sce extends Pn{constructor(e,n){super(e,"not-in",n),this.keys=jL("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Be.fromName(r.referenceValue)))}class oce extends Pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cE(n)&&ch(n.arrayValue,this.value)}}class lce extends Pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ch(this.value.arrayValue,n)}}class cce extends Pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ch(this.value.arrayValue,n)}}class uce extends Pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ch(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dce{constructor(e,n=null,r=[],a=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=c,this.endAt=d,this.Te=null}}function kD(t,e=null,n=[],r=[],a=null,s=null,c=null){return new dce(t,e,n,r,a,s,c)}function uE(t){const e=et(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>EN(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),M0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Yu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Yu(r))).join(",")),e.Te=n}return e.Te}function dE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PD(t.startAt,e.startAt)&&PD(t.endAt,e.endAt)}function SN(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n=null,r=[],a=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fce(t,e,n,r,a,s,c,d){return new hd(t,e,n,r,a,s,c,d)}function EL(t){return new hd(t)}function MD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SL(t){return t.collectionGroup!==null}function Vf(t){const e=et(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Fn(fr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new uh(s,r))})),n.has(fr.keyField().canonicalString())||e.Ie.push(new uh(fr.keyField(),r))}return e.Ie}function Vi(t){const e=et(t);return e.Ee||(e.Ee=hce(e,Vf(t))),e.Ee}function hce(t,e){if(t.limitType==="F")return kD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new uh(a.field,s)}));const n=t.endAt?new yy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yy(t.startAt.position,t.startAt.inclusive):null;return kD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function AN(t,e){const n=t.filters.concat([e]);return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vy(t,e,n){return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function U0(t,e){return dE(Vi(t),Vi(e))&&t.limitType===e.limitType}function AL(t){return`${uE(Vi(t))}|lt:${t.limitType}`}function vu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>_L(a))).join(", ")}]`),M0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Yu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Yu(a))).join(",")),`Target(${r})`})(Vi(t))}; limitType=${t.limitType})`}function V0(t,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Be.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,a){for(const s of Vf(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,f){const h=DD(c,d,f);return c.inclusive?h<=0:h<0})(r.startAt,Vf(r),a)||r.endAt&&!(function(c,d,f){const h=DD(c,d,f);return c.inclusive?h>=0:h>0})(r.endAt,Vf(r),a))})(t,e)}function mce(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TL(t){return(e,n)=>{let r=!1;for(const a of Vf(t)){const s=pce(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function pce(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(s,c,d){const f=c.data.field(s),h=d.data.field(s);return f!==null&&h!==null?Ku(f,h):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){sl(this.inner,((n,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return uL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gce=new cn(Be.comparator);function qs(){return gce}const CL=new cn(Be.comparator);function Df(...t){let e=CL;for(const n of t)e=e.insert(n.key,n);return e}function IL(t){let e=CL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Xl(){return zf()}function OL(){return zf()}function zf(){return new _c((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yce=new cn(Be.comparator),vce=new Fn(Be.comparator);function dt(...t){let e=vce;for(const n of t)e=e.add(n);return e}const xce=new Fn(ut);function bce(){return xce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:my(e)?"-0":e}}function RL(t){return{integerValue:""+t}}function wce(t,e){return Yle(e)?RL(e):fE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this._=void 0}}function Nce(t,e,n){return t instanceof xy?(function(a,s){const c={fields:{[hL]:{stringValue:fL},[pL]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&lE(s)&&(s=L0(s)),s&&(c.fields[mL]=s),{mapValue:c}})(n,e):t instanceof dh?PL(t,e):t instanceof fh?kL(t,e):(function(a,s){const c=DL(a,s),d=LD(c)+LD(a.Ae);return jN(c)&&jN(a.Ae)?RL(d):fE(a.serializer,d)})(t,e)}function _ce(t,e,n){return t instanceof dh?PL(t,e):t instanceof fh?kL(t,e):n}function DL(t,e){return t instanceof by?(function(r){return jN(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class xy extends z0{}class dh extends z0{constructor(e){super(),this.elements=e}}function PL(t,e){const n=ML(e);for(const r of t.elements)n.some((a=>Xi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class fh extends z0{constructor(e){super(),this.elements=e}}function kL(t,e){let n=ML(e);for(const r of t.elements)n=n.filter((a=>!Xi(a,r)));return{arrayValue:{values:n}}}class by extends z0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function LD(t){return xn(t.integerValue||t.doubleValue)}function ML(t){return cE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function jce(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof dh&&a instanceof dh||r instanceof fh&&a instanceof fh?Gu(r.elements,a.elements,Xi):r instanceof by&&a instanceof by?Xi(r.Ae,a.Ae):r instanceof xy&&a instanceof xy})(t.transform,e.transform)}class Ece{constructor(e,n){this.version=e,this.transformResults=n}}class Xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class B0{}function LL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $0(t.key,Xr.none()):new $h(t.key,t.data,Xr.none());{const n=t.data,r=Hr.empty();let a=new Fn(fr.comparator);for(let s of e.fields)if(!a.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),a=a.add(s)}return new ol(t.key,r,new fa(a.toArray()),Xr.none())}}function Sce(t,e,n){t instanceof $h?(function(a,s,c){const d=a.value.clone(),f=VD(a.fieldTransforms,s,c.transformResults);d.setAll(f),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ol?(function(a,s,c){if(!lg(a.precondition,s))return void s.convertToUnknownDocument(c.version);const d=VD(a.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(UL(a)),f.setAll(d),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Bf(t,e,n,r){return t instanceof $h?(function(s,c,d,f){if(!lg(s.precondition,c))return d;const h=s.value.clone(),p=zD(s.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof ol?(function(s,c,d,f){if(!lg(s.precondition,c))return d;const h=zD(s.fieldTransforms,f,c),p=c.data;return p.setAll(UL(s)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,c,d){return lg(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function Ace(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=DL(r.transform,a||null);s!=null&&(n===null&&(n=Hr.empty()),n.set(r.field,s))}return n||null}function UD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Gu(r,a,((s,c)=>jce(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $h extends B0{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ol extends B0{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function UL(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function VD(t,e,n){const r=new Map;Nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],c=s.transform,d=e.data.field(s.field);r.set(s.field,_ce(c,d,n[a]))}return r}function zD(t,e,n){const r=new Map;for(const a of t){const s=a.transform,c=n.data.field(a.field);r.set(a.field,Nce(s,c,e))}return r}class $0 extends B0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tce extends B0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cce{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&Sce(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OL();return this.mutations.forEach((a=>{const s=e.get(a.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=n.has(a.key)?null:d;const f=LL(c,d);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,((n,r)=>UD(n,r)))&&Gu(this.baseMutations,e.baseMutations,((n,r)=>UD(n,r)))}}class hE{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return yce})();const s=e.mutations;for(let c=0;c<s.length;c++)a=a.insert(s[c].key,r[c].version);return new hE(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ice{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oce{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,mt;function Rce(t){switch(t){case xe.OK:return Ge(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function VL(t){if(t===void 0)return Fs("GRPC error has no .code"),xe.UNKNOWN;switch(t){case Rn.OK:return xe.OK;case Rn.CANCELLED:return xe.CANCELLED;case Rn.UNKNOWN:return xe.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return xe.INTERNAL;case Rn.UNAVAILABLE:return xe.UNAVAILABLE;case Rn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Rn.NOT_FOUND:return xe.NOT_FOUND;case Rn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Rn.ABORTED:return xe.ABORTED;case Rn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Rn.DATA_LOSS:return xe.DATA_LOSS;default:return Ge(39323,{code:t})}}(mt=Rn||(Rn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pce=new Fo([4294967295,4294967295],0);function BD(t){const e=Dce().encode(t),n=new Z3;return n.update(e),new Uint8Array(n.digest())}function $D(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([a,s],0)]}class mE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pf(`Invalid padding: ${n}`);if(r<0)throw new Pf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fo.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Fo.fromNumber(r)));return a.compare(Pce)===1&&(a=new Fo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BD(e),[r,a]=$D(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new mE(s,a,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=BD(e),[r,a]=$D(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Fh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new F0(Xe.min(),a,new cn(ut),qs(),dt())}}class Fh{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fh(r,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class zL{constructor(e,n){this.targetId=e,this.Ce=n}}class BL{constructor(e,n,r=gr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class FD{constructor(){this.ve=0,this.Fe=qD(),this.Me=gr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),r=dt();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ge(38017,{changeType:s})}})),new Fh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=qD()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kce{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.Je=qp(),this.He=qp(),this.Ye=new cn(ut)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(SN(s))if(r===0){const c=new Be(s.path);this.et(n,c,Nr.newNoDocument(c,Xe.min()))}else Nt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let c,d;try{c=Jo(r).toUint8Array()}catch(f){if(f instanceof dL)return Hu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new mE(c,a,s)}catch(f){return Hu(f instanceof Pf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((s=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((s,c)=>{const d=this.ot(c);if(d){if(s.current&&SN(d.target)){const f=new Be(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,Nr.newNoDocument(f,e))}s.Be&&(n.set(c,s.ke()),s.qe())}}));let r=dt();this.He.forEach(((s,c)=>{let d=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const a=new F0(e,n,this.Ye,this.je,r);return this.je=qs(),this.Je=qp(),this.He=qp(),this.Ye=new cn(ut),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FD,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Fn(ut),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Fn(ut),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FD),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qp(){return new cn(Be.comparator)}function qD(){return new cn(Be.comparator)}const Mce={asc:"ASCENDING",desc:"DESCENDING"},Lce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uce={and:"AND",or:"OR"};class Vce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function TN(t,e){return t.useProto3Json||M0(e)?e:{value:e}}function wy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $L(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zce(t,e){return wy(t,e.toTimestamp())}function zi(t){return Nt(!!t,49232),Xe.fromTimestamp((function(n){const r=Qo(n);return new Kt(r.seconds,r.nanos)})(t))}function pE(t,e){return CN(t,e).canonicalString()}function CN(t,e){const n=(function(a){return new $t(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function FL(t){const e=$t.fromString(t);return Nt(YL(e),10190,{key:e.toString()}),e}function IN(t,e){return pE(t.databaseId,e.path)}function e1(t,e){const n=FL(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(HL(n))}function qL(t,e){return pE(t.databaseId,e)}function Bce(t){const e=FL(t);return e.length===4?$t.emptyPath():HL(e)}function ON(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HL(t){return Nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HD(t,e,n){return{name:IN(t,e),fields:n.value.mapValue.fields}}function $ce(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ge(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(Nt(p===void 0||typeof p=="string",58123),gr.fromBase64String(p||"")):(Nt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),gr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(h){const p=h.code===void 0?xe.UNKNOWN:VL(h.code);return new Re(p,h.message||"")})(c);n=new BL(r,a,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=e1(t,r.document.name),s=zi(r.document.updateTime),c=r.document.createTime?zi(r.document.createTime):Xe.min(),d=new Hr({mapValue:{fields:r.document.fields}}),f=Nr.newFoundDocument(a,s,c,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new cg(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=e1(t,r.document),s=r.readTime?zi(r.readTime):Xe.min(),c=Nr.newNoDocument(a,s),d=r.removedTargetIds||[];n=new cg([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=e1(t,r.document),s=r.removedTargetIds||[];n=new cg([],s,a,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,c=new Oce(a,s),d=r.targetId;n=new zL(d,c)}}return n}function Fce(t,e){let n;if(e instanceof $h)n={update:HD(t,e.key,e.value)};else if(e instanceof $0)n={delete:IN(t,e.key)};else if(e instanceof ol)n={update:HD(t,e.key,e.data),updateMask:Jce(e.fieldMask)};else{if(!(e instanceof Tce))return Ge(16599,{Vt:e.type});n={verify:IN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const d=c.transform;if(d instanceof xy)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof dh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof by)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ge(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:zce(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ge(27497)})(t,e.precondition)),n}function qce(t,e){return t&&t.length>0?(Nt(e!==void 0,14353),t.map((n=>(function(a,s){let c=a.updateTime?zi(a.updateTime):zi(s);return c.isEqual(Xe.min())&&(c=zi(s)),new Ece(c,a.transformResults||[])})(n,e)))):[]}function Hce(t,e){return{documents:[qL(t,e.path)]}}function Gce(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qL(t,a);const s=(function(h){if(h.length!==0)return KL(di.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const c=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:xu(x.field),direction:Wce(x.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=TN(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function Kce(t){let e=Bce(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Nt(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const x=GL(g);return x instanceof di&&wL(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((x=>(function(E){return new uh(bu(E.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let x;return x=typeof g=="object"?g.value:g,M0(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,w=g.values||[];return new yy(w,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,w=g.values||[];return new yy(w,x)})(n.endAt)),fce(e,a,c,s,d,"F",f,h)}function Yce(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bu(n.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=bu(n.unaryFilter.field);return Pn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bu(n.unaryFilter.field);return Pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bu(n.unaryFilter.field);return Pn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pn.create(bu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return di.create(n.compositeFilter.filters.map((r=>GL(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function Wce(t){return Mce[t]}function Xce(t){return Lce[t]}function Qce(t){return Uce[t]}function xu(t){return{fieldPath:t.canonicalString()}}function bu(t){return fr.fromServerFormat(t.fieldPath)}function KL(t){return t instanceof Pn?(function(n){if(n.op==="=="){if(RD(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NAN"}};if(OD(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RD(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NOT_NAN"}};if(OD(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(n.field),op:Xce(n.op),value:n.value}}})(t):t instanceof di?(function(n){const r=n.getFilters().map((a=>KL(a)));return r.length===1?r[0]:{compositeFilter:{op:Qce(n.op),filters:r}}})(t):Ge(54877,{filter:t})}function Jce(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r,a,s=Xe.min(),c=Xe.min(),d=gr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{constructor(e){this.yt=e}}function eue(t){const e=Kce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(){this.Cn=new nue}addToCollectionParentIndex(e,n){return this.Cn.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(Xo.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class nue{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Fn($t.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Fn($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WL=41943040;class qr{static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(WL,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wu(0)}static cr(){return new Wu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="LruGarbageCollector",rue=1048576;function YD([t,e],[n,r]){const a=ut(t,n);return a===0?ut(e,r):a}class aue{constructor(e){this.Ir=e,this.buffer=new Fn(YD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();YD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iue{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(KD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fd(n)?De(KD,"Ignoring IndexedDB error during garbage collection: ",n):await dd(n)}await this.Vr(3e5)}))}}class sue{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return we.resolve(k0.ce);const r=new aue(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(GD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GD):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,c,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,c=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),yu()<=ct.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function oue(t,e){return new sue(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{constructor(){this.changes=new _c((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uue{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Bf(r.mutation,a,fa.empty(),Kt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=dt()){const a=Xl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((s=>{let c=Df();return s.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Xl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,dt())))}populateOverlays(e,n,r){const a=[];return r.forEach((s=>{n.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,a){let s=qs();const c=zf(),d=(function(){return zf()})();return n.forEach(((f,h)=>{const p=r.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof ol)?s=s.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),Bf(p.mutation,h,p.mutation.getFieldMask(),Kt.now())):c.set(h.key,fa.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>d.set(h,new cue(p,c.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=zf();let a=new cn(((c,d)=>c-d)),s=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||fa.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(a.get(d.batchId)||dt()).add(f);a=a.insert(d.batchId,g)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=OL();p.forEach((x=>{if(!s.has(x)){const w=LL(n.get(x),r.get(x));w!==null&&g.set(x,w),s=s.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return we.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return Be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((s=>{const c=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):we.resolve(Xl());let d=sh,f=s;return c.next((h=>we.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?we.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,dt()))).next((p=>({batchId:d,changes:IL(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let a=Df();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let c=Df();return this.indexManager.getCollectionParents(e,s).next((d=>we.forEach(d,(f=>{const h=(function(g,x){return new hd(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((p=>{p.forEach(((g,x)=>{c=c.insert(g,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a)))).next((c=>{s.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,Nr.newInvalidDocument(p)))}));let d=Df();return c.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&Bf(p.mutation,h,fa.empty(),Kt.now()),V0(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return we.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:zi(a.createTime)}})(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:eue(a.bundledQuery),readTime:zi(a.readTime)}})(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fue{constructor(){this.overlays=new cn(Be.comparator),this.qr=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xl();return we.forEach(n,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,s)=>{this.St(e,n,s)})),we.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const a=Xl(),s=n.length+1,c=new Be(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return we.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new cn(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Xl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=Xl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=a)););return we.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Ice(n,r));let s=this.qr.get(n);s===void 0&&(s=dt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hue{constructor(){this.sessionToken=gr.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.Qr=new Fn(tr.$r),this.Ur=new Fn(tr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new tr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new tr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Be(new $t([])),r=new tr(n,e),a=new tr(n,e+1),s=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),s.push(c.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Be(new $t([])),r=new tr(n,e),a=new tr(n,e+1);let s=dt();return this.Ur.forEachInRange([r,a],(c=>{s=s.add(c.key)})),s}containsKey(e){const n=new tr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Be.comparator(e.key,n.key)||ut(e.Yr,n.Yr)}static Kr(e,n){return ut(e.Yr,n.Yr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Fn(tr.$r)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Cce(s,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new tr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return we.resolve(c)}lookupMutationBatch(e,n){return we.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return we.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?oE:this.tr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tr(n,0),a=new tr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);s.push(d)})),we.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(ut);return n.forEach((a=>{const s=new tr(a,0),c=new tr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,c],(d=>{r=r.add(d.Yr)}))})),we.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Be.isDocumentKey(s)||(s=s.child(""));const c=new tr(new Be(s),0);let d=new Fn(ut);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(d=d.add(f.Yr)),!0)}),c),we.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return we.forEach(n.mutations,(a=>{const s=new tr(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new tr(n,0),a=this.Zr.firstAfterOrEqual(r);return we.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(e){this.ri=e,this.docs=(function(){return new cn(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():Nr.newInvalidDocument(n))}getEntries(e,n){let r=qs();return n.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():Nr.newInvalidDocument(a))})),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=qs();const c=n.path,d=new Be(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||qle(Fle(p),r)<=0||(a.has(p.key)||V0(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return we.resolve(s)}getAllFromCollectionGroup(e,n,r,a){Ge(9500)}ii(e,n){return we.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new gue(this)}getSize(e){return we.resolve(this.size)}}class gue extends lue{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),we.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yue{constructor(e){this.persistence=e,this.si=new _c((n=>uE(n)),dE),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new gE,this.targetCount=0,this.ai=Wu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),we.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.Pr(n),we.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),we.waitFor(s).next((()=>a))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),we.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach((c=>{s.push(a.markPotentiallyOrphaned(e,c))})),we.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n){this.ui={},this.overlays={},this.ci=new k0(0),this.li=!1,this.li=!0,this.hi=new hue,this.referenceDelegate=e(this),this.Pi=new yue(this),this.indexManager=new tue,this.remoteDocumentCache=(function(a){return new pue(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Zce(n),this.Ii=new due(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new mue(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const a=new vue(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,n){return we.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class vue extends Gle{constructor(e){super(),this.currentSequenceNumber=e}}class yE{constructor(e){this.persistence=e,this.Ri=new gE,this.Vi=null}static mi(e){return new yE(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),we.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.fi,(r=>{const a=Be.fromPath(r);return this.gi(e,a).next((s=>{s||n.removeEntry(a,Xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return we.or([()=>we.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ny{constructor(e,n){this.persistence=e,this.pi=new _c((r=>Wle(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=oue(this,n)}static mi(e,n){return new Ny(e,n)}Ei(){}di(e){return we.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return we.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?we.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,s.removeEntry(c,Xe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sg(e.data.value)),n}br(e,n,r){return we.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return we.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=dt(),a=dt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new vE(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $ie()?8:Kle(Er())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ws(e,n,a,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new xue;return this.Ss(e,n,c).next((d=>{if(s.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>s.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(yu()<=ct.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",vu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),we.resolve()):(yu()<=ct.DEBUG&&De("QueryEngine","Query:",vu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(yu()<=ct.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",vu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):we.resolve())}ys(e,n){if(MD(n))return we.resolve(null);let r=Vi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=vy(n,null,"F"),r=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=dt(...s);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,c,f.readTime)?this.ys(e,vy(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,a){return MD(n)||a.isEqual(Xe.min())?we.resolve(null):this.ps.getDocuments(e,r).next((s=>{const c=this.Ds(n,s);return this.Cs(n,c,r,a)?we.resolve(null):(yu()<=ct.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),vu(n)),this.vs(e,c,n,$le(a,sh)).next((d=>d)))}))}Ds(e,n){let r=new Fn(TL(e));return n.forEach(((a,s)=>{V0(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return yu()<=ct.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",vu(n)),this.ps.getDocumentsMatchingQuery(e,n,Xo.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(n.forEach((c=>{s=s.insert(c.key,c)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="LocalStore",wue=3e8;class Nue{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new cn(ut),this.xs=new _c((s=>uE(s)),dE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uue(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function _ue(t,e,n,r){return new Nue(t,e,n,r)}async function QL(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],d=[];let f=dt();for(const h of a){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:c,addedBatchIds:d})))}))}))}function jue(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,x=g.keys();let w=we.resolve();return x.forEach((E=>{w=w.next((()=>p.getEntry(f,E))).next((_=>{const j=h.docVersions.get(E);Nt(j!==null,48541),_.version.compareTo(j)<0&&(g.applyToRemoteDocument(_,h),_.isValidDocument()&&(_.setReadTime(h.commitVersion),p.addEntry(_)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=dt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function JL(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Eue(t,e){const n=et(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const x=a.get(g);if(!x)return;d.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let w=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(gr.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),a=a.insert(g,w),(function(_,j,C){return _.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=wue?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(x,w,p)&&d.push(n.Pi.updateTargetData(s,w))}));let f=qs(),h=dt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(Sue(s,c,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Xe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return we.waitFor(d).next((()=>c.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=a,s)))}function Sue(t,e,n){let r=dt(),a=dt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let c=qs();return n.forEach(((d,f)=>{const h=s.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Xe.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):De(xE,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function Aue(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=oE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Tue(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((s=>s?(a=s,we.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new Vo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function RN(t,e,n){const r=et(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!fd(c))throw c;De(xE,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function WD(t,e,n){const r=et(t);let a=Xe.min(),s=dt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const g=et(f),x=g.xs.get(p);return x!==void 0?we.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,c,Vi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Xe.min(),n?s:dt()))).next((d=>(Cue(r,mce(e),d),{documents:d,Qs:s})))))}function Cue(t,e,n){let r=t.Os.get(e)||Xe.min();n.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class XD{constructor(){this.activeTargetIds=bce()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iue{constructor(){this.Mo=new XD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="ConnectivityMonitor";class JD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(QD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(QD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp=null;function DN(){return Hp===null?Hp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hp++,"0x"+Hp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="RestConnection",Rue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Due{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===py?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const c=DN(),d=this.zo(e,n.toUriEncodedString());De(t1,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,s);const{host:h}=new URL(d),p=bc(h);return this.Jo(e,d,f,r,p).then((g=>(De(t1,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw Hu(t1,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,a,s,c){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,n){const r=Rue[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pue{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="WebChannelConnection";class kue extends Due{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const c=DN();return new Promise(((d,f)=>{const h=new eL;h.setWithCredentials(!0),h.listenOnce(tL.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case ig.NO_ERROR:const g=h.getResponseJson();De(vr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case ig.TIMEOUT:De(vr,`RPC '${e}' ${c} timed out`),f(new Re(xe.DEADLINE_EXCEEDED,"Request time out"));break;case ig.HTTP_ERROR:const x=h.getStatus();if(De(vr,`RPC '${e}' ${c} failed with status:`,x,"response text:",h.getResponseText()),x>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const _=(function(C){const L=C.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(L)>=0?L:xe.UNKNOWN})(E.status);f(new Re(_,E.message))}else f(new Re(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Re(xe.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{De(vr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);De(vr,`RPC '${e}' ${c} sending request:`,a),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=DN(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=aL(),d=rL(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");De(vr,`Creating RPC '${e}' stream ${a}: ${p}`,f);const g=c.createWebChannel(p,f);this.I_(g);let x=!1,w=!1;const E=new Pue({Yo:j=>{w?De(vr,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(x||(De(vr,`Opening RPC '${e}' stream ${a} transport.`),g.open(),x=!0),De(vr,`RPC '${e}' stream ${a} sending:`,j),g.send(j))},Zo:()=>g.close()}),_=(j,C,L)=>{j.listen(C,(A=>{try{L(A)}catch(D){setTimeout((()=>{throw D}),0)}}))};return _(g,Rf.EventType.OPEN,(()=>{w||(De(vr,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),_(g,Rf.EventType.CLOSE,(()=>{w||(w=!0,De(vr,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(g))})),_(g,Rf.EventType.ERROR,(j=>{w||(w=!0,Hu(vr,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),E.a_(new Re(xe.UNAVAILABLE,"The operation could not be completed")))})),_(g,Rf.EventType.MESSAGE,(j=>{var C;if(!w){const L=j.data[0];Nt(!!L,16349);const A=L,D=(A==null?void 0:A.error)||((C=A[0])==null?void 0:C.error);if(D){De(vr,`RPC '${e}' stream ${a} received error:`,D);const R=D.status;let U=(function(k){const I=Rn[k];if(I!==void 0)return VL(I)})(R),O=D.message;U===void 0&&(U=xe.INTERNAL,O="Unknown error status: "+R+" with message "+D.message),w=!0,E.a_(new Re(U,O)),g.close()}else De(vr,`RPC '${e}' stream ${a} received:`,L),E.u_(L)}})),_(d,nL.STAT_EVENT,(j=>{j.stat===wN.PROXY?De(vr,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===wN.NOPROXY&&De(vr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function n1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t){return new Vce(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&De("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="PersistentStream";class eU{constructor(e,n,r,a,s,c,d,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Re(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(ZD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(ZD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mue extends eU{constructor(e,n,r,a,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$ce(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Xe.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Xe.min():c.readTime?zi(c.readTime):Xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ON(this.serializer),n.addTarget=(function(s,c){let d;const f=c.target;if(d=SN(f)?{documents:Hce(s,f)}:{query:Gce(s,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=$L(s,c.resumeToken);const h=TN(s,c.expectedCount);h!==null&&(d.expectedCount=h)}else if(c.snapshotVersion.compareTo(Xe.min())>0){d.readTime=wy(s,c.snapshotVersion.toTimestamp());const h=TN(s,c.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=Yce(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ON(this.serializer),n.removeTarget=e,this.q_(n)}}class Lue extends eU{constructor(e,n,r,a,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qce(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ON(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Fce(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uue{}class Vue extends Uue{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Re(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Go(e,CN(n,r),a,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(xe.UNKNOWN,s.toString())}))}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,CN(n,r),a,c,d,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(xe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fs(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="RemoteStore";class Bue{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{jc(this)&&(De(hc,"Restarting streams for network reachability change."),await(async function(f){const h=et(f);h.Ea.add(4),await qh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await H0(h)})(this))}))})),this.Ra=new zue(r,a)}}async function H0(t){if(jc(t))for(const e of t.da)await e(!0)}async function qh(t){for(const e of t.da)await e(!1)}function tU(t,e){const n=et(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_E(n)?NE(n):md(n).O_()&&wE(n,e))}function bE(t,e){const n=et(t),r=md(n);n.Ia.delete(e),r.O_()&&nU(n,e),n.Ia.size===0&&(r.O_()?r.L_():jc(n)&&n.Ra.set("Unknown"))}function wE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}md(t).Y_(e)}function nU(t,e){t.Va.Ue(e),md(t).Z_(e)}function NE(t){t.Va=new kce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),md(t).start(),t.Ra.ua()}function _E(t){return jc(t)&&!md(t).x_()&&t.Ia.size>0}function jc(t){return et(t).Ea.size===0}function rU(t){t.Va=void 0}async function $ue(t){t.Ra.set("Online")}async function Fue(t){t.Ia.forEach(((e,n)=>{wE(t,e)}))}async function que(t,e){rU(t),_E(t)?(t.Ra.ha(e),NE(t)):t.Ra.set("Unknown")}async function Hue(t,e,n){if(t.Ra.set("Online"),e instanceof BL&&e.state===2&&e.cause)try{await(async function(a,s){const c=s.cause;for(const d of s.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){De(hc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _y(t,r)}else if(e instanceof cg?t.Va.Ze(e):e instanceof zL?t.Va.st(e):t.Va.tt(e),!n.isEqual(Xe.min()))try{const r=await JL(t.localStore);n.compareTo(r)>=0&&await(function(s,c){const d=s.Va.Tt(c);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(gr.EMPTY_BYTE_STRING,p.snapshotVersion)),nU(s,f);const g=new Vo(p.target,f,h,p.sequenceNumber);wE(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){De(hc,"Failed to raise snapshot:",r),await _y(t,r)}}async function _y(t,e,n){if(!fd(e))throw e;t.Ea.add(1),await qh(t),t.Ra.set("Offline"),n||(n=()=>JL(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(hc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await H0(t)}))}function aU(t,e){return e().catch((n=>_y(t,n,e)))}async function G0(t){const e=et(t),n=el(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:oE;for(;Gue(e);)try{const a=await Aue(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,Kue(e,a)}catch(a){await _y(e,a)}iU(e)&&sU(e)}function Gue(t){return jc(t)&&t.Ta.length<10}function Kue(t,e){t.Ta.push(e);const n=el(t);n.O_()&&n.X_&&n.ea(e.mutations)}function iU(t){return jc(t)&&!el(t).x_()&&t.Ta.length>0}function sU(t){el(t).start()}async function Yue(t){el(t).ra()}async function Wue(t){const e=el(t);for(const n of t.Ta)e.ea(n.mutations)}async function Xue(t,e,n){const r=t.Ta.shift(),a=hE.from(r,e,n);await aU(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await G0(t)}async function Que(t,e){e&&el(t).X_&&await(async function(r,a){if((function(c){return Rce(c)&&c!==xe.ABORTED})(a.code)){const s=r.Ta.shift();el(r).B_(),await aU(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await G0(r)}})(t,e),iU(t)&&sU(t)}async function eP(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),De(hc,"RemoteStore received new credentials");const r=jc(n);n.Ea.add(3),await qh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await H0(n)}async function Jue(t,e){const n=et(t);e?(n.Ea.delete(2),await H0(n)):e||(n.Ea.add(2),await qh(n),n.Ra.set("Unknown"))}function md(t){return t.ma||(t.ma=(function(n,r,a){const s=et(n);return s.sa(),new Mue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:$ue.bind(null,t),t_:Fue.bind(null,t),r_:que.bind(null,t),H_:Hue.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),_E(t)?NE(t):t.Ra.set("Unknown")):(await t.ma.stop(),rU(t))}))),t.ma}function el(t){return t.fa||(t.fa=(function(n,r,a){const s=et(n);return s.sa(),new Lue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Yue.bind(null,t),r_:Que.bind(null,t),ta:Wue.bind(null,t),na:Xue.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await G0(t)):(await t.fa.stop(),t.Ta.length>0&&(De(hc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const c=Date.now()+r,d=new jE(e,n,c,a,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function EE(t,e){if(Fs("AsyncQueue",`${e}: ${t}`),fd(t))return new Re(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{static emptySet(e){return new Cu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Df(),this.sortedSet=new cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.ga=new cn(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Xu{constructor(e,n,r,a,s,c,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,s){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Xu(e,n,Cu.emptySet(n),c,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&U0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zue{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ede{constructor(){this.queries=nP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=et(n),s=a.queries;a.queries=nP(),s.forEach(((c,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new Re(xe.ABORTED,"Firestore shutting down"))}}function nP(){return new _c((t=>AL(t)),U0)}async function tde(t,e){const n=et(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new Zue,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=EE(c,`Initialization of query '${vu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&SE(n)}async function nde(t,e){const n=et(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const c=s.Sa.indexOf(e);c>=0&&(s.Sa.splice(c,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rde(t,e){const n=et(t);let r=!1;for(const a of e){const s=a.query,c=n.queries.get(s);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&SE(n)}function ade(t,e,n){const r=et(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function SE(t){t.Ca.forEach((e=>{e.next()}))}var PN,rP;(rP=PN||(PN={})).Ma="default",rP.Cache="cache";class ide{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==PN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.key=e}}class lU{constructor(e){this.key=e}}class sde{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=TL(e),this.tu=new Cu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new tP,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const x=a.get(p),w=V0(this.query,g)?g:null,E=!!x&&this.mutatedKeys.has(x.key),_=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let j=!1;x&&w?x.data.isEqual(w.data)?E!==_&&(r.track({type:3,doc:w}),j=!0):this.su(x,w)||(r.track({type:2,doc:w}),j=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(d=!0)):!x&&w?(r.track({type:0,doc:w}),j=!0):x&&!w&&(r.track({type:1,doc:x}),j=!0,(f||h)&&(d=!0)),j&&(w?(c=c.add(w),s=_?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Cs:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(w,E){const _=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:j})}};return _(w)-_(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,h=f!==this.Za;return this.Za=f,c.length!==0||h?{snapshot:new Xu(this.query,e.tu,s,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new lU(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new oU(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const AE="SyncEngine";class ode{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lde{constructor(e){this.key=e,this.hu=!1}}class cde{constructor(e,n,r,a,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new _c((d=>AL(d)),U0),this.Iu=new Map,this.Eu=new Set,this.du=new cn(Be.comparator),this.Au=new Map,this.Ru=new gE,this.Vu={},this.mu=new Map,this.fu=Wu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ude(t,e,n=!0){const r=mU(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await cU(r,e,n,!0),a}async function dde(t,e){const n=mU(t);await cU(n,e,!0,!1)}async function cU(t,e,n,r){const a=await Tue(t.localStore,Vi(e)),s=a.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await fde(t,e,s,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&tU(t.remoteStore,a),d}async function fde(t,e,n,r,a){t.pu=(g,x,w)=>(async function(_,j,C,L){let A=j.view.ru(C);A.Cs&&(A=await WD(_.localStore,j.query,!1).then((({documents:O})=>j.view.ru(O,A))));const D=L&&L.targetChanges.get(j.targetId),R=L&&L.targetMismatches.get(j.targetId)!=null,U=j.view.applyChanges(A,_.isPrimaryClient,D,R);return iP(_,j.targetId,U.au),U.snapshot})(t,g,x,w);const s=await WD(t.localStore,e,!0),c=new sde(e,s.Qs),d=c.ru(s.documents),f=Fh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=c.applyChanges(d,t.isPrimaryClient,f);iP(t,n,h.au);const p=new ode(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function hde(t,e,n){const r=et(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((c=>!U0(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await RN(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&bE(r.remoteStore,a.targetId),kN(r,a.targetId)})).catch(dd)):(kN(r,a.targetId),await RN(r.localStore,a.targetId,!0))}async function mde(t,e){const n=et(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bE(n.remoteStore,r.targetId))}async function pde(t,e,n){const r=Nde(t);try{const a=await(function(c,d){const f=et(c),h=Kt.now(),p=d.reduce(((w,E)=>w.add(E.key)),dt());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let E=qs(),_=dt();return f.Ns.getEntries(w,p).next((j=>{E=j,E.forEach(((C,L)=>{L.isValidDocument()||(_=_.add(C))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,E))).next((j=>{g=j;const C=[];for(const L of d){const A=Ace(L,g.get(L.key).overlayedDocument);A!=null&&C.push(new ol(L.key,A,vL(A.value.mapValue),Xr.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,C,d)})).next((j=>{x=j;const C=j.applyToLocalDocumentSet(g,_);return f.documentOverlayCache.saveOverlays(w,j.batchId,C)}))})).then((()=>({batchId:x.batchId,changes:IL(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let h=c.Vu[c.currentUser.toKey()];h||(h=new cn(ut)),h=h.insert(d,f),c.Vu[c.currentUser.toKey()]=h})(r,a.batchId,n),await Hh(r,a.changes),await G0(r.remoteStore)}catch(a){const s=EE(a,"Failed to persist write");n.reject(s)}}async function uU(t,e){const n=et(t);try{const r=await Eue(n.localStore,e);e.targetChanges.forEach(((a,s)=>{const c=n.Au.get(s);c&&(Nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Nt(c.hu,14607):a.removedDocuments.size>0&&(Nt(c.hu,42227),c.hu=!1))})),await Hh(n,r,e)}catch(r){await dd(r)}}function aP(t,e,n){const r=et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((s,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=et(c);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(d)&&(h=!0)})),h&&SE(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gde(t,e,n){const r=et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let c=new cn(Be.comparator);c=c.insert(s,Nr.newNoDocument(s,Xe.min()));const d=dt().add(s),f=new F0(Xe.min(),new Map,new cn(ut),c,d);await uU(r,f),r.du=r.du.remove(s),r.Au.delete(e),TE(r)}else await RN(r.localStore,e,!1).then((()=>kN(r,e,n))).catch(dd)}async function yde(t,e){const n=et(t),r=e.batch.batchId;try{const a=await jue(n.localStore,e);fU(n,r,null),dU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hh(n,a)}catch(a){await dd(a)}}async function vde(t,e,n){const r=et(t);try{const a=await(function(c,d){const f=et(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(Nt(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);fU(r,e,n),dU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hh(r,a)}catch(a){await dd(a)}}function dU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function fU(t,e,n){const r=et(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function kN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||hU(t,r)}))}function hU(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(bE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),TE(t))}function iP(t,e,n){for(const r of n)r instanceof oU?(t.Ru.addReference(r.key,e),xde(t,r)):r instanceof lU?(De(AE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||hU(t,r.key)):Ge(19791,{wu:r})}function xde(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(De(AE,"New document in limbo: "+n),t.Eu.add(r),TE(t))}function TE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be($t.fromString(e)),r=t.fu.next();t.Au.set(r,new lde(n)),t.du=t.du.insert(n,r),tU(t.remoteStore,new Vo(Vi(EL(n.path)),r,"TargetPurposeLimboResolution",k0.ce))}}async function Hh(t,e,n){const r=et(t),a=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){a.push(h);const g=vE.As(f.targetId,h);s.push(g)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(f,h){const p=et(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>we.forEach(h,(x=>we.forEach(x.Es,(w=>p.persistence.referenceDelegate.addReference(g,x.targetId,w))).next((()=>we.forEach(x.ds,(w=>p.persistence.referenceDelegate.removeReference(g,x.targetId,w)))))))))}catch(g){if(!fd(g))throw g;De(xE,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const w=p.Ms.get(x),E=w.snapshotVersion,_=w.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(x,_)}}})(r.localStore,s))}async function bde(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){De(AE,"User change. New user:",e.toKey());const r=await QL(n.localStore,e);n.currentUser=e,(function(s,c){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new Re(xe.CANCELLED,c))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hh(n,r.Ls)}}function wde(t,e){const n=et(t),r=n.Au.get(e);if(r&&r.hu)return dt().add(r.key);{let a=dt();const s=n.Iu.get(e);if(!s)return a;for(const c of s){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function mU(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gde.bind(null,e),e.Pu.H_=rde.bind(null,e.eventManager),e.Pu.yu=ade.bind(null,e.eventManager),e}function Nde(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vde.bind(null,e),e}class jy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=q0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _ue(this.persistence,new bue,e.initialUser,this.serializer)}Cu(e){return new XL(yE.mi,this.serializer)}Du(e){return new Iue}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jy.provider={build:()=>new jy};class _de extends jy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Nt(this.persistence.referenceDelegate instanceof Ny,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iue(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new XL((r=>Ny.mi(r,n)),this.serializer)}}class MN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bde.bind(null,this.syncEngine),await Jue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ede})()}createDatastore(e){const n=q0(e.databaseInfo.databaseId),r=(function(s){return new kue(s)})(e.databaseInfo);return(function(s,c,d,f){return new Vue(s,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,s,c,d){return new Bue(r,a,s,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>aP(this.syncEngine,n,0)),(function(){return JD.v()?new JD:new Oue})())}createSyncEngine(e,n){return(function(a,s,c,d,f,h,p){const g=new cde(a,s,c,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const s=et(a);De(hc,"RemoteStore shutting down."),s.Ea.add(5),await qh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}MN.provider={build:()=>new MN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jde{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="FirestoreClient";class Ede{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=br.UNAUTHENTICATED,this.clientId=sE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{De(tl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(De(tl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=EE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function r1(t,e){t.asyncQueue.verifyOperationInProgress(),De(tl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await QL(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function sP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Sde(t);De(tl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>eP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>eP(e.remoteStore,a))),t._onlineComponents=e}async function Sde(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(tl,"Using user provided OfflineComponentProvider");try{await r1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===xe.FAILED_PRECONDITION||a.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Hu("Error using user provided cache. Falling back to memory cache: "+n),await r1(t,new jy)}}else De(tl,"Using default OfflineComponentProvider"),await r1(t,new _de(void 0));return t._offlineComponents}async function pU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(tl,"Using user provided OnlineComponentProvider"),await sP(t,t._uninitializedComponentsProvider._online)):(De(tl,"Using default OnlineComponentProvider"),await sP(t,new MN))),t._onlineComponents}function Ade(t){return pU(t).then((e=>e.syncEngine))}async function Tde(t){const e=await pU(t),n=e.eventManager;return n.onListen=ude.bind(null,e.syncEngine),n.onUnlisten=hde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dde.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mde.bind(null,e.syncEngine),n}function Cde(t,e,n={}){const r=new qo;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,d,f,h){const p=new jde({next:x=>{p.Nu(),c.enqueueAndForget((()=>nde(s,g))),x.fromCache&&f.source==="server"?h.reject(new Re(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new ide(d,p,{includeMetadataChanges:!0,qa:!0});return tde(s,g)})(await Tde(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="firestore.googleapis.com",lP=!0;class cP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yU,this.ssl=lP}else this.host=e.host,this.ssl=e.ssl??lP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rue)throw new Re(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ble("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Re(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Re(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Re(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class K0{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ole;switch(r.type){case"firstParty":return new kle(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=oP.get(n);r&&(De("ComponentProvider","Removing Datastore"),oP.delete(n),r.terminate())})(this),Promise.resolve()}}function Ide(t,e,n,r={}){var h;t=Wo(t,K0);const a=bc(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Xj(`https://${d}`),Qj("Firestore",!0)),s.host!==yU&&s.host!==d&&Hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:a,emulatorOptions:r};if(!Yo(f,c)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=br.MOCK_USER;else{p=N3(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Re(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new br(x)}t._authCredentials=new Rle(new sL(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ll(this.firestore,e,this._query)}}class $n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}toJSON(){return{type:$n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Bh(n,$n._jsonSchema))return new $n(e,r||null,new Be($t.fromString(n.referencePath)))}}$n._jsonSchemaVersion="firestore/documentReference/1.0",$n._jsonSchema={type:Ln("string",$n._jsonSchemaVersion),referencePath:Ln("string")};class Ho extends ll{constructor(e,n,r){super(e,n,EL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Be(e))}withConverter(e){return new Ho(this.firestore,e,this._path)}}function Oe(t,e,...n){if(t=Nn(t),oL("collection","path",e),t instanceof K0){const r=$t.fromString(e,...n);return ND(r),new Ho(t,null,r)}{if(!(t instanceof $n||t instanceof Ho))throw new Re(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return ND(r),new Ho(t.firestore,null,r)}}function $e(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=sE.newId()),oL("doc","path",e),t instanceof K0){const r=$t.fromString(e,...n);return wD(r),new $n(t,null,new Be(r))}{if(!(t instanceof $n||t instanceof Ho))throw new Re(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return wD(r),new $n(t.firestore,t instanceof Ho?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="AsyncQueue";class dP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZL(this,"async_queue_retry"),this._c=()=>{const r=n1();r&&De(uP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=n1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=n1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fd(e))throw e;De(uP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fs("INTERNAL UNHANDLED ERROR: ",fP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=jE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&Ge(47125,{Pc:fP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pd extends K0{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new dP,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dP(e),this._firestoreClient=void 0,await e}}}function Ode(t,e){const n=typeof t=="object"?t:O0(),r=typeof t=="string"?t:py,a=il(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=x3("firestore");s&&Ide(a,...s)}return a}function CE(t){if(t._terminated)throw new Re(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Rde(t),t._firestoreClient}function Rde(t){var r,a,s;const e=t._freezeSettings(),n=(function(d,f,h,p){return new Jle(d,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,gU(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ede(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Da(gr.fromBase64String(e))}catch(n){throw new Re(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Da(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Da._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bh(e,Da._jsonSchema))return Da.fromBase64String(e.bytes)}}Da._jsonSchemaVersion="firestore/bytes/1.0",Da._jsonSchema={type:Ln("string",Da._jsonSchemaVersion),bytes:Ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Bh(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Ln("string",Bi._jsonSchemaVersion),latitude:Ln("number"),longitude:Ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bh(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $i(e.vectorValues);throw new Re(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Ln("string",$i._jsonSchemaVersion),vectorValues:Ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dde=/^__.*__$/;class Pde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ol(e,this.data,this.fieldMask,n,this.fieldTransforms):new $h(e,this.data,n,this.fieldTransforms)}}class vU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ol(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class OE{constructor(e,n,r,a,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new OE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ey(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xU(this.Ac)&&Dde.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||q0(e)}Cc(e,n,r,a=!1){return new OE({Ac:e,methodName:n,Dc:r,path:fr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y0(t){const e=t._freezeSettings(),n=q0(t._databaseId);return new kde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bU(t,e,n,r,a,s={}){const c=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);RE("Data must be an object, but it was:",c,r);const d=_U(r,c);let f,h;if(s.merge)f=new fa(c.fieldMask),h=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const x=LN(e,g,n);if(!c.contains(x))throw new Re(xe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);EU(p,x)||p.push(x)}f=new fa(p),h=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=c.fieldTransforms;return new Pde(new Hr(d),f,h)}class W0 extends IE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof W0}}function wU(t,e,n,r){const a=t.Cc(1,e,n);RE("Data must be an object, but it was:",a,r);const s=[],c=Hr.empty();sl(r,((f,h)=>{const p=DE(e,f,n);h=Nn(h);const g=a.yc(p);if(h instanceof W0)s.push(p);else{const x=Kh(h,g);x!=null&&(s.push(p),c.set(p,x))}}));const d=new fa(s);return new vU(c,d,a.fieldTransforms)}function NU(t,e,n,r,a,s){const c=t.Cc(1,e,n),d=[LN(e,r,n)],f=[a];if(s.length%2!=0)throw new Re(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)d.push(LN(e,s[x])),f.push(s[x+1]);const h=[],p=Hr.empty();for(let x=d.length-1;x>=0;--x)if(!EU(h,d[x])){const w=d[x];let E=f[x];E=Nn(E);const _=c.yc(w);if(E instanceof W0)h.push(w);else{const j=Kh(E,_);j!=null&&(h.push(w),p.set(w,j))}}const g=new fa(h);return new vU(p,g,c.fieldTransforms)}function Mde(t,e,n,r=!1){return Kh(n,t.Cc(r?4:3,e))}function Kh(t,e){if(jU(t=Nn(t)))return RE("Unsupported field value:",e,t),_U(t,e);if(t instanceof IE)return(function(r,a){if(!xU(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let c=0;for(const d of r){let f=Kh(d,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(r,a){if((r=Nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wce(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Kt.fromDate(r);return{timestampValue:wy(a.serializer,s)}}if(r instanceof Kt){const s=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wy(a.serializer,s)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Da)return{bytesValue:$L(a.serializer,r._byteString)};if(r instanceof $n){const s=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof $i)return(function(c,d){return{mapValue:{fields:{[gL]:{stringValue:yL},[gy]:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return fE(d.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${P0(r)}`)})(t,e)}function _U(t,e){const n={};return uL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sl(t,((r,a)=>{const s=Kh(a,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function jU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof Bi||t instanceof Da||t instanceof $n||t instanceof IE||t instanceof $i)}function RE(t,e,n){if(!jU(n)||!lL(n)){const r=P0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function LN(t,e,n){if((e=Nn(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return DE(t,e);throw Ey("Field path arguments must be of type string or ",t,!1,void 0,n)}const Lde=new RegExp("[~\\*/\\[\\]]");function DE(t,e,n){if(e.search(Lde)>=0)throw Ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw Ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ey(t,e,n,r,a){const s=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new Re(xe.INVALID_ARGUMENT,d+t+f)}function EU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ude(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(X0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ude extends SU{data(){return super.data()}}function X0(t,e){return typeof e=="string"?DE(t,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vde(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PE{}class kE extends PE{}function kn(t,e,...n){let r=[];e instanceof PE&&r.push(e),r=r.concat(n),(function(s){const c=s.filter((f=>f instanceof ME)).length,d=s.filter((f=>f instanceof Q0)).length;if(c>1||c>0&&d>0)throw new Re(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Q0 extends kE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Q0(e,n,r)}_apply(e){const n=this._parse(e);return AU(e._query,n),new ll(e.firestore,e.converter,AN(e._query,n))}_parse(e){const n=Y0(e.firestore);return(function(s,c,d,f,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){mP(g,p);const E=[];for(const _ of g)E.push(hP(f,s,_));x={arrayValue:{values:E}}}else x=hP(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||mP(g,p),x=Mde(d,c,g,p==="in"||p==="not-in");return Pn.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Jt(t,e,n){const r=e,a=X0("where",t);return Q0._create(a,r,n)}class ME extends PE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ME(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,s){let c=a;const d=s.getFlattenedFilters();for(const f of d)AU(c,f),c=AN(c,f)})(e._query,n),new ll(e.firestore,e.converter,AN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class LE extends kE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new LE(e,n)}_apply(e){const n=(function(a,s,c){if(a.startAt!==null)throw new Re(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Re(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uh(s,c)})(e._query,this._field,this._direction);return new ll(e.firestore,e.converter,(function(a,s){const c=a.explicitOrderBy.concat([s]);return new hd(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function gd(t,e="asc"){const n=e,r=X0("orderBy",t);return LE._create(r,n)}class UE extends kE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new UE(e,n,r)}_apply(e){return new ll(e.firestore,e.converter,vy(e._query,this._limit,this._limitType))}}function zde(t){return UE._create("limit",t,"F")}function hP(t,e,n){if(typeof(n=Nn(n))=="string"){if(n==="")throw new Re(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SL(e)&&n.indexOf("/")!==-1)throw new Re(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!Be.isDocumentKey(r))throw new Re(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ID(t,new Be(r))}if(n instanceof $n)return ID(t,n._key);throw new Re(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${P0(n)}.`)}function mP(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AU(t,e){const n=(function(a,s){for(const c of a)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Re(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Bde{convertValue(e,n="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sl(e,((a,s)=>{r[a]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,a,s;const n=(s=(a=(r=e.fields)==null?void 0:r[gy].arrayValue)==null?void 0:a.values)==null?void 0:s.map((c=>xn(c.doubleValue)));return new $i(n)}convertGeoPoint(e){return new Bi(xn(e.latitude),xn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=L0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oh(e));default:return null}}convertTimestamp(e){const n=Qo(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);Nt(YL(r),9688,{name:e});const a=new lh(r.get(1),r.get(3)),s=new Be(r.popFirst(5));return a.isEqual(n)||Fs(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Gp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iu extends SU{constructor(e,n,r,a,s,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(X0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Iu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Iu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Iu._jsonSchema={type:Ln("string",Iu._jsonSchemaVersion),bundleSource:Ln("string","DocumentSnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class ug extends Iu{data(e={}){return super.data(e)}}class Ou{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Gp(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ug(this._firestore,this._userDataWriter,r.key,r,new Gp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new ug(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Gp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new ug(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Gp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return d.type!==0&&(h=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:$de(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ou._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $de(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}Ou._jsonSchemaVersion="firestore/querySnapshot/1.0",Ou._jsonSchema={type:Ln("string",Ou._jsonSchemaVersion),bundleSource:Ln("string","QuerySnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class Fde extends Bde{constructor(e){super(),this.firestore=e}convertBytes(e){return new Da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function Qe(t){t=Wo(t,ll);const e=Wo(t.firestore,pd),n=CE(e),r=new Fde(e);return Vde(t._query),Cde(n,t._query).then((a=>new Ou(e,r,t,a)))}function kt(t,e,n,...r){t=Wo(t,$n);const a=Wo(t.firestore,pd),s=Y0(a);let c;return c=typeof(e=Nn(e))=="string"||e instanceof Gh?NU(s,"updateDoc",t._key,e,n,r):wU(s,"updateDoc",t._key,e),J0(a,[c.toMutation(t._key,Xr.exists(!0))])}function sn(t){return J0(Wo(t.firestore,pd),[new $0(t._key,Xr.none())])}function zt(t,e){const n=Wo(t.firestore,pd),r=$e(t),a=TU(t.converter,e);return J0(n,[bU(Y0(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Xr.exists(!1))]).then((()=>r))}function J0(t,e){return(function(r,a){const s=new qo;return r.asyncQueue.enqueueAndForget((async()=>pde(await Ade(r),a,s))),s.promise})(CE(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qde{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Y0(e)}set(e,n,r){this._verifyNotCommitted();const a=a1(e,this._firestore),s=TU(a.converter,n,r),c=bU(this._dataReader,"WriteBatch.set",a._key,s,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,Xr.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const s=a1(e,this._firestore);let c;return c=typeof(n=Nn(n))=="string"||n instanceof Gh?NU(this._dataReader,"WriteBatch.update",s._key,n,r,a):wU(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(c.toMutation(s._key,Xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=a1(e,this._firestore);return this._mutations=this._mutations.concat(new $0(n._key,Xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function a1(t,e){if((t=Nn(t)).firestore!==e)throw new Re(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){return CE(t=Wo(t,pd)),new qde(t,(e=>J0(t,e)))}(function(e,n=!0){(function(a){ud=a})(Nc),ui(new Ua("firestore",((r,{instanceIdentifier:a,options:s})=>{const c=r.getProvider("app").getImmediate(),d=new pd(new Dle(r.getProvider("auth-internal")),new Mle(c,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(h.options.projectId,p)})(c,a),c);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Wr(yD,vD,e),Wr(yD,vD,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="firebasestorage.googleapis.com",Hde="storageBucket",Gde=120*1e3,Kde=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends za{constructor(e,n,r=0){super(i1(e),`Firebase Storage: ${n} (${i1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ts.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return i1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qi||(Qi={}));function i1(t){return"storage/"+t}function Yde(){const t="An unknown error occurred, please check the error payload for server response.";return new ts(Qi.UNKNOWN,t)}function Wde(){return new ts(Qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xde(){return new ts(Qi.CANCELED,"User canceled the upload/download.")}function Qde(t){return new ts(Qi.INVALID_URL,"Invalid URL '"+t+"'.")}function Jde(t){return new ts(Qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pP(t){return new ts(Qi.INVALID_ARGUMENT,t)}function OU(){return new ts(Qi.APP_DELETED,"The Firebase app was deleted.")}function Zde(t){return new ts(Qi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ai.makeFromUrl(e,n)}catch{return new ai(e,"")}if(r.path==="")return r;throw Jde(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function h(D){D.path_=decodeURIComponent(D.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${a}/o${x}`,"i"),E={bucket:1,path:3},_=n===IU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",C=new RegExp(`^https?://${_}/${a}/${j}`,"i"),A=[{regex:d,indices:f,postModify:s},{regex:w,indices:E,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let D=0;D<A.length;D++){const R=A[D],U=R.regex.exec(e);if(U){const O=U[R.indices.bucket];let V=U[R.indices.path];V||(V=""),r=new ai(O,V),R.postModify(r);break}}if(r==null)throw Qde(e);return r}}class efe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tfe(t,e,n){let r=1,a=null,s=null,c=!1,d=0;function f(){return d===2}let h=!1;function p(...j){h||(h=!0,e.apply(null,j))}function g(j){a=setTimeout(()=>{a=null,t(w,f())},j)}function x(){s&&clearTimeout(s)}function w(j,...C){if(h){x();return}if(j){x(),p.call(null,j,...C);return}if(f()||c){x(),p.call(null,j,...C);return}r<64&&(r*=2);let A;d===1?(d=2,A=0):A=(r+Math.random())*1e3,g(A)}let E=!1;function _(j){E||(E=!0,x(),!h&&(a!==null?(j||(d=2),clearTimeout(a),g(0)):j||(d=1)))}return g(0),s=setTimeout(()=>{c=!0,_(!0)},n),_}function nfe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rfe(t){return t!==void 0}function gP(t,e,n,r){if(r<e)throw pP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw pP(`Invalid value for '${t}'. Expected ${n} or less.`)}function afe(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Sy;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Sy||(Sy={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ife(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sfe{constructor(e,n,r,a,s,c,d,f,h,p,g,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,_)=>{this.resolve_=E,this.reject_=_,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Kp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Sy.NO_ERROR,f=s.getStatus();if(!d||ife(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Sy.ABORT;r(!1,new Kp(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Kp(h,s))})},n=(r,a)=>{const s=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());rfe(f)?s(f):s()}catch(f){c(f)}else if(d!==null){const f=Yde();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(a.canceled){const f=this.appDelete_?OU():Xde();c(f)}else{const f=Wde();c(f)}};this.canceled_?n(!1,new Kp(!1,null,!0)):this.backoffId_=tfe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nfe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ofe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cfe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ufe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function dfe(t,e,n,r,a,s,c=!0,d=!1){const f=afe(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return cfe(p,e),ofe(p,n),lfe(p,s),ufe(p,r),new sfe(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ffe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hfe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n){this._service=e,n instanceof ai?this._location=n:this._location=ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ay(e,n)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hfe(this._location.path)}get storage(){return this._service}get parent(){const e=ffe(this._location.path);if(e===null)return null;const n=new ai(this._location.bucket,e);return new Ay(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Zde(e)}}function yP(t,e){const n=e==null?void 0:e[Hde];return n==null?null:ai.makeFromBucketSpec(n,t)}function mfe(t,e,n,r={}){t.host=`${e}:${n}`;const a=bc(e);a&&(Xj(`https://${t.host}/b`),Qj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:N3(s,t.app.options.projectId))}class pfe{constructor(e,n,r,a,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=IU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Gde,this._maxUploadRetryTime=Kde,this._requests=new Set,a!=null?this._bucket=ai.makeFromBucketSpec(a,this._host):this._bucket=yP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,e):this._bucket=yP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ay(this,e)}_makeRequest(e,n,r,a,s=!0){if(this._deleted)return new efe(OU());{const c=dfe(e,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const vP="@firebase/storage",xP="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="storage";function gfe(t=O0(),e){t=Nn(t);const r=il(t,RU).getImmediate({identifier:e}),a=x3("storage");return a&&yfe(r,...a),r}function yfe(t,e,n,r={}){mfe(t,e,n,r)}function vfe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new pfe(n,r,a,e,Nc)}function xfe(){ui(new Ua(RU,vfe,"PUBLIC").setMultipleInstances(!0)),Wr(vP,xP,""),Wr(vP,xP,"esm2020")}xfe();function DU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bfe=DU,PU=new wc("auth","Firebase",DU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new I0("@firebase/auth");function wfe(t,...e){Ty.logLevel<=ct.WARN&&Ty.warn(`Auth (${Nc}): ${t}`,...e)}function dg(t,...e){Ty.logLevel<=ct.ERROR&&Ty.error(`Auth (${Nc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,...e){throw VE(t,...e)}function Fi(t,...e){return VE(t,...e)}function kU(t,e,n){const r={...bfe(),[e]:n};return new wc("auth","Firebase",r).create(e,{appName:t.name})}function nc(t){return kU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PU.create(t,...e)}function We(t,e,...n){if(!t)throw VE(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dg(e),new Error(e)}function Gs(t,e){t||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Nfe(){return bP()==="http:"||bP()==="https:"}function bP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nfe()||_3()||"connection"in navigator)?navigator.onLine:!0}function jfe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gs(n>e,"Short delay should be less than long delay!"),this.isMobile=Lie()||zie()}get(){return _fe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e){Gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Efe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sfe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Afe=new Yh(3e4,6e4);function BE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yd(t,e,n,r,a={}){return LU(t,a,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const d=zh({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return Vie()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&bc(t.emulatorConfig.host)&&(h.credentials="include"),MU.fetch()(await UU(t,t.config.apiHost,n,d),h)})}async function LU(t,e,n){t._canInitEmulator=!1;const r={...Efe,...e};try{const a=new Cfe(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Yp(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yp(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Yp(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Yp(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw kU(t,p,h);Hs(t,p)}}catch(a){if(a instanceof za)throw a;Hs(t,"network-request-failed",{message:String(a)})}}async function Tfe(t,e,n,r,a={}){const s=await yd(t,e,n,r,a);return"mfaPendingCredential"in s&&Hs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function UU(t,e,n,r){const a=`${e}${n}?${r}`,s=t,c=s.config.emulator?zE(t.config,a):`${t.config.apiScheme}://${a}`;return Sfe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}class Cfe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),Afe.get())})}}function Yp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Fi(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ife(t,e){return yd(t,"POST","/v1/accounts:delete",e)}async function Cy(t,e){return yd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ofe(t,e=!1){const n=Nn(t),r=await n.getIdToken(e),a=$E(r);We(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,c=s==null?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:$f(s1(a.auth_time)),issuedAtTime:$f(s1(a.iat)),expirationTime:$f(s1(a.exp)),signInProvider:c||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function s1(t){return Number(t)*1e3}function $E(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dg("JWT malformed, contained fewer than 3 sections"),null;try{const a=y3(n);return a?JSON.parse(a):(dg("Failed to decode base64 JWT payload"),null)}catch(a){return dg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function wP(t){const e=$E(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof za&&Rfe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Rfe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dfe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$f(this.lastLoginAt),this.creationTime=$f(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){var g;const e=t.auth,n=await t.getIdToken(),r=await hh(t,Cy(e,{idToken:n}));We(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=(g=a.providerUserInfo)!=null&&g.length?VU(a.providerUserInfo):[],c=kfe(t.providerData,s),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),h=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new VN(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Pfe(t){const e=Nn(t);await Iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kfe(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function VU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mfe(t,e){const n=await LU(t,{},async()=>{const r=zh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,c=await UU(t,a,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&bc(t.emulatorConfig.host)&&(f.credentials="include"),MU.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lfe(t,e){return yd(t,"POST","/v2/accounts:revokeToken",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=wP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await Mfe(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,c=new Ru;return r&&(We(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(We(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),s&&(We(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ru,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Dfe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new VN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hh(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ofe(this,e)}reload(){return Pfe(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(nc(this.auth));const e=await this.getIdToken();return await hh(this,Ife(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:w,providerData:E,stsTokenManager:_}=n;We(g&&_,e,"internal-error");const j=Ru.fromJSON(this.name,_);We(typeof g=="string",e,"internal-error"),Oo(r,e.name),Oo(a,e.name),We(typeof x=="boolean",e,"internal-error"),We(typeof w=="boolean",e,"internal-error"),Oo(s,e.name),Oo(c,e.name),Oo(d,e.name),Oo(f,e.name),Oo(h,e.name),Oo(p,e.name);const C=new ii({uid:g,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:s,tenantId:d,stsTokenManager:j,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(C.providerData=E.map(L=>({...L}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new Ru;a.updateFromServerResponse(n);const s=new ii({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Iy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];We(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?VU(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),d=new Ru;d.updateFromIdToken(r);const f=new ii({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new VN(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new Map;function Ts(t){Gs(t instanceof Function,"Expected a class definition");let e=NP.get(t);return e?(Gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zU.type="NONE";const _P=zU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e,n){return`firebase:${t}:${e}:${n}`}class Du{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=fg(this.userKey,a.apiKey,s),this.fullPersistenceKey=fg("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cy(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Du(Ts(_P),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=a[0]||Ts(_P);const c=fg(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(c);if(p){let g;if(typeof p=="string"){const x=await Cy(e,{idToken:p}).catch(()=>{});if(!x)break;g=await ii._fromGetAccountInfoResponse(e,x,p)}else g=ii._fromJSON(e,p);h!==s&&(d=g),s=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Du(s,e,r):(s=f[0],d&&await s._set(c,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(c)}catch{}})),new Du(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GU(e))return"Blackberry";if(KU(e))return"Webos";if($U(e))return"Safari";if((e.includes("chrome/")||FU(e))&&!e.includes("edge/"))return"Chrome";if(HU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BU(t=Er()){return/firefox\//i.test(t)}function $U(t=Er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FU(t=Er()){return/crios\//i.test(t)}function qU(t=Er()){return/iemobile/i.test(t)}function HU(t=Er()){return/android/i.test(t)}function GU(t=Er()){return/blackberry/i.test(t)}function KU(t=Er()){return/webos/i.test(t)}function FE(t=Er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ufe(t=Er()){var e;return FE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Vfe(){return Bie()&&document.documentMode===10}function YU(t=Er()){return FE(t)||HU(t)||KU(t)||GU(t)||/windows phone/i.test(t)||qU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t,e=[]){let n;switch(t){case"Browser":n=jP(Er());break;case"Worker":n=`${jP(Er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,d)=>{try{const f=e(s);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bfe(t,e={}){return yd(t,"GET","/v2/passwordPolicy",BE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $fe=6;class Ffe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$fe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qfe{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EP(this),this.idTokenSubscription=new EP(this),this.beforeStateQueue=new zfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{var r,a,s;if(!this._deleted&&(this.persistenceManager=await Du.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cy(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(s=this.redirectUser)==null?void 0:s._redirectEventId,d=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Iy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jfe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(nc(this));const n=e?Nn(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(nc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(nc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bfe(this),n=new Ffe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lfe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await Du.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&wfe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qE(t){return Nn(t)}class EP{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yie(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hfe(t){HE=t}function Gfe(t){return HE.loadJS(t)}function Kfe(){return HE.gapiScript}function Yfe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wfe(t,e){const n=il(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(Yo(s,e??{}))return a;Hs(a,"already-initialized")}return n.initialize({options:e})}function Xfe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Qfe(t,e,n){const r=qE(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=XU(e),{host:c,port:d}=Jfe(e),f=d===null?"":`:${d}`,h={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Yo(h,r.config.emulator)&&Yo(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,bc(c)?(Xj(`${s}//${c}${f}`),Qj("Auth",!0)):Zfe()}function XU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jfe(t){const e=XU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:SP(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:SP(c)}}}function SP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zfe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e){return Tfe(t,"POST","/v1/accounts:signInWithIdp",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ehe="http://localhost";class mc extends QU{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const c=new mc(r,a);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:ehe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends JU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Wh{constructor(){super("facebook.com")}static credential(e){return mc._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mc._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mo.credential(n,r)}catch{return null}}}Mo.GOOGLE_SIGN_IN_METHOD="google.com";Mo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Wh{constructor(){super("github.com")}static credential(e){return mc._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.GITHUB_SIGN_IN_METHOD="github.com";Lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Wh{constructor(){super("twitter.com")}static credential(e,n){return mc._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await ii._fromIdTokenResponse(e,r,a),c=AP(r);return new Qu({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=AP(r);return new Qu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function AP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends za{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Oy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Oy(e,n,r,a)}}function ZU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Oy._fromErrorAndOperation(t,s,e,r):s})}async function the(t,e,n=!1){const r=await hh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nhe(t,e,n=!1){const{auth:r}=t;if(ri(r.app))return Promise.reject(nc(r));const a="reauthenticate";try{const s=await hh(t,ZU(r,a,e,t),n);We(s.idToken,r,"internal-error");const c=$E(s.idToken);We(c,r,"internal-error");const{sub:d}=c;return We(t.uid===d,r,"user-mismatch"),Qu._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Hs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rhe(t,e,n=!1){if(ri(t.app))return Promise.reject(nc(t));const r="signIn",a=await ZU(t,r,e),s=await Qu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}function ahe(t,e,n,r){return Nn(t).onIdTokenChanged(e,n,r)}function ihe(t,e,n){return Nn(t).beforeAuthStateChanged(e,n)}const Ry="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ry,"1"),this.storage.removeItem(Ry),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const she=1e3,ohe=10;class t8 extends e8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);Vfe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ohe):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},she)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t8.type="LOCAL";const lhe=t8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8 extends e8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n8.type="SESSION";const r8=n8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function che(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Z0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async h=>h(n.origin,s)),f=await che(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Z0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,c;return new Promise((d,f)=>{const h=GE("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(x.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function dhe(t){qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function fhe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hhe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function mhe(){return a8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="firebaseLocalStorageDb",phe=1,Dy="firebaseLocalStorage",s8="fbase_key";class Xh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ev(t,e){return t.transaction([Dy],e?"readwrite":"readonly").objectStore(Dy)}function ghe(){const t=indexedDB.deleteDatabase(i8);return new Xh(t).toPromise()}function zN(){const t=indexedDB.open(i8,phe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dy,{keyPath:s8})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dy)?e(r):(r.close(),await ghe(),e(await zN()))})})}async function TP(t,e,n){const r=ev(t,!0).put({[s8]:e,value:n});return new Xh(r).toPromise()}async function yhe(t,e){const n=ev(t,!1).get(e),r=await new Xh(n).toPromise();return r===void 0?null:r.value}function CP(t,e){const n=ev(t,!0).delete(e);return new Xh(n).toPromise()}const vhe=800,xhe=3;class o8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xhe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Z0._getInstance(mhe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await fhe(),!this.activeServiceWorker)return;this.sender=new uhe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hhe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zN();return await TP(e,Ry,"1"),await CP(e,Ry),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yhe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=ev(a,!1).getAll();return new Xh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o8.type="LOCAL";const bhe=o8;new Yh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function whe(t,e){return e?Ts(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends QU{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Nhe(t){return rhe(t.auth,new KE(t),t.bypassAuthState)}function _he(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),nhe(n,new KE(t),t.bypassAuthState)}async function jhe(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),the(n,new KE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nhe;case"linkViaPopup":case"linkViaRedirect":return jhe;case"reauthViaPopup":case"reauthViaRedirect":return _he;default:Hs(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ehe=new Yh(2e3,1e4);class ju extends l8{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,ju.currentPopupAction&&ju.currentPopupAction.cancel(),ju.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){Gs(this.filter.length===1,"Popup operations only handle one event");const e=GE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ju.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ehe.get())};e()}}ju.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const She="pendingRedirect",hg=new Map;class Ahe extends l8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hg.get(this.auth._key());if(!e){try{const r=await The(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hg.set(this.auth._key(),e)}return this.bypassAuthState||hg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function The(t,e){const n=Ohe(e),r=Ihe(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function Che(t,e){hg.set(t._key(),e)}function Ihe(t){return Ts(t._redirectPersistence)}function Ohe(t){return fg(She,t.config.apiKey,t.name)}async function Rhe(t,e,n=!1){if(ri(t.app))return Promise.reject(nc(t));const r=qE(t),a=whe(r,e),c=await new Ahe(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dhe=600*1e3;class Phe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!khe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!c8(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dhe&&this.cachedEventUids.clear(),this.cachedEventUids.has(IP(e))}saveEventToCache(e){this.cachedEventUids.add(IP(e)),this.lastProcessedEventTime=Date.now()}}function IP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function c8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function khe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mhe(t,e={}){return yd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uhe=/^https?/;async function Vhe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Mhe(t);for(const n of e)try{if(zhe(n))return}catch{}Hs(t,"unauthorized-domain")}function zhe(t){const e=UN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!Uhe.test(n))return!1;if(Lhe.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bhe=new Yh(3e4,6e4);function OP(){const t=qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $he(t){return new Promise((e,n)=>{var a,s,c;function r(){OP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OP(),n(Fi(t,"network-request-failed"))},timeout:Bhe.get()})}if((s=(a=qi().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((c=qi().gapi)!=null&&c.load)r();else{const d=Yfe("iframefcb");return qi()[d]=()=>{gapi.load?r():n(Fi(t,"network-request-failed"))},Gfe(`${Kfe()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw mg=null,e})}let mg=null;function Fhe(t){return mg=mg||$he(t),mg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qhe=new Yh(5e3,15e3),Hhe="__/auth/iframe",Ghe="emulator/auth/iframe",Khe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yhe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Whe(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zE(e,Ghe):`https://${t.config.authDomain}/${Hhe}`,r={apiKey:e.apiKey,appName:t.name,v:Nc},a=Yhe.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${zh(r).slice(1)}`}async function Xhe(t){const e=await Fhe(t),n=qi().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:Whe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Khe,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const c=Fi(t,"network-request-failed"),d=qi().setTimeout(()=>{s(c)},qhe.get());function f(){qi().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{s(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jhe=500,Zhe=600,eme="_blank",tme="http://localhost";class RP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nme(t,e,n,r=Jhe,a=Zhe){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...Qhe,width:r.toString(),height:a.toString(),top:s,left:c},h=Er().toLowerCase();n&&(d=FU(h)?eme:n),BU(h)&&(e=e||tme,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[w,E])=>`${x}${w}=${E},`,"");if(Ufe(h)&&d!=="_self")return rme(e||"",d),new RP(null);const g=window.open(e||"",d,p);We(g,t,"popup-blocked");try{g.focus()}catch{}return new RP(g)}function rme(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ame="__/auth/handler",ime="emulator/auth/handler",sme=encodeURIComponent("fac");async function DP(t,e,n,r,a,s){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nc,eventId:a};if(e instanceof JU){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Kie(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Wh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${sme}=${encodeURIComponent(f)}`:"";return`${ome(t)}?${zh(d).slice(1)}${h}`}function ome({config:t}){return t.emulator?zE(t,ime):`https://${t.authDomain}/${ame}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="webStorageSupport";class lme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r8,this._completeRedirectFn=Rhe,this._overrideRedirectResult=Che}async _openPopup(e,n,r,a){var c;Gs((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const s=await DP(e,n,r,UN(),a);return nme(e,s,GE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await DP(e,n,r,UN(),a);return dhe(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(Gs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xhe(e),r=new Phe(e);return n.register("authEvent",a=>(We(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(o1,{type:o1},a=>{var c;const s=(c=a==null?void 0:a[0])==null?void 0:c[o1];s!==void 0&&n(!!s),Hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vhe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YU()||$U()||FE()}}const cme=lme;var PP="@firebase/auth",kP="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ume{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fme(t){ui(new Ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;We(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WU(t)},h=new qfe(r,a,s,f);return Xfe(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ui(new Ua("auth-internal",e=>{const n=qE(e.getProvider("auth").getImmediate());return(r=>new ume(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(PP,kP,dme(t)),Wr(PP,kP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hme=300,mme=w3("authIdTokenMaxAge")||hme;let MP=null;const pme=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mme)return;const a=n==null?void 0:n.token;MP!==a&&(MP=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function gme(t=O0()){const e=il(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wfe(t,{popupRedirectResolver:cme,persistence:[bhe,lhe,r8]}),r=w3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=pme(s.toString());ihe(n,c,()=>c(n.currentUser)),ahe(n,d=>c(d))}}const a=v3("auth");return a&&Qfe(n,`http://${a}`),n}function yme(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Hfe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=Fi("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",yme().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fme("Browser");const vme={apiKey:"AIzaSyBqcfkwEvapmZNqPyR6b6bvIZ8MqhxfpcY",authDomain:"botany-db.firebaseapp.com",projectId:"botany-db",storageBucket:"botany-db.firebasestorage.app",messagingSenderId:"479719860860",appId:"1:479719860860:web:7e7276143b1ebe0ec6b7f9",measurementId:"G-R5JLK6WW00"},tv=C3(vme);Sle(tv);const he=Ode(tv);gfe(tv);gme(tv);const xme="https://script.google.com/macros/s/AKfycbwuWlnf0aFiBQKNWOsBuNEx_voz3XB3kwAzxL13ZhL6bfsotewcxKKMmkD58e5hDVZ1zA/exec",cl=async t=>{if(t.size>50*1024*1024)throw new Error("   .    50 .");return new Promise((e,n)=>{const r=new FileReader;r.onload=async()=>{try{const s=r.result.split(",")[1];if(!s){n(new Error("   ."));return}const c={base64:s,type:t.type,name:t.name},d=await fetch(xme,{method:"POST",body:JSON.stringify(c)});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=await d.json();f.status==="success"&&f.url?e(f.url):n(new Error(f.message||" :     ."))}catch(a){console.error("Google Drive Upload Error:",a),n(new Error("   Google Drive."))}},r.onerror=()=>n(new Error("     .")),r.readAsDataURL(t)})},Ae=async(t,e,n="")=>{try{await zt(Oe(he,"activity_logs"),{action:t,performedBy:e,details:n,timestamp:new Date().toISOString(),createdAt:Date.now()})}catch(r){console.error("Error logging activity:",r)}},bme=async()=>{try{const t=kn(Oe(he,"activity_logs"),zde(100));let n=(await Qe(t)).docs.map(r=>({id:r.id,...r.data()}));return n.sort((r,a)=>(a.createdAt||0)-(r.createdAt||0)),n}catch(t){return console.error("Error fetching logs:",t),[]}},wme=async t=>{await sn($e(he,"activity_logs",t))},Nme=async(t,e)=>{try{const n=kn(Oe(he,"staff"),Jt("username","==",t),Jt("password","==",e)),r=await Qe(n);if(!r.empty){const x=r.docs[0].data();let w=Ne.STAFF;return t.toLowerCase()==="admin"&&(w=Ne.ADMIN),await Ae(" ",x.name,`  ${w}`),{id:r.docs[0].id,name:x.name,role:w,details:x.rank}}const a=kn(Oe(he,"employees"),Jt("username","==",t),Jt("password","==",e)),s=await Qe(a);if(!s.empty){const x=s.docs[0].data();return await Ae(" ",x.name,`: ${x.jobTitle}`),{id:s.docs[0].id,name:x.name,role:Ne.EMPLOYEE,details:x.jobTitle}}const c=kn(Oe(he,"pg_students"),Jt("username","==",t),Jt("password","==",e)),d=await Qe(c);if(!d.empty){const x=d.docs[0].data();return await Ae(" ",x.name,"  "),{id:d.docs[0].id,name:x.name,role:Ne.STUDENT_PG,details:" "}}const f=kn(Oe(he,"ug_students"),Jt("username","==",t),Jt("password","==",e)),h=await Qe(f);if(!h.empty){const x=h.docs[0].data();return await Ae(" ",x.name," "),{id:h.docs[0].id,name:x.name,role:Ne.STUDENT_UG,details:" "}}const p=kn(Oe(he,"alumni"),Jt("username","==",t),Jt("password","==",e)),g=await Qe(p);if(!g.empty){const x=g.docs[0].data();return await Ae(" ",x.name,""),{id:g.docs[0].id,name:x.name,role:Ne.ALUMNI,details:""}}return null}catch(n){return console.error("Login error:",n),null}},ul=async t=>{try{const e=Oe(he,"archive");let n;return t?n=kn(e,Jt("type","==",t)):n=kn(e),(await Qe(n)).docs.map(s=>({id:s.id,...s.data()})).sort((s,c)=>c.createdAt-s.createdAt)}catch(e){return console.warn("Error fetching docs:",e),[]}},nv=async t=>{const e={...t,createdAt:Date.now(),isFollowedUp:!1},n=await zt(Oe(he,"archive"),e);return{...e,id:n.id}},mh=async(t,e)=>{await kt($e(he,"archive",t),e)},Qh=async t=>{await sn($e(he,"archive",t))},YE=async t=>{const e=await ul(t),n=new Date().getFullYear(),r=e.length+1;return`${n}/${r.toString().padStart(4,"0")}`},_me=async()=>{const t=await Qe(Oe(he,"archive")),e=await Qe(Oe(he,"staff")),n=await Qe(Oe(he,"pg_students")),r=await Qe(Oe(he,"alumni")),a=await Qe(Oe(he,"employees")),s=t.docs.map(d=>d.data()),c=new Date().toISOString().split("T")[0];return{totalIncoming:s.filter(d=>d.type===Ze.INCOMING).length,totalOutgoing:s.filter(d=>d.type===Ze.OUTGOING).length,totalCouncils:s.filter(d=>d.type===Ze.DEPARTMENT_COUNCIL).length,totalCommittees:s.filter(d=>d.type===Ze.COMMITTEE_MEETING).length,todayCount:s.filter(d=>d.date===c).length,unansweredCount:s.filter(d=>d.type===Ze.INCOMING&&d.actionRequired&&!d.isFollowedUp).length,totalStaff:e.size,totalStudentsPG:n.size,totalAlumni:r.size,totalEmployees:a.size}},rv=async()=>(await Qe(Oe(he,"staff"))).docs.map(e=>({id:e.id,...e.data()})),jme=async t=>{await zt(Oe(he,"staff"),t)},u8=async(t,e)=>{await kt($e(he,"staff",t),e)},Eme=async t=>{await sn($e(he,"staff",t))},Sme=async()=>(await Qe(Oe(he,"employees"))).docs.map(e=>({id:e.id,...e.data()})),Ame=async t=>{await zt(Oe(he,"employees"),t)},Tme=async(t,e)=>{await kt($e(he,"employees",t),e)},Cme=async t=>{await sn($e(he,"employees",t))},Ime=t=>{if(!t)return{reportOverdue:!1,extensionNeeded:!1};const e=new Date().toISOString().split("T")[0];let n=!1,r=!1;return t.nextReportDue&&t.nextReportDue<e&&(n=!0),t.expectedDefense&&t.expectedDefense<e&&(r=!0),{reportOverdue:n,extensionNeeded:r}},d8=async()=>(await Qe(Oe(he,"pg_students"))).docs.map(e=>{const n=e.data();return{...n,id:e.id,alerts:Ime(n.dates)}}),Ome=async t=>{await zt(Oe(he,"pg_students"),t)},BN=async(t,e)=>{await kt($e(he,"pg_students",t),e)},Rme=async t=>{await sn($e(he,"pg_students",t))},Dme=async()=>(await Qe(Oe(he,"ug_students"))).docs.map(e=>({id:e.id,...e.data()})),Pme=async t=>{await zt(Oe(he,"ug_students"),t)},kme=async(t,e)=>{await kt($e(he,"ug_students",t),e)},Mme=async t=>{await sn($e(he,"ug_students",t))},Lme=async()=>(await Qe(Oe(he,"alumni"))).docs.map(e=>({id:e.id,...e.data()})),f8=async t=>{await zt(Oe(he,"alumni"),t)},Ume=async(t,e)=>{await kt($e(he,"alumni",t),e)},Vme=async t=>{await sn($e(he,"alumni",t))},zme=async()=>(await Qe(Oe(he,"jobs"))).docs.map(e=>({id:e.id,...e.data()})),Bme=async t=>{await zt(Oe(he,"jobs"),{...t,status:t.status||"OPEN"})},$me=async(t,e)=>{await kt($e(he,"jobs",t),e)},Fme=async t=>{await sn($e(he,"jobs",t))},qme=async()=>(await Qe(Oe(he,"assets"))).docs.map(e=>({id:e.id,...e.data()})),Hme=async t=>{await zt(Oe(he,"assets"),{...t,createdAt:Date.now()})},Gme=async(t,e)=>{await kt($e(he,"assets",t),e)},Kme=async t=>{await sn($e(he,"assets",t))},Yme=async()=>(await Qe(Oe(he,"labs"))).docs.map(e=>({id:e.id,...e.data()})),Wme=async t=>{await zt(Oe(he,"labs"),t)},Xme=async(t,e)=>{await kt($e(he,"labs",t),e)},Qme=async t=>{await sn($e(he,"labs",t))},Jme=async()=>(await Qe(Oe(he,"lab_classes"))).docs.map(e=>({id:e.id,...e.data()})),Zme=async t=>{await zt(Oe(he,"lab_classes"),t)},epe=async(t,e)=>{await kt($e(he,"lab_classes",t),e)},tpe=async t=>{await sn($e(he,"lab_classes",t))},npe=async()=>(await Qe(Oe(he,"lab_bookings"))).docs.map(e=>({id:e.id,...e.data()})),rpe=async t=>{await zt(Oe(he,"lab_bookings"),{...t,status:t.status||"CONFIRMED",createdAt:Date.now()})},ape=async(t,e)=>{await kt($e(he,"lab_bookings",t),e)},ipe=async t=>{await sn($e(he,"lab_bookings",t))},spe=async()=>{const e=(await Qe(Oe(he,"greenhouse_plots"))).docs.map(n=>({id:n.id,...n.data()}));if(e.length===0){const n=CU(he),r=[];for(let a=1;a<=12;a++){const s=$e(Oe(he,"greenhouse_plots")),c={number:a,status:"FREE"};n.set(s,c),r.push({id:s.id,...c})}return await n.commit(),r}return e},LP=async(t,e)=>{await kt($e(he,"greenhouse_plots",t),e)},ope=async()=>(await Qe(Oe(he,"greenhouse_history"))).docs.map(e=>({id:e.id,...e.data()})),lpe=async t=>{await zt(Oe(he,"greenhouse_history"),t)},cpe=async t=>{await sn($e(he,"greenhouse_history",t))},upe=async()=>(await Qe(Oe(he,"materials"))).docs.map(e=>({id:e.id,...e.data()})),dpe=async t=>{await zt(Oe(he,"materials"),t)},fpe=async t=>{await sn($e(he,"materials",t))},hpe=async()=>(await Qe(Oe(he,"announcements"))).docs.map(e=>({id:e.id,...e.data()})),mpe=async t=>{await zt(Oe(he,"announcements"),t)},ppe=async t=>{await sn($e(he,"announcements",t))},gpe=async()=>(await Qe(Oe(he,"schedules"))).docs.map(e=>({id:e.id,...e.data()})),ype=async t=>{await zt(Oe(he,"schedules"),t)},vpe=async t=>{await sn($e(he,"schedules",t))},xpe=async()=>(await Qe(Oe(he,"events"))).docs.map(e=>({id:e.id,...e.data()})),bpe=async t=>{await zt(Oe(he,"events"),{...t,createdAt:Date.now()})},wpe=async(t,e)=>{await kt($e(he,"events",t),e)},Npe=async t=>{await sn($e(he,"events",t))},_pe=async()=>(await Qe(Oe(he,"dept_councils"))).docs.map(e=>({id:e.id,...e.data()})),jpe=async t=>{await zt(Oe(he,"dept_councils"),t)},Epe=async(t,e)=>{await kt($e(he,"dept_councils",t),e)},Spe=async t=>{await sn($e(he,"dept_councils",t))},Ape=async()=>(await Qe(Oe(he,"dept_committees"))).docs.map(e=>({id:e.id,...e.data()})),Tpe=async t=>{await zt(Oe(he,"dept_committees"),t)},Cpe=async(t,e)=>{await kt($e(he,"dept_committees",t),e)},Ipe=async t=>{await sn($e(he,"dept_committees",t))},Ope=async(t,e)=>{const n=kn(Oe(he,"annual_reports"),Jt("userId","==",t),Jt("academicYear","==",e)),r=await Qe(n);return r.empty?null:{id:r.docs[0].id,...r.docs[0].data()}},Rpe=async(t,e)=>{e?await kt($e(he,"annual_reports",e),{...t}):await zt(Oe(he,"annual_reports"),t)},Dpe=async t=>{const e=kn(Oe(he,"annual_reports"),Jt("academicYear","==",t));return(await Qe(e)).docs.map(r=>({id:r.id,...r.data()}))},WE=async()=>{const t=kn(Oe(he,"research_plans"),Jt("status","==","ACTIVE")),e=await Qe(t);return e.empty?(await nge(),WE()):{id:e.docs[0].id,...e.docs[0].data()}},Ppe=async()=>{const t=kn(Oe(he,"research_plans"),gd("startDate","desc"));return(await Qe(t)).docs.map(n=>({id:n.id,...n.data()}))},kpe=async t=>{if(t.status==="ACTIVE"){const e=await WE();e&&await Upe(e.id)}await zt(Oe(he,"research_plans"),t)},Mpe=async(t,e)=>{await kt($e(he,"research_plans",t),e)},Lpe=async t=>{await sn($e(he,"research_plans",t))},Upe=async t=>{await kt($e(he,"research_plans",t),{status:"ARCHIVED"})},Vpe=async()=>{const t=kn(Oe(he,"research_proposals"),gd("createdAt","desc"));return(await Qe(t)).docs.map(n=>({id:n.id,...n.data()}))},zpe=async t=>{const e=JSON.parse(JSON.stringify(t));await zt(Oe(he,"research_proposals"),{...e,createdAt:Date.now()})},Bpe=async(t,e,n)=>{await kt($e(he,"research_proposals",t),{status:e,adminNotes:n})},$pe=async t=>{await zt(Oe(he,"leave_requests"),{...t,createdAt:Date.now(),status:t.substituteId?"PENDING_SUBSTITUTE":"PENDING_HEAD"})},Fpe=async t=>{const e=kn(Oe(he,"leave_requests"),Jt("userId","==",t),gd("createdAt","desc"));return(await Qe(e)).docs.map(r=>({id:r.id,...r.data()}))},qpe=async t=>{const e=kn(Oe(he,"leave_requests"),Jt("substituteId","==",t),Jt("status","==","PENDING_SUBSTITUTE"));return(await Qe(e)).docs.map(r=>({id:r.id,...r.data()}))},Hpe=async(t,e,n)=>{const r={substituteStatus:e?"ACCEPTED":"DECLINED",status:e?"PENDING_HEAD":"REJECTED",substituteRejectionReason:n||""};await kt($e(he,"leave_requests",t),r)},l1=async t=>{await zt(Oe(he,"career_requests"),{...t,createdAt:Date.now(),status:"PENDING_DEPT"})},Gpe=async t=>{const e=kn(Oe(he,"career_requests"),Jt("userId","==",t),gd("createdAt","desc"));return(await Qe(e)).docs.map(r=>({id:r.id,...r.data()}))},Kpe=async()=>{const t=kn(Oe(he,"career_requests"),gd("createdAt","desc"));return(await Qe(t)).docs.map(n=>({id:n.id,...n.data()}))},Ype=async(t,e)=>{await kt($e(he,"career_requests",t),{status:e})},Wpe=async t=>{const e=kn(Oe(he,"career_requests"),Jt("userId","==",t),Jt("type","==","LOAN"),Jt("status","==","APPROVED")),n=await Qe(e);let r=0;return n.forEach(a=>{const s=a.data(),c=new Date(s.startDate).getFullYear(),d=new Date(s.endDate).getFullYear();r+=d-c+1}),r},Xpe=async()=>{const t=kn(Oe(he,"repository_items"),gd("createdAt","desc"));return(await Qe(t)).docs.map(n=>({id:n.id,...n.data()}))},Qpe=async t=>{await zt(Oe(he,"repository_items"),{...t,createdAt:Date.now()})},Jpe=async t=>{await zt(Oe(he,"repository_requests"),{...t,status:"PENDING",createdAt:Date.now()})},Zpe=async t=>{const e=kn(Oe(he,"repository_requests"),Jt("itemAuthorId","==",t),Jt("status","==","PENDING"));return(await Qe(e)).docs.map(r=>({id:r.id,...r.data()}))},ege=async(t,e)=>{await kt($e(he,"repository_requests",t),{status:e,responseDate:new Date().toISOString()})},tge=async()=>{const e=(await Qe(Oe(he,"repository_items"))).docs.map(n=>n.data());return{totalItems:e.length,theses:e.filter(n=>n.type.includes("THESIS")).length,papers:e.filter(n=>n.type.includes("PAPER")).length,books:e.filter(n=>n.type==="BOOK").length}},nge=async()=>{if(!(await Qe(Oe(he,"research_plans"))).empty)return;console.log("Seeding Research Plan...");const e={title:"     2025-2030",vision:"            .",strategicGoals:["  2030"," "," "],startDate:"2025-01-01",endDate:"2030-12-31",status:"ACTIVE",axes:[{id:"axis1",title:"   ",description:"      .",coordinator:"./  ",topics:[{id:"t1",title:"        ",goal:" ",status:"IN_PROGRESS",studentName:" "},{id:"t2",title:"    ",goal:" ",status:"AVAILABLE"}]},{id:"axis2",title:"    ",description:"      .",coordinator:"./  ",topics:[{id:"t3",title:"    ",goal:" ",status:"COMPLETED",completionDate:"2023-05-20"},{id:"t4",title:"   ",goal:" ",status:"AVAILABLE"}]}]};await zt(Oe(he,"research_plans"),e)},rge=async()=>{if(!(await Qe(Oe(he,"staff"))).empty)return;console.log("Seeding initial data...");const e=CU(he),n=$e(Oe(he,"staff"));e.set(n,{name:"Admin User",rank:" ",specialization:"IT",email:"admin@botany.com",phone:"01000000000",whatsapp:"01000000000",address:" ",username:"admin",password:"admin",subRole:"FACULTY"}),await e.commit(),console.log("Seeded admin user: admin/admin")},age=()=>{const[t,e]=N.useState(null),[n,r]=N.useState([]),[a,s]=N.useState(!0),c=async()=>{s(!0);const f=await _me(),h=await ul();e(f),r(h.slice(0,5)),s(!1)};if(N.useEffect(()=>{c()},[]),a||!t)return o.jsx("div",{className:"flex items-center justify-center h-full text-green-600",children:o.jsx(p1,{className:"w-8 h-8 animate-spin"})});const d=[{name:"",count:t.totalIncoming},{name:"",count:t.totalOutgoing},{name:"",count:t.totalCouncils},{name:"",count:t.totalCommittees}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  "}),o.jsxs("button",{onClick:c,className:"text-sm text-green-600 hover:underline flex items-center gap-1",children:[o.jsx(p1,{className:"w-4 h-4"})," "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Ra,{title:" ",value:t.totalIncoming,icon:l4,color:"blue"}),o.jsx(Ra,{title:" ",value:t.totalOutgoing,icon:c4,color:"green"}),o.jsx(Ra,{title:" ",value:t.totalCouncils,icon:si,color:"purple"}),o.jsx(Ra,{title:" ",value:t.totalCommittees,icon:o4,color:"amber"})]}),o.jsx("h3",{className:"font-bold text-gray-700 mt-4",children:"  "}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Ra,{title:"  ",value:t.totalStaff,icon:si,color:"green"}),o.jsx(Ra,{title:" ",value:t.totalEmployees,icon:i4,color:"amber"}),o.jsx(Ra,{title:"  ",value:t.totalStudentsPG,icon:Ql,color:"blue"}),o.jsx(Ra,{title:" ",value:t.totalAlumni,icon:Ps,color:"purple"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"  "}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b text-gray-500",children:[o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[n.map(f=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-1 rounded text-xs ${f.type===Ze.INCOMING?"bg-blue-100 text-blue-700":f.type===Ze.OUTGOING?"bg-green-100 text-green-700":f.type===Ze.DEPARTMENT_COUNCIL?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:f.type===Ze.INCOMING?"":f.type===Ze.OUTGOING?"":f.type===Ze.DEPARTMENT_COUNCIL?"":""}),f.type===Ze.INCOMING&&f.actionRequired&&(f.isFollowedUp?o.jsx(Gr,{className:"w-4 h-4 text-green-500",title:" "}):o.jsx(Hi,{className:"w-4 h-4 text-amber-500",title:" "}))]})}),o.jsx("td",{className:"py-3 font-medium text-gray-700",children:f.serialNumber}),o.jsx("td",{className:"py-3 text-gray-600 truncate max-w-[150px]",children:f.subject}),o.jsx("td",{className:"py-3 text-gray-500",children:f.date})]},f.id)),n.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"   "})})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 min-h-[300px]",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:" "}),o.jsx(Uk,{width:"100%",height:250,children:o.jsxs(pie,{data:d,children:[o.jsx(Q6,{strokeDasharray:"3 3",vertical:!1}),o.jsx(Z6,{dataKey:"name",tick:{fontFamily:"Cairo"}}),o.jsx(e3,{allowDecimals:!1}),o.jsx(m6,{contentStyle:{fontFamily:"Cairo",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"#f3f4f6"}}),o.jsx(q6,{dataKey:"count",fill:"#15803d",barSize:50,radius:[4,4,0,0]})]})})]})]})]})},ige=({user:t})=>{const[e,n]=N.useState(!1),[r,a]=N.useState(!1),[s,c]=N.useState([]),[d,f]=N.useState(!1),[h,p]=N.useState(null),[g,x]=N.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),[w,E]=N.useState(null);N.useEffect(()=>{_()},[]);const _=async()=>{n(!0);const D=await ul(Ze.OUTGOING);c(D),n(!1)},j=async()=>{const D=await YE(Ze.OUTGOING);x({...g,serialNumber:D,date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),E(null),p(null),f(!0)},C=D=>{x({serialNumber:D.serialNumber,date:D.date,recipient:D.recipient||"",subject:D.subject,notes:D.notes||""}),p(D.id),E(null),f(!0)},L=async D=>{if(window.confirm("      "))try{await Qh(D.id),await Ae(" ",t.name,`   : ${D.serialNumber}`),_()}catch(R){console.error(R),alert(" ")}},A=async D=>{D.preventDefault(),a(!0);try{let R="";if(w)try{R=await cl(w)}catch(U){throw console.error("Upload failed:",U),new Error("  .    Google Drive Script.")}if(h){const U={date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes};R&&(U.fileUrl=R),await mh(h,U),await Ae(" ",t.name,`   : ${g.serialNumber}`),alert("   ")}else await nv({type:Ze.OUTGOING,serialNumber:g.serialNumber,date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes,fileUrl:R||""}),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),_()}catch(R){console.error(R),alert(" : "+R.message)}finally{a(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&o.jsxs("button",{onClick:j,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-green-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-green-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Vt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:D=>x({...g,serialNumber:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none bg-gray-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:D=>x({...g,date:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,placeholder:":  ./  ",value:g.recipient,onChange:D=>x({...g,recipient:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,placeholder:"  ...",value:g.subject,onChange:D=>x({...g,subject:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("textarea",{rows:2,value:g.notes,onChange:D=>x({...g,notes:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:D=>E(D.target.files?D.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(tt,{className:"w-8 h-8 text-green-600 animate-spin"}):o.jsx(_r,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-green-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):o.jsx(bn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(D=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-gray-700",children:D.serialNumber}),o.jsx("td",{className:"p-4",children:D.date}),o.jsx("td",{className:"p-4",children:D.recipient}),o.jsx("td",{className:"p-4 max-w-xs truncate",title:D.subject,children:D.subject}),o.jsx("td",{className:"p-4",children:D.fileUrl?o.jsxs("a",{href:D.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[o.jsx(mr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:"  "})}),o.jsxs("td",{className:"p-4 flex items-center gap-2",children:[o.jsx("button",{onClick:()=>C(D),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>L(D),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},D.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},sge=({user:t})=>{const[e,n]=N.useState(!1),[r,a]=N.useState(!1),[s,c]=N.useState([]),[d,f]=N.useState(!1),[h,p]=N.useState(null),[g,x]=N.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),[w,E]=N.useState(null),_=["./  ",".  ",".  "," "," "];N.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const U=await ul(Ze.INCOMING);c(U),n(!1)},C=async()=>{const U=await YE(Ze.INCOMING);x({...g,serialNumber:U,date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),E(null),p(null),f(!0)},L=U=>{x({serialNumber:U.serialNumber,date:U.date,sender:U.sender||"",senderRefNumber:U.senderRefNumber||"",subject:U.subject,actionRequired:U.actionRequired||"",assignedTo:U.assignedTo||"",notes:U.notes||""}),p(U.id),E(null),f(!0)},A=async U=>{if(window.confirm("       "))try{await Qh(U.id),await Ae(" ",t.name,`    : ${U.serialNumber}`),j()}catch(O){console.error(O),alert(" ")}},D=async U=>{U.preventDefault(),a(!0);try{let O="";if(w)try{O=await cl(w)}catch(V){throw console.error("Upload failed:",V),new Error("  .    Google Drive Script.")}if(h){const V={date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes};O&&(V.fileUrl=O),await mh(h,V),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await nv({type:Ze.INCOMING,serialNumber:g.serialNumber,date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes,fileUrl:O||"",isFollowedUp:!1}),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),j()}catch(O){console.error(O),alert("   : "+O.message)}finally{a(!1)}},R=async U=>{if(!U.actionRequired)return;const O=!U.isFollowedUp;c(V=>V.map(k=>k.id===U.id?{...k,isFollowedUp:O}:k));try{await mh(U.id,{isFollowedUp:O}),await Ae(" ",t.name,`     ${U.serialNumber}  ${O?"":" "}`)}catch{c(k=>k.map(I=>I.id===U.id?{...I,isFollowedUp:!O}:I)),alert("  ")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),!d&&o.jsxs("button",{onClick:C,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-blue-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-blue-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Vt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:D,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),o.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:U=>x({...g,serialNumber:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:U=>x({...g,date:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsx("div",{}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:":   ",value:g.sender,onChange:U=>x({...g,sender:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",placeholder:"   ",value:g.senderRefNumber,onChange:U=>x({...g,senderRefNumber:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,value:g.subject,onChange:U=>x({...g,subject:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":   ",value:g.actionRequired,onChange:U=>x({...g,actionRequired:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Assign To)"}),o.jsxs("select",{value:g.assignedTo,onChange:U=>x({...g,assignedTo:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[o.jsx("option",{value:"",children:"--     --"}),_.map((U,O)=>o.jsx("option",{value:U,children:U},O))]})]})]}),o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUploadIn",className:"hidden",disabled:r,onChange:U=>E(U.target.files?U.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUploadIn",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(tt,{className:"w-8 h-8 text-blue-600 animate-spin"}):o.jsx(_r,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-blue-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):o.jsx(bn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(U=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4",children:U.actionRequired?o.jsx("button",{onClick:()=>R(U),className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold border transition-colors ${U.isFollowedUp?"bg-green-50 text-green-700 border-green-200 hover:bg-green-100":"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100"}`,title:U.isFollowedUp?"  ":"  ",children:U.isFollowedUp?o.jsxs(o.Fragment,{children:[o.jsx(Gr,{className:"w-3 h-3"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Hi,{className:"w-3 h-3"}),o.jsx("span",{children:""})]})}):o.jsx("span",{className:"text-gray-300 text-xs",children:"-"})}),o.jsx("td",{className:"p-4 font-bold text-gray-700",children:U.serialNumber}),o.jsx("td",{className:"p-4",children:U.date}),o.jsx("td",{className:"p-4",children:U.sender}),o.jsx("td",{className:"p-4 max-w-xs truncate",title:U.subject,children:U.subject}),o.jsx("td",{className:"p-4",children:U.assignedTo?o.jsx("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md text-xs border border-purple-100",children:U.assignedTo}):"-"}),o.jsx("td",{className:"p-4",children:U.fileUrl?o.jsxs("a",{href:U.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[o.jsx(mr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>L(U),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>A(U),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},U.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},oge=({user:t})=>{const[e,n]=N.useState(!1),[r,a]=N.useState(!1),[s,c]=N.useState([]),[d,f]=N.useState(!1),[h,p]=N.useState(null),[g,x]=N.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],subject:"",notes:""}),[w,E]=N.useState(null);N.useEffect(()=>{_()},[]);const _=async()=>{n(!0);const D=await ul(Ze.DEPARTMENT_COUNCIL);c(D),n(!1)},j=async()=>{const D=await YE(Ze.DEPARTMENT_COUNCIL);x({...g,serialNumber:D,date:new Date().toISOString().split("T")[0],subject:"",notes:""}),E(null),p(null),f(!0)},C=D=>{x({serialNumber:D.serialNumber,date:D.date,subject:D.subject,notes:D.notes||""}),p(D.id),E(null),f(!0)},L=async D=>{if(window.confirm("      "))try{await Qh(D.id),await Ae("  ",t.name,`    : ${D.serialNumber}`),_()}catch(R){console.error(R),alert(" ")}},A=async D=>{D.preventDefault(),a(!0);try{let R="";if(w)try{R=await cl(w)}catch(U){throw console.error("Upload failed:",U),new Error("  .    Google Drive Script.")}if(h){const U={date:g.date,subject:g.subject,notes:g.notes};R&&(U.fileUrl=R),await mh(h,U),await Ae("  ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await nv({type:Ze.DEPARTMENT_COUNCIL,serialNumber:g.serialNumber,date:g.date,subject:g.subject,notes:g.notes,fileUrl:R||""}),await Ae("  ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),_()}catch(R){console.error(R),alert("   : "+R.message)}finally{a(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&o.jsxs("button",{onClick:j,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-purple-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Vt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:": 5/2024",value:g.serialNumber,onChange:D=>x({...g,serialNumber:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:D=>x({...g,date:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),o.jsx("input",{type:"text",required:!0,placeholder:"    ",value:g.subject,onChange:D=>x({...g,subject:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),o.jsx("textarea",{rows:4,value:g.notes,onChange:D=>x({...g,notes:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:D=>E(D.target.files?D.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(tt,{className:"w-8 h-8 text-purple-600 animate-spin"}):o.jsx(_r,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-purple-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):o.jsx(bn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(D=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-gray-700",children:D.serialNumber}),o.jsx("td",{className:"p-4",children:D.date}),o.jsx("td",{className:"p-4 max-w-lg truncate",title:D.subject,children:D.subject}),o.jsx("td",{className:"p-4",children:D.fileUrl?o.jsxs("a",{href:D.fileUrl,target:"_blank",rel:"noreferrer",className:"text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[o.jsx(mr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>C(D),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>L(D),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},D.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},lge=({user:t})=>{const[e,n]=N.useState(!1),[r,a]=N.useState(!1),[s,c]=N.useState([]),[d,f]=N.useState(!1),[h,p]=N.useState(null),[g,x]=N.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),[w,E]=N.useState(null),_=["   ","  ","  ","  ","  "," "];N.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const R=await ul(Ze.COMMITTEE_MEETING);c(R),n(!1)},C=async()=>{x({...g,serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),E(null),p(null),f(!0)},L=R=>{x({serialNumber:R.serialNumber,date:R.date,committeeName:R.sender||"",subject:R.subject,notes:R.notes||""}),p(R.id),E(null),f(!0)},A=async R=>{if(window.confirm("      "))try{await Qh(R.id),await Ae("  ",t.name,`   : ${R.sender}  ${R.date}`),j()}catch(U){console.error(U),alert(" ")}},D=async R=>{R.preventDefault(),a(!0);try{let U="";if(w)try{U=await cl(w)}catch(O){throw console.error("Upload failed:",O),new Error("  .    Google Drive Script.")}if(h){const O={serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes};U&&(O.fileUrl=U),await mh(h,O),await Ae("  ",t.name,`    : ${g.committeeName}`),alert("   ")}else await nv({type:Ze.COMMITTEE_MEETING,serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes,fileUrl:U||""}),await Ae("  ",t.name,`    : ${g.committeeName}`),alert("   ");f(!1),j()}catch(U){console.error(U),alert("   : "+U.message)}finally{a(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"   "})]}),!d&&o.jsxs("button",{onClick:C,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-amber-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-amber-800",children:h?" ":" "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Vt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:D,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{required:!0,value:g.committeeName,onChange:R=>x({...g,committeeName:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white",children:[o.jsx("option",{value:"",children:"--   --"}),_.map(R=>o.jsx("option",{value:R,children:R},R)),o.jsx("option",{value:"other",children:"  (   )"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.serialNumber,onChange:R=>x({...g,serialNumber:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:R=>x({...g,date:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.subject,onChange:R=>x({...g,subject:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("textarea",{rows:4,value:g.notes,onChange:R=>x({...g,notes:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:R=>E(R.target.files?R.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(tt,{className:"w-8 h-8 text-amber-600 animate-spin"}):o.jsx(_r,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-amber-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):o.jsx(bn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(R=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-amber-800",children:R.sender}),o.jsx("td",{className:"p-4 text-gray-700",children:R.serialNumber}),o.jsx("td",{className:"p-4",children:R.date}),o.jsx("td",{className:"p-4 max-w-lg truncate",title:R.subject,children:R.subject}),o.jsx("td",{className:"p-4",children:R.fileUrl?o.jsxs("a",{href:R.fileUrl,target:"_blank",rel:"noreferrer",className:"text-amber-600 hover:text-amber-800 flex items-center gap-1",children:[o.jsx(mr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>L(R),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>A(R),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},R.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},cge=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState([]),[s,c]=N.useState(!1),[d,f]=N.useState(""),[h,p]=N.useState("ALL"),[g,x]=N.useState(""),[w,E]=N.useState("");N.useEffect(()=>{_()},[]);const _=async()=>{c(!0);const R=await ul();n(R),a(R),c(!1)},j=()=>{let R=e;if(h!=="ALL"&&(R=R.filter(U=>U.type===h)),d.trim()){const U=d.toLowerCase();R=R.filter(O=>O.subject.toLowerCase().includes(U)||O.serialNumber.toLowerCase().includes(U)||O.notes&&O.notes.toLowerCase().includes(U)||O.recipient&&O.recipient.toLowerCase().includes(U)||O.sender&&O.sender.toLowerCase().includes(U))}g&&(R=R.filter(U=>U.date>=g)),w&&(R=R.filter(U=>U.date<=w)),a(R)},C=()=>{f(""),p("ALL"),x(""),E(""),a(e)},L=async R=>{if(window.confirm("      ")){const U=e.find(O=>O.id===R);await Qh(R),await Ae("  ",t.name,`  : ${(U==null?void 0:U.serialNumber)||R} - : ${U==null?void 0:U.type}`),_()}},A=R=>{switch(R){case Ze.INCOMING:return"";case Ze.OUTGOING:return"";case Ze.DEPARTMENT_COUNCIL:return" ";case Ze.COMMITTEE_MEETING:return" ";default:return R}},D=R=>{switch(R){case Ze.INCOMING:return"bg-blue-100 text-blue-700";case Ze.OUTGOING:return"bg-green-100 text-green-700";case Ze.DEPARTMENT_COUNCIL:return"bg-purple-100 text-purple-700";case Ze.COMMITTEE_MEETING:return"bg-amber-100 text-amber-700";default:return"bg-gray-100 text-gray-700"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h1",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(ku,{className:"w-5 h-5 text-green-600"})," "]}),o.jsxs("button",{onClick:C,className:"text-sm text-gray-500 hover:text-red-600 flex items-center gap-1",children:[o.jsx(Vt,{className:"w-4 h-4"}),"  "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:R=>f(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("select",{value:h,onChange:R=>p(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none bg-white",children:[o.jsx("option",{value:"ALL",children:""}),o.jsx("option",{value:Ze.INCOMING,children:""}),o.jsx("option",{value:Ze.OUTGOING,children:""}),o.jsx("option",{value:Ze.DEPARTMENT_COUNCIL,children:" "}),o.jsx("option",{value:Ze.COMMITTEE_MEETING,children:" "})]})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"date",value:g,onChange:R=>x(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"date",value:w,onChange:R=>E(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),o.jsx("div",{className:"md:col-span-4 flex justify-end mt-2",children:o.jsxs("button",{onClick:j,className:"bg-green-700 text-white px-6 py-2 rounded-lg hover:bg-green-800 flex items-center gap-2",children:[o.jsx(Nz,{className:"w-4 h-4"})," "]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:o.jsxs("h3",{className:"font-bold text-gray-700",children:["  (",r.length,")"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:" / "}),o.jsx("th",{className:"p-3",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:s?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center",children:" ..."})}):r.map(R=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-3",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${D(R.type)}`,children:A(R.type)})}),o.jsx("td",{className:"p-3 font-semibold",children:R.serialNumber}),o.jsx("td",{className:"p-3",children:R.date}),o.jsx("td",{className:"p-3 max-w-xs truncate",title:R.subject,children:R.subject}),o.jsxs("td",{className:"p-3",children:[R.type===Ze.OUTGOING&&R.recipient,R.type===Ze.INCOMING&&R.sender,R.type===Ze.DEPARTMENT_COUNCIL&&" ",R.type===Ze.COMMITTEE_MEETING&&R.sender]}),o.jsxs("td",{className:"p-3 flex items-center gap-2",children:[R.fileUrl&&o.jsx("a",{href:R.fileUrl,target:"_blank",rel:"noreferrer",className:"p-1 text-green-600 hover:bg-green-50 rounded",title:" ",children:o.jsx(mr,{className:"w-4 h-4"})}),t.role==="ADMIN"&&o.jsx("button",{onClick:()=>L(R.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",title:" ",children:o.jsx(Vt,{className:"w-4 h-4"})})]})]},R.id))})]})})]})]})},uge=({user:t})=>{var I,P,B,z,ge,ce,Y,le,X,ye,Q,q,Z,K,ee,fe,je,Ie,qe,H,Ee,J,ae,Fe,Ve,_t,_e,ft,me,Ye,Ke,jt,Ba,$a,Yn;const[e,n]=N.useState([]),[r,a]=N.useState([]),[s,c]=N.useState(!0),[d,f]=N.useState("FACULTY"),[h,p]=N.useState(null),[g,x]=N.useState(!1),[w,E]=N.useState({}),[_,j]=N.useState(!1);N.useEffect(()=>{(async()=>{c(!0);const Et=await rv();n(Et),c(!1)})()},[]),N.useEffect(()=>{a(e.filter(Se=>(Se.subRole||"FACULTY")===d))},[e,d]);const C=Se=>{var Et,on,ln,Zr,dl,fl,hl,kr,_n,Ar;p(Se),E({...Se.documents,promotionDecisions:((Et=Se.documents)==null?void 0:Et.promotionDecisions)||[],adminPositions:((on=Se.documents)==null?void 0:on.adminPositions)||[],extensionDecisions:((ln=Se.documents)==null?void 0:ln.extensionDecisions)||[],progressReports:((Zr=Se.documents)==null?void 0:Zr.progressReports)||[],efficiencyReports:((dl=Se.documents)==null?void 0:dl.efficiencyReports)||[],coursePortfolios:((fl=Se.documents)==null?void 0:fl.coursePortfolios)||[],publications:((hl=Se.documents)==null?void 0:hl.publications)||[],conferenceCerts:((kr=Se.documents)==null?void 0:kr.conferenceCerts)||[],arbitrationCerts:((_n=Se.documents)==null?void 0:_n.arbitrationCerts)||[],communityServiceDocs:((Ar=Se.documents)==null?void 0:Ar.communityServiceDocs)||[]}),x(!1)},L=()=>{p(null),x(!1)},A=Se=>{const Et=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`;E(on=>({...on,[Se]:Et}))},D=(Se,Et)=>{if(!Et)return;const on=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`,ln={id:Math.random().toString(36).substr(2,9),title:Et,url:on,date:new Date().toISOString().split("T")[0]};E(Zr=>({...Zr,[Se]:[...Zr[Se]||[],ln]}))},R=(Se,Et)=>{E(on=>({...on,[Se]:(on[Se]||[]).filter(ln=>ln.id!==Et)}))},U=Se=>{if(!Se)return;const Et={courseName:Se};E(on=>({...on,coursePortfolios:[...on.coursePortfolios||[],Et]}))},O=Se=>{E(Et=>({...Et,coursePortfolios:(Et.coursePortfolios||[]).filter((on,ln)=>ln!==Se)}))},V=(Se,Et)=>{const on=`https://drive.google.com/file/d/course_upload_${Math.floor(Math.random()*1e4)}`;E(ln=>{const Zr=[...ln.coursePortfolios||[]];return Zr[Se]={...Zr[Se],[Et]:on},{...ln,coursePortfolios:Zr}})},k=async()=>{if(h){j(!0);try{await u8(h.id,{documents:w});const Se=(t==null?void 0:t.name)||"Unknown";await Ae("  ",Se,`    : ${h.name}`);const Et={...h,documents:w};n(on=>on.map(ln=>ln.id===h.id?Et:ln)),p(Et),x(!1),alert("   ")}catch(Se){console.error("Failed to save portfolio",Se),alert("    ")}finally{j(!1)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),o.jsxs("div",{className:"flex border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>f("FACULTY"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${d==="FACULTY"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Ps,{className:"w-4 h-4"}),"   "]}),o.jsxs("button",{onClick:()=>f("ASSISTANT"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${d==="ASSISTANT"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Ql,{className:"w-4 h-4"}),"  "]})]}),s?o.jsx("div",{className:"text-center p-10 text-gray-500",children:"  ..."}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(Se=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[o.jsx("div",{className:"bg-green-50 p-6 flex justify-center",children:o.jsx("div",{className:"w-24 h-24 bg-green-200 rounded-full flex items-center justify-center text-green-700",children:o.jsx(s4,{className:"w-16 h-16"})})}),o.jsxs("div",{className:"p-6 text-center flex-1 flex flex-col",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:Se.name}),o.jsx("p",{className:"text-green-700 font-medium text-sm mb-4",children:Se.rank}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600 text-right bg-gray-50 p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Eu,{className:"w-4 h-4 text-green-600"}),o.jsxs("span",{children:[": ",Se.specialization]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(h1,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"truncate",children:Se.email})]})]}),o.jsx("div",{className:"mt-auto",children:o.jsxs("button",{onClick:()=>C(Se),className:"w-full py-2 border border-green-600 text-green-700 rounded-lg hover:bg-green-50 transition-colors text-sm font-semibold flex items-center justify-center gap-2",children:[o.jsx(mr,{className:"w-4 h-4"}),"   "]})})]})]},Se.id)),r.length===0&&o.jsx("div",{className:"col-span-3 text-center p-8 text-gray-400",children:"      "})]}),h&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"bg-green-700 p-6 flex justify-between items-center text-white rounded-t-xl sticky top-0 z-10",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:h.name}),o.jsxs("p",{className:"text-green-100 text-sm",children:[h.rank," - ",h.specialization]})]}),o.jsxs("div",{className:"flex gap-2",children:[g?o.jsxs("button",{onClick:k,disabled:_,className:"bg-amber-500 hover:bg-amber-600 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors shadow-sm",children:[_?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"})," "]}):o.jsxs("button",{onClick:()=>x(!0),className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors border border-green-500",children:[o.jsx(pr,{className:"w-4 h-4"}),"  "]}),o.jsx("button",{onClick:L,className:"text-green-100 hover:text-white bg-green-800 p-2 rounded-full",children:o.jsx(Vt,{className:"w-6 h-6"})})]})]}),o.jsxs("div",{className:"p-6 space-y-8",children:[g&&o.jsxs("div",{className:"bg-blue-50 text-blue-800 text-sm p-3 rounded-lg flex items-center gap-2 border border-blue-100",children:[o.jsx(_r,{className:"w-4 h-4"}),o.jsx("span",{children:"      .         ."})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Ps,{className:"w-5 h-5 text-gray-500"}),d==="FACULTY"?"   ( )":"   "]}),o.jsxs("div",{className:"space-y-4",children:[d==="FACULTY"&&o.jsxs(o.Fragment,{children:[o.jsx(Xt,{title:"1.    ( )",description:"        ( /   / ).",url:g?w.appointmentDecision:(I=h.documents)==null?void 0:I.appointmentDecision,isEditing:g,onUpload:()=>A("appointmentDecision")}),o.jsx(ws,{title:"2.   ( )",description:"    (  / )    .",items:g?w.promotionDecisions:(P=h.documents)==null?void 0:P.promotionDecisions,isEditing:g,onAdd:Se=>D("promotionDecisions",Se),onRemove:Se=>R("promotionDecisions",Se)}),o.jsx(Xt,{title:"3.   ",description:"           .",url:g?w.joiningReport:(B=h.documents)==null?void 0:B.joiningReport,isEditing:g,onUpload:()=>A("joiningReport")}),o.jsx(ws,{title:"4.   ",description:"    (   ).",items:g?w.adminPositions:(z=h.documents)==null?void 0:z.adminPositions,isEditing:g,onAdd:Se=>D("adminPositions",Se),onRemove:Se=>R("adminPositions",Se)})]}),d==="ASSISTANT"&&o.jsxs(o.Fragment,{children:[o.jsx(Xt,{title:"1.    ()",description:"       ''  .",url:g?w.appointmentDecision:(ge=h.documents)==null?void 0:ge.appointmentDecision,isEditing:g,onUpload:()=>A("appointmentDecision")}),o.jsx(Xt,{title:"2.   ",description:"      (   ).",url:g?w.joiningReport:(ce=h.documents)==null?void 0:ce.joiningReport,isEditing:g,onUpload:()=>A("joiningReport")}),o.jsx(ws,{title:"3.     ( )",description:"          .",items:g?w.promotionDecisions:(Y=h.documents)==null?void 0:Y.promotionDecisions,isEditing:g,onAdd:Se=>D("promotionDecisions",Se),onRemove:Se=>R("promotionDecisions",Se)})]}),o.jsx(Xt,{title:"  (CV)",description:"    .",url:g?w.cv:(le=h.documents)==null?void 0:le.cv,isEditing:g,onUpload:()=>A("cv")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Ql,{className:"w-5 h-5 text-purple-600"}),"   ()"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Xt,{title:" /",url:g?w.bachelorCert:(X=h.documents)==null?void 0:X.bachelorCert,isEditing:g,onUpload:()=>A("bachelorCert")}),o.jsx(Xt,{title:" ",url:g?w.masterCert:(ye=h.documents)==null?void 0:ye.masterCert,isEditing:g,onUpload:()=>A("masterCert")}),d==="FACULTY"&&o.jsxs(o.Fragment,{children:[o.jsx(Xt,{title:"  ()",url:g?w.phdCert:(Q=h.documents)==null?void 0:Q.phdCert,isEditing:g,onUpload:()=>A("phdCert")}),o.jsx(Xt,{title:"  ( )",url:g?w.phdEquivalence:(q=h.documents)==null?void 0:q.phdEquivalence,isEditing:g,onUpload:()=>A("phdEquivalence")})]})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(n_,{className:"w-5 h-5 text-blue-600"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Xt,{title:"   ",url:g?w.idCard:(Z=h.documents)==null?void 0:Z.idCard,isEditing:g,onUpload:()=>A("idCard")}),o.jsx(Xt,{title:"  ()",url:g?w.birthCert:(K=h.documents)==null?void 0:K.birthCert,isEditing:g,onUpload:()=>A("birthCert")}),o.jsx(Xt,{title:"  ",url:g?w.militaryStatus:(ee=h.documents)==null?void 0:ee.militaryStatus,isEditing:g,onUpload:()=>A("militaryStatus")}),o.jsx(Xt,{title:"  ",url:g?w.criminalRecord:(fe=h.documents)==null?void 0:fe.criminalRecord,isEditing:g,onUpload:()=>A("criminalRecord")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(uz,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Xt,{title:"   ()",url:g?w.financialDisclosure:(je=h.documents)==null?void 0:je.financialDisclosure,isEditing:g,onUpload:()=>A("financialDisclosure")}),o.jsx(Xt,{title:" ",description:"    ( ).",url:g?w.socialInsuranceNum:(Ie=h.documents)==null?void 0:Ie.socialInsuranceNum,isEditing:g,onUpload:()=>A("socialInsuranceNum")}),o.jsx(Xt,{title:"   ",url:g?w.statusStatement:(qe=h.documents)==null?void 0:qe.statusStatement,isEditing:g,onUpload:()=>A("statusStatement")}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(Xt,{title:"   (History)",url:g?w.vacationDecisions:(H=h.documents)==null?void 0:H.vacationDecisions,isEditing:g,onUpload:()=>A("vacationDecisions")})})]})]}),d==="FACULTY"&&o.jsxs(o.Fragment,{children:[o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Gr,{className:"w-5 h-5 text-green-600"}),"   (Course Portfolio)"]}),o.jsx(dge,{courses:g?w.coursePortfolios:(Ee=h.documents)==null?void 0:Ee.coursePortfolios,isEditing:g,onAdd:U,onRemove:O,onUploadFile:V})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Eu,{className:"w-5 h-5 text-blue-600"}),"   "]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(t_,{className:"w-4 h-4 text-blue-600"}),o.jsx("label",{className:"text-sm font-bold text-gray-700",children:"   (Google Scholar / ORCID)"})]}),g?o.jsx("input",{type:"text",placeholder:"https://scholar.google.com/...",value:w.googleScholarLink||"",onChange:Se=>E(Et=>({...Et,googleScholarLink:Se.target.value})),className:"w-full text-sm p-2 border rounded focus:outline-none focus:border-green-500"}):(J=h.documents)!=null&&J.googleScholarLink?o.jsx("a",{href:h.documents.googleScholarLink,target:"_blank",className:"text-blue-600 hover:underline text-sm truncate block",children:h.documents.googleScholarLink}):o.jsx("span",{className:"text-sm text-gray-400",children:" "})]}),o.jsx(Xt,{title:"1.    ()",description:"            .",url:g?w.publicationsListFile:(ae=h.documents)==null?void 0:ae.publicationsListFile,isEditing:g,onUpload:()=>A("publicationsListFile")}),o.jsx(Xt,{title:"2.     ",description:"           .",url:g?w.supervisionRecord:(Fe=h.documents)==null?void 0:Fe.supervisionRecord,isEditing:g,onUpload:()=>A("supervisionRecord")}),o.jsx(ws,{title:"3.   ",description:"          .",items:g?w.conferenceCerts:(Ve=h.documents)==null?void 0:Ve.conferenceCerts,isEditing:g,onAdd:Se=>D("conferenceCerts",Se),onRemove:Se=>R("conferenceCerts",Se)}),o.jsx(ws,{title:"4.   ",description:"          .",items:g?w.arbitrationCerts:(_t=h.documents)==null?void 0:_t.arbitrationCerts,isEditing:g,onAdd:Se=>D("arbitrationCerts",Se),onRemove:Se=>R("arbitrationCerts",Se)}),o.jsx(ws,{title:"5.   ",description:"      (   ).",items:g?w.communityServiceDocs:(_e=h.documents)==null?void 0:_e.communityServiceDocs,isEditing:g,onAdd:Se=>D("communityServiceDocs",Se),onRemove:Se=>R("communityServiceDocs",Se)})]})]})]}),d==="ASSISTANT"&&o.jsxs(o.Fragment,{children:[o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Ql,{className:"w-5 h-5 text-purple-600"}),"   ( )"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Xt,{title:"1.   /  ()",description:"         .",url:g?w.enrollmentStatus:(ft=h.documents)==null?void 0:ft.enrollmentStatus,isEditing:g,onUpload:()=>A("enrollmentStatus")}),o.jsx(ws,{title:"2.   ( )",description:"        (   ).",items:g?w.progressReports:(me=h.documents)==null?void 0:me.progressReports,isEditing:g,onAdd:Se=>D("progressReports",Se),onRemove:Se=>R("progressReports",Se)}),o.jsx(ws,{title:"3.     ( )",description:"            .",items:g?w.extensionDecisions:(Ye=h.documents)==null?void 0:Ye.extensionDecisions,isEditing:g,onAdd:Se=>D("extensionDecisions",Se),onRemove:Se=>R("extensionDecisions",Se)}),o.jsx(Xt,{title:"   (FLDC)",url:g?w.fldcCerts:(Ke=h.documents)==null?void 0:Ke.fldcCerts,isEditing:g,onUpload:()=>A("fldcCerts")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Eu,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ws,{title:"1.   ",description:"      ( /  ).",items:g?w.efficiencyReports:(jt=h.documents)==null?void 0:jt.efficiencyReports,isEditing:g,onAdd:Se=>D("efficiencyReports",Se),onRemove:Se=>R("efficiencyReports",Se)}),o.jsx(Xt,{title:"2.   /    ",description:"     ( )      .",url:g?w.penaltiesRecord:(Ba=h.documents)==null?void 0:Ba.penaltiesRecord,isEditing:g,onUpload:()=>A("penaltiesRecord")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(My,{className:"w-5 h-5 text-blue-500"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Xt,{title:"1.    / ",description:"       (  ).",url:g?w.studyLeaveDecision:($a=h.documents)==null?void 0:$a.studyLeaveDecision,isEditing:g,onUpload:()=>A("studyLeaveDecision")}),o.jsx(Xt,{title:"2.    ",description:"      (     ).",url:g?w.returnFromScholarship:(Yn=h.documents)==null?void 0:Yn.returnFromScholarship,isEditing:g,onUpload:()=>A("returnFromScholarship")})]})]})]})]})]})})]})},Xt=({title:t,description:e,url:n,isEditing:r,onUpload:a})=>o.jsxs("div",{className:`flex flex-col p-3 rounded-lg border transition-colors ${n?"bg-gray-50 border-gray-100":"bg-gray-50 border-gray-200 border-dashed"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:`text-sm font-bold ${n?"text-gray-800":"text-gray-500"}`,children:t}),o.jsxs("div",{className:"flex items-center gap-2",children:[n&&o.jsx("a",{href:n,target:"_blank",className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded hover:bg-green-200 transition-colors",children:""}),r&&o.jsxs("button",{onClick:a,className:`p-1.5 rounded-md border flex items-center gap-1 text-xs ${n?"bg-amber-50 text-amber-600 border-amber-200 hover:bg-amber-100":"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"}`,title:n?" ":" ",children:[o.jsx(_r,{className:"w-3 h-3"}),n&&o.jsx("span",{children:""})]}),!n&&!r&&o.jsx("span",{className:"text-xs text-gray-400",children:""})]})]}),e&&o.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:e})]}),ws=({title:t,description:e,items:n=[],isEditing:r,onAdd:a,onRemove:s})=>{const[c,d]=N.useState("");return o.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[o.jsx("h5",{className:"text-sm font-bold text-gray-800 mb-1",children:t}),o.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e}),n.length>0?o.jsx("ul",{className:"space-y-2 mb-3",children:n.map(f=>o.jsxs("li",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm",children:[o.jsx("span",{className:"truncate flex-1 ml-2",children:f.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("a",{href:f.url,target:"_blank",className:"text-xs text-blue-600 hover:underline",children:""}),r&&o.jsx("button",{onClick:()=>s(f.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:o.jsx(pt,{className:"w-3 h-3"})})]})]},f.id))}):!r&&o.jsx("p",{className:"text-xs text-gray-400 italic mb-3",children:"   ."}),r&&o.jsxs("div",{className:"flex gap-2 items-center mt-2 border-t pt-2 border-dashed",children:[o.jsx("input",{type:"text",placeholder:"  ",className:"flex-1 text-xs p-2 border rounded focus:outline-none focus:border-green-500",value:c,onChange:f=>d(f.target.value)}),o.jsxs("button",{onClick:()=>{a(c),d("")},className:"bg-blue-50 text-blue-600 border border-blue-200 text-xs px-3 py-2 rounded hover:bg-blue-100 flex items-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"}),"  "]})]})]})},dge=({courses:t=[],isEditing:e,onAdd:n,onRemove:r,onUploadFile:a})=>{const[s,c]=N.useState("");return o.jsxs("div",{className:"space-y-4",children:[t.length>0?t.map((d,f)=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Is,{className:"w-5 h-5 text-green-600"}),o.jsx("h5",{className:"font-bold text-gray-800",children:d.courseName})]}),e&&o.jsx("button",{onClick:()=>r(f),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:" ",children:o.jsx(pt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[o.jsx(Wp,{label:" ",url:d.specsUrl,isEditing:e,onUpload:()=>a(f,"specsUrl")}),o.jsx(Wp,{label:" ",url:d.reportUrl,isEditing:e,onUpload:()=>a(f,"reportUrl")}),o.jsx(Wp,{label:" ",url:d.examsUrl,isEditing:e,onUpload:()=>a(f,"examsUrl")}),o.jsx(Wp,{label:" / ",url:d.samplesUrl,isEditing:e,onUpload:()=>a(f,"samplesUrl")})]})]},f)):o.jsx("p",{className:"text-gray-400 text-sm text-center py-4 border border-dashed rounded-lg",children:"    ."}),e&&o.jsxs("div",{className:"bg-green-50 p-3 rounded-lg flex items-center gap-2 border border-green-200",children:[o.jsx("input",{type:"text",placeholder:"   (:   )",className:"flex-1 p-2 rounded border border-green-300 focus:outline-none focus:ring-1 focus:ring-green-500 text-sm",value:s,onChange:d=>c(d.target.value)}),o.jsxs("button",{onClick:()=>{n(s),c("")},className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700 flex items-center gap-1",children:[o.jsx(Ft,{className:"w-4 h-4"}),"  "]})]})]})},Wp=({label:t,url:e,isEditing:n,onUpload:r})=>o.jsxs("div",{className:`p-2 rounded border text-center flex flex-col items-center justify-center min-h-[80px] ${e?"bg-green-50 border-green-100":"bg-gray-50 border-gray-100"}`,children:[o.jsx("span",{className:"text-xs font-semibold text-gray-700 mb-1",children:t}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e?o.jsx("a",{href:e,target:"_blank",className:"text-xs bg-white border border-gray-200 px-2 py-1 rounded text-green-700 hover:text-green-800",children:""}):o.jsx("span",{className:"text-[10px] text-gray-400",children:""}),n&&o.jsx("button",{onClick:r,className:"p-1 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 border border-blue-200",title:"",children:o.jsx(_r,{className:"w-3 h-3"})})]})]}),UP=({user:t})=>{const[e,n]=N.useState(t.role===Ne.STUDENT_PG?"PG":"UG"),[r,a]=N.useState("MATERIALS"),[s,c]=N.useState([]),[d,f]=N.useState([]),[h,p]=N.useState([]),[g,x]=N.useState([]),[w,E]=N.useState([]),[_,j]=N.useState(!0),[C,L]=N.useState(!1),[A,D]=N.useState(!1),[R,U]=N.useState({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""}),[O,V]=N.useState(!1),[k,I]=N.useState(null),[P,B]=N.useState(!1),[z,ge]=N.useState(!1),[ce,Y]=N.useState(null),[le,X]=N.useState({content:"",isImportant:!1}),[ye,Q]=N.useState(!1),[q,Z]=N.useState({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""}),[K,ee]=N.useState(!1),[fe,je]=N.useState(null),Ie=t.role===Ne.ADMIN||t.role===Ne.STAFF;N.useEffect(()=>{qe()},[]),N.useEffect(()=>{const _e=e==="UG"?["Third","Fourth"]:["Pre-Master","Pre-PhD"];x(s.filter(me=>_e.includes(me.year))),E(h.filter(me=>_e.includes(me.year)));const ft=e==="UG"?"Third":"Pre-Master";U(me=>({...me,year:ft})),Z(me=>({...me,year:ft}))},[e,s,h]);const qe=async()=>{j(!0);const[_e,ft,me]=await Promise.all([upe(),hpe(),gpe()]);c(_e),f(ft),p(me),j(!1)},H=async _e=>{_e.preventDefault(),L(!0);try{await dpe({title:R.title,year:R.year,fileUrl:R.fileUrl||"#",description:R.description,uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Ae("  ",t.name,`: ${R.title} - : ${R.year}`),await qe(),D(!1),U({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""})}catch(ft){console.error(ft),alert("   ")}finally{L(!1)}},Ee=async()=>{if(k){L(!0);try{const _e=s.find(ft=>ft.id===k);await fpe(k),Ae("  ",t.name,`  : ${_e==null?void 0:_e.title}`),await qe(),V(!1),I(null)}catch(_e){console.error(_e),alert("  ")}finally{L(!1)}}},J=async _e=>{_e.preventDefault(),L(!0);try{await mpe({content:le.content,isImportant:le.isImportant,date:new Date().toISOString().split("T")[0]}),Ae(" ",t.name,le.content.substring(0,50)+"..."),await qe(),B(!1),X({content:"",isImportant:!1})}catch(ft){console.error(ft),alert("    ")}finally{L(!1)}},ae=async()=>{if(ce){L(!0);try{await ppe(ce),Ae(" ",t.name,"    "),await qe(),ge(!1),Y(null)}catch(_e){console.error(_e),alert("   ")}finally{L(!1)}}},Fe=async _e=>{_e.preventDefault(),L(!0);try{await ype({title:q.title,type:q.type,year:q.year,fileUrl:q.fileUrl||"#",uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Ae(" ",t.name,`: ${q.title}`),await qe(),Q(!1),Z({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""})}catch(ft){console.error(ft),alert("    ")}finally{L(!1)}},Ve=async()=>{if(fe){L(!0);try{const _e=h.find(ft=>ft.id===fe);await vpe(fe),Ae(" ",t.name,`  : ${_e==null?void 0:_e.title}`),await qe(),ee(!1),je(null)}catch(_e){console.error(_e),alert("   ")}finally{L(!1)}}},_t=_e=>{const ft=`https://picsum.photos/seed/${Math.random()}/800/600`;_e(me=>({...me,fileUrl:ft}))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:e==="UG"?"   ":"    "}),o.jsxs("div",{className:"flex gap-4 mt-6 border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>n("UG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="UG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Is,{className:"w-4 h-4"}),"  ( 3  4)"]}),o.jsxs("button",{onClick:()=>n("PG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="PG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Ql,{className:"w-4 h-4"}),"  ()"]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:()=>a("MATERIALS"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="MATERIALS"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[o.jsx(mr,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>a("SCHEDULES"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="SCHEDULES"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[o.jsx(yh,{className:"w-4 h-4"}),"  "]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in fade-in",children:[o.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r==="MATERIALS"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-bold text-gray-700",children:e==="UG"?"  ":"  "}),Ie&&o.jsxs("button",{onClick:()=>D(!0),className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 flex items-center gap-1 shadow-sm",children:[o.jsx(kf,{className:"w-3 h-3"}),"   "]})]}),g.length>0?g.map(_e=>o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow flex items-start justify-between group",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:o.jsx(mr,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800",children:_e.title}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[_e.year==="Third"&&" ",_e.year==="Fourth"&&" ",_e.year==="Pre-Master"&&" ",_e.year==="Pre-PhD"&&" "," | ",": ",_e.uploadedBy]}),_e.description&&o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:_e.description}),o.jsx("p",{className:"text-xs text-gray-300 mt-1",children:_e.date})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("a",{href:_e.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:bg-green-50 p-2 rounded-lg flex items-center gap-1 text-sm font-medium border border-transparent hover:border-green-100",children:[o.jsx(gg,{className:"w-4 h-4"})," "]}),Ie&&o.jsx("button",{onClick:()=>{I(_e.id),V(!0)},className:"text-red-500 hover:bg-red-50 p-2 rounded-lg flex items-center justify-center text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},_e.id)):o.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:o.jsx("p",{className:"text-gray-400",children:"     "})})]}),r==="SCHEDULES"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-bold text-gray-700",children:"  "}),Ie&&o.jsxs("button",{onClick:()=>Q(!0),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 flex items-center gap-1 shadow-sm",children:[o.jsx(kf,{className:"w-3 h-3"}),"  "]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.length>0?w.map(_e=>o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group relative",children:[o.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[o.jsx("img",{src:_e.fileUrl,alt:_e.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold shadow-sm ${_e.type==="EXAM"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:_e.type==="EXAM"?" ":" "})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1",children:_e.title}),o.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[_e.year==="Third"&&" ",_e.year==="Fourth"&&" ",_e.year==="Pre-Master"&&" ",_e.year==="Pre-PhD"&&" "," | ",_e.date]}),o.jsxs("a",{href:_e.fileUrl,target:"_blank",rel:"noreferrer",className:"block text-center w-full bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-semibold hover:bg-blue-100 transition-colors",children:[o.jsx(gg,{className:"w-4 h-4 inline-block ml-1"}),"  / "]}),Ie&&o.jsx("button",{onClick:()=>{je(_e.id),ee(!0)},className:"absolute top-2 left-2 bg-white text-red-500 p-1.5 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",title:" ",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},_e.id)):o.jsx("div",{className:"md:col-span-2 text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:o.jsx("p",{className:"text-gray-400",children:"    "})})})]})]}),o.jsxs("div",{className:"bg-green-900 text-white p-6 rounded-xl h-fit",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-green-700 pb-2",children:[o.jsx("h3",{className:"font-bold text-lg",children:" "}),Ie&&o.jsxs("button",{onClick:()=>B(!0),className:"bg-green-800 hover:bg-green-700 p-1.5 rounded text-xs flex items-center gap-1",children:[o.jsx(kf,{className:"w-3 h-3"})," "]})]}),d.length>0?o.jsx("ul",{className:"space-y-4 text-sm",children:d.map(_e=>o.jsxs("li",{className:"flex gap-2 relative group",children:[o.jsx("span",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${_e.isImportant?"bg-red-400 animate-pulse":"bg-green-400"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{children:_e.content}),o.jsx("p",{className:"text-green-300 text-xs mt-1",children:_e.date})]}),Ie&&o.jsx("button",{onClick:()=>{Y(_e.id),ge(!0)},className:"text-red-300 hover:text-red-100 opacity-0 group-hover:opacity-100 transition-opacity absolute left-0 top-0",children:o.jsx(pt,{className:"w-4 h-4"})})]},_e.id))}):o.jsx("p",{className:"text-green-300 text-sm italic",children:"   ."})]})]}),A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:H,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" /"}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:R.title,onChange:_e=>U({...R,title:_e.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white",value:R.year,onChange:_e=>U({...R,year:_e.target.value}),children:e==="UG"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Third",children:" "}),o.jsx("option",{value:"Fourth",children:" "})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Pre-Master",children:" "}),o.jsx("option",{value:"Pre-PhD",children:" "})]})})]}),e==="PG"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),o.jsx("input",{type:"text",placeholder:":   ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:R.description,onChange:_e=>U({...R,description:_e.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (PDF)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:R.fileUrl}),o.jsxs("button",{type:"button",onClick:()=>_t(U),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[o.jsx(_r,{className:"w-4 h-4"})," "]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:C,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[C?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"}),""]})]})]})]})}),ye&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:Fe,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:":    -  ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:q.title,onChange:_e=>Z({...q,title:_e.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white font-semibold",value:q.type,onChange:_e=>Z({...q,type:_e.target.value}),children:[o.jsx("option",{value:"LECTURE",children:" "}),o.jsx("option",{value:"EXAM",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:q.year,onChange:_e=>Z({...q,year:_e.target.value}),children:e==="UG"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Third",children:" "}),o.jsx("option",{value:"Fourth",children:" "})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Pre-Master",children:" "}),o.jsx("option",{value:"Pre-PhD",children:" "})]})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Image/PDF)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:q.fileUrl}),o.jsxs("button",{type:"button",onClick:()=>_t(Z),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[o.jsx(_r,{className:"w-4 h-4"})," "]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>Q(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:C,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[C?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"}),""]})]})]})]})}),P&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:J,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("textarea",{required:!0,rows:3,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:le.content,onChange:_e=>X({...le,content:_e.target.value})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"isImportant",checked:le.isImportant,onChange:_e=>X({...le,isImportant:_e.target.checked}),className:"w-4 h-4 text-green-600 rounded"}),o.jsx("label",{htmlFor:"isImportant",className:"text-sm text-gray-700",children:"  (Urgent)"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:C,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[C?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"}),""]})]})]})]})}),O&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:Ee,disabled:C,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[C&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),K&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>ee(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:Ve,disabled:C,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[C&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),z&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>ge(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:ae,disabled:C,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[C&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},VP=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState(!1),s=HN(),[c,d]=N.useState(!1),[f,h]=N.useState(!1),[p,g]=N.useState(!1),[x,w]=N.useState(null),[E,_]=N.useState(!1),[j,C]=N.useState({name:"",graduationYear:"",currentJob:"",email:"",phone:""}),[L,A]=N.useState(null),[D,R]=N.useState({title:"",company:"",description:"",contactInfo:"",datePosted:"",status:"OPEN"}),U=async()=>{a(!0);const ce=await zme();n(ce),a(!1)};N.useEffect(()=>{U()},[]);const O=()=>{s("/users",{state:{initialTab:"ALUMNI"}})},V=async ce=>{ce.preventDefault(),_(!0);try{await f8({...j,username:j.email.split("@")[0],password:"123"});const Y=(t==null?void 0:t.name)||j.name;Ae("  ",Y,` : ${j.name} -  ${j.graduationYear}`),alert("   !    ."),d(!1),C({name:"",graduationYear:"",currentJob:"",email:"",phone:""})}catch(Y){console.error(Y),alert("   ")}finally{_(!1)}},k=ce=>{ce?(A(ce.id),R({title:ce.title,company:ce.company,description:ce.description,contactInfo:ce.contactInfo,datePosted:ce.datePosted,status:ce.status||"OPEN"})):(A(null),R({title:"",company:"",description:"",contactInfo:"",datePosted:new Date().toISOString().split("T")[0],status:"OPEN"})),h(!0)},I=async ce=>{ce.preventDefault(),_(!0);const Y=(t==null?void 0:t.name)||"Unknown";try{L?(await $me(L,D),Ae("  ",Y,`: ${D.title}`)):(await Bme(D),Ae("  ",Y,`: ${D.title} - : ${D.company}`)),h(!1),U()}catch(le){console.error(le),alert("    ")}finally{_(!1)}},P=ce=>{w(ce),g(!0)},B=async()=>{if(x){_(!0);try{const ce=e.find(Y=>Y.id===x);await Fme(x),Ae("  ",(t==null?void 0:t.name)||"Unknown",`  : ${ce==null?void 0:ce.title}`),n(Y=>Y.filter(le=>le.id!==x)),g(!1),w(null)}catch(ce){console.error("Delete failed",ce),alert("  "),U()}finally{_(!1)}}},z=(t==null?void 0:t.role)===Ne.ADMIN||(t==null?void 0:t.role)===Ne.STAFF,ge=z||(t==null?void 0:t.role)===Ne.ALUMNI;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-amber-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[o.jsxs("div",{className:"relative z-10",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"   "}),o.jsx("p",{className:"opacity-90 max-w-xl",children:"      .          ."}),o.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[o.jsxs("button",{onClick:()=>d(!0),className:"bg-white text-amber-700 px-6 py-2 rounded-lg font-bold hover:bg-amber-50 transition-colors flex items-center gap-2",children:[o.jsx(p4,{className:"w-5 h-5"}),"   "]}),(t==null?void 0:t.role)===Ne.ADMIN&&o.jsxs("button",{onClick:O,className:"bg-amber-800 text-white border border-amber-500 px-6 py-2 rounded-lg font-bold hover:bg-amber-900 transition-colors flex items-center gap-2",children:[o.jsx(m4,{className:"w-5 h-5"}),"   (Admin)"]})]})]}),o.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10",children:o.jsx(Ps,{className:"w-64 h-64"})})]}),o.jsxs("div",{className:"flex items-center justify-between mt-8",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-gray-800",children:[o.jsx(Ps,{className:"w-6 h-6 text-amber-600"}),o.jsx("h2",{children:"  "})]}),ge&&o.jsxs("button",{onClick:()=>k(),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-700 flex items-center gap-2 shadow-sm",children:[o.jsx(kf,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.map(ce=>o.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative ${ce.status==="CLOSED"?"opacity-70 bg-gray-50":""}`,children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800",children:ce.title}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mt-1",children:[o.jsx(q9,{className:"w-4 h-4"}),o.jsx("span",{children:ce.company})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold h-fit ${ce.status==="CLOSED"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:ce.status==="CLOSED"?"":" "}),z&&o.jsxs("div",{className:"flex flex-col gap-1 z-20",children:[o.jsx("button",{type:"button",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),k(ce)},className:"p-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 border border-blue-100",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),P(ce.id)},className:"p-1.5 bg-red-50 text-red-600 rounded-md hover:bg-red-100 border border-red-100",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]})]}),o.jsx("p",{className:"text-gray-600 mt-4 text-sm leading-relaxed",children:ce.description}),o.jsxs("div",{className:"mt-6 pt-4 border-t text-sm",children:[o.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:" :"}),o.jsx("p",{className:"text-amber-600",children:ce.contactInfo})]}),o.jsx("div",{className:"mt-4 flex items-center justify-between",children:o.jsxs("span",{className:"text-xs text-gray-400",children:[" : ",ce.datePosted]})})]},ce.id)),o.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-center text-gray-500 min-h-[250px]",children:[o.jsx("p",{className:"font-medium",children:"   "}),o.jsx("p",{className:"text-sm mt-1",children:"   "}),ge&&o.jsx("button",{onClick:()=>k(),className:"mt-3 text-amber-600 hover:text-amber-700 font-medium text-sm border border-amber-200 px-4 py-1.5 rounded-lg bg-white hover:bg-amber-50",children:"+  "})]})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:j.name,onChange:ce=>C({...j,name:ce.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"number",required:!0,placeholder:": 2022",value:j.graduationYear,onChange:ce=>C({...j,graduationYear:ce.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",value:j.currentJob,onChange:ce=>C({...j,currentJob:ce.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"email",required:!0,value:j.email,onChange:ce=>C({...j,email:ce.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"tel",required:!0,value:j.phone,onChange:ce=>C({...j,phone:ce.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:E,className:"bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[E?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"})," "]})]})]})]})}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"               ."}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:B,disabled:E,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[E&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:L?"  ":"   "}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:I,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:":  ",value:D.title,onChange:ce=>R({...D,title:ce.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),o.jsx("input",{type:"text",required:!0,value:D.company,onChange:ce=>R({...D,company:ce.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:D.status,onChange:ce=>R({...D,status:ce.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white font-semibold",children:[o.jsx("option",{value:"OPEN",className:"text-green-600",children:" "}),o.jsx("option",{value:"CLOSED",className:"text-red-600",children:""})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("textarea",{required:!0,rows:4,placeholder:"    ...",value:D.description,onChange:ce=>R({...D,description:ce.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:"    ",value:D.contactInfo,onChange:ce=>R({...D,contactInfo:ce.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:D.datePosted,onChange:ce=>R({...D,datePosted:ce.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:E,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[E?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"})," "]})]})]})]})})]})},fge=()=>{const t=es(),[e,n]=N.useState("STAFF"),[r,a]=N.useState(!1),[s,c]=N.useState([]),[d,f]=N.useState([]),[h,p]=N.useState([]),[g,x]=N.useState([]),[w,E]=N.useState([]),[_,j]=N.useState(!1),[C,L]=N.useState(null),[A,D]=N.useState({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:"",password:""});N.useEffect(()=>{t.state&&t.state.initialTab&&n(t.state.initialTab)},[t.state]),N.useEffect(()=>{R()},[e]);const R=async()=>{a(!0),e==="STAFF"?c(await rv()):e==="PG"?f(await d8()):e==="UG"?p(await Dme()):e==="ALUMNI"?x(await Lme()):e==="EMPLOYEE"&&E(await Sme()),a(!1)},U=k=>{if(k)L(k.id),D({name:k.name||"",email:k.email||"",phone:k.phone||"",whatsapp:k.whatsapp||"",address:k.address||"",subRole:k.subRole||"FACULTY",rank:k.rank||"",specialization:k.specialization||"",degree:k.degree||"MSc",researchTopic:k.researchTopic||"",supervisor:k.supervisor||"",status:k.status||"Researching",year:k.year||"Third",section:k.section||"",graduationYear:k.graduationYear||"",currentJob:k.currentJob||"",jobTitle:k.jobTitle||"",department:k.department||"",username:k.username||"",password:k.password||""});else{L(null);const I="user"+Math.floor(Math.random()*1e3);D({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:I,password:"123"})}j(!0)},O=async(k,I)=>{if(window.confirm("      "))try{e==="STAFF"?await Eme(k):e==="PG"?await Rme(k):e==="UG"?await Mme(k):e==="ALUMNI"?await Vme(k):e==="EMPLOYEE"&&await Cme(k),await Ae(" ","Admin",`  : ${I}   ${e}`),R()}catch(P){console.error("Error deleting user:",P),alert("   ")}},V=async k=>{k.preventDefault();const I={email:A.email,phone:A.phone,whatsapp:A.whatsapp,address:A.address};try{if(e==="STAFF"){const P={name:A.name,...I,subRole:A.subRole,rank:A.rank,specialization:A.specialization,username:A.username,password:A.password};C?await u8(C,P):await jme(P)}else if(e==="PG")if(C){const P={name:A.name,...I,degree:A.degree,researchTopic:A.researchTopic,supervisor:A.supervisor,status:A.status,username:A.username,password:A.password};await BN(C,P)}else{const P={name:A.name,...I,degree:A.degree,researchTopic:A.researchTopic,supervisor:A.supervisor,status:A.status,username:A.username,password:A.password,dates:{enrollment:new Date().toISOString().split("T")[0]},documents:{publishedPapers:[],otherDocuments:[]},alerts:{reportOverdue:!1,extensionNeeded:!1}};await Ome(P)}else if(e==="UG"){const P={name:A.name,...I,year:A.year,section:A.section,username:A.username,password:A.password};C?await kme(C,P):await Pme(P)}else if(e==="ALUMNI"){const P={name:A.name,...I,graduationYear:A.graduationYear,currentJob:A.currentJob,username:A.username,password:A.password};C?await Ume(C,P):await f8(P)}else if(e==="EMPLOYEE"){const P={name:A.name,...I,jobTitle:A.jobTitle,department:A.department,username:A.username,password:A.password};C?await Tme(C,P):await Ame(P)}await Ae(C?"  ":"  ","Admin",` ${C?"":""} : ${A.name}   ${e}`),j(!1),R(),alert("   ")}catch(P){console.error("Error saving user:",P),alert("   ")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(f1,{className:"w-6 h-6 text-green-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    (   )"})]}),o.jsxs("button",{onClick:()=>U(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(p4,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:[{id:"STAFF",icon:si,label:" "},{id:"EMPLOYEE",icon:i4,label:" "},{id:"PG",icon:Ql,label:" "},{id:"UG",icon:Is,label:" (3  4)"},{id:"ALUMNI",icon:Ps,label:""}].map(k=>o.jsx("button",{onClick:()=>n(k.id),className:`flex-1 min-w-[120px] py-4 text-center font-semibold text-sm transition-colors ${e===k.id?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(k.icon,{className:"w-4 h-4"})," ",k.label]})},k.id))}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:e==="STAFF"?" ":e==="EMPLOYEE"?" ":e==="PG"?"":e==="UG"?"":" "}),o.jsx("th",{className:"p-4",children:e==="STAFF"?"":e==="EMPLOYEE"?" / ":e==="PG"?"":e==="UG"?"":" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:" ..."})}):(()=>{let k=[];return e==="STAFF"?k=s:e==="EMPLOYEE"?k=w:e==="PG"?k=d:e==="UG"?k=h:k=g,k.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"  "})}):k.map(I=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:I.name}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs",children:e==="STAFF"?I.rank:e==="EMPLOYEE"?I.jobTitle:e==="PG"?I.degree:e==="UG"?I.year==="Third"?"":"":I.graduationYear})}),o.jsx("td",{className:"p-4",children:e==="STAFF"?I.specialization:e==="EMPLOYEE"?I.department:e==="PG"?I.supervisor:e==="UG"?I.section||"-":I.currentJob||"-"}),o.jsxs("td",{className:"p-4 text-xs text-gray-500",children:[I.phone&&o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(ub,{className:"w-3 h-3 text-gray-400"})," ",I.phone]}),I.whatsapp&&o.jsxs("div",{className:"flex items-center gap-1 mb-1 text-green-600 font-semibold",children:[o.jsx(k2,{className:"w-3 h-3"})," ",I.whatsapp]}),I.email&&o.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[o.jsx(h1,{className:"w-3 h-3"})," ",I.email]})]}),o.jsx("td",{className:"p-4 font-mono text-gray-600",children:I.username||"-"}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>U(I),className:"text-blue-600 hover:bg-blue-50 p-2 rounded-lg",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>O(I.id,I.name),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},I.id))})()})]})})]}),_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[C?" ":"  ",o.jsxs("span",{className:"text-sm font-normal text-gray-500 mr-2",children:["(",e==="STAFF"?" ":e==="EMPLOYEE"?"/":e==="PG"?" ":e==="UG"?" ":"",")"]})]}),o.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.name,onChange:k=>D({...A,name:k.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center gap-2",children:[o.jsx(ub,{className:"w-4 h-4"}),"   ()"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(ub,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),o.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:A.phone,onChange:k=>D({...A,phone:k.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(k2,{className:"w-3 h-3 absolute right-3 top-3 text-green-500"}),o.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:A.whatsapp,onChange:k=>D({...A,whatsapp:k.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(h1,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),o.jsx("input",{type:"email",placeholder:"example@azhar.edu.eg",value:A.email,onChange:k=>D({...A,email:k.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(f4,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),o.jsx("input",{type:"text",placeholder:" - ",value:A.address,onChange:k=>D({...A,address:k.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]})]})]}),e==="EMPLOYEE"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":   ",required:!0,value:A.jobTitle,onChange:k=>D({...A,jobTitle:k.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,value:A.department,onChange:k=>D({...A,department:k.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="STAFF"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:A.subRole,onChange:k=>D({...A,subRole:k.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white font-bold text-green-700",children:[o.jsx("option",{value:"FACULTY",children:"   ( -   - )"}),o.jsx("option",{value:"ASSISTANT",children:"  (  - )"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,value:A.rank,onChange:k=>D({...A,rank:k.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,value:A.specialization,onChange:k=>D({...A,specialization:k.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="PG"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{value:A.degree,onChange:k=>D({...A,degree:k.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[o.jsx("option",{value:"MSc",children:""}),o.jsx("option",{value:"PhD",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:A.status,onChange:k=>D({...A,status:k.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[o.jsx("option",{value:"Researching",children:" "}),o.jsx("option",{value:"Writing",children:" "}),o.jsx("option",{value:"Defense",children:""})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.researchTopic,onChange:k=>D({...A,researchTopic:k.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:"./ ...",value:A.supervisor,onChange:k=>D({...A,supervisor:k.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="UG"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:A.year,onChange:k=>D({...A,year:k.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[o.jsx("option",{value:"Third",children:" "}),o.jsx("option",{value:"Fourth",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",placeholder:":  ",value:A.section,onChange:k=>D({...A,section:k.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="ALUMNI"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"number",placeholder:"2023",required:!0,value:A.graduationYear,onChange:k=>D({...A,graduationYear:k.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:"",value:A.currentJob,onChange:k=>D({...A,currentJob:k.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),o.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200 mt-4",children:[o.jsxs("h4",{className:"text-sm font-bold text-amber-800 mb-3 flex items-center gap-2",children:[o.jsx(f1,{className:"w-4 h-4"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.username,onChange:k=>D({...A,username:k.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.password,onChange:k=>D({...A,password:k.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]})]}),o.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"*          ."})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[o.jsx(bn,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},hge=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0),[a,s]=N.useState(null),[c,d]=N.useState(0),[f,h]=N.useState(0),[p,g]=N.useState(!1),[x,w]=N.useState(null),[E,_]=N.useState([]),[j,C]=N.useState({protocolUrl:"",toeflUrl:"",publishedPapers:[],otherDocuments:[]}),[L,A]=N.useState({title:"",url:"",date:""}),[D,R]=N.useState("UPLOAD"),[U,O]=N.useState({title:"",url:"",archiveId:""}),[V,k]=N.useState(!1);N.useEffect(()=>{I()},[]);const I=async()=>{r(!0);const Q=await d8();e(Q),d(Q.filter(q=>q.alerts.reportOverdue).length),h(Q.filter(q=>q.alerts.extensionNeeded).length),r(!1)},P=Q=>{s(a===Q?null:Q)},B=async(Q,q,Z)=>{const K=t.find(fe=>fe.id===Q);if(!K)return;const ee={...K.dates,[q]:Z};if(q==="lastReport"){const fe=new Date(Z);fe.setMonth(fe.getMonth()+6),ee.nextReportDue=fe.toISOString().split("T")[0]}try{await BN(Q,{dates:ee}),I()}catch(fe){console.error(fe),alert("   ")}},z=async Q=>{w(Q.id),C({protocolUrl:Q.documents.protocolUrl||"",toeflUrl:Q.documents.toeflUrl||"",publishedPapers:Q.documents.publishedPapers?[...Q.documents.publishedPapers]:[],otherDocuments:Q.documents.otherDocuments?[...Q.documents.otherDocuments]:[]}),A({title:"",url:"",date:""}),O({title:"",url:"",archiveId:""}),R("UPLOAD");const Z=(await ul()).filter(K=>K.type===Ze.INCOMING||K.type===Ze.OUTGOING||K.type===Ze.DEPARTMENT_COUNCIL);_(Z),g(!0)},ge=Q=>{const q=`https://drive.google.com/file/d/mock-id-${Math.floor(Math.random()*1e4)}`;Q==="protocol"?C(Z=>({...Z,protocolUrl:q})):Q==="toefl"?C(Z=>({...Z,toeflUrl:q})):Q==="other"&&O(Z=>({...Z,url:q}))},ce=()=>{!L.title||!L.date||(C(Q=>({...Q,publishedPapers:[...Q.publishedPapers,{...L}]})),A({title:"",url:"",date:""}))},Y=Q=>{C(q=>({...q,publishedPapers:q.publishedPapers.filter((Z,K)=>K!==Q)}))},le=()=>{if(!U.title)return;const Q={id:Math.random().toString(36).substr(2,9),title:U.title,date:new Date().toISOString().split("T")[0],type:D};if(D==="UPLOAD"){if(!U.url)return;Q.url=U.url}else{if(!U.archiveId)return;const q=E.find(Z=>Z.id===U.archiveId);Q.archiveId=U.archiveId,Q.archiveSerial=(q==null?void 0:q.serialNumber)||"???"}C(q=>({...q,otherDocuments:[...q.otherDocuments,Q]})),O({title:"",url:"",archiveId:""})},X=Q=>{C(q=>({...q,otherDocuments:q.otherDocuments.filter((Z,K)=>K!==Q)}))},ye=async Q=>{if(Q.preventDefault(),!!x){k(!0);try{const q=t.find(Z=>Z.id===x);if(q){const Z={...q.documents,protocolUrl:j.protocolUrl,toeflUrl:j.toeflUrl,publishedPapers:j.publishedPapers,otherDocuments:j.otherDocuments};await BN(x,{documents:Z}),await I()}g(!1)}catch(q){console.error(q),alert("    ")}finally{k(!1)}}};return n?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"    ..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 text-sm",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t.length})]}),o.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-blue-600",children:o.jsx(Ql,{})})]}),o.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${c>0?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:`${c>0?"text-red-700":"text-gray-500"} text-sm font-semibold`,children:" "}),o.jsx("h3",{className:`text-2xl font-bold ${c>0?"text-red-800":"text-gray-800"}`,children:c}),c>0&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:"  "})]}),o.jsx("div",{className:`${c>0?"bg-red-200 text-red-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:o.jsx(Hi,{})})]}),o.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${f>0?"bg-amber-50 border-amber-200":"bg-white border-gray-100"}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:`${f>0?"text-amber-700":"text-gray-500"} text-sm font-semibold`,children:"  "}),o.jsx("h3",{className:`text-2xl font-bold ${f>0?"text-amber-800":"text-gray-800"}`,children:f}),f>0&&o.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"  "})]}),o.jsx("div",{className:`${f>0?"bg-amber-200 text-amber-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:o.jsx(Yr,{})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:o.jsx("h3",{className:"font-bold text-gray-700",children:"  (  )"})}),o.jsx("div",{className:"divide-y",children:t.map(Q=>o.jsxs("div",{className:"group transition-colors hover:bg-gray-50",children:[o.jsxs("div",{className:"p-4 flex flex-col md:flex-row md:items-center justify-between cursor-pointer gap-4",onClick:()=>P(Q.id),children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white
                                ${Q.degree==="PhD"?"bg-purple-600":"bg-blue-600"}
                            `,children:Q.degree==="PhD"?"D":"M"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800",children:Q.name}),o.jsx("p",{className:"text-sm text-gray-500",children:Q.researchTopic})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("div",{className:"text-left md:text-right",children:[o.jsx("p",{className:"text-gray-500 text-xs",children:" "}),o.jsx("p",{className:"font-medium",children:Q.supervisor})]}),o.jsxs("div",{className:"flex gap-2",children:[Q.alerts.reportOverdue&&o.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[o.jsx(Hi,{className:"w-3 h-3"}),"  "]}),Q.alerts.extensionNeeded&&o.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[o.jsx(Yr,{className:"w-3 h-3"}),"  "]})]}),o.jsx("button",{className:"text-gray-400 hover:text-green-600",children:a===Q.id?o.jsx(JN,{}):o.jsx(QN,{})})]})]}),a===Q.id&&o.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-100 animate-in slide-in-from-top-2",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[o.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[o.jsx(yh,{className:"w-4 h-4 text-blue-600"}),"  (Timeline)"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:Q.dates.enrollment||"",onChange:q=>B(Q.id,"enrollment",q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  ( )"}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:Q.dates.registration||"",onChange:q=>B(Q.id,"registration",q.target.value)})]})]}),o.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-700",children:"    "}),Q.alerts.reportOverdue&&o.jsx("span",{className:"text-xs text-red-600 font-bold animate-pulse",children:"  !"})]}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm focus:ring-2 focus:ring-blue-500",value:Q.dates.lastReport||"",onChange:q=>B(Q.id,"lastReport",q.target.value)}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["  : ",o.jsx("span",{className:"font-mono text-gray-600",children:Q.dates.nextReportDue||"-"})]})]}),o.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  "}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:Q.dates.expectedDefense||"",onChange:q=>B(Q.id,"expectedDefense",q.target.value)})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[o.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[o.jsx(mr,{className:"w-4 h-4 text-green-600"}),"  (Digital Portfolio)"]}),o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"  (Protocol)"}),Q.documents.protocolUrl?o.jsxs("a",{href:Q.documents.protocolUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[o.jsx(yg,{className:"w-3 h-3"})," "]}):o.jsx("span",{className:"text-xs text-gray-400",children:"  "})]}),o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"  (TOEFL)"}),Q.documents.toeflUrl?o.jsxs("a",{href:Q.documents.toeflUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[o.jsx(yg,{className:"w-3 h-3"})," "]}):o.jsx("span",{className:"text-xs text-gray-400",children:"  "})]})]}),Q.documents.otherDocuments&&Q.documents.otherDocuments.length>0&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed",children:[o.jsx("h5",{className:"font-semibold text-xs text-gray-600 mb-2",children:"   "}),o.jsx("ul",{className:"space-y-1",children:Q.documents.otherDocuments.map((q,Z)=>o.jsxs("li",{className:"flex items-center gap-2 text-xs text-gray-600",children:[q.type==="ARCHIVE_LINK"?o.jsx(P2,{className:"w-3 h-3 text-amber-500"}):o.jsx(mr,{className:"w-3 h-3 text-gray-400"}),o.jsx("span",{className:"truncate",children:q.title})]},Z))})]}),o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsxs("button",{onClick:()=>z(Q),className:"mt-3 w-full text-xs bg-green-50 hover:bg-green-100 text-green-700 py-2 rounded-lg border border-green-200 font-semibold transition-colors flex items-center justify-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"}),"   "]})})]})]}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs("button",{onClick:()=>P(Q.id),className:"bg-green-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-green-700 flex items-center gap-2",children:[o.jsx(bn,{className:"w-4 h-4"}),"  "]})})]})]},Q.id))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center gap-2",children:[o.jsx(Is,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"   "})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[t.map(Q=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:Q.name}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Q.degree==="PhD"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:Q.degree==="PhD"?"":""})}),o.jsx("td",{className:"p-4 text-gray-600 max-w-xs truncate",title:Q.researchTopic,children:Q.researchTopic}),o.jsxs("td",{className:"p-4 text-gray-600",children:[Q.supervisor,Q.coSupervisors&&o.jsxs("span",{className:"text-xs text-gray-400 block",children:["+ ",Q.coSupervisors]})]}),o.jsx("td",{className:"p-4 font-mono text-gray-500",children:Q.dates.registration||"-"}),o.jsx("td",{className:"p-4",children:o.jsxs("span",{className:"px-2 py-1 rounded-full text-xs border bg-gray-50 border-gray-200 text-gray-600",children:[Q.status==="Researching"&&" ",Q.status==="Writing"&&" ",Q.status==="Defense"&&" ",Q.status==="Granted"&&" ",Q.status==="Recording"&&" "]})})]},Q.id)),t.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:ye,className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (Protocol)"}),o.jsx("input",{type:"text",readOnly:!0,value:j.protocolUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),o.jsx("button",{type:"button",onClick:()=>ge("protocol"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:o.jsx(_r,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (TOEFL)"}),o.jsx("input",{type:"text",readOnly:!0,value:j.toeflUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),o.jsx("button",{type:"button",onClick:()=>ge("toefl"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:o.jsx(_r,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:"  /  "}),j.otherDocuments&&j.otherDocuments.length>0?o.jsx("ul",{className:"space-y-2",children:j.otherDocuments.map((Q,q)=>o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[Q.type==="ARCHIVE_LINK"?o.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded",children:o.jsx(P2,{className:"w-4 h-4"})}):o.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded",children:o.jsx(mr,{className:"w-4 h-4"})}),o.jsxs("div",{className:"text-xs",children:[o.jsx("p",{className:"font-bold text-gray-800",children:Q.title}),Q.type==="ARCHIVE_LINK"?o.jsxs("p",{className:"text-amber-600",children:["  : ",Q.archiveSerial]}):o.jsx("p",{className:"text-blue-500 underline cursor-pointer",children:"  "})]})]}),o.jsx("button",{type:"button",onClick:()=>X(q),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:o.jsx(pt,{className:"w-4 h-4"})})]},q))}):o.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mt-2",children:[o.jsxs("div",{className:"flex gap-4 mb-3 border-b border-gray-200 pb-2",children:[o.jsx("button",{type:"button",onClick:()=>R("UPLOAD"),className:`text-xs font-bold pb-1 ${D==="UPLOAD"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"  "}),o.jsx("button",{type:"button",onClick:()=>R("ARCHIVE_LINK"),className:`text-xs font-bold pb-1 ${D==="ARCHIVE_LINK"?"text-amber-600 border-b-2 border-amber-600":"text-gray-500"}`,children:"  (/)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",placeholder:"  (:   )",className:"w-full text-xs p-2 rounded border border-gray-300 focus:outline-none focus:border-green-500",value:U.title,onChange:Q=>O({...U,title:Q.target.value})}),D==="UPLOAD"?o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",readOnly:!0,value:U.url,placeholder:"   ...",className:"w-full text-xs p-2 rounded border border-gray-300 bg-white text-gray-500"}),o.jsxs("button",{type:"button",onClick:()=>ge("other"),className:"whitespace-nowrap px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded text-xs hover:bg-blue-100",children:[o.jsx(_r,{className:"w-4 h-4 inline-block mr-1"})," "]})]}):o.jsxs("select",{className:"w-full text-xs p-2 rounded border border-gray-300 bg-white",value:U.archiveId,onChange:Q=>O({...U,archiveId:Q.target.value}),children:[o.jsx("option",{value:"",children:"--     --"}),E.map(Q=>o.jsxs("option",{value:Q.id,children:["[",Q.type===Ze.INCOMING?"":"","] ",Q.serialNumber," - ",Q.subject]},Q.id))]}),o.jsxs("button",{type:"button",onClick:le,className:"w-full mt-2 bg-gray-600 text-white text-xs py-2 rounded hover:bg-gray-700 flex items-center justify-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"})," "]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),j.publishedPapers.length>0?o.jsx("ul",{className:"space-y-2",children:j.publishedPapers.map((Q,q)=>o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[o.jsxs("div",{className:"text-xs",children:[o.jsx("p",{className:"font-bold text-gray-800",children:Q.title}),o.jsx("p",{className:"text-gray-500",children:Q.date})]}),o.jsx("button",{type:"button",onClick:()=>Y(q),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:o.jsx(pt,{className:"w-4 h-4"})})]},q))}):o.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),o.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100 space-y-2 mt-2",children:[o.jsx("p",{className:"text-xs font-bold text-green-800",children:"  "}),o.jsx("input",{type:"text",placeholder:" ",className:"w-full text-xs p-2 rounded border border-green-200 focus:outline-none focus:border-green-500",value:L.title,onChange:Q=>A({...L,title:Q.target.value})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"date",className:"w-1/3 text-xs p-2 rounded border border-green-200",value:L.date,onChange:Q=>A({...L,date:Q.target.value})}),o.jsx("input",{type:"text",placeholder:"  (DOI/URL)",className:"w-2/3 text-xs p-2 rounded border border-green-200",value:L.url,onChange:Q=>A({...L,url:Q.target.value})})]}),o.jsxs("button",{type:"button",onClick:ce,className:"w-full bg-green-600 text-white text-xs py-2 rounded hover:bg-green-700 flex items-center justify-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"}),"  "]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:V,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:[V?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"})," "]})]})]})]})})]})},mge=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState(!0),[s,c]=N.useState(!1),[d,f]=N.useState(!1),[h,p]=N.useState(null),[g,x]=N.useState(null),[w,E]=N.useState(!1),[_,j]=N.useState(null),[C,L]=N.useState({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]});N.useEffect(()=>{A()},[]);const A=async()=>{a(!0);const I=await qme();n(I),a(!1)},D=I=>{I?(p(I.id),L({name:I.name,model:I.model,serialNumber:I.serialNumber,status:I.status,location:I.location,assignedTo:I.assignedTo,dateAcquired:I.dateAcquired})):(p(null),L({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]})),f(!0)},R=async I=>{I.preventDefault(),c(!0);const P=(t==null?void 0:t.name)||"Unknown";try{h?(await Gme(h,C),Ae(" ",P,`  : ${C.name}`),alert("    ")):(await Hme(C),Ae(" ",P,`: ${C.name} - ${C.serialNumber}`),alert("   ")),await A(),f(!1)}catch(B){console.error(B),alert("   ")}finally{c(!1)}},U=I=>{j(I),E(!0)},O=async()=>{if(_){c(!0);try{const I=e.find(P=>P.id===_);await Kme(_),Ae(" ",(t==null?void 0:t.name)||"Unknown",` : ${I==null?void 0:I.name}`),n(P=>P.filter(B=>B.id!==_)),E(!1),j(null)}catch(I){console.error(I),alert("   "),A()}finally{c(!1)}}},V=I=>{switch(I){case"WORKING":return o.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(Gr,{className:"w-3 h-3"})," "]});case"MAINTENANCE":return o.jsxs("span",{className:"flex items-center gap-1 bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(Yr,{className:"w-3 h-3"})," "]});case"BROKEN":return o.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(e_,{className:"w-3 h-3"})," "]})}},k={total:e.length,working:e.filter(I=>I.status==="WORKING").length,maintenance:e.filter(I=>I.status==="MAINTENANCE").length,broken:e.filter(I=>I.status==="BROKEN").length};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(vg,{className:"w-6 h-6 text-blue-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),o.jsxs("button",{onClick:()=>D(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 text-center",children:[o.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:k.total})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-xl shadow-sm border border-green-100 text-center",children:[o.jsx("p",{className:"text-xs text-green-600 font-bold",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-green-800",children:k.working})]}),o.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl shadow-sm border border-amber-100 text-center",children:[o.jsx("p",{className:"text-xs text-amber-600 font-bold",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-amber-800",children:k.maintenance})]}),o.jsxs("div",{className:"bg-red-50 p-4 rounded-xl shadow-sm border border-red-100 text-center",children:[o.jsx("p",{className:"text-xs text-red-600 font-bold",children:" / "}),o.jsx("h3",{className:"text-2xl font-bold text-red-800",children:k.broken})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:"  (SN)"}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})," ",o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[r?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:" ..."})}):e.map(I=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:I.name}),o.jsx("td",{className:"p-4 text-gray-600",children:I.model}),o.jsx("td",{className:"p-4 font-mono text-gray-500",children:I.serialNumber||"-"}),o.jsx("td",{className:"p-4",children:I.location}),o.jsx("td",{className:"p-4",children:I.assignedTo}),o.jsx("td",{className:"p-4",children:V(I.status)}),o.jsx("td",{className:"p-4",children:o.jsxs("button",{onClick:()=>x(I),className:"p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg flex items-center gap-1 text-xs",title:" QR Code",children:[o.jsx(tB,{className:"w-4 h-4"}),"QR"]})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>D(I),className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:P=>{P.preventDefault(),P.stopPropagation(),U(I.id)},className:"p-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg cursor-pointer transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},I.id)),!r&&e.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:C.name,onChange:I=>L({...C,name:I.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:C.model,onChange:I=>L({...C,model:I.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:"Serial Number",className:"w-full border p-2 rounded-lg outline-none",value:C.serialNumber,onChange:I=>L({...C,serialNumber:I.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg outline-none bg-white",value:C.status,onChange:I=>L({...C,status:I.target.value}),children:[o.jsx("option",{value:"WORKING",children:"  "}),o.jsx("option",{value:"MAINTENANCE",children:" "}),o.jsx("option",{value:"BROKEN",children:" / "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",className:"w-full border p-2 rounded-lg outline-none",value:C.dateAcquired,onChange:I=>L({...C,dateAcquired:I.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:C.location,onChange:I=>L({...C,location:I.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",placeholder:" /",className:"w-full border p-2 rounded-lg outline-none",value:C.assignedTo,onChange:I=>L({...C,assignedTo:I.target.value})})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"}),""]})]})]})]})}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:"QR Code "}),o.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"bg-white p-4 border rounded-lg inline-block shadow-inner mb-4",children:o.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(`ID:${g.id}|Name:${g.name}|SN:${g.serialNumber}`)}`,alt:"QR Code",className:"w-40 h-40"})}),o.jsx("h4",{className:"font-bold text-gray-800",children:g.name}),o.jsx("p",{className:"text-sm text-gray-500 font-mono mb-4",children:g.serialNumber}),o.jsx("button",{onClick:()=>window.print(),className:"w-full bg-gray-800 text-white py-2 rounded-lg hover:bg-gray-900",children:" "})]})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"         "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:O,disabled:s,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[s&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},pge=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState([]),[s,c]=N.useState([]),[d,f]=N.useState(!0),[h,p]=N.useState({researcherName:(t==null?void 0:t.name)||"",date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"11:00",experimentType:""}),[g,x]=N.useState(!1),[w,E]=N.useState(null),[_,j]=N.useState({name:"",supervisor:"",location:""}),[C,L]=N.useState(!1),[A,D]=N.useState(null),[R,U]=N.useState(null),[O,V]=N.useState({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),[k,I]=N.useState(!1),[P,B]=N.useState(null),[z,ge]=N.useState(!1),[ce,Y]=N.useState(null),[le,X]=N.useState(!1),[ye,Q]=N.useState(null),[q,Z]=N.useState(!1),K=(t==null?void 0:t.role)===Ne.ADMIN||(t==null?void 0:t.role)===Ne.STAFF;N.useEffect(()=>{ee()},[]);const ee=async()=>{f(!0);const[me,Ye,Ke]=await Promise.all([npe(),Yme(),Jme()]),jt=me.sort((Ba,$a)=>Ba.date!==$a.date?Ba.date.localeCompare($a.date):Ba.startTime.localeCompare($a.startTime));a(jt),n(Ye),c(Ke),f(!1)},fe=me=>{me?(E(me.id),j({name:me.name,supervisor:me.supervisor,location:me.location})):(E(null),j({name:"",supervisor:"",location:""})),x(!0)},je=async me=>{me.preventDefault(),Z(!0);const Ye=(t==null?void 0:t.name)||"Unknown";try{w?(await Xme(w,_),Ae(" ",Ye,`   : ${_.name}`)):(await Wme(_),Ae(" ",Ye,`  : ${_.name}`)),await ee(),x(!1)}catch(Ke){console.error(Ke),alert("    ")}finally{Z(!1)}},Ie=async()=>{if(ce){Z(!0);try{const me=e.find(Ye=>Ye.id===ce);await Qme(ce),Ae(" ",(t==null?void 0:t.name)||"Unknown",`  : ${me==null?void 0:me.name}`),await ee(),ge(!1),Y(null)}catch(me){console.error(me),alert("   ")}finally{Z(!1)}}},qe=me=>{D(me),U(null),V({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),L(!0)},H=me=>{U(me.id),V({courseName:me.courseName,instructor:me.instructor,day:me.day,startTime:me.startTime,endTime:me.endTime})},Ee=async me=>{if(me.preventDefault(),!A)return;Z(!0);const Ye=(t==null?void 0:t.name)||"Unknown";try{R?(await epe(R,O),Ae("  ",Ye,`: ${O.courseName}`),U(null)):(await Zme({...O,labId:A.id}),Ae("  ",Ye,`: ${O.courseName} - : ${A.name}`)),await ee(),V(Ke=>({...Ke,courseName:"",instructor:""}))}catch(Ke){console.error(Ke),alert("    ")}finally{Z(!1)}},J=me=>{Q(me),X(!0)},ae=async()=>{if(ye){Z(!0);try{const me=s.find(Ye=>Ye.id===ye);await tpe(ye),Ae("  ",(t==null?void 0:t.name)||"Unknown",` : ${me==null?void 0:me.courseName}`),await ee(),X(!1),Q(null)}catch{alert(" ")}finally{Z(!1)}}},Fe=me=>({Saturday:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:""})[me]||me,Ve=async me=>{if(me.preventDefault(),h.endTime<=h.startTime){alert("       ");return}const Ye=h.experimentType.trim().toLowerCase();if(r.some(jt=>jt.status==="CANCELLED"||jt.date!==h.date||jt.experimentType.trim().toLowerCase()!==Ye?!1:h.startTime<jt.endTime&&h.endTime>jt.startTime)){alert(`     / (${h.experimentType})   .    .`);return}Z(!0);try{await rpe({...h,labName:"   ",status:"CONFIRMED"}),Ae(" ",(t==null?void 0:t.name)||h.researcherName,` : ${h.date} - ${h.experimentType}`),await ee(),p(jt=>({...jt,experimentType:""})),alert("    ")}catch(jt){console.error(jt),alert("   ")}finally{Z(!1)}},_t=async(me,Ye)=>{try{await ape(me,{status:Ye}),a(Ke=>Ke.map(jt=>jt.id===me?{...jt,status:Ye}:jt)),Ae("  ",(t==null?void 0:t.name)||"Unknown",`  : ${Ye}`)}catch(Ke){console.error(Ke),alert("  ")}},_e=async()=>{if(P){Z(!0);try{await ipe(P),Ae("/ ",(t==null?void 0:t.name)||"Unknown","   "),await ee(),I(!1),B(null)}catch(me){console.error(me),alert("   ")}finally{Z(!1)}}},ft=me=>{switch(me){case"CONFIRMED":return o.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(Gr,{className:"w-3 h-3"})," "]});case"COMPLETED":return o.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(nz,{className:"w-3 h-3"}),"  "]});case"CANCELLED":return o.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(e_,{className:"w-3 h-3"})," "]});default:return null}};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(d1,{className:"w-6 h-6 text-purple-600"})," "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),K&&o.jsxs("button",{onClick:()=>fe(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-purple-700 flex items-center gap-2 shadow-sm",children:[o.jsx(Ft,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.map(me=>o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-purple-200 transition-colors relative group",children:[o.jsx("div",{className:"bg-purple-50 w-10 h-10 rounded-full flex items-center justify-center mb-3 text-purple-600",children:o.jsx(d1,{className:"w-5 h-5"})}),o.jsx("h3",{className:"font-bold text-gray-800 text-sm mb-1",children:me.name}),o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:me.location}),o.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-100 mb-3",children:[o.jsx("span",{className:"font-semibold text-gray-600",children:":"})," ",me.supervisor]}),o.jsxs("button",{onClick:()=>qe(me),className:"w-full mt-auto bg-green-50 text-green-700 py-1.5 rounded-lg text-xs font-semibold hover:bg-green-100 flex items-center justify-center gap-1 transition-colors",children:[o.jsx(mB,{className:"w-3 h-3"}),"  "]}),K&&o.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>fe(me),className:"text-blue-400 hover:text-blue-600 bg-white p-1 rounded-full shadow-sm",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{Y(me.id),ge(!0)},className:"text-red-400 hover:text-red-600 bg-white p-1 rounded-full shadow-sm",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},me.id)),e.length===0&&o.jsx("div",{className:"col-span-full text-center p-8 bg-gray-50 rounded-xl border border-dashed text-gray-400",children:"    "})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-800 to-purple-900 p-6 text-white flex justify-between items-center",children:o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[o.jsx(yh,{className:"w-5 h-5"}),"  -   "]}),o.jsx("p",{className:"text-purple-200 text-xs mt-1",children:"        ."})]})}),o.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 bg-purple-50 p-5 rounded-xl h-fit",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(Hi,{className:"w-4 h-4"}),"   "]}),o.jsxs("form",{onSubmit:Ve,className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.researcherName,onChange:me=>p({...h,researcherName:me.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:""}),o.jsx("input",{type:"date",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.date,onChange:me=>p({...h,date:me.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.startTime,onChange:me=>p({...h,startTime:me.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.endTime,onChange:me=>p({...h,endTime:me.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"  /  "}),o.jsx("input",{type:"text",placeholder:": PCR, Centrifuge",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.experimentType,onChange:me=>p({...h,experimentType:me.target.value})}),o.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"*          /."})]}),o.jsxs("button",{type:"submit",disabled:q,className:"w-full bg-purple-700 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-800 transition-colors flex justify-center items-center gap-2",children:[o.jsx(Ft,{className:"w-4 h-4"}),"  "]})]})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(Gr,{className:"w-4 h-4 text-green-600"}),"  "]}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[d?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-6 text-center text-gray-400",children:" ..."})}):r.map(me=>o.jsxs("tr",{className:`hover:bg-gray-50 ${me.status==="CANCELLED"?"bg-gray-50 opacity-60":""}`,children:[o.jsx("td",{className:"p-3 font-mono text-gray-600",children:me.date}),o.jsxs("td",{className:"p-3 font-mono text-purple-700 font-bold",children:[me.startTime," - ",me.endTime]}),o.jsx("td",{className:"p-3 font-bold text-gray-800",children:me.researcherName}),o.jsx("td",{className:"p-3 text-gray-600",children:me.experimentType}),o.jsx("td",{className:"p-3",children:K?o.jsxs("select",{value:me.status,onChange:Ye=>_t(me.id,Ye.target.value),className:`text-xs p-1 rounded border focus:outline-none cursor-pointer font-bold ${me.status==="CONFIRMED"?"text-green-700 bg-green-50 border-green-200":me.status==="COMPLETED"?"text-blue-700 bg-blue-50 border-blue-200":"text-red-700 bg-red-50 border-red-200"}`,children:[o.jsx("option",{value:"CONFIRMED",children:""}),o.jsx("option",{value:"COMPLETED",children:" "}),o.jsx("option",{value:"CANCELLED",children:""})]}):ft(me.status)}),o.jsx("td",{className:"p-3",children:(K||(t==null?void 0:t.name)===me.researcherName)&&o.jsx("button",{onClick:()=>{B(me.id),I(!0)},className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:" ",children:o.jsx(pt,{className:"w-4 h-4"})})})]},me.id)),!d&&r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400 italic",children:"   "})})]})]})})]})]})]}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:w?"  ":"  "}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:je,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:_.name,onChange:me=>j({..._,name:me.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:_.supervisor,onChange:me=>j({..._,supervisor:me.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:_.location,onChange:me=>j({..._,location:me.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:q,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[q?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"}),""]})]})]})]})}),C&&A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-purple-50 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("p",{className:"text-sm text-purple-700",children:A.name})]}),o.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6",children:[K&&o.jsxs("form",{onSubmit:Ee,className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:[o.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-3 flex items-center gap-2",children:[o.jsx(Ft,{className:"w-4 h-4"})," ",R?"  ":"  "]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsx("input",{type:"text",placeholder:"  (: )",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:O.courseName,onChange:me=>V({...O,courseName:me.target.value})}),o.jsx("input",{type:"text",placeholder:" ",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:O.instructor,onChange:me=>V({...O,instructor:me.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("select",{className:"text-sm p-2 rounded border focus:outline-none bg-white",value:O.day,onChange:me=>V({...O,day:me.target.value}),children:[o.jsx("option",{value:"Saturday",children:""}),o.jsx("option",{value:"Sunday",children:""}),o.jsx("option",{value:"Monday",children:""}),o.jsx("option",{value:"Tuesday",children:""}),o.jsx("option",{value:"Wednesday",children:""}),o.jsx("option",{value:"Thursday",children:""})]}),o.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:O.startTime,onChange:me=>V({...O,startTime:me.target.value})}),o.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:O.endTime,onChange:me=>V({...O,endTime:me.target.value})})]}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[R&&o.jsx("button",{type:"button",onClick:()=>{U(null),V(me=>({...me,courseName:"",instructor:""}))},className:"bg-gray-200 text-gray-600 px-3 py-2 rounded-lg text-sm font-bold hover:bg-gray-300",children:" "}),o.jsx("button",{type:"submit",disabled:q,className:"flex-1 bg-purple-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-700",children:R?" ":" "})]})]}),o.jsxs("div",{className:"space-y-4",children:[["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday"].map(me=>{const Ye=s.filter(Ke=>Ke.labId===A.id&&Ke.day===me).sort((Ke,jt)=>Ke.startTime.localeCompare(jt.startTime));return Ye.length===0?null:o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-gray-700 text-sm mb-2 border-b pb-1",children:Fe(me)}),o.jsx("ul",{className:"space-y-2",children:Ye.map(Ke=>o.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 shadow-sm text-sm",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("span",{className:"font-mono text-purple-700 font-bold w-24",children:[Ke.startTime," - ",Ke.endTime]}),o.jsx("span",{className:"font-semibold text-gray-800",children:Ke.courseName}),o.jsxs("span",{className:"text-gray-500 text-xs flex items-center",children:["(",Ke.instructor,")"]})]}),K&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>H(Ke),className:"text-blue-400 hover:text-blue-600 p-1 rounded hover:bg-blue-50",title:"",children:o.jsx(pr,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>J(Ke.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"",children:o.jsx(pt,{className:"w-3 h-3"})})]})]},Ke.id))})]},me)}),s.filter(me=>me.labId===A.id).length===0&&o.jsx("p",{className:"text-center text-gray-400 py-4 italic",children:"      ."})]})]})]})}),z&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"              ."}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>ge(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:Ie,disabled:q,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[q&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),le&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>X(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:ae,disabled:q,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[q&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),k&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          ."}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>I(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsx("button",{onClick:_e,disabled:q,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"  ( )"})]})]})})})]})},gge=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState([]),[s,c]=N.useState(!0),[d,f]=N.useState(!1),[h,p]=N.useState(!1),[g,x]=N.useState(null),[w,E]=N.useState(!1),[_,j]=N.useState(!1),[C,L]=N.useState(null),[A,D]=N.useState({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]});N.useEffect(()=>{R()},[]);const R=async()=>{c(!0);const[I,P]=await Promise.all([spe(),ope()]);n(I.sort((B,z)=>B.number-z.number)),a(P.sort((B,z)=>z.endDate.localeCompare(B.endDate))),c(!1)},U=I=>{x(I),I.status==="OCCUPIED"?D({researcher:I.researcher||"",plantType:I.plantType||"",notes:I.notes||"",startDate:I.startDate||""}):D({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]}),p(!0)},O=async I=>{if(I.preventDefault(),!!g){f(!0);try{await LP(g.id,{status:"OCCUPIED",...A}),Ae("  ",(t==null?void 0:t.name)||A.researcher,`    ${g.number}`),await R(),p(!1),alert("    ")}catch(P){console.error(P),alert("   ")}finally{f(!1)}}},V=async()=>{if(g){f(!0);try{g.researcher&&g.plantType&&await lpe({plotNumber:g.number,researcher:g.researcher,plantType:g.plantType,startDate:g.startDate||"Unknown",endDate:new Date().toISOString().split("T")[0],notes:g.notes}),await LP(g.id,{status:"FREE",researcher:void 0,plantType:void 0,notes:void 0,startDate:void 0}),Ae("  ",(t==null?void 0:t.name)||"Unknown",`    ${g.number} `),await R(),E(!1),p(!1),alert("      ")}catch(I){console.error(I),alert("   ")}finally{f(!1)}}},k=async()=>{if(C){f(!0);try{await cpe(C),Ae("   ",(t==null?void 0:t.name)||"Unknown","   "),await R(),j(!1),L(null)}catch{alert("  ")}finally{f(!1)}}};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(u4,{className:"w-6 h-6 text-green-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"   (Plots Allocation)  "})]}),o.jsxs("div",{className:"flex gap-4 text-xs font-bold bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-100 border border-green-300"}),o.jsx("span",{className:"text-green-700",children:" "})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 border border-red-300"}),o.jsx("span",{className:"text-red-700",children:" ( )"})]})]})]}),s?o.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[o.jsx(tt,{className:"w-8 h-8 animate-spin text-green-600"}),o.jsx("span",{children:"   ..."})]}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(I=>{const P=I.status==="OCCUPIED";return o.jsxs("div",{onClick:()=>U(I),className:`
                                    relative h-48 rounded-2xl border-2 cursor-pointer transition-all duration-200 transform hover:-translate-y-1 hover:shadow-lg p-4 flex flex-col justify-between text-center group
                                    ${P?"bg-red-50 border-red-200 hover:border-red-300":"bg-green-50 border-green-200 hover:border-green-400 border-dashed"}
                                `,children:[o.jsxs("div",{className:"absolute top-3 right-3 font-mono font-bold text-lg opacity-30",children:["#",I.number]}),P?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:o.jsx(wu,{className:"w-8 h-8 text-red-500"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-800 truncate",children:I.plantType}),o.jsx("p",{className:"text-xs text-red-600 font-semibold mt-1 truncate",children:I.researcher})]}),o.jsxs("span",{className:"text-[10px] text-gray-400 bg-white/50 py-1 rounded-lg",children:[": ",I.startDate]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[o.jsx(wu,{className:"w-8 h-8 text-green-400"}),o.jsx("span",{className:"text-sm font-bold text-green-600",children:" "})]}),o.jsx("button",{className:"w-full py-1 bg-green-200 text-green-800 rounded text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:" "})]})]},I.id)})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[o.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Sz,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"font-bold text-gray-800",children:"   ()"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[r.map(I=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"p-4 font-mono font-bold text-green-700",children:["#",I.plotNumber]}),o.jsx("td",{className:"p-4",children:I.researcher}),o.jsx("td",{className:"p-4",children:I.plantType}),o.jsx("td",{className:"p-4 text-gray-500",children:I.startDate}),o.jsx("td",{className:"p-4 text-gray-500",children:I.endDate}),o.jsx("td",{className:"p-4",children:o.jsx("button",{onClick:()=>{L(I.id),j(!0)},className:"text-red-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg",title:"  ",children:o.jsx(pt,{className:"w-4 h-4"})})})]},I.id)),r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),h&&g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:`p-6 border-b rounded-t-xl flex justify-between items-center ${g.status==="OCCUPIED"?"bg-red-50":"bg-green-50"}`,children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(wu,{className:`w-6 h-6 ${g.status==="OCCUPIED"?"text-red-600":"text-green-600"}`}),"  ",g.number]}),o.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 bg-white/50 p-1 rounded-full",children:o.jsx(Vt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(n_,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),o.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.researcher,onChange:I=>D({...A,researcher:I.target.value}),placeholder:"  "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  / "}),o.jsxs("div",{className:"relative",children:[o.jsx(wu,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),o.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.plantType,onChange:I=>D({...A,plantType:I.target.value}),placeholder:":  ( 95)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(yh,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),o.jsx("input",{type:"date",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.startDate,onChange:I=>D({...A,startDate:I.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (  )"}),o.jsx("textarea",{rows:3,disabled:g.status==="OCCUPIED",className:"w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.notes,onChange:I=>D({...A,notes:I.target.value}),placeholder:"     ..."})]}),o.jsx("div",{className:"pt-4 border-t flex justify-end gap-2",children:g.status==="FREE"?o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:""}),o.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm font-bold shadow-md",children:[d?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(Gr,{className:"w-4 h-4"})," "]})]}):o.jsxs("button",{type:"button",onClick:()=>E(!0),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 text-sm font-bold shadow-md",children:[o.jsx(pt,{className:"w-4 h-4"}),"   "]})})]})]})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(Yr,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"                ."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})}),_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(pt,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"  "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:k,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},yge=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState([]),[s,c]=N.useState(!0),[d,f]=N.useState(!1),[h,p]=N.useState("ALL"),[g,x]=N.useState(!1),[w,E]=N.useState(null),[_,j]=N.useState(!1),[C,L]=N.useState(null),[A,D]=N.useState({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"});N.useEffect(()=>{R()},[]),N.useEffect(()=>{a(h==="ALL"?e:e.filter(P=>P.type===h))},[e,h]);const R=async()=>{c(!0);const B=(await xpe()).sort((z,ge)=>ge.date.localeCompare(z.date));n(B),c(!1)},U=P=>{P?(E(P.id),D({title:P.title,type:P.type,date:P.date,location:P.location,description:P.description,regLink:P.regLink||"",status:P.status||"UPCOMING"})):(E(null),D({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"})),x(!0)},O=async P=>{P.preventDefault(),f(!0);const B=(t==null?void 0:t.name)||"Unknown";try{w?(await wpe(w,A),Ae(" ",B,` : ${A.title}`)):(await bpe(A),Ae("  ",B,`: ${A.title}`)),await R(),x(!1),alert(w?"   ":"   ")}catch(z){console.error(z),alert("   ")}finally{f(!1)}},V=async()=>{if(C){f(!0);try{const P=e.find(B=>B.id===C);await Npe(C),Ae(" ",(t==null?void 0:t.name)||"Unknown",` : ${P==null?void 0:P.title}`),await R(),j(!1),L(null)}catch{alert("  ")}finally{f(!1)}}},k=P=>{switch(P){case"WORKSHOP":return{color:"text-orange-600",bg:"bg-orange-50",border:"border-r-4 border-r-orange-500",label:" ",icon:Zz};case"SEMINAR":return{color:"text-blue-600",bg:"bg-blue-50",border:"border-r-4 border-r-blue-500",label:"",icon:Gz};case"TRIP":return{color:"text-green-600",bg:"bg-green-50",border:"border-r-4 border-r-green-500",label:" / ",icon:G9};case"CONFERENCE":return{color:"text-red-600",bg:"bg-red-50",border:"border-r-4 border-r-red-500",label:"",icon:si};case"COURSE":return{color:"text-purple-600",bg:"bg-purple-50",border:"border-r-4 border-r-purple-500",label:" ",icon:Is};default:return{color:"text-gray-600",bg:"bg-gray-50",border:"border-gray-300",label:"",icon:m1}}},I=P=>{switch(P){case"UPCOMING":return o.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-green-200",children:[o.jsx(Hi,{className:"w-3 h-3"})," "]});case"COMPLETED":return o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-gray-200",children:[o.jsx(Gr,{className:"w-3 h-3"})," "]});case"CANCELLED":return o.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-red-200",children:[o.jsx(e_,{className:"w-3 h-3"})," "]});default:return null}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(m1,{className:"w-6 h-6 text-purple-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),o.jsxs("button",{onClick:()=>U(),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 pb-2 border-b border-gray-200",children:[o.jsx(pu,{active:h==="ALL",onClick:()=>p("ALL"),label:""}),o.jsx(pu,{active:h==="WORKSHOP",onClick:()=>p("WORKSHOP"),label:" "}),o.jsx(pu,{active:h==="SEMINAR",onClick:()=>p("SEMINAR"),label:""}),o.jsx(pu,{active:h==="TRIP",onClick:()=>p("TRIP"),label:" "}),o.jsx(pu,{active:h==="CONFERENCE",onClick:()=>p("CONFERENCE"),label:""}),o.jsx(pu,{active:h==="COURSE",onClick:()=>p("COURSE"),label:" "})]}),s?o.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[o.jsx(tt,{className:"w-8 h-8 animate-spin text-purple-600"}),o.jsx("span",{children:"  ..."})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(P=>{const B=k(P.type),z=B.icon;return o.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow relative flex flex-col ${B.border}`,children:[o.jsxs("div",{className:"p-5 flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold flex items-center gap-1 ${B.bg} ${B.color}`,children:[o.jsx(z,{className:"w-3 h-3"})," ",B.label]}),o.jsxs("div",{className:"flex items-center gap-2",children:[I(P.status),o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-mono flex items-center gap-1",children:[o.jsx(yh,{className:"w-3 h-3"})," ",P.date]})]})]}),o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-2",children:P.title}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-3",children:[o.jsx(f4,{className:"w-4 h-4"}),o.jsx("span",{children:P.location})]}),o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:P.description})]}),o.jsxs("div",{className:"px-5 pb-5 mt-auto flex items-center justify-between",children:[P.regLink&&P.status==="UPCOMING"?o.jsxs("a",{href:P.regLink,target:"_blank",rel:"noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-purple-700 flex items-center gap-2 shadow-sm w-fit",children:["  ",o.jsx(yg,{className:"w-3 h-3"})]}):o.jsx("span",{className:"text-xs text-gray-400 italic",children:P.status==="UPCOMING"?"   ":" "}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>U(P),className:"text-blue-400 hover:text-blue-600 p-2 rounded-full hover:bg-blue-50 transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{L(P.id),j(!0)},className:"text-red-400 hover:text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]})]},P.id)}),r.length===0&&o.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 bg-gray-50 rounded-xl border border-dashed",children:"       ."})]}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:w?" ":"  "}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Vt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.title,onChange:P=>D({...A,title:P.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white",value:A.type,onChange:P=>D({...A,type:P.target.value}),children:[o.jsx("option",{value:"WORKSHOP",children:" "}),o.jsx("option",{value:"SEMINAR",children:""}),o.jsx("option",{value:"TRIP",children:" / "}),o.jsx("option",{value:"CONFERENCE",children:""}),o.jsx("option",{value:"COURSE",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white font-semibold",value:A.status,onChange:P=>D({...A,status:P.target.value}),children:[o.jsx("option",{value:"UPCOMING",className:"text-green-600",children:" ()"}),o.jsx("option",{value:"COMPLETED",className:"text-gray-600",children:" ()"}),o.jsx("option",{value:"CANCELLED",className:"text-red-600",children:""})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.date,onChange:P=>D({...A,date:P.target.value})})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,placeholder:":  ",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.location,onChange:P=>D({...A,location:P.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("textarea",{rows:3,placeholder:"  ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.description,onChange:P=>D({...A,description:P.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),o.jsx("input",{type:"text",placeholder:"Google Form Link...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ltr-text",value:A.regLink,onChange:P=>D({...A,regLink:P.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:d,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[d?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):w?o.jsx(bn,{className:"w-4 h-4"}):o.jsx(Ft,{className:"w-4 h-4"}),w?" ":" "]})]})]})]})}),_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(pt,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},pu=({active:t,onClick:e,label:n})=>o.jsx("button",{onClick:e,className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${t?"bg-purple-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:n}),vge=()=>{const[t,e]=N.useState([]),[n,r]=N.useState([]),[a,s]=N.useState(!0),[c,d]=N.useState(""),[f,h]=N.useState(!1),[p,g]=N.useState(null),[x,w]=N.useState(!1);N.useEffect(()=>{E()},[]),N.useEffect(()=>{if(!c)r(t);else{const L=c.toLowerCase();r(t.filter(A=>A.action.toLowerCase().includes(L)||A.performedBy.toLowerCase().includes(L)||A.details.toLowerCase().includes(L)))}},[c,t]);const E=async()=>{s(!0);const L=await bme();e(L),r(L),s(!1)},_=L=>{g(L),h(!0)},j=async()=>{if(p){w(!0);try{await wme(p),await E(),h(!1),g(null)}catch(L){console.error(L),alert("  ")}finally{w(!1)}}},C=async()=>{s(!0),await Ae(" ","Admin","     "),await E(),s(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(a4,{className:"w-6 h-6 text-red-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      (  )"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:C,className:"text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[o.jsx(kf,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:E,className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[o.jsx(p1,{className:"w-4 h-4"})," "]})]})]}),o.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"relative",children:[o.jsx(ku,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:border-red-500",value:c,onChange:L=>d(L.target.value)})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:a?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:" ..."})}):n.length>0?n.map(L=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:L.action}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-bold",children:L.performedBy})}),o.jsx("td",{className:"p-4 text-gray-600",children:L.details}),o.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",dir:"ltr",children:new Date(L.timestamp).toLocaleString("ar-EG")}),o.jsx("td",{className:"p-4",children:o.jsx("button",{onClick:()=>_(L.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"  ",children:o.jsx(pt,{className:"w-4 h-4"})})})]},L.id)):o.jsx("tr",{children:o.jsxs("td",{colSpan:5,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[o.jsx(lB,{className:"w-10 h-10 mb-2 opacity-20"}),o.jsx("p",{children:"     "}),o.jsx("p",{className:"text-xs mt-2 text-blue-500 cursor-pointer",onClick:C,children:"    "})]})})})]})})}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(Yr,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:j,disabled:x,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[x&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},xge=({user:t})=>{const[e,n]=N.useState("COUNCIL"),[r,a]=N.useState(!0),[s,c]=N.useState([]),[d,f]=N.useState([]),h=new Date().getFullYear(),[p,g]=N.useState(`${h}-${h+1}`),[x,w]=N.useState(!1),[E,_]=N.useState(!1),[j,C]=N.useState(null),[L,A]=N.useState(null),[D,R]=N.useState({academicYear:"",members:[]}),[U,O]=N.useState({name:"",academicYear:"",members:[]}),[V,k]=N.useState(null),I=t.role===Ne.ADMIN;N.useEffect(()=>{P()},[]);const P=async()=>{a(!0);const[ee,fe]=await Promise.all([_pe(),Ape()]);c(ee),f(fe),a(!1)},B=()=>{const ee=new Set([...s.map(fe=>fe.academicYear),...d.map(fe=>fe.academicYear)]);return ee.add(`${h}-${h+1}`),Array.from(ee).sort().reverse()},z=ee=>{ee?(C(ee.id),R({academicYear:ee.academicYear,members:[...ee.members]})):(C(null),R({academicYear:p,members:[]})),w(!0)},ge=async()=>{if(!D.academicYear){alert("   ");return}try{j?(await Epe(j,D),await Ae("   ",t.name,`     : ${D.academicYear}`)):(await jpe(D),await Ae("   ",t.name,`      : ${D.academicYear}`)),w(!1),P(),alert("   ")}catch(ee){console.error(ee),alert("   ")}},ce=async ee=>{if(window.confirm("       "))try{await Spe(ee),await Ae("   ",t.name,"      "),P()}catch(fe){console.error(fe),alert(" ")}},Y=ee=>{ee?(A(ee.id),O({name:ee.name,academicYear:ee.academicYear,members:[...ee.members]})):(A(null),O({name:"",academicYear:p,members:[]})),_(!0)},le=async()=>{if(!U.name||!U.academicYear){alert(" ");return}try{L?(await Cpe(L,U),await Ae(" ",t.name,`  ${U.name}  ${U.academicYear}`)):(await Tpe(U),await Ae(" ",t.name,`   : ${U.name}  ${U.academicYear}`)),_(!1),P(),alert("   ")}catch(ee){console.error(ee),alert("   ")}},X=async(ee,fe)=>{if(window.confirm(`      ${fe}`))try{await Ipe(ee),await Ae(" ",t.name,`  : ${fe}`),P()}catch(je){console.error(je),alert(" ")}},ye=ee=>{ee(fe=>({...fe,members:[...fe.members,{name:"",role:"",title:""}]}))},Q=(ee,fe,je,Ie)=>{ee(qe=>{const H=[...qe.members];return H[fe]={...H[fe],[je]:Ie},{...qe,members:H}})},q=(ee,fe)=>{ee(je=>({...je,members:je.members.filter((Ie,qe)=>qe!==fe)}))},Z=s.find(ee=>ee.academicYear===p),K=d.filter(ee=>ee.academicYear===p);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Cf,{className:"w-6 h-6 text-indigo-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"       "})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[o.jsx("span",{className:"text-sm font-bold text-gray-600",children:" :"}),o.jsx("select",{value:p,onChange:ee=>g(ee.target.value),className:"bg-gray-50 border border-gray-300 rounded px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-indigo-500 font-mono font-bold text-indigo-700",children:B().map(ee=>o.jsx("option",{value:ee,children:ee},ee))})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>n("COUNCIL"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COUNCIL"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[o.jsx(si,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>n("COMMITTEES"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COMMITTEES"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[o.jsx(Cf,{className:"w-4 h-4"}),"  "]})]}),e==="COUNCIL"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"    ",p]}),I&&o.jsxs("button",{onClick:()=>z(Z),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[Z?o.jsx(pr,{className:"w-4 h-4"}):o.jsx(Ft,{className:"w-4 h-4"}),Z?" ":"  "]})]}),Z?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" (Role)"})]})}),o.jsx("tbody",{className:"divide-y",children:Z.members.map((ee,fe)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 text-gray-500",children:ee.title}),o.jsx("td",{className:"p-4 font-bold text-gray-800",children:ee.name}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold 
                                                        ${ee.role.includes("")?"bg-indigo-100 text-indigo-700":ee.role.includes("")?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:ee.role})})]},fe))})]})}),I&&o.jsx("div",{className:"p-4 bg-gray-50 border-t flex justify-end",children:o.jsxs("button",{onClick:()=>ce(Z.id),className:"text-red-500 text-xs flex items-center gap-1 hover:underline",children:[o.jsx(pt,{className:"w-3 h-3"}),"   "]})})]}):o.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[o.jsx(si,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),o.jsx("p",{children:"       ."}),I&&o.jsx("p",{className:"text-xs mt-2",children:'  "  " '})]})]}),e==="COMMITTEES"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"   ",p]}),I&&o.jsxs("button",{onClick:()=>Y(),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[o.jsx(Ft,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[K.map(ee=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-white",onClick:()=>k(V===ee.id?null:ee.id),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-indigo-50 p-2.5 rounded-full text-indigo-600",children:o.jsx(Cf,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:ee.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[ee.members.length," "]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[I&&o.jsxs("div",{className:"flex gap-1 ml-2 border-l pl-2",children:[o.jsx("button",{onClick:fe=>{fe.stopPropagation(),Y(ee)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:fe=>{fe.stopPropagation(),X(ee.id,ee.name)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]}),V===ee.id?o.jsx(JN,{className:"w-5 h-5 text-gray-400"}):o.jsx(QN,{className:"w-5 h-5 text-gray-400"})]})]}),V===ee.id&&o.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50 animate-in slide-in-from-top-1",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-gray-500 border-b border-gray-200",children:[o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""})]})}),o.jsx("tbody",{children:ee.members.map((fe,je)=>o.jsxs("tr",{children:[o.jsx("td",{className:"py-2 text-gray-500 w-20",children:fe.title}),o.jsx("td",{className:"py-2 font-medium",children:fe.name}),o.jsx("td",{className:"py-2 text-indigo-700 font-bold",children:fe.role})]},je))})]})})]},ee.id)),K.length===0&&o.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[o.jsx(Cf,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),o.jsx("p",{children:"     ."})]})]})]}),x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?"   ":"  "}),o.jsx("button",{onClick:()=>w(!1),children:o.jsx(Vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",value:D.academicYear,onChange:ee=>R({...D,academicYear:ee.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),o.jsxs("button",{onClick:()=>ye(R),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"}),"  "]})]}),o.jsx("div",{className:"space-y-2",children:D.members.map((ee,fe)=>o.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[o.jsx("input",{type:"text",placeholder:" (.)",value:ee.title,onChange:je=>Q(R,fe,"title",je.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("input",{type:"text",placeholder:" ",value:ee.name,onChange:je=>Q(R,fe,"name",je.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),o.jsx("input",{type:"text",placeholder:" (/)",value:ee.role,onChange:je=>Q(R,fe,"role",je.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("button",{onClick:()=>q(R,fe),className:"text-red-400 hover:text-red-600 p-1",children:o.jsx(pt,{className:"w-4 h-4"})})]},fe))})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{onClick:ge,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[o.jsx(bn,{className:"w-4 h-4"}),"  "]})]})]})]})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:L?" ":"  "}),o.jsx("button",{onClick:()=>_(!1),children:o.jsx(Vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",value:U.name,onChange:ee=>O({...U,name:ee.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:":  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",value:U.academicYear,onChange:ee=>O({...U,academicYear:ee.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),o.jsxs("button",{onClick:()=>ye(O),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"}),"  "]})]}),o.jsx("div",{className:"space-y-2",children:U.members.map((ee,fe)=>o.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[o.jsx("input",{type:"text",placeholder:"",value:ee.title,onChange:je=>Q(O,fe,"title",je.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("input",{type:"text",placeholder:" ",value:ee.name,onChange:je=>Q(O,fe,"name",je.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),o.jsx("input",{type:"text",placeholder:"",value:ee.role,onChange:je=>Q(O,fe,"role",je.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("button",{onClick:()=>q(O,fe),className:"text-red-400 hover:text-red-600 p-1",children:o.jsx(pt,{className:"w-4 h-4"})})]},fe))})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{onClick:le,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[o.jsx(bn,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},bge=({user:t})=>{const e="2024-2025",[n,r]=N.useState(t.role===Ne.ADMIN),[a,s]=N.useState(!0),[c,d]=N.useState(!1),[f,h]=N.useState({id:"",userId:t.id,userName:t.name,academicYear:e,status:"DRAFT",publishedResearch:[],ongoingResearch:[],scientificActivity:{conferences:[],thesesJudged:0,supervisionCount:0,trainingCourses:""},communityActivity:{books:"",convoys:"",media:"",memberships:""}}),[p,g]=N.useState(1),[x,w]=N.useState([]),[E,_]=N.useState([]);N.useEffect(()=>{n&&t.role===Ne.ADMIN?C():j()},[n,t.id,t.role]);const j=async()=>{s(!0);try{const I=await Ope(t.id,e);h(I||(P=>({...P,userId:t.id,userName:t.name})))}catch(I){console.error("Error fetching report:",I)}s(!1)},C=async()=>{s(!0);try{const I=await Dpe(e),P=await rv();w(I),_(P.map(B=>B.name))}catch(I){console.error("Error fetching dept data:",I)}s(!1)},L=async(I=!1)=>{d(!0);try{const P={...f,status:I?"SUBMITTED":"DRAFT",submissionDate:I?new Date().toISOString():f.submissionDate};await Rpe(P,f.id||void 0),I?(await Ae("  ",t.name,`     ${e}`),alert("    ")):(await Ae("  ",t.name,`     ${e}`),alert("   ")),j()}catch(P){console.error(P),alert("   ")}finally{d(!1)}},A=async()=>{if(!window.confirm("     .   "))return;const I={id:Date.now().toString(),title:"Research imported from profile",journal:"Journal of Botany",date:"2024-01",type:"International"};h(P=>({...P,publishedResearch:[...P.publishedResearch,I]})),await Ae(" ",t.name,"        "),alert("   ()")},D=async(I,P)=>{try{const B=await cl(I),z=[...f.publishedResearch];z[P].fileUrl=B,h({...f,publishedResearch:z}),alert("   ")}catch(B){alert("  : "+B.message)}},R=()=>{window.print()},U=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[o.jsx(Is,{className:"w-5 h-5 text-blue-600"}),"   (Published Research)"]}),o.jsxs("button",{onClick:A,className:"text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 flex items-center gap-1 border border-blue-200",children:[o.jsx(Tz,{className:"w-4 h-4"}),"    "]})]}),f.publishedResearch.map((I,P)=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[o.jsx("button",{onClick:()=>{const B=f.publishedResearch.filter((z,ge)=>ge!==P);h({...f,publishedResearch:B})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:" ",children:o.jsx(pt,{className:"w-4 h-4"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:I.title,onChange:B=>{const z=[...f.publishedResearch];z[P].title=B.target.value,h({...f,publishedResearch:z})}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" / "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:I.journal,onChange:B=>{const z=[...f.publishedResearch];z[P].journal=B.target.value,h({...f,publishedResearch:z})}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:I.type,onChange:B=>{const z=[...f.publishedResearch];z[P].type=B.target.value,h({...f,publishedResearch:z})},children:[o.jsx("option",{value:"International",children:" (International)"}),o.jsx("option",{value:"Regional",children:" (Regional)"}),o.jsx("option",{value:"Local",children:" (Local)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("input",{type:"month",className:"w-full border p-2 rounded outline-none",value:I.date,onChange:B=>{const z=[...f.publishedResearch];z[P].date=B.target.value,h({...f,publishedResearch:z})}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" (PDF)"}),o.jsx("div",{className:"flex items-center gap-2",children:I.fileUrl?o.jsxs("a",{href:I.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm underline flex items-center gap-1",children:[o.jsx(mr,{className:"w-4 h-4"}),"  "]}):o.jsxs("div",{className:"relative w-full",children:[o.jsx("input",{type:"file",id:`file-${P}`,className:"hidden",onChange:B=>B.target.files&&D(B.target.files[0],P)}),o.jsxs("label",{htmlFor:`file-${P}`,className:"cursor-pointer bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded text-sm flex items-center justify-center gap-2 hover:bg-gray-50",children:[o.jsx(_r,{className:"w-4 h-4"}),"  "]})]})})]})]})]},P)),o.jsxs("button",{onClick:()=>h({...f,publishedResearch:[...f.publishedResearch,{id:Date.now().toString(),title:"",journal:"",date:"",type:"International"}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 flex items-center justify-center gap-2 transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),"   "]})]}),O=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(vg,{className:"w-5 h-5 text-green-600"}),"   (Ongoing Research)"]}),f.ongoingResearch.map((I,P)=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[o.jsx("button",{onClick:()=>{const B=f.ongoingResearch.filter((z,ge)=>ge!==P);h({...f,ongoingResearch:B})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:"",children:o.jsx(pt,{className:"w-4 h-4"})}),o.jsxs("div",{className:"space-y-3 pl-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"  "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:I.topic,onChange:B=>{const z=[...f.ongoingResearch];z[P].topic=B.target.value,h({...f,ongoingResearch:z})}})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:I.stage,onChange:B=>{const z=[...f.ongoingResearch];z[P].stage=B.target.value,h({...f,ongoingResearch:z})},children:[o.jsx("option",{value:"Data Collection",children:"  "}),o.jsx("option",{value:"Lab Experiments",children:" "}),o.jsx("option",{value:"Writing",children:" "}),o.jsx("option",{value:"Under Review",children:" "})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-gray-500 font-bold",children:["  (",I.progress,"%)"]}),o.jsx("input",{type:"range",min:"0",max:"100",className:"w-full accent-green-600 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mt-2",value:I.progress,onChange:B=>{const z=[...f.ongoingResearch];z[P].progress=parseInt(B.target.value),h({...f,ongoingResearch:z})}})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" ()"}),o.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:I.participants||"",onChange:B=>{const z=[...f.ongoingResearch];z[P].participants=B.target.value,h({...f,ongoingResearch:z})}})]})]})]},P)),o.jsxs("button",{onClick:()=>h({...f,ongoingResearch:[...f.ongoingResearch,{id:Date.now().toString(),topic:"",stage:"Data Collection",progress:0}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-green-600 hover:border-green-300 flex items-center justify-center gap-2 transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),"   "]})]}),V=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(Eu,{className:"w-5 h-5 text-purple-600"}),"   (Scientific Activity)"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"    "}),o.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.thesesJudged,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,thesesJudged:parseInt(I.target.value)}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   (/)"}),o.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.supervisionCount,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,supervisionCount:parseInt(I.target.value)}})})]}),o.jsxs("div",{className:"col-span-1 md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  (/)"}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",rows:3,placeholder:"   ...",value:f.scientificActivity.trainingCourses,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,trainingCourses:I.target.value}})})]})]}),o.jsxs("div",{className:"mt-4 border-t pt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600",children:" "}),o.jsx("button",{onClick:()=>h({...f,scientificActivity:{...f.scientificActivity,conferences:[...f.scientificActivity.conferences,{name:"",role:"Attendance",date:"",location:""}]}}),className:"text-xs bg-purple-50 text-purple-600 px-2 py-1 rounded hover:bg-purple-100",children:"+ "})]}),f.scientificActivity.conferences.map((I,P)=>o.jsxs("div",{className:"flex gap-2 mb-2 items-center bg-gray-50 p-2 rounded",children:[o.jsx("input",{type:"text",placeholder:" ",className:"flex-1 border p-1 rounded text-sm",value:I.name,onChange:B=>{const z=[...f.scientificActivity.conferences];z[P].name=B.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:z}})}}),o.jsxs("select",{className:"w-24 border p-1 rounded text-sm",value:I.role,onChange:B=>{const z=[...f.scientificActivity.conferences];z[P].role=B.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:z}})},children:[o.jsx("option",{value:"Attendance",children:""}),o.jsx("option",{value:"Speaker",children:""}),o.jsx("option",{value:"Organizer",children:""})]}),o.jsx("button",{onClick:()=>{const B=f.scientificActivity.conferences.filter((z,ge)=>ge!==P);h({...f,scientificActivity:{...f.scientificActivity,conferences:B}})},className:"text-red-500",title:"",children:o.jsx(Vt,{className:"w-4 h-4"})})]},P))]})]}),k=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(si,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:" "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.books,onChange:I=>h({...f,communityActivity:{...f.communityActivity,books:I.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.convoys,onChange:I=>h({...f,communityActivity:{...f.communityActivity,convoys:I.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.media,onChange:I=>h({...f,communityActivity:{...f.communityActivity,media:I.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.memberships,onChange:I=>h({...f,communityActivity:{...f.communityActivity,memberships:I.target.value}})})]})]});if(n&&t.role===Ne.ADMIN){if(a)return o.jsx("div",{className:"p-10 text-center",children:o.jsx(tt,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})});const I=x.reduce((ge,ce)=>{var Y;return ge+(((Y=ce.publishedResearch)==null?void 0:Y.length)||0)},0),P=x.reduce((ge,ce)=>{var Y;return ge+(((Y=ce.publishedResearch)==null?void 0:Y.filter(le=>le.type==="International").length)||0)},0),B=x.filter(ge=>ge.status==="SUBMITTED").length,z=[...x].sort((ge,ce)=>{var Y,le;return(((Y=ce.publishedResearch)==null?void 0:Y.length)||0)-(((le=ge.publishedResearch)==null?void 0:le.length)||0)})[0];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Gr,{className:"w-6 h-6 text-green-600"}),"  "]}),o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),o.jsx("button",{onClick:()=>r(!1),className:"bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"  "})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 no-print",children:[o.jsx(Ra,{title:" ",value:`${B} / ${E.length}`,icon:Gr,color:"green"}),o.jsx(Ra,{title:" ",value:I,icon:Is,color:"blue"}),o.jsx(Ra,{title:" ",value:P,icon:t_,color:"purple"}),o.jsx(Ra,{title:" ",value:z?z.userName.split(" ")[0]:"-",icon:Eu,color:"amber"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden no-print",children:[o.jsx("div",{className:"p-4 border-b border-gray-100",children:o.jsx("h3",{className:"font-bold text-gray-700",children:"   "})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "})]})}),o.jsxs("tbody",{className:"divide-y",children:[E.map((ge,ce)=>{var le,X;const Y=x.find(ye=>ye.userName===ge);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:ge}),o.jsx("td",{className:"p-4",children:(Y==null?void 0:Y.status)==="SUBMITTED"?o.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[o.jsx(Gr,{className:"w-3 h-3"}),"  "]}):Y?o.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[o.jsx(Hi,{className:"w-3 h-3"}),"  "]}):o.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[o.jsx(ZN,{className:"w-3 h-3"}),"  "]})}),o.jsx("td",{className:"p-4 font-mono",children:((le=Y==null?void 0:Y.publishedResearch)==null?void 0:le.length)||0}),o.jsx("td",{className:"p-4 font-mono",children:((X=Y==null?void 0:Y.ongoingResearch)==null?void 0:X.length)||0}),o.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:Y!=null&&Y.submissionDate?new Date(Y.submissionDate).toLocaleDateString("ar-EG"):"-"})]},ce)}),E.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]})]})}return a?o.jsx("div",{className:"p-10 text-center",children:o.jsx(tt,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(mr,{className:"w-6 h-6 text-blue-600"}),"   "]}),o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),t.role===Ne.ADMIN&&o.jsxs("button",{onClick:()=>r(!0),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2",children:[o.jsx(si,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex flex-col md:flex-row justify-between items-center gap-4 no-print",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-full ${f.status==="SUBMITTED"?"bg-green-200 text-green-800":"bg-amber-200 text-amber-800"}`,children:f.status==="SUBMITTED"?o.jsx(Gr,{className:"w-5 h-5"}):o.jsx(Hi,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("p",{className:`font-bold ${f.status==="SUBMITTED"?"text-green-700":"text-amber-700"}`,children:f.status==="SUBMITTED"?"   ":"   "})]})]}),o.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:o.jsxs("button",{onClick:R,className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-900 transition-colors shadow-sm",children:[o.jsx(gg,{className:"w-4 h-4"}),"  PDF"]})})]}),o.jsx("div",{className:"bg-white rounded-t-xl border-b flex overflow-x-auto no-print custom-scrollbar",children:[{id:1,label:" ",icon:Is},{id:2,label:" ",icon:vg},{id:3,label:" ",icon:Eu},{id:4,label:" ",icon:si}].map(I=>o.jsxs("button",{onClick:()=>g(I.id),className:`flex-1 py-4 px-6 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition-all whitespace-nowrap ${p===I.id?"border-blue-600 text-blue-700 bg-blue-50":"border-transparent text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[o.jsx(I.icon,{className:`w-4 h-4 ${p===I.id?"text-blue-600":"text-gray-400"}`})," ",I.label]},I.id))}),o.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 no-print min-h-[400px]",children:[p===1&&U(),p===2&&O(),p===3&&V(),p===4&&k(),o.jsxs("div",{className:"mt-8 pt-6 border-t flex justify-end gap-3",children:[o.jsxs("button",{onClick:()=>L(!1),disabled:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2 font-medium transition-colors disabled:opacity-50",children:[o.jsx(bn,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>L(!0),disabled:c,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50",children:[c?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(h4,{className:"w-4 h-4"}),"   "]})]})]}),o.jsxs("div",{className:"hidden print:block p-8 bg-white text-black",children:[o.jsxs("div",{className:"text-center border-b-2 border-black pb-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-1",children:"  -   "}),o.jsx("h3",{className:"text-lg font-bold mb-1",children:"  "}),o.jsxs("h1",{className:"text-3xl font-extrabold mt-4 border-2 border-black inline-block px-6 py-2",children:["  (",e,")"]})]}),o.jsxs("div",{className:"mb-8 flex justify-between text-lg",children:[o.jsxs("p",{children:[o.jsx("strong",{children:" :"})," ",t.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:" :"})," ",new Date().toLocaleDateString("ar-EG")]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),o.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.publishedResearch.length>0?f.publishedResearch.map((I,P)=>o.jsxs("li",{className:"pl-2",children:[o.jsx("span",{className:"font-bold",children:I.title}),o.jsx("br",{}),o.jsxs("span",{className:"text-gray-700 text-sm",children:[" - ",I.journal," (",I.date,") - [",I.type,"]"]})]},P)):o.jsx("p",{className:"italic text-gray-500",children:"     ."})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),o.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.ongoingResearch.length>0?f.ongoingResearch.map((I,P)=>o.jsxs("li",{className:"pl-2",children:[o.jsx("span",{className:"font-bold",children:I.topic}),o.jsx("br",{}),o.jsxs("span",{className:"text-gray-700 text-sm",children:[" -  : ",I.stage," ( : ",I.progress,"%)"]})]},P)):o.jsx("p",{className:"italic text-gray-500",children:"    ."})})]}),o.jsxs("div",{className:"mb-8 page-break-inside-avoid",children:[o.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":   "}),o.jsxs("div",{className:"grid grid-cols-2 gap-6 text-lg",children:[o.jsxs("div",{className:"border p-4",children:[o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{children:" :"})," ",f.scientificActivity.thesesJudged]}),o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{children:" :"})," ",f.scientificActivity.supervisionCount]}),o.jsx("p",{children:o.jsx("strong",{children:" :"})}),o.jsx("p",{className:"text-sm mt-1",children:f.scientificActivity.trainingCourses||" "})]}),o.jsxs("div",{className:"border p-4",children:[o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",f.scientificActivity.conferences.length>0?f.scientificActivity.conferences.map(I=>I.name).join(" "):" "]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:" :"})," ",f.communityActivity.books||" "]})]})]})]}),o.jsxs("div",{className:"mt-20 flex justify-between text-xl font-bold",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:" "}),o.jsx("p",{className:"mt-8",children:"...................."})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:"  "}),o.jsx("p",{className:"mt-8",children:"./  "})]})]})]})]})},wge=({user:t})=>{const[e,n]=N.useState("BROWSE"),[r,a]=N.useState(null),[s,c]=N.useState([]),[d,f]=N.useState([]),[h,p]=N.useState(null),[g,x]=N.useState(""),[w,E]=N.useState("ALL"),[_,j]=N.useState(!1),[C,L]=N.useState(!1),[A,D]=N.useState(null),[R,U]=N.useState(null),[O,V]=N.useState({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),[k,I]=N.useState({title:"",vision:"",startDate:"",endDate:"",strategicGoals:""}),[P,B]=N.useState(null),z=t.role===Ne.ADMIN;N.useEffect(()=>{ge()},[]);const ge=async()=>{const H=await WE();a(H);const Ee=await Ppe();if(c(Ee.filter(J=>J.status==="ARCHIVED")),z||e==="PROPOSALS"){const J=await Vpe();f(J)}},ce=H=>{if(!r||H.length<5){B(null);return}let Ee=!1;r.axes.forEach(J=>{J.topics.forEach(ae=>{(ae.title.includes(H)||H.includes(ae.title))&&(B(` :     "${ae.title}" (${ae.status==="COMPLETED"?" ":" "}).`),Ee=!0)})}),Ee||B(null)},Y=H=>{if(H)U(H.id),I({title:H.title,vision:H.vision,startDate:H.startDate,endDate:H.endDate,strategicGoals:H.strategicGoals.join(", ")});else{U(null);const Ee=new Date().getFullYear();I({title:`   ${Ee}-${Ee+5}`,vision:"",startDate:`${Ee}-01-01`,endDate:`${Ee+5}-12-31`,strategicGoals:"  2030,  "})}L(!0)},le=async H=>{H.preventDefault();const Ee={title:k.title,vision:k.vision,startDate:k.startDate,endDate:k.endDate,strategicGoals:k.strategicGoals.split(",").map(J=>J.trim()),status:"ACTIVE",axes:R&&r?r.axes:[]};try{R?(await Mpe(R,Ee),await Ae("  ",t.name,`  : ${k.title}`)):(await kpe(Ee),await Ae("  ",t.name,`  : ${k.title}`)),L(!1),ge(),alert("   ")}catch{alert(" ")}},X=async()=>{r&&window.confirm(" :                 .")&&(await Lpe(r.id),await Ae("  ",t.name,` : ${r.title}`),ge())},ye=()=>{D(null),V({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),j(!0)},Q=H=>{D(H.id),V({title:H.title,axisId:H.axisId,newAxisName:H.newAxisName||"",type:H.type,justification:H.justification,appliedGoal:H.appliedGoal,studentName:H.studentName||"",hasStudent:!!H.studentName}),j(!0)},q=async(H,Ee)=>{if(window.confirm("      "))try{await sn($e(he,"research_proposals",H)),await Ae("  ",t.name,`  : ${Ee}`),ge()}catch{alert(" ")}},Z=async H=>{H.preventDefault();try{const Ee={title:O.title,axisId:O.axisId,newAxisName:O.axisId==="NEW"?O.newAxisName:void 0,type:O.type,justification:O.justification,appliedGoal:O.appliedGoal,studentName:O.hasStudent?O.studentName:"",proposedBy:t.name,proposedById:t.id,status:"PENDING"};A?(await kt($e(he,"research_proposals",A),Ee),await Ae("  ",t.name,`  : ${O.title}`)):(await zpe(Ee),await Ae("  ",t.name,`   : ${O.title}`)),j(!1),alert(A?"   ":"     "),ge()}catch(Ee){console.error(Ee),alert("   .     .")}},K=async(H,Ee,J)=>{const ae=prompt("  ():");ae!==null&&(await Bpe(H,J,ae||""),await Ae("  ",t.name,` ${J==="APPROVED"?"":J==="REJECTED"?"":" "} : ${Ee}`),ge())},ee=()=>o.jsxs("div",{className:"bg-gradient-to-r from-green-800 to-green-600 text-white p-6 rounded-2xl mb-6 shadow-lg relative overflow-hidden",children:[o.jsx("div",{className:"relative z-10",children:r?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),o.jsx("p",{className:"text-green-100 text-lg max-w-3xl leading-relaxed opacity-90",children:r.vision})]}),o.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[o.jsxs("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-sm font-bold backdrop-blur-sm border border-white/30",children:["   (",r.startDate.split("-")[0]," - ",r.endDate.split("-")[0],")"]}),z&&o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsxs("button",{onClick:()=>Y(r),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[o.jsx(m4,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>Y(),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[o.jsx(Ft,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:X,className:"bg-red-500/30 hover:bg-red-500/50 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[o.jsx(pt,{className:"w-4 h-4"})," "]})]})]})]}),o.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:r.strategicGoals.map((H,Ee)=>o.jsxs("span",{className:"bg-green-900/40 px-3 py-1 rounded-full text-sm flex items-center gap-1 border border-green-700/50",children:[o.jsx(Zp,{className:"w-3 h-3 text-green-300"})," ",H]},Ee))})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),z&&o.jsxs("button",{onClick:()=>Y(),className:"bg-white text-green-800 px-6 py-3 rounded-xl font-bold hover:bg-green-50 transition shadow-lg flex items-center gap-2 mx-auto",children:[o.jsx(Ft,{className:"w-5 h-5"}),"    "]})]})}),o.jsx(Zp,{className:"absolute -bottom-10 -left-10 w-64 h-64 text-white/5 rotate-12"})]}),fe=()=>o.jsx("div",{className:"space-y-6 animate-in fade-in",children:r?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ku,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:g,onChange:H=>x(H.target.value)})]}),o.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50",value:w,onChange:H=>E(H.target.value),children:[o.jsx("option",{value:"ALL",children:" "}),o.jsx("option",{value:"AVAILABLE",children:" "}),o.jsx("option",{value:"IN_PROGRESS",children:"  "}),o.jsx("option",{value:"COMPLETED",children:" "})]})]}),o.jsx("div",{className:"space-y-4",children:r.axes.map(H=>{const Ee=H.topics.filter(ae=>(w==="ALL"||ae.status===w)&&ae.title.toLowerCase().includes(g.toLowerCase()));if(Ee.length===0&&g)return null;const J=Math.round(H.topics.filter(ae=>ae.status==="COMPLETED").length/H.topics.length*100)||0;return o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-4 bg-gray-50 flex justify-between items-center cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>p(h===H.id?null:H.id),children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[h===H.id?o.jsx(JN,{className:"w-5 h-5"}):o.jsx(QN,{className:"w-5 h-5"}),H.title]}),o.jsxs("p",{className:"text-sm text-gray-500 mr-7",children:[" : ",H.coordinator]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-center hidden md:block",children:[o.jsx("div",{className:"text-xs text-gray-500",children:" "}),o.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full mt-1 overflow-hidden",children:o.jsx("div",{className:"h-full bg-green-500",style:{width:`${J}%`}})})]}),o.jsxs("span",{className:"bg-white border px-2 py-1 rounded text-sm font-mono",children:[Ee.length," "]})]})]}),h===H.id&&o.jsxs("div",{className:"p-4 border-t border-gray-100",children:[o.jsxs("p",{className:"text-gray-600 mb-4 bg-blue-50 p-3 rounded border-r-4 border-blue-400 text-sm",children:[" ",H.description]}),o.jsx("div",{className:"grid gap-3",children:Ee.map(ae=>o.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-bold text-gray-800",children:ae.title}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${ae.status==="AVAILABLE"?"bg-green-100 text-green-700":ae.status==="IN_PROGRESS"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:ae.status==="AVAILABLE"?" ":ae.status==="IN_PROGRESS"?" ":" "})]}),o.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[o.jsx(Zp,{className:"w-3 h-3"})," : ",ae.goal]}),ae.studentName&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[o.jsx(n_,{className:"w-3 h-3"}),"  : ",ae.studentName]})]}),o.jsx("div",{children:ae.status==="AVAILABLE"&&o.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 shadow-sm",children:"  "})})]},ae.id))})]})]},H.id)})})]}):o.jsx("div",{className:"text-center text-gray-500",children:"   "})}),je=()=>o.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[r&&o.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"   "}),o.jsx("p",{className:"text-purple-700 text-sm",children:"          ."})]}),o.jsxs("button",{onClick:ye,className:"bg-purple-700 hover:bg-purple-800 text-white px-6 py-3 rounded-xl shadow-md flex items-center gap-2 font-bold transition-transform hover:scale-105",children:[o.jsx(Ft,{className:"w-5 h-5"}),"    "]})]}),o.jsxs("h3",{className:"font-bold text-gray-700 border-b pb-2 flex justify-between",children:["  ",z&&o.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[d.filter(H=>H.status==="PENDING").length,"  "]})]}),o.jsxs("div",{className:"space-y-3",children:[d.length===0&&o.jsx("p",{className:"text-center text-gray-400 py-8",children:"   "}),d.map(H=>{var Ee;return o.jsxs("div",{className:"bg-white border p-4 rounded-lg shadow-sm flex flex-col md:flex-row justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-bold text-lg",children:H.title}),o.jsx("span",{className:`text-xs px-2 py-1 rounded font-bold ${H.status==="PENDING"?"bg-amber-100 text-amber-800":H.status==="APPROVED"?"bg-green-100 text-green-800":H.status==="REJECTED"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:H.status==="PENDING"?" ":H.status==="APPROVED"?" ":H.status==="REJECTED"?"":" "})]}),o.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[o.jsx("strong",{children:" :"})," ",H.proposedBy," |",o.jsx("strong",{children:" :"})," ",H.axisId==="NEW"?`  (${H.newAxisName})`:((Ee=r==null?void 0:r.axes.find(J=>J.id===H.axisId))==null?void 0:Ee.title)||" "]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[o.jsx("strong",{children:":"})," ",H.justification]}),H.adminNotes&&o.jsxs("p",{className:"text-sm text-red-600 mt-2 bg-red-50 p-2 rounded",children:["  : ",H.adminNotes]})]}),o.jsx("div",{className:"flex flex-col gap-2 min-w-[120px] justify-center",children:z&&H.status==="PENDING"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>K(H.id,H.title,"APPROVED"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:" "}),o.jsx("button",{onClick:()=>K(H.id,H.title,"MODIFICATION_REQUESTED"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"  "}),o.jsx("button",{onClick:()=>K(H.id,H.title,"REJECTED"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:" "})]}):H.proposedById===t.id&&(H.status==="PENDING"||H.status==="MODIFICATION_REQUESTED")&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>Q(H),className:"text-blue-500 hover:bg-blue-50 p-2 rounded flex items-center gap-1 text-sm font-bold border border-blue-200",children:[o.jsx(pr,{className:"w-4 h-4"}),"   "]}),o.jsx("button",{onClick:()=>q(H.id,H.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:o.jsx(pt,{className:"w-4 h-4"})})]})})]},H.id)})]})]}),Ie=()=>o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(D2,{className:"w-5 h-5"}),"    "]}),s.length===0?o.jsx("p",{className:"text-center text-gray-400 py-12 border-2 border-dashed rounded-xl",children:"   "}):s.map(H=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 rounded-xl",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-bold text-gray-800",children:H.title}),o.jsxs("p",{className:"text-gray-500 text-sm",children:[H.startDate," - ",H.endDate]})]}),o.jsx("span",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-bold",children:""})]}),o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",H.vision]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:" :"})," ",H.axes.length]})]})]},H.id))]}),qe=()=>{if(!r)return o.jsx("p",{className:"text-center p-8",children:"     ."});const H=r.axes.reduce((Fe,Ve)=>Fe+Ve.topics.length,0),Ee=r.axes.reduce((Fe,Ve)=>Fe+Ve.topics.filter(_t=>_t.status==="COMPLETED").length,0),J=r.axes.map(Fe=>({name:Fe.title.split(" ").slice(0,3).join(" ")+"...",value:Fe.topics.length})),ae=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return o.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-center border border-blue-100",children:[o.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:H}),o.jsx("p",{className:"text-sm text-blue-500",children:"  "})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-xl text-center border border-green-100",children:[o.jsx("h3",{className:"text-2xl font-bold text-green-700",children:Ee}),o.jsx("p",{className:"text-sm text-green-500",children:"  ()"})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl text-center border border-purple-100",children:[o.jsxs("h3",{className:"text-2xl font-bold text-purple-700",children:[H>0?Math.round(Ee/H*100):0,"%"]}),o.jsx("p",{className:"text-sm text-purple-500",children:"  "})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border h-80",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"   "}),o.jsx(Uk,{width:"100%",height:"90%",children:o.jsxs(Eie,{children:[o.jsx(U6,{data:J,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:J.map((Fe,Ve)=>o.jsx(Uh,{fill:ae[Ve%ae.length]},`cell-${Ve}`))}),o.jsx(m6,{})]})})]})})]})};return o.jsxs("div",{className:"space-y-6",children:[ee(),o.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[o.jsxs("button",{onClick:()=>n("BROWSE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="BROWSE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(ku,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>n("PROPOSALS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="PROPOSALS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(mr,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>n("ANALYTICS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ANALYTICS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(X9,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>n("ARCHIVE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ARCHIVE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(D2,{className:"w-4 h-4"})," "]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="BROWSE"&&fe(),e==="PROPOSALS"&&je(),e==="ANALYTICS"&&qe(),e==="ARCHIVE"&&Ie()]}),C&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 shadow-2xl animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:R?"  ":"   "}),o.jsx("button",{onClick:()=>L(!1),children:o.jsx(Vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("form",{onSubmit:le,className:"space-y-4",children:[R===null&&o.jsx("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200 text-sm text-yellow-800 mb-4",children:" :         ."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:k.title,onChange:H=>I({...k,title:H.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("textarea",{required:!0,className:"w-full border p-2 rounded",rows:3,value:k.vision,onChange:H=>I({...k,vision:H.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:k.startDate,onChange:H=>I({...k,startDate:H.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:k.endDate,onChange:H=>I({...k,endDate:H.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:"  (  )"}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:k.strategicGoals,onChange:H=>I({...k,strategicGoals:H.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>L(!1),className:"px-4 py-2 text-gray-600",children:""}),o.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded font-bold hover:bg-green-700",children:" "})]})]})]})}),_&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:A?"  ":"   "}),o.jsx("button",{onClick:()=>j(!1),children:o.jsx(Vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("form",{onSubmit:Z,className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:["   ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"   ...",value:O.title,onChange:H=>{V({...O,title:H.target.value}),ce(H.target.value)}}),P&&o.jsxs("div",{className:"mt-2 bg-amber-50 text-amber-800 p-3 rounded-lg text-sm border border-amber-200 flex items-start gap-2",children:[o.jsx(ZN,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:P})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:O.axisId,onChange:H=>V({...O,axisId:H.target.value}),children:[o.jsx("option",{value:"",children:"--   --"}),r&&r.axes.map(H=>o.jsx("option",{value:H.id,children:H.title},H.id)),o.jsx("option",{value:"NEW",children:"   / "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:O.type,onChange:H=>V({...O,type:H.target.value}),children:[o.jsx("option",{value:"MSc",children:""}),o.jsx("option",{value:"PhD",children:""})]})]}),O.axisId==="NEW"&&o.jsxs("div",{className:"col-span-2 animate-in fade-in",children:[o.jsx("label",{className:"block text-sm font-bold text-purple-700 mb-1",children:"   "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg border-purple-300 focus:ring-2 focus:ring-purple-500 outline-none bg-purple-50",placeholder:"   ...",value:O.newAxisName,onChange:H=>V({...O,newAxisName:H.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("textarea",{required:!0,rows:3,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"      (   ...)",value:O.justification,onChange:H=>V({...O,justification:H.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg",placeholder:"     ",value:O.appliedGoal,onChange:H=>V({...O,appliedGoal:H.target.value})})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"hasStudent",className:"w-5 h-5 accent-purple-600",checked:O.hasStudent,onChange:H=>V({...O,hasStudent:H.target.checked})}),o.jsx("label",{htmlFor:"hasStudent",className:"font-bold text-gray-700",children:"   "})]}),O.hasStudent&&o.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-white",placeholder:"  ...",value:O.studentName,onChange:H=>V({...O,studentName:H.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),o.jsxs("button",{type:"submit",className:"bg-purple-700 text-white px-8 py-2 rounded-lg hover:bg-purple-800 font-bold shadow-md flex items-center gap-2",children:[o.jsx(h4,{className:"w-4 h-4"})," ",A?" ":" "]})]})]})]})})]})},Nge=({user:t})=>{const[e,n]=N.useState("DASHBOARD"),[r,a]=N.useState([]),[s,c]=N.useState([]),[d,f]=N.useState([]),[h,p]=N.useState(!0),[g,x]=N.useState(!1),[w,E]=N.useState(null),[_,j]=N.useState({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),[C,L]=N.useState([]),[A,D]=N.useState(!1),[R,U]=N.useState(null),[O,V]=N.useState(null),[k,I]=N.useState("");N.useEffect(()=>{P()},[]);const P=async()=>{p(!0);try{const[K,ee,fe]=await Promise.all([Fpe(t.id),qpe(t.id),rv()]);a(K),c(ee),f(fe.filter(je=>je.id!==t.id))}catch(K){console.error("Error fetching data:",K)}p(!1)},B=()=>{if(!_.startDate||!_.endDate)return 0;const K=new Date(_.startDate),fe=new Date(_.endDate).getTime()-K.getTime();return Math.ceil(fe/(1e3*3600*24))+1},z=K=>{switch(K){case"CASUAL":return" ";case"ANNUAL":return" ";case"SICK":return" ";case"SCIENTIFIC":return"  / ";case"SPOUSE":return" /";case"CHILD_CARE":return" ";case"HAJJ":return" / ";default:return K}},ge=()=>{x(!1),E(null),j({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),L([]),n("NEW")},ce=K=>{if(K.status==="APPROVED"||K.status==="REJECTED"){alert("    ");return}x(!0),E(K.id),j({type:K.type,startDate:K.startDate,endDate:K.endDate,substituteId:K.substituteId||"",address:K.address||"",phone:K.phone||"",hospital:K.hospital||"",conferenceName:K.conferenceName||"",conferenceLocation:K.conferenceLocation||"",spouseName:K.spouseName||"",spouseJob:K.spouseJob||"",country:K.country||""}),L([]),n("NEW")},Y=async(K,ee)=>{if(window.confirm("      "))try{await sn($e(he,"leave_requests",K)),await Ae("  ",t.name,`   ${z(ee)}`),P()}catch{alert(" ")}},le=async K=>{var fe;K.preventDefault();const ee=B();if(ee<=0){alert("      ");return}if(_.type==="CASUAL"&&!g){const je=r.filter(Ie=>Ie.type==="CASUAL"&&Ie.status==="APPROVED").reduce((Ie,qe)=>Ie+qe.daysCount,0);if(je+ee>7){alert(`     (${7-je} )  .`);return}}D(!0);try{const je=[];for(const H of C){const Ee=await cl(H);je.push(Ee)}const Ie=(fe=d.find(H=>H.id===_.substituteId))==null?void 0:fe.name,qe={userId:t.id,userName:t.name,type:_.type,startDate:_.startDate,endDate:_.endDate,daysCount:ee,substituteId:_.substituteId,substituteName:Ie,address:_.address,phone:_.phone,hospital:_.hospital,conferenceName:_.conferenceName,conferenceLocation:_.conferenceLocation,spouseName:_.spouseName,spouseJob:_.spouseJob,country:_.country,...je.length>0&&{documentsUrls:je,medicalReportUrl:je[0]}};g&&w?(await kt($e(he,"leave_requests",w),qe),await Ae("  ",t.name,`   ${z(_.type)}`),alert("   ")):(await $pe(qe),await Ae(" ",t.name,`  ${z(_.type)}  ${ee} `),alert("   ")),n("HISTORY"),P()}catch(je){console.error(je),alert("   ")}finally{D(!1)}},X=async K=>{if(R)try{await Hpe(R.id,K,k),await Ae("  ",t.name,`${K?"":""}   ${R.userName}`),alert("  "),U(null),V(null),P()}catch{alert(" ")}},ye=()=>{const K=r.filter(fe=>fe.type==="CASUAL"&&fe.status==="APPROVED").reduce((fe,je)=>fe+je.daysCount,0),ee=r.filter(fe=>fe.status.includes("PENDING")).length;return o.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-orange-50 p-6 rounded-xl border border-orange-100",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-orange-600 font-bold text-sm",children:" "}),o.jsxs("h3",{className:"text-3xl font-bold text-orange-800 mt-2",children:[7-K," ",o.jsx("span",{className:"text-sm text-orange-600",children:"/ 7"})]})]}),o.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:o.jsx(Hi,{className:"w-6 h-6 text-orange-600"})})]}),o.jsx("div",{className:"mt-4 w-full bg-orange-200 rounded-full h-2",children:o.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${K/7*100}%`}})})]}),o.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-600 font-bold text-sm",children:" "}),o.jsx("h3",{className:"text-3xl font-bold text-blue-800 mt-2",children:ee})]}),o.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:o.jsx(mr,{className:"w-6 h-6 text-blue-600"})})]}),o.jsx("p",{className:"text-xs text-blue-500 mt-4",children:"      "})]}),o.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 cursor-pointer hover:bg-purple-100 transition-colors",onClick:()=>n("SUBSTITUTE"),children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-purple-600 font-bold text-sm",children:"  "}),o.jsx("h3",{className:"text-3xl font-bold text-purple-800 mt-2",children:s.length})]}),o.jsxs("div",{className:"p-2 bg-purple-100 rounded-full relative",children:[o.jsx(M2,{className:"w-6 h-6 text-purple-600"}),s.length>0&&o.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})]}),o.jsx("p",{className:"text-xs text-purple-500 mt-4",children:"    "})]})]}),o.jsxs("button",{onClick:ge,className:"w-full py-4 bg-green-600 text-white rounded-xl font-bold text-lg shadow-md hover:bg-green-700 transition-all flex items-center justify-center gap-2",children:[o.jsx(Ft,{className:"w-6 h-6"}),"    "]})]})},Q=()=>o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in slide-in-from-bottom-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsxs("h3",{className:"font-bold text-xl text-gray-800 flex items-center gap-2",children:[o.jsx(Jp,{className:"w-6 h-6 text-green-600"})," ",g?"  ":"  "]}),g&&o.jsx("button",{onClick:ge,className:"text-sm text-gray-500 hover:text-red-500",children:" "})]}),o.jsxs("form",{onSubmit:le,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),o.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg outline-none focus:border-green-500 bg-white",value:_.type,onChange:K=>j({..._,type:K.target.value}),disabled:g,children:[o.jsx("option",{value:"CASUAL",children:" "}),o.jsx("option",{value:"ANNUAL",children:" "}),o.jsx("option",{value:"SICK",children:" "}),o.jsx("option",{value:"SCIENTIFIC",children:"  / "}),o.jsx("option",{value:"SPOUSE",children:" /"}),o.jsx("option",{value:"CHILD_CARE",children:" "}),o.jsx("option",{value:"HAJJ",children:" / "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:_.startDate,onChange:K=>j({..._,startDate:K.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:_.endDate,onChange:K=>j({..._,endDate:K.target.value})}),B()>0&&o.jsxs("p",{className:"text-xs text-green-600 mt-1 font-bold",children:[": ",B()," "]})]})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[o.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[o.jsx(M2,{className:"w-4 h-4"}),"   ( )"]}),o.jsxs("select",{className:"w-full p-3 border border-purple-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:_.substituteId,onChange:K=>j({..._,substituteId:K.target.value}),required:_.type!=="CHILD_CARE"&&_.type!=="SPOUSE",children:[o.jsx("option",{value:"",children:"--   --"}),d.map(K=>o.jsxs("option",{value:K.id,children:[K.name," (",K.rank,")"]},K.id))]}),o.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"*        ."})]}),(_.type==="CASUAL"||_.type==="ANNUAL"||_.type==="HAJJ")&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:_.address,onChange:K=>j({..._,address:K.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"tel",required:!0,className:"w-full p-2 border rounded-lg",value:_.phone,onChange:K=>j({..._,phone:K.target.value})})]})]}),_.type==="SICK"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:" /  / ",required:!0,className:"w-full p-2 border rounded-lg",value:_.hospital,onChange:K=>j({..._,hospital:K.target.value})})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[o.jsx("input",{type:"file",className:"hidden",id:"med-report",onChange:K=>L(Array.from(K.target.files||[]))}),o.jsxs("label",{htmlFor:"med-report",className:"cursor-pointer flex flex-col items-center gap-2",children:[o.jsx(fB,{className:"w-8 h-8 text-red-500"}),o.jsx("span",{className:"text-sm font-bold text-gray-600",children:"   (/PDF)"}),C.length>0&&o.jsx("span",{className:"text-xs text-green-600",children:C[0].name})]})]})]}),_.type==="SCIENTIFIC"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  / "}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:_.conferenceName,onChange:K=>j({..._,conferenceName:K.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:_.conferenceLocation,onChange:K=>j({..._,conferenceLocation:K.target.value})})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-2 rounded-lg text-center flex items-center justify-center",children:[o.jsx("input",{type:"file",className:"hidden",id:"conf-invite",onChange:K=>L(Array.from(K.target.files||[]))}),o.jsx("label",{htmlFor:"conf-invite",className:"cursor-pointer text-sm text-blue-600 hover:underline",children:C.length>0?C[0].name:"  "})]})]}),_.type==="SPOUSE"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in bg-gray-50 p-4 rounded-lg",children:[o.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(My,{className:"w-4 h-4"}),"  "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:" /",required:!0,className:"w-full p-2 border rounded-lg",value:_.spouseName,onChange:K=>j({..._,spouseName:K.target.value})}),o.jsx("input",{type:"text",placeholder:"  ",required:!0,className:"w-full p-2 border rounded-lg",value:_.foreignEntity,onChange:K=>j({..._,foreignEntity:K.target.value})}),o.jsx("input",{type:"text",placeholder:"",required:!0,className:"w-full p-2 border rounded-lg",value:_.country,onChange:K=>j({..._,country:K.target.value})})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[o.jsx("input",{type:"file",multiple:!0,className:"hidden",id:"spouse-docs",onChange:K=>L(Array.from(K.target.files||[]))}),o.jsxs("label",{htmlFor:"spouse-docs",className:"cursor-pointer flex flex-col items-center gap-1",children:[o.jsx(_r,{className:"w-6 h-6 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600",children:"  (   )"}),C.length>0&&o.jsxs("span",{className:"text-xs text-green-600",children:[C.length,"   "]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>n("DASHBOARD"),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),o.jsxs("button",{type:"submit",disabled:A,className:"px-8 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-bold flex items-center gap-2 disabled:opacity-50",children:[A?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):g?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(Gr,{className:"w-5 h-5"}),g?" ":" "]})]})]})]}),q=()=>o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"    "}),s.length===0&&o.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl text-gray-400",children:"   "}),o.jsx("div",{className:"grid gap-4",children:s.map(K=>o.jsxs("div",{className:"bg-white border-l-4 border-purple-500 shadow-sm rounded-r-xl p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full font-bold",children:" "}),o.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:K.userName})]}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["   ",o.jsx("span",{className:"font-bold",children:z(K.type)})]}),o.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500 font-mono",children:[o.jsxs("span",{children:[": ",K.startDate]}),o.jsxs("span",{children:[": ",K.endDate]}),o.jsxs("span",{children:["(",K.daysCount," )"]})]})]}),o.jsx("button",{onClick:()=>{U(K),V(null)},className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-bold shadow-md",children:"   "})]},K.id))}),R&&o.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[o.jsxs("div",{className:"bg-purple-50 p-6 border-b border-purple-100",children:[o.jsx("h3",{className:"text-xl font-bold text-purple-900",children:"  "}),o.jsxs("p",{className:"text-purple-700 text-sm mt-1",children:["   / ",R.userName]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[o.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[o.jsx(Jp,{className:"w-4 h-4"}),"    "]}),o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"text-gray-500 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""})]})}),o.jsxs("tbody",{className:"font-medium text-gray-800",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"py-2",children:""}),o.jsx("td",{children:"10:00 - 12:00"}),o.jsx("td",{children:" ()"}),o.jsx("td",{children:" "})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"py-2",children:""}),o.jsx("td",{children:"02:00 - 04:00"}),o.jsx("td",{children:" ()"}),o.jsx("td",{children:" 3"})]})]})]}),o.jsx("div",{className:"mt-3 bg-yellow-50 text-yellow-800 text-xs p-2 rounded border border-yellow-100",children:"          ."})]}),o.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-sm text-gray-700 leading-relaxed border-r-4 border-gray-400",children:['"  / ',o.jsx("strong",{children:t.name}),"                 / ",o.jsx("strong",{children:R.userName}),'      ."']}),O?O==="ACCEPT"?o.jsxs("div",{className:"text-center space-y-4 animate-in fade-in",children:[o.jsx(Gr,{className:"w-16 h-16 text-green-500 mx-auto"}),o.jsx("p",{className:"font-bold text-lg text-green-800",children:" !"}),o.jsx("button",{onClick:()=>X(!0),className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold",children:"  "})]}):o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  ()"}),o.jsx("textarea",{className:"w-full border p-3 rounded-lg",placeholder:":   ...",value:k,onChange:K=>I(K.target.value)}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>V(null),className:"px-4 text-gray-500",children:""}),o.jsx("button",{onClick:()=>X(!1),className:"flex-1 bg-red-600 text-white py-2 rounded-lg font-bold",children:" "})]})]}):o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{onClick:()=>V("DECLINE"),className:"flex-1 py-3 border-2 border-red-100 text-red-600 rounded-xl font-bold hover:bg-red-50",children:""}),o.jsx("button",{onClick:()=>V("ACCEPT"),className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 shadow-md",children:" "})]})]}),o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("button",{onClick:()=>U(null),children:o.jsx(Vt,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})})]})})]}),Z=()=>o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[r.map(K=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:z(K.type)}),o.jsx("td",{className:"p-4",children:K.startDate}),o.jsx("td",{className:"p-4",children:K.endDate}),o.jsx("td",{className:"p-4 text-gray-600",children:K.substituteName||"-"}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${K.status==="APPROVED"?"bg-green-100 text-green-700":K.status==="REJECTED"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:K.status==="APPROVED"?"":K.status==="PENDING_SUBSTITUTE"?" ":K.status==="PENDING_HEAD"?" ":""})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[(K.status==="PENDING_SUBSTITUTE"||K.status==="PENDING_HEAD")&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>ce(K),className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded",title:" ",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Y(K.id,K.type),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:" ",children:o.jsx(pt,{className:"w-4 h-4"})})]}),K.status==="APPROVED"&&o.jsxs("button",{onClick:()=>window.print(),className:"text-green-600 hover:underline flex items-center gap-1",children:[o.jsx(mr,{className:"w-3 h-3"})," "]})]})]},K.id)),r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Jp,{className:"w-8 h-8 text-green-600"}),"  "]})}),o.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[o.jsx("button",{onClick:()=>n("DASHBOARD"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="DASHBOARD"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "}),o.jsx("button",{onClick:ge,className:`px-6 py-4 font-bold text-sm transition-colors ${e==="NEW"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "}),o.jsxs("button",{onClick:()=>n("SUBSTITUTE"),className:`px-6 py-4 font-bold text-sm transition-colors flex items-center gap-2 ${e==="SUBSTITUTE"?"text-purple-700 border-b-2 border-purple-700 bg-purple-50":"text-gray-500 hover:text-purple-600"}`,children:["  ",s.length>0&&o.jsx("span",{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:s.length})]}),o.jsx("button",{onClick:()=>n("HISTORY"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="HISTORY"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "})]}),o.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="DASHBOARD"&&ye(),e==="NEW"&&Q(),e==="SUBSTITUTE"&&q(),e==="HISTORY"&&Z()]})]})},_ge=({user:t})=>{const[e,n]=N.useState("LOAN"),[r,a]=N.useState([]),[s,c]=N.useState(!0),[d,f]=N.useState(!1),[h,p]=N.useState(0),g=t.role===Ne.ADMIN,[x,w]=N.useState("MY_REQUESTS"),[E,_]=N.useState(!1),[j,C]=N.useState(null),[L,A]=N.useState({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),[D,R]=N.useState({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),[U,O]=N.useState({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"}),[V,k]=N.useState([]);N.useEffect(()=>{I()},[x]);const I=async()=>{c(!0);try{g&&x==="ALL_REQUESTS"?a(await Kpe()):(a(await Gpe(t.id)),(!g||x==="MY_REQUESTS")&&p(await Wpe(t.id)))}catch(X){console.error("Error fetching data:",X)}c(!1)},P=X=>{k([]),X?(C(X.id),X.type==="LOAN"?(A({...X}),n("LOAN")):X.type==="SECONDMENT"?(R({...X}),n("SECONDMENT")):(O({...X}),n("TRANSFER"))):(C(null),A({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),R({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),O({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"})),_(!0)},B=async(X,ye)=>{if(window.confirm("      "))try{await sn($e(he,"career_requests",X)),await Ae("  /",t.name,`   ${ye}`),I()}catch{alert(" ")}},z=async(X,ye,Q)=>{try{await Ype(X,ye),await Ae("  ",t.name,`    ${Q}  ${ye}`),I()}catch{alert("  ")}},ge=async X=>{try{return await cl(X)}catch(ye){return alert("  : "+ye.message),null}},ce=async X=>{X.preventDefault(),f(!0);try{if(e==="LOAN"){if(h>=10&&!j){alert("      (10 )."),f(!1);return}let ye;if(V.length>0){const q=await ge(V[0]);q&&(ye=q)}const Q={userId:t.id,userName:t.name,type:"LOAN",...L,...ye&&{nominationLetterUrl:ye},status:j?void 0:"PENDING_DEPT"};if(j){const q={...Q};delete q.status,ye||delete q.nominationLetterUrl,await kt($e(he,"career_requests",j),q),await Ae("  ",t.name,`    ${L.country}`)}else await l1(Q),await Ae(" ",t.name,`    ${L.country}`)}else if(e==="SECONDMENT"){const ye={userId:t.id,userName:t.name,type:"SECONDMENT",...D,status:j?void 0:"PENDING_DEPT"};if(j){const Q={...ye};delete Q.status,await kt($e(he,"career_requests",j),Q),await Ae("  ",t.name,`    ${D.targetInstitution}`)}else await l1(ye),await Ae(" ",t.name,`   ${D.targetInstitution}`)}else if(e==="TRANSFER"){const ye={userId:t.id,userName:t.name,type:"TRANSFER",...U,status:j?void 0:"PENDING_DEPT"};if(j){const Q={...ye};delete Q.status,await kt($e(he,"career_requests",j),Q),await Ae("  ",t.name,`    ${U.targetUniversity}`)}else await l1(ye),await Ae(" ",t.name,`   ${U.targetUniversity}`)}_(!1),alert(j?"   ":"    "),I()}catch(ye){console.error(ye),alert("   ")}finally{f(!1)}},Y=({status:X})=>{const Q={PENDING_DEPT:{label:" ",color:"bg-yellow-100 text-yellow-800"},PENDING_COLLEGE:{label:" ",color:"bg-orange-100 text-orange-800"},PENDING_UNIV:{label:" ",color:"bg-blue-100 text-blue-800"},APPROVED:{label:" ",color:"bg-green-100 text-green-800"},REJECTED:{label:"",color:"bg-red-100 text-red-800"}}[X]||{label:X,color:"bg-gray-100"};return o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Q.color}`,children:Q.label})},le=({status:X})=>{const ye=["PENDING_DEPT","PENDING_COLLEGE","PENDING_UNIV","APPROVED"],Q=ye.indexOf(X),q=X==="REJECTED";return o.jsx("div",{className:"flex items-center gap-1 mt-2 text-[10px]",children:ye.map((Z,K)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center border 
                            ${K<=Q?"bg-green-600 border-green-600 text-white":"bg-white border-gray-300 text-gray-300"}
                            ${q&&K===Q+1?"bg-red-500 border-red-500":""}
                        `,children:K+1}),K<ye.length-1&&o.jsx("div",{className:`w-4 h-0.5 ${K<Q?"bg-green-600":"bg-gray-200"}`})]},Z))})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(My,{className:"w-8 h-8 text-blue-600"}),"  "]}),o.jsxs("div",{className:"flex gap-2",children:[g&&o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>w("MY_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${x==="MY_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""}),o.jsx("button",{onClick:()=>w("ALL_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${x==="ALL_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""})]}),(!g||x==="MY_REQUESTS")&&o.jsxs("button",{onClick:()=>P(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold",children:[o.jsx(Ft,{className:"w-4 h-4"}),"  "]})]})]}),!g&&o.jsxs("div",{className:`p-4 rounded-xl border flex justify-between items-center ${h>=10?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Hi,{className:`w-6 h-6 ${h>=10?"text-red-600":"text-blue-600"}`}),o.jsxs("div",{children:[o.jsx("h4",{className:`font-bold ${h>=10?"text-red-800":"text-blue-800"}`,children:"  "}),o.jsx("p",{className:"text-xs text-gray-600",children:"      10    ."})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:`text-2xl font-bold ${h>=10?"text-red-600":"text-blue-600"}`,children:h}),o.jsx("span",{className:"text-gray-500 text-xs",children:" / 10 "})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl",children:[o.jsxs("button",{onClick:()=>n("LOAN"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="LOAN"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[o.jsx(t_,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>n("SECONDMENT"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="SECONDMENT"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[o.jsx(Ps,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>n("TRANSFER"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="TRANSFER"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[o.jsx(U9,{className:"w-4 h-4"})," "]})]}),o.jsx("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:s?o.jsx("div",{className:"text-center py-10",children:o.jsx(tt,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):o.jsx("div",{children:r.filter(X=>X.type===e).length===0?o.jsxs("div",{className:"text-center py-12 text-gray-400 border-2 border-dashed rounded-xl",children:[o.jsx(Ps,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),o.jsx("p",{children:"      "})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:" "}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:" / "}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:r.filter(X=>X.type===e).map(X=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-3 font-bold text-gray-800",children:X.userName}),o.jsx("td",{className:"p-3 text-xs",children:X.type==="LOAN"?X.loanType==="EXTERNAL"?"":"":X.type==="SECONDMENT"?X.secondmentType:X.transferType}),o.jsx("td",{className:"p-3 text-gray-600",children:X.type==="LOAN"?X.institution:X.type==="SECONDMENT"?X.targetInstitution:X.targetUniversity}),o.jsx("td",{className:"p-3 font-mono text-xs",children:X.type!=="TRANSFER"?o.jsxs(o.Fragment,{children:[X.startDate," ",o.jsx("br",{}),o.jsx("span",{className:"text-gray-400",children:""})," ",X.endDate]}):"-"}),o.jsx("td",{className:"p-3",children:o.jsx(Y,{status:X.status})}),o.jsx("td",{className:"p-3",children:o.jsx(le,{status:X.status})}),o.jsxs("td",{className:"p-3 flex items-center gap-2",children:[g&&x==="ALL_REQUESTS"&&o.jsxs("select",{className:"text-xs border rounded p-1",value:X.status,onChange:ye=>z(X.id,ye.target.value,X.type),children:[o.jsx("option",{value:"PENDING_DEPT",children:" "}),o.jsx("option",{value:"PENDING_COLLEGE",children:" "}),o.jsx("option",{value:"PENDING_UNIV",children:" "}),o.jsx("option",{value:"APPROVED",children:""}),o.jsx("option",{value:"REJECTED",children:""})]}),(g||X.userId===t.id)&&X.status.startsWith("PENDING")&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>P(X),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>B(X.id,X.type),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:o.jsx(pt,{className:"w-4 h-4"})})]})]})]},X.id))})]})})})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?" ":`  ${e==="LOAN"?"":e==="SECONDMENT"?"":""} `}),o.jsx("button",{onClick:()=>_(!1),children:o.jsx(Vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("div",{className:"p-6",children:[e==="LOAN"&&o.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:L.loanType,onChange:X=>A({...L,loanType:X.target.value}),children:[o.jsx("option",{value:"EXTERNAL",children:" "}),o.jsx("option",{value:"INTERNAL",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:L.requestType,onChange:X=>A({...L,requestType:X.target.value}),children:[o.jsx("option",{value:"NEW",children:" "}),o.jsx("option",{value:"RENEWAL",children:" "})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.country,onChange:X=>A({...L,country:X.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.institution,onChange:X=>A({...L,institution:X.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.college,onChange:X=>A({...L,college:X.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:L.startDate,onChange:X=>A({...L,startDate:X.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:L.endDate,onChange:X=>A({...L,endDate:X.target.value})})]}),o.jsxs("div",{className:"col-span-2 border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[o.jsx("input",{type:"file",className:"hidden",id:"loan-file",onChange:X=>k(Array.from(X.target.files||[]))}),o.jsxs("label",{htmlFor:"loan-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[o.jsx(_r,{className:"w-8 h-8 text-blue-500"}),o.jsx("span",{className:"text-sm font-bold text-gray-600",children:L.requestType==="NEW"?"  ":"   "}),V.length>0&&o.jsx("span",{className:"text-xs text-green-600",children:V[0].name})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-gray-600",children:""}),o.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="SECONDMENT"&&o.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:D.secondmentType,onChange:X=>R({...D,secondmentType:X.target.value}),children:[o.jsx("option",{value:"FULL_TIME",children:"  ( )"}),o.jsx("option",{value:"PART_TIME",children:"  ( )"}),o.jsx("option",{value:"OFF_HOURS",children:"  "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:D.targetInstitution,onChange:X=>R({...D,targetInstitution:X.target.value})})]}),D.secondmentType==="PART_TIME"&&o.jsxs("div",{className:"col-span-2 bg-blue-50 p-3 rounded border border-blue-100",children:[o.jsx("label",{className:"block text-sm font-bold mb-2 text-blue-800",children:"  "}),o.jsx("div",{className:"flex gap-4 flex-wrap",children:["","","","","",""].map(X=>{var ye;return o.jsxs("label",{className:"flex items-center gap-1 text-sm bg-white px-2 py-1 rounded border",children:[o.jsx("input",{type:"checkbox",checked:(ye=D.secondmentDays)==null?void 0:ye.includes(X),onChange:Q=>{const q=D.secondmentDays||[];R({...D,secondmentDays:Q.target.checked?[...q,X]:q.filter(Z=>Z!==X)})}})," ",X]},X)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:D.startDate,onChange:X=>R({...D,startDate:X.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:D.endDate,onChange:X=>R({...D,endDate:X.target.value})})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-gray-600",children:""}),o.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="TRANSFER"&&o.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[o.jsxs("div",{className:"bg-red-50 p-4 rounded text-red-700 text-sm border border-red-200 flex items-center gap-2 mb-4",children:[o.jsx(Yr,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:":            ."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:U.targetUniversity,onChange:X=>O({...U,targetUniversity:X.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:U.targetCollege,onChange:X=>O({...U,targetCollege:X.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:U.transferType,onChange:X=>O({...U,transferType:X.target.value}),children:[o.jsx("option",{value:"VACANT_DEGREE",children:"    "}),o.jsx("option",{value:"WITH_DEGREE",children:"   ( )"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-gray-600",children:""}),o.jsxs("button",{disabled:d,type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 flex items-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})]})]})})]})},jge=({user:t})=>{const[e,n]=N.useState("BROWSE"),[r,a]=N.useState([]),[s,c]=N.useState({totalItems:0,theses:0,papers:0,books:0}),[d,f]=N.useState(!0),[h,p]=N.useState(""),[g,x]=N.useState("ALL"),[w,E]=N.useState(!1),[_,j]=N.useState(null),[C,L]=N.useState("JOURNAL_PAPER"),A={titleAr:"",titleEn:"",abstract:"",authorNames:"",journalName:"",conferenceName:"",doi:"",publicationYear:new Date().getFullYear().toString(),supervisors:"",shelfLocation:""},[D,R]=N.useState(A),[U,O]=N.useState(null),[V,k]=N.useState(null),[I,P]=N.useState(!1),[B,z]=N.useState(null),[ge,ce]=N.useState("RESEARCH"),[Y,le]=N.useState(""),[X,ye]=N.useState([]),Q=t.role===Ne.ADMIN||t.role===Ne.STAFF||t.role===Ne.DATA_ENTRY;N.useEffect(()=>{q()},[]);const q=async()=>{f(!0);try{const[J,ae]=await Promise.all([Xpe(),tge()]);if(a(J),c(ae),t.role===Ne.STAFF||t.role===Ne.ADMIN){const Fe=await Zpe(t.id);ye(Fe)}}catch(J){console.error("Error fetching repository data:",J)}f(!1)},Z=J=>{let ae="";J.type.includes("PAPER")?ae=`${J.authorNames||""} (${J.publicationYear}). "${J.titleAr}". ${J.journalName||J.conferenceName||""}, ${J.volume||""}(${J.issue||""}), ${J.pages||""}. ${J.doi?`DOI: ${J.doi}`:""}`:J.type.includes("THESIS")?ae=`${J.authorNames||""} (${J.publicationYear}). ${J.titleAr}. [${J.type==="THESIS_MASTER"?"Master Thesis":"PhD Thesis"}]. Al-Azhar University.`:ae=`${J.authorNames||J.publisher||""} (${J.publicationYear}). ${J.titleAr}. ${J.publisher||""}.`,navigator.clipboard.writeText(ae),alert("   ")},K=async J=>{try{return await cl(J)}catch(ae){return alert("  : "+ae.message),null}},ee=J=>{E(!0),j(J.id),L(J.type),R({titleAr:J.titleAr||"",titleEn:J.titleEn||"",abstract:J.abstract||"",authorNames:J.authorNames||"",journalName:J.journalName||"",conferenceName:J.conferenceName||"",doi:J.doi||"",publicationYear:J.publicationYear||"",supervisors:J.supervisors||"",shelfLocation:J.shelfLocation||""}),n("ADD")},fe=async(J,ae)=>{if(window.confirm("        "))try{await sn($e(he,"repository_items",J)),await Ae("  ",t.name,`  : ${ae}`),q()}catch{alert(" ")}},je=async J=>{J.preventDefault(),P(!0);try{let ae,Fe;U&&(ae=await K(U)),V&&(Fe=await K(V));const Ve={...D,type:C,...ae&&{fileUrl:ae},...Fe&&{privateFileUrl:Fe},addedBy:t.id,authorIds:w?void 0:[t.id],publicationYear:D.publicationYear||new Date().getFullYear().toString()};w&&_?(await kt($e(he,"repository_items",_),Ve),await Ae("  ",t.name,`  ${C}: ${D.titleAr}`),alert("  ")):(await Qpe(Ve),await Ae(" ",t.name,`  ${C}: ${D.titleAr}`),alert("  ")),E(!1),j(null),R(A),O(null),k(null),n("BROWSE"),q()}catch(ae){console.error(ae),alert("   ")}finally{P(!1)}},Ie=async()=>{if(B)try{await Jpe({itemId:B.id,itemTitle:B.titleAr,itemAuthorId:B.addedBy,requesterName:t.name,requesterEmail:"user@example.com",reason:ge,message:Y}),await Ae("  ",t.name,`   : ${B.titleAr}`),alert("   "),z(null)}catch{alert("  ")}},qe=async(J,ae,Fe)=>{await ege(J,Fe),await Ae("   ",t.name,` ${Fe==="APPROVED"?" ":""}   : ${ae}`),alert(` ${Fe==="APPROVED"?"  ":" "}`),q()},H=()=>{n("ADD"),R(A),j(null),E(!1)},Ee=J=>{const ae=J.type.includes("PAPER"),Fe=J.type.includes("THESIS"),Ve=J.addedBy===t.id||t.role===Ne.ADMIN;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-md transition-shadow flex flex-col gap-3 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${ae?"bg-blue-100 text-blue-700":Fe?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:ae?J.type==="JOURNAL_PAPER"?" ":"":Fe?J.type==="THESIS_MASTER"?"":"":""}),o.jsx("span",{className:"text-gray-500 text-xs",children:J.publicationYear})]}),o.jsxs("div",{className:"flex gap-2",children:[J.doi&&o.jsx("a",{href:J.doi,target:"_blank",rel:"noreferrer",className:"text-gray-400 hover:text-blue-600",title:"DOI",children:o.jsx(yg,{className:"w-4 h-4"})}),Ve&&o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>ee(J),className:"text-blue-400 hover:text-blue-600 p-1",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>fe(J.id,J.titleAr),className:"text-red-400 hover:text-red-600 p-1",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 leading-snug mb-1",children:J.titleAr}),J.titleEn&&o.jsx("h4",{className:"text-sm text-gray-500 font-medium ltr text-right",dir:"ltr",children:J.titleEn})]}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[ae&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",J.authorNames]}),ae&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",J.journalName||J.conferenceName,", ",J.volume,"(",J.issue,")"]}),Fe&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",J.authorNames]}),Fe&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",J.supervisors]})]}),J.abstract&&o.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 bg-gray-50 p-2 rounded",children:J.abstract}),o.jsxs("div",{className:"mt-auto pt-4 border-t flex items-center justify-between gap-2",children:[o.jsx("div",{className:"flex gap-2",children:J.fileUrl?o.jsxs("a",{href:J.fileUrl,target:"_blank",rel:"noreferrer",className:"bg-green-600 text-white px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-green-700",children:[o.jsx(gg,{className:"w-4 h-4"}),"  PDF"]}):o.jsxs("button",{onClick:()=>z(J),className:"bg-amber-50 text-amber-700 border border-amber-200 px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-amber-100",children:[o.jsx(cb,{className:"w-4 h-4"}),"   "]})}),o.jsx("button",{onClick:()=>Z(J),className:"text-gray-400 hover:text-gray-600",title:" ",children:o.jsx(fz,{className:"w-5 h-5"})})]})]},J.id)};return o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 min-h-screen",children:[o.jsxs("aside",{className:"w-full lg:w-64 shrink-0 space-y-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(d4,{className:"w-5 h-5 text-green-600"})," "]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold",children:s.totalItems})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold text-purple-600",children:s.theses})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold text-blue-600",children:s.papers})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold text-amber-600",children:s.books})]})]})]}),X.length>0&&o.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 animate-pulse",children:[o.jsxs("h4",{className:"font-bold text-amber-800 text-sm mb-2 flex items-center gap-2",children:[o.jsx(ZN,{className:"w-4 h-4"}),"   (",X.length,")"]}),o.jsx("div",{className:"space-y-2",children:X.map(J=>o.jsxs("div",{className:"bg-white p-2 rounded border text-xs",children:[o.jsx("p",{className:"font-bold mb-1",children:J.requesterName}),o.jsxs("p",{className:"text-gray-500 mb-2 truncate",children:[": ",J.itemTitle]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>qe(J.id,J.itemTitle,"APPROVED"),className:"flex-1 bg-green-600 text-white py-1 rounded",children:""}),o.jsx("button",{onClick:()=>qe(J.id,J.itemTitle,"REJECTED"),className:"flex-1 bg-gray-200 text-gray-700 py-1 rounded",children:""})]})]},J.id))})]})]}),o.jsxs("main",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),Q&&o.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[o.jsx("button",{onClick:()=>{n("BROWSE"),E(!1)},className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="BROWSE"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "}),o.jsx("button",{onClick:H,className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="ADD"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "})]})]}),e==="BROWSE"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ku,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:h,onChange:J=>p(J.target.value)})]}),o.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50 min-w-[150px]",value:g,onChange:J=>x(J.target.value),children:[o.jsx("option",{value:"ALL",children:" "}),o.jsx("option",{value:"PAPER",children:" "}),o.jsx("option",{value:"THESIS",children:" "}),o.jsx("option",{value:"BOOK",children:""})]})]}),d?o.jsx("div",{className:"text-center py-12",children:o.jsx(tt,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.filter(J=>g==="ALL"||J.type.includes(g)).filter(J=>{var ae;return J.titleAr.includes(h)||J.titleEn&&J.titleEn.toLowerCase().includes(h.toLowerCase())||((ae=J.authorNames)==null?void 0:ae.includes(h))}).map(Ee),r.length===0&&o.jsx("p",{className:"text-center text-gray-400 col-span-2 py-12",children:"  "})]})]}),e==="ADD"&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800",children:w?" ":"   "}),w&&o.jsx("button",{onClick:()=>{E(!1),n("BROWSE")},className:"text-sm text-gray-500 hover:text-red-500",children:""})]}),o.jsxs("div",{className:"flex gap-4 mb-6 overflow-x-auto pb-2",children:[o.jsx("button",{onClick:()=>L("JOURNAL_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C==="JOURNAL_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),o.jsx("button",{onClick:()=>L("CONF_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C==="CONF_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),o.jsx("button",{onClick:()=>L("THESIS_MASTER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C.includes("THESIS")?"bg-purple-50 border-purple-500 text-purple-700":"hover:bg-gray-50"}`,children:" "}),o.jsx("button",{onClick:()=>L("BOOK"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C==="BOOK"?"bg-amber-50 border-amber-500 text-amber-700":"hover:bg-gray-50"}`,children:""})]}),o.jsxs("form",{onSubmit:je,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" () *"}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:D.titleAr||"",onChange:J=>R({...D,titleAr:J.target.value})})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg text-left",dir:"ltr",value:D.titleEn||"",onChange:J=>R({...D,titleEn:J.target.value})})]}),C.includes("PAPER")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Authors)"}),o.jsx("input",{type:"text",placeholder:"Ahmed M., Sara H., ...",className:"w-full border p-2 rounded-lg",value:D.authorNames||"",onChange:J=>R({...D,authorNames:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:C==="JOURNAL_PAPER"?" ":" "}),C==="JOURNAL_PAPER"?o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:D.journalName||"",onChange:J=>R({...D,journalName:J.target.value})}):o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:D.conferenceName||"",onChange:J=>R({...D,conferenceName:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" DOI"}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:D.doi||"",onChange:J=>R({...D,doi:J.target.value})})]})]}),C.includes("THESIS")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:D.authorNames||"",onChange:J=>R({...D,authorNames:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:D.supervisors||"",onChange:J=>R({...D,supervisors:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"number",className:"w-full border p-2 rounded-lg",value:D.publicationYear||"",onChange:J=>R({...D,publicationYear:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded-lg",value:D.shelfLocation||"",onChange:J=>R({...D,shelfLocation:J.target.value})})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Abstract)"}),o.jsx("textarea",{rows:4,className:"w-full border p-2 rounded-lg",value:D.abstract||"",onChange:J=>R({...D,abstract:J.target.value})})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 col-span-2",children:[o.jsx("h4",{className:"font-bold text-sm mb-2",children:""}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"   (Public PDF)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_r,{className:"w-4 h-4 text-gray-400"}),o.jsx("input",{type:"file",className:"text-sm",onChange:J=>O(J.target.files?J.target.files[0]:null)})]}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"   (:  )"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  ( )"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cb,{className:"w-4 h-4 text-amber-400"}),o.jsx("input",{type:"file",className:"text-sm",onChange:J=>k(J.target.files?J.target.files[0]:null)})]}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"      "})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>n("BROWSE"),className:"px-6 py-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:I,className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2",children:[I?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"})," ",w?" ":" "]})]})]})]})]}),B&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 shadow-2xl animate-in zoom-in-95",children:[o.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[o.jsx(cb,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"    .      ."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:ge,onChange:J=>ce(J.target.value),children:[o.jsx("option",{value:"RESEARCH",children:" "}),o.jsx("option",{value:"CITATION",children:"   "}),o.jsx("option",{value:"OTHER",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),o.jsx("textarea",{className:"w-full border p-2 rounded",rows:3,value:Y,onChange:J=>le(J.target.value),placeholder:" ..."})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{onClick:()=>z(null),className:"px-4 py-2 text-gray-500",children:""}),o.jsx("button",{onClick:Ie,className:"bg-amber-600 text-white px-4 py-2 rounded font-bold hover:bg-amber-700",children:" "})]})]})]})})]})},Ege=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(""),[a,s]=N.useState(""),[c,d]=N.useState(!1),[f,h]=N.useState("");N.useEffect(()=>{(async()=>{try{await rge()}catch(x){console.error("Failed to seed initial data:",x)}})()},[]);const p=async g=>{g.preventDefault(),d(!0),h("");try{const x=await Nme(n,a);x?e(x):h("      ")}catch(x){console.error(x),h("     (  )")}finally{d(!1)}};return t?o.jsx(v9,{children:o.jsx(EB,{user:t,onLogout:()=>{e(null),r(""),s("")},children:o.jsxs(W7,{children:[o.jsx(Qt,{path:"/",element:t.role===Ne.STUDENT_UG||t.role===Ne.STUDENT_PG?o.jsx(UP,{user:t}):t.role===Ne.ALUMNI?o.jsx(VP,{user:t}):o.jsx(age,{})}),o.jsx(Qt,{path:"/outgoing",element:o.jsx(ige,{user:t})}),o.jsx(Qt,{path:"/incoming",element:o.jsx(sge,{user:t})}),o.jsx(Qt,{path:"/councils",element:o.jsx(oge,{user:t})}),o.jsx(Qt,{path:"/committees",element:o.jsx(lge,{user:t})}),o.jsx(Qt,{path:"/search",element:o.jsx(cge,{user:t})}),o.jsx(Qt,{path:"/staff",element:o.jsx(uge,{})}),o.jsx(Qt,{path:"/students",element:o.jsx(UP,{user:t})}),o.jsx(Qt,{path:"/alumni",element:o.jsx(VP,{user:t})}),o.jsx(Qt,{path:"/users",element:o.jsx(fge,{})}),o.jsx(Qt,{path:"/pg-manager",element:o.jsx(hge,{})}),o.jsx(Qt,{path:"/inventory",element:o.jsx(mge,{user:t})}),o.jsx(Qt,{path:"/labs",element:o.jsx(pge,{user:t})}),o.jsx(Qt,{path:"/greenhouse",element:o.jsx(gge,{user:t})}),o.jsx(Qt,{path:"/events",element:o.jsx(yge,{user:t})}),o.jsx(Qt,{path:"/formation",element:o.jsx(xge,{user:t})}),o.jsx(Qt,{path:"/annual-report",element:o.jsx(bge,{user:t})}),o.jsx(Qt,{path:"/research-plan",element:o.jsx(wge,{user:t})}),o.jsx(Qt,{path:"/leaves",element:o.jsx(Nge,{user:t})}),o.jsx(Qt,{path:"/career-movements",element:o.jsx(_ge,{user:t})}),o.jsx(Qt,{path:"/repository",element:o.jsx(jge,{user:t})})," ",o.jsx(Qt,{path:"/activity-log",element:o.jsx(vge,{})}),o.jsx(Qt,{path:"*",element:o.jsx(K7,{to:"/"})})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",dir:"rtl",children:o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-4xl w-full border border-green-100 flex flex-col md:flex-row gap-8",children:[o.jsxs("div",{className:"md:w-1/2 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-l border-gray-100 pb-6 md:pb-0 md:pl-6",children:[o.jsx("div",{className:"bg-green-100 p-6 rounded-full mb-6 animate-pulse",children:o.jsx(wu,{className:"w-16 h-16 text-green-700"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   "}),o.jsx("h2",{className:"text-xl text-green-700 font-medium mb-4",children:"  -  "}),o.jsx("p",{className:"text-gray-500 leading-relaxed max-w-sm text-sm",children:"            ."})]}),o.jsxs("div",{className:"md:w-1/2 flex flex-col justify-center",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-6 text-center border-b pb-2",children:"  "}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(si,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",required:!0,value:n,onChange:g=>r(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:"username"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(f1,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"password",required:!0,value:a,onChange:g=>s(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:""})]})]}),f&&o.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm text-center font-semibold animate-in fade-in",children:f}),o.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-700 hover:bg-green-800 text-white font-bold py-3 rounded-xl transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[c?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):o.jsx(M9,{className:"w-5 h-5"}),o.jsx("span",{children:""})]})]}),o.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 border-t border-gray-100 pt-4",children:"Botany Digital Portal v2.0"})]})]})})},h8=document.getElementById("root");if(!h8)throw new Error("Could not find root element to mount to");const Sge=r7.createRoot(h8);Sge.render(o.jsx(zP.StrictMode,{children:o.jsx(Ege,{})}));
