var HV=Object.defineProperty;var GV=(t,e,n)=>e in t?HV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tb=(t,e,n)=>GV(t,typeof e!="symbol"?e+"":e,n);function KV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Zi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nb={exports:{}},xf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function YV(){if(y2)return xf;y2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:s}}return xf.Fragment=e,xf.jsx=n,xf.jsxs=n,xf}var v2;function WV(){return v2||(v2=1,nb.exports=YV()),nb.exports}var o=WV(),rb={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function XV(){if(x2)return nt;x2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function C(F,Q,K){this.props=F,this.context=Q,this.refs=j,this.updater=K||E}C.prototype.isReactComponent={},C.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function L(){}L.prototype=C.prototype;function A(F,Q,K){this.props=F,this.context=Q,this.refs=j,this.updater=K||E}var D=A.prototype=new L;D.constructor=A,_(D,C.prototype),D.isPureReactComponent=!0;var R=Array.isArray;function U(){}var k={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function M(F,Q,K){var J=K.ref;return{$$typeof:t,type:F,key:Q,ref:J!==void 0?J:null,props:K}}function I(F,Q){return M(F.type,Q,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function B(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(K){return Q[K]})}var z=/\/+/g;function me(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?B(""+F.key):Q.toString(36)}function ae(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(Q){F.status==="pending"&&(F.status="fulfilled",F.value=Q)},function(Q){F.status==="pending"&&(F.status="rejected",F.reason=Q)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function G(F,Q,K,J,he){var Se=typeof F;(Se==="undefined"||Se==="boolean")&&(F=null);var Oe=!1;if(F===null)Oe=!0;else switch(Se){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(F.$$typeof){case t:case e:Oe=!0;break;case p:return Oe=F._init,G(Oe(F._payload),Q,K,J,he)}}if(Oe)return he=he(F),Oe=J===""?"."+me(F,0):J,R(he)?(K="",Oe!=null&&(K=Oe.replace(z,"$&/")+"/"),G(he,Q,K,"",function(Be){return Be})):he!=null&&(O(he)&&(he=I(he,K+(he.key==null||F&&F.key===he.key?"":(""+he.key).replace(z,"$&/")+"/")+Oe)),Q.push(he)),1;Oe=0;var He=J===""?".":J+":";if(R(F))for(var ce=0;ce<F.length;ce++)J=F[ce],Se=He+me(J,ce),Oe+=G(J,Q,K,Se,he);else if(ce=w(F),typeof ce=="function")for(F=ce.call(F),ce=0;!(J=F.next()).done;)J=J.value,Se=He+me(J,ce++),Oe+=G(J,Q,K,Se,he);else if(Se==="object"){if(typeof F.then=="function")return G(ae(F),Q,K,J,he);throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function re(F,Q,K){if(F==null)return F;var J=[],he=0;return G(F,J,"","",function(Se){return Q.call(K,Se,he++)}),J}function Y(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(K){(F._status===0||F._status===-1)&&(F._status=1,F._result=K)},function(K){(F._status===0||F._status===-1)&&(F._status=2,F._result=K)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var xe=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},X={map:re,forEach:function(F,Q,K){re(F,function(){Q.apply(this,arguments)},K)},count:function(F){var Q=0;return re(F,function(){Q++}),Q},toArray:function(F){return re(F,function(Q){return Q})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return nt.Activity=g,nt.Children=X,nt.Component=C,nt.Fragment=n,nt.Profiler=a,nt.PureComponent=A,nt.StrictMode=r,nt.Suspense=f,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,nt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return k.H.useMemoCache(F)}},nt.cache=function(F){return function(){return F.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(F,Q,K){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var J=_({},F.props),he=F.key;if(Q!=null)for(Se in Q.key!==void 0&&(he=""+Q.key),Q)!V.call(Q,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Q.ref===void 0||(J[Se]=Q[Se]);var Se=arguments.length-2;if(Se===1)J.children=K;else if(1<Se){for(var Oe=Array(Se),He=0;He<Se;He++)Oe[He]=arguments[He+2];J.children=Oe}return M(F.type,he,J)},nt.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},nt.createElement=function(F,Q,K){var J,he={},Se=null;if(Q!=null)for(J in Q.key!==void 0&&(Se=""+Q.key),Q)V.call(Q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(he[J]=Q[J]);var Oe=arguments.length-2;if(Oe===1)he.children=K;else if(1<Oe){for(var He=Array(Oe),ce=0;ce<Oe;ce++)He[ce]=arguments[ce+2];he.children=He}if(F&&F.defaultProps)for(J in Oe=F.defaultProps,Oe)he[J]===void 0&&(he[J]=Oe[J]);return M(F,Se,he)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(F){return{$$typeof:d,render:F}},nt.isValidElement=O,nt.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:Y}},nt.memo=function(F,Q){return{$$typeof:h,type:F,compare:Q===void 0?null:Q}},nt.startTransition=function(F){var Q=k.T,K={};k.T=K;try{var J=F(),he=k.S;he!==null&&he(K,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(U,xe)}catch(Se){xe(Se)}finally{Q!==null&&K.types!==null&&(Q.types=K.types),k.T=Q}},nt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},nt.use=function(F){return k.H.use(F)},nt.useActionState=function(F,Q,K){return k.H.useActionState(F,Q,K)},nt.useCallback=function(F,Q){return k.H.useCallback(F,Q)},nt.useContext=function(F){return k.H.useContext(F)},nt.useDebugValue=function(){},nt.useDeferredValue=function(F,Q){return k.H.useDeferredValue(F,Q)},nt.useEffect=function(F,Q){return k.H.useEffect(F,Q)},nt.useEffectEvent=function(F){return k.H.useEffectEvent(F)},nt.useId=function(){return k.H.useId()},nt.useImperativeHandle=function(F,Q,K){return k.H.useImperativeHandle(F,Q,K)},nt.useInsertionEffect=function(F,Q){return k.H.useInsertionEffect(F,Q)},nt.useLayoutEffect=function(F,Q){return k.H.useLayoutEffect(F,Q)},nt.useMemo=function(F,Q){return k.H.useMemo(F,Q)},nt.useOptimistic=function(F,Q){return k.H.useOptimistic(F,Q)},nt.useReducer=function(F,Q,K){return k.H.useReducer(F,Q,K)},nt.useRef=function(F){return k.H.useRef(F)},nt.useState=function(F){return k.H.useState(F)},nt.useSyncExternalStore=function(F,Q,K){return k.H.useSyncExternalStore(F,Q,K)},nt.useTransition=function(){return k.H.useTransition()},nt.version="19.2.0",nt}var b2;function Zu(){return b2||(b2=1,rb.exports=XV()),rb.exports}var N=Zu();const BP=Zi(N),QV=KV({__proto__:null,default:BP},[N]);var ab={exports:{}},bf={},ib={exports:{}},sb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function JV(){return w2||(w2=1,(function(t){function e(G,re){var Y=G.length;G.push(re);e:for(;0<Y;){var xe=Y-1>>>1,X=G[xe];if(0<a(X,re))G[xe]=re,G[Y]=X,Y=xe;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var re=G[0],Y=G.pop();if(Y!==re){G[0]=Y;e:for(var xe=0,X=G.length,F=X>>>1;xe<F;){var Q=2*(xe+1)-1,K=G[Q],J=Q+1,he=G[J];if(0>a(K,Y))J<X&&0>a(he,K)?(G[xe]=he,G[J]=Y,xe=J):(G[xe]=K,G[Q]=Y,xe=Q);else if(J<X&&0>a(he,Y))G[xe]=he,G[J]=Y,xe=J;else break e}}return re}function a(G,re){var Y=G.sortIndex-re.sortIndex;return Y!==0?Y:G.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,x=3,w=!1,E=!1,_=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=G)r(h),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(h)}}function R(G){if(_=!1,D(G),!E)if(n(f)!==null)E=!0,U||(U=!0,B());else{var re=n(h);re!==null&&ae(R,re.startTime-G)}}var U=!1,k=-1,V=5,M=-1;function I(){return j?!0:!(t.unstable_now()-M<V)}function O(){if(j=!1,U){var G=t.unstable_now();M=G;var re=!0;try{e:{E=!1,_&&(_=!1,L(k),k=-1),w=!0;var Y=x;try{t:{for(D(G),g=n(f);g!==null&&!(g.expirationTime>G&&I());){var xe=g.callback;if(typeof xe=="function"){g.callback=null,x=g.priorityLevel;var X=xe(g.expirationTime<=G);if(G=t.unstable_now(),typeof X=="function"){g.callback=X,D(G),re=!0;break t}g===n(f)&&r(f),D(G)}else r(f);g=n(f)}if(g!==null)re=!0;else{var F=n(h);F!==null&&ae(R,F.startTime-G),re=!1}}break e}finally{g=null,x=Y,w=!1}re=void 0}}finally{re?B():U=!1}}}var B;if(typeof A=="function")B=function(){A(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,me=z.port2;z.port1.onmessage=O,B=function(){me.postMessage(null)}}else B=function(){C(O,0)};function ae(G,re){k=C(function(){G(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(G){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var Y=x;x=re;try{return G()}finally{x=Y}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Y=x;x=G;try{return re()}finally{x=Y}},t.unstable_scheduleCallback=function(G,re,Y){var xe=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?xe+Y:xe):Y=xe,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,G={id:p++,callback:re,priorityLevel:G,startTime:Y,expirationTime:X,sortIndex:-1},Y>xe?(G.sortIndex=Y,e(h,G),n(f)===null&&G===n(h)&&(_?(L(k),k=-1):_=!0,ae(R,Y-xe))):(G.sortIndex=X,e(f,G),E||w||(E=!0,U||(U=!0,B()))),G},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(G){var re=x;return function(){var Y=x;x=re;try{return G.apply(this,arguments)}finally{x=Y}}}})(sb)),sb}var N2;function ZV(){return N2||(N2=1,ib.exports=JV()),ib.exports}var ob={exports:{}},xr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function e7(){if(_2)return xr;_2=1;var t=Zu();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},xr.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},xr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},xr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},xr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},xr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},xr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},xr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},xr.requestFormReset=function(f){r.d.r(f)},xr.unstable_batchedUpdates=function(f,h){return f(h)},xr.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},xr.useFormStatus=function(){return c.H.useHostTransitionStatus()},xr.version="19.2.0",xr}var j2;function $P(){if(j2)return ob.exports;j2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ob.exports=e7(),ob.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function t7(){if(E2)return bf;E2=1;var t=ZV(),e=Zu(),n=$P();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var l=i.alternate;if(!l){if(l=s(i),l===null)throw Error(r(188));return l!==i?null:i}for(var u=i,m=l;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return f(v),i;if(b===m)return f(v),l;b=b.sibling}throw Error(r(188))}if(u.return!==m.return)u=v,m=b;else{for(var T=!1,$=v.child;$;){if($===u){T=!0,u=v,m=b;break}if($===m){T=!0,m=v,u=b;break}$=$.sibling}if(!T){for($=b.child;$;){if($===u){T=!0,u=b,m=v;break}if($===m){T=!0,m=b,u=v;break}$=$.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:l}function p(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=p(i),l!==null)return l;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case R:return"Suspense";case U:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case A:return i.displayName||"Context";case L:return(i._context.displayName||"Context")+".Consumer";case D:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return l=i.displayName||null,l!==null?l:me(i.type)||"Memo";case V:l=i._payload,i=i._init;try{return me(i(l))}catch{}}return null}var ae=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},xe=[],X=-1;function F(i){return{current:i}}function Q(i){0>X||(i.current=xe[X],xe[X]=null,X--)}function K(i,l){X++,xe[X]=i.current,i.current=l}var J=F(null),he=F(null),Se=F(null),Oe=F(null);function He(i,l){switch(K(Se,l),K(he,i),K(J,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?zT(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=zT(l),i=BT(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(J),K(J,i)}function ce(){Q(J),Q(he),Q(Se)}function Be(i){i.memoizedState!==null&&K(Oe,i);var l=J.current,u=BT(l,i.type);l!==u&&(K(he,i),K(J,u))}function ee(i){he.current===i&&(Q(J),Q(he)),Oe.current===i&&(Q(Oe),pf._currentValue=Y)}var fe,Je;function Ge(i){if(fe===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);fe=l&&l[1]||"",Je=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+i+Je}var Et=!1;function Ee(i,l){if(!i||Et)return"";Et=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(de){var le=de}Reflect.construct(i,[],Ne)}else{try{Ne.call()}catch(de){le=de}i.call(Ne.prototype)}}else{try{throw Error()}catch(de){le=de}(Ne=i())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(de){if(de&&le&&typeof de.stack=="string")return[de.stack,le.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),T=b[0],$=b[1];if(T&&$){var H=T.split(`
`),se=$.split(`
`);for(v=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;v<se.length&&!se[v].includes("DetermineComponentFrameRoot");)v++;if(m===H.length||v===se.length)for(m=H.length-1,v=se.length-1;1<=m&&0<=v&&H[m]!==se[v];)v--;for(;1<=m&&0<=v;m--,v--)if(H[m]!==se[v]){if(m!==1||v!==1)do if(m--,v--,0>v||H[m]!==se[v]){var ve=`
`+H[m].replace(" at new "," at ");return i.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",i.displayName)),ve}while(1<=m&&0<=v);break}}}finally{Et=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ge(u):""}function ut(i,l){switch(i.tag){case 26:case 27:case 5:return Ge(i.type);case 16:return Ge("Lazy");case 13:return i.child!==l&&l!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Ee(i.type,!1);case 11:return Ee(i.type.render,!1);case 1:return Ee(i.type,!0);case 31:return Ge("Activity");default:return""}}function ge(i){try{var l="",u=null;do l+=ut(i,u),u=i,i=i.return;while(i);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var We=Object.prototype.hasOwnProperty,Ye=t.unstable_scheduleCallback,St=t.unstable_cancelCallback,na=t.unstable_shouldYield,te=t.unstable_requestPaint,Pe=t.unstable_now,pe=t.unstable_getCurrentPriorityLevel,Te=t.unstable_ImmediatePriority,tt=t.unstable_UserBlockingPriority,st=t.unstable_NormalPriority,En=t.unstable_LowPriority,Lr=t.unstable_IdlePriority,fl=t.log,hl=t.unstable_setDisableYieldValue,Ur=null,Sn=null;function Cr(i){if(typeof fl=="function"&&hl(i),Sn&&typeof Sn.setStrictMode=="function")try{Sn.setStrictMode(Ur,i)}catch{}}var gn=Math.clz32?Math.clz32:em,Zh=Math.log,Sc=Math.LN2;function em(i){return i>>>=0,i===0?32:31-(Zh(i)/Sc|0)|0}var gi=256,ml=262144,An=4194304;function yi(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,l,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,b=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var $=m&134217727;return $!==0?(m=$&~b,m!==0?v=yi(m):(T&=$,T!==0?v=yi(T):u||(u=$&~i,u!==0&&(v=yi(u))))):($=m&~b,$!==0?v=yi($):T!==0?v=yi(T):u||(u=m&~i,u!==0&&(v=yi(u)))),v===0?0:l!==0&&l!==v&&(l&b)===0&&(b=v&-v,u=l&-l,b>=u||b===32&&(u&4194048)!==0)?l:v}function qa(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function iv(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(){var i=An;return An<<=1,(An&62914560)===0&&(An=4194304),i}function xi(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function pl(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sv(i,l,u,m,v,b){var T=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var $=i.entanglements,H=i.expirationTimes,se=i.hiddenUpdates;for(u=T&~u;0<u;){var ve=31-gn(u),Ne=1<<ve;$[ve]=0,H[ve]=-1;var le=se[ve];if(le!==null)for(se[ve]=null,ve=0;ve<le.length;ve++){var de=le[ve];de!==null&&(de.lane&=-536870913)}u&=~Ne}m!==0&&gl(i,m,0),b!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=b&~(T&~l))}function gl(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-gn(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function xd(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var m=31-gn(u),v=1<<m;v&l|i[m]&l&&(i[m]|=l),u&=~v}}function bd(i,l){var u=l&-l;return u=(u&42)!==0?1:yl(u),(u&(i.suspendedLanes|l))!==0?0:u}function yl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nm(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:u2(i.type))}function Ha(i,l){var u=re.p;try{return re.p=i,l()}finally{re.p=u}}var Ga=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Ga,Jn="__reactProps$"+Ga,bi="__reactContainer$"+Ga,Ac="__reactEvents$"+Ga,ov="__reactListeners$"+Ga,rm="__reactHandles$"+Ga,am="__reactResources$"+Ga,wi="__reactMarker$"+Ga;function Tc(i){delete i[Tn],delete i[Jn],delete i[Ac],delete i[ov],delete i[rm]}function Ni(i){var l=i[Tn];if(l)return l;for(var u=i.parentNode;u;){if(l=u[bi]||u[Tn]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=YT(i);i!==null;){if(u=i[Tn])return u;i=YT(i)}return l}i=u,u=i.parentNode}return null}function ba(i){if(i=i[Tn]||i[bi]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function ra(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function _i(i){var l=i[am];return l||(l=i[am]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Cn(i){i[wi]=!0}var wd=new Set,Nd={};function ji(i,l){Ei(i,l),Ei(i+"Capture",l)}function Ei(i,l){for(Nd[i]=l,i=0;i<l.length;i++)wd.add(l[i])}var _d=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jd={},Ed={};function im(i){return We.call(Ed,i)?!0:We.call(jd,i)?!1:_d.test(i)?Ed[i]=!0:(jd[i]=!0,!1)}function Cc(i,l,u){if(im(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function aa(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function In(i,l,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+m)}}function Zn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function eo(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Sd(i,l,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,b=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return v.call(this)},set:function(T){u=""+T,b.call(this,T)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function It(i){if(!i._valueTracker){var l=eo(i)?"checked":"value";i._valueTracker=Sd(i,l,""+i[l])}}function vl(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return i&&(m=eo(i)?i.checked?"true":"false":i.value),i=m,i!==u?(l.setValue(i),!0):!1}function Si(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xl=/[\n"\\]/g;function Vr(i){return i.replace(xl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ic(i,l,u,m,v,b,T,$){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),l!=null?T==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+Zn(l)):i.value!==""+Zn(l)&&(i.value=""+Zn(l)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),l!=null?Ad(i,T,Zn(l)):u!=null?Ad(i,T,Zn(u)):m!=null&&i.removeAttribute("value"),v==null&&b!=null&&(i.defaultChecked=!!b),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+Zn($):i.removeAttribute("name")}function sm(i,l,u,m,v,b,T,$){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),l!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){It(i);return}u=u!=null?""+Zn(u):"",l=l!=null?""+Zn(l):u,$||l===i.value||(i.value=l),i.defaultValue=l}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=$?i.checked:!!m,i.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),It(i)}function Ad(i,l,u){l==="number"&&Si(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function to(i,l,u,m){if(i=i.options,l){l={};for(var v=0;v<u.length;v++)l["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=l.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Zn(u),l=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}l!==null||i[v].disabled||(l=i[v])}l!==null&&(l.selected=!0)}}function om(i,l,u){if(l!=null&&(l=""+Zn(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+Zn(u):""}function no(i,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(r(92));if(ae(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=Zn(l),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),It(i)}function zr(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var lm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Td(i,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,u):typeof u!="number"||u===0||lm.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function Cd(i,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in l)m=l[v],l.hasOwnProperty(v)&&u[v]!==m&&Td(i,v,m)}else for(var b in l)l.hasOwnProperty(b)&&Td(i,b,l[b])}function Oc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ro=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rc(i){return ro.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ka(){}var Id=null;function wa(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ao=null,Ai=null;function bl(i){var l=ba(i);if(l&&(i=l.stateNode)){var u=i[Jn]||null;e:switch(i=l.stateNode,l.type){case"input":if(Ic(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Vr(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==i&&m.form===i.form){var v=m[Jn]||null;if(!v)throw Error(r(90));Ic(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===i.form&&vl(m)}break e;case"textarea":om(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&to(i,!!u.multiple,l,!1)}}}var Dc=!1;function io(i,l,u){if(Dc)return i(l,u);Dc=!0;try{var m=i(l);return m}finally{if(Dc=!1,(ao!==null||Ai!==null)&&(np(),ao&&(l=ao,i=Ai,Ai=ao=null,bl(l),i)))for(l=0;l<i.length;l++)bl(i[l])}}function Ya(i,l){var u=i.stateNode;if(u===null)return null;var m=u[Jn]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(Na)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){wl=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch{wl=!1}var Ti=null,Od=null,Nl=null;function Rd(){if(Nl)return Nl;var i,l=Od,u=l.length,m,v="value"in Ti?Ti.value:Ti.textContent,b=v.length;for(i=0;i<u&&l[i]===v[i];i++);var T=u-i;for(m=1;m<=T&&l[u-m]===v[b-m];m++);return Nl=v.slice(i,1<m?1-m:void 0)}function _l(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function as(){return!0}function Wa(){return!1}function lr(i){function l(u,m,v,b,T){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(u=i[$],this[$]=u?u(b):b[$]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?as:Wa,this.isPropagationStopped=Wa,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),l}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=lr(is),so=g({},is,{view:0,detail:0}),Dd=lr(so),oo,Pc,Ii,kc=g({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ii&&(Ii&&i.type==="mousemove"?(oo=i.screenX-Ii.screenX,Pc=i.screenY-Ii.screenY):Pc=oo=0,Ii=i),oo)},movementY:function(i){return"movementY"in i?i.movementY:Pc}}),Pd=lr(kc),jl=g({},kc,{dataTransfer:0}),um=lr(jl),dm=g({},so,{relatedTarget:0}),El=lr(dm),kd=g({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=lr(kd),Mc=g({},is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hm=lr(Mc),mm=g({},is,{data:0}),Oi=lr(mm),pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vm(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ym[i])?!!l[i]:!1}function lo(){return vm}var Ir=g({},so,{key:function(i){if(i.key){var l=pm[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=_l(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(i){return i.type==="keypress"?_l(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_l(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xm=lr(Ir),bm=g({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=lr(bm),y=g({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),S=lr(y),P=g({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=lr(P),ne=g({},kc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=lr(ne),Ce=g({},is,{newState:0,oldState:0}),ot=lr(Ce),yn=[9,13,27,32],At=Na&&"CompositionEvent"in window,Jt=null;Na&&"documentMode"in document&&(Jt=document.documentMode);var _a=Na&&"TextEvent"in window&&!Jt,Ri=Na&&(!At||Jt&&8<Jt&&11>=Jt),Xa=" ",Qa=!1;function Sl(i,l){switch(i){case"keyup":return yn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Uc=!1;function p8(i,l){switch(i){case"compositionend":return Lc(l);case"keypress":return l.which!==32?null:(Qa=!0,Xa);case"textInput":return i=l.data,i===Xa&&Qa?null:i;default:return null}}function g8(i,l){if(Uc)return i==="compositionend"||!At&&Sl(i,l)?(i=Rd(),Nl=Od=Ti=null,Uc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ri&&l.locale!=="ko"?null:l.data;default:return null}}var y8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QE(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!y8[i.type]:l==="textarea"}function JE(i,l,u,m){ao?Ai?Ai.push(m):Ai=[m]:ao=m,l=cp(l,"onChange"),0<l.length&&(u=new Ci("onChange","change",null,u,m),i.push({event:u,listeners:l}))}var Md=null,Ld=null;function v8(i){PT(i,0)}function wm(i){var l=ra(i);if(vl(l))return i}function ZE(i,l){if(i==="change")return l}var eS=!1;if(Na){var lv;if(Na){var cv="oninput"in document;if(!cv){var tS=document.createElement("div");tS.setAttribute("oninput","return;"),cv=typeof tS.oninput=="function"}lv=cv}else lv=!1;eS=lv&&(!document.documentMode||9<document.documentMode)}function nS(){Md&&(Md.detachEvent("onpropertychange",rS),Ld=Md=null)}function rS(i){if(i.propertyName==="value"&&wm(Ld)){var l=[];JE(l,Ld,i,wa(i)),io(v8,l)}}function x8(i,l,u){i==="focusin"?(nS(),Md=l,Ld=u,Md.attachEvent("onpropertychange",rS)):i==="focusout"&&nS()}function b8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wm(Ld)}function w8(i,l){if(i==="click")return wm(l)}function N8(i,l){if(i==="input"||i==="change")return wm(l)}function _8(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var ia=typeof Object.is=="function"?Object.is:_8;function Ud(i,l){if(ia(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!We.call(l,v)||!ia(i[v],l[v]))return!1}return!0}function aS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iS(i,l){var u=aS(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=l&&m>=l)return{node:u,offset:l-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=aS(u)}}function sS(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?sS(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function oS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Si(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Si(i.document)}return l}function uv(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var j8=Na&&"documentMode"in document&&11>=document.documentMode,Vc=null,dv=null,Vd=null,fv=!1;function lS(i,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fv||Vc==null||Vc!==Si(m)||(m=Vc,"selectionStart"in m&&uv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Vd&&Ud(Vd,m)||(Vd=m,m=cp(dv,"onSelect"),0<m.length&&(l=new Ci("onSelect","select",null,l,u),i.push({event:l,listeners:m}),l.target=Vc)))}function Al(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var zc={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionrun:Al("Transition","TransitionRun"),transitionstart:Al("Transition","TransitionStart"),transitioncancel:Al("Transition","TransitionCancel"),transitionend:Al("Transition","TransitionEnd")},hv={},cS={};Na&&(cS=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function Tl(i){if(hv[i])return hv[i];if(!zc[i])return i;var l=zc[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in cS)return hv[i]=l[u];return i}var uS=Tl("animationend"),dS=Tl("animationiteration"),fS=Tl("animationstart"),E8=Tl("transitionrun"),S8=Tl("transitionstart"),A8=Tl("transitioncancel"),hS=Tl("transitionend"),mS=new Map,mv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mv.push("scrollEnd");function Ja(i,l){mS.set(i,l),ji(l,[i])}var Nm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ja=[],Bc=0,pv=0;function _m(){for(var i=Bc,l=pv=Bc=0;l<i;){var u=ja[l];ja[l++]=null;var m=ja[l];ja[l++]=null;var v=ja[l];ja[l++]=null;var b=ja[l];if(ja[l++]=null,m!==null&&v!==null){var T=m.pending;T===null?v.next=v:(v.next=T.next,T.next=v),m.pending=v}b!==0&&pS(u,v,b)}}function jm(i,l,u,m){ja[Bc++]=i,ja[Bc++]=l,ja[Bc++]=u,ja[Bc++]=m,pv|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function gv(i,l,u,m){return jm(i,l,u,m),Em(i)}function Cl(i,l){return jm(i,null,null,l),Em(i)}function pS(i,l,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,b=i.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(v=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,v&&l!==null&&(v=31-gn(u),i=b.hiddenUpdates,m=i[v],m===null?i[v]=[l]:m.push(l),l.lane=u|536870912),b):null}function Em(i){if(50<lf)throw lf=0,Ex=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var $c={};function T8(i,l,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(i,l,u,m){return new T8(i,l,u,m)}function yv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function os(i,l){var u=i.alternate;return u===null?(u=sa(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function gS(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Sm(i,l,u,m,v,b){var T=0;if(m=i,typeof i=="function")yv(i)&&(T=1);else if(typeof i=="string")T=DV(i,u,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=sa(31,u,l,v),i.elementType=M,i.lanes=b,i;case _:return Il(u.children,v,b,l);case j:T=8,v|=24;break;case C:return i=sa(12,u,l,v|2),i.elementType=C,i.lanes=b,i;case R:return i=sa(13,u,l,v),i.elementType=R,i.lanes=b,i;case U:return i=sa(19,u,l,v),i.elementType=U,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:T=10;break e;case L:T=9;break e;case D:T=11;break e;case k:T=14;break e;case V:T=16,m=null;break e}T=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return l=sa(T,u,l,v),l.elementType=i,l.type=m,l.lanes=b,l}function Il(i,l,u,m){return i=sa(7,i,m,l),i.lanes=u,i}function vv(i,l,u){return i=sa(6,i,null,l),i.lanes=u,i}function yS(i){var l=sa(18,null,null,0);return l.stateNode=i,l}function xv(i,l,u){return l=sa(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var vS=new WeakMap;function Ea(i,l){if(typeof i=="object"&&i!==null){var u=vS.get(i);return u!==void 0?u:(l={value:i,source:l,stack:ge(l)},vS.set(i,l),l)}return{value:i,source:l,stack:ge(l)}}var Fc=[],qc=0,Am=null,zd=0,Sa=[],Aa=0,co=null,Di=1,Pi="";function ls(i,l){Fc[qc++]=zd,Fc[qc++]=Am,Am=i,zd=l}function xS(i,l,u){Sa[Aa++]=Di,Sa[Aa++]=Pi,Sa[Aa++]=co,co=i;var m=Di;i=Pi;var v=32-gn(m)-1;m&=~(1<<v),u+=1;var b=32-gn(l)+v;if(30<b){var T=v-v%5;b=(m&(1<<T)-1).toString(32),m>>=T,v-=T,Di=1<<32-gn(l)+v|u<<v|m,Pi=b+i}else Di=1<<b|u<<v|m,Pi=i}function bv(i){i.return!==null&&(ls(i,1),xS(i,1,0))}function wv(i){for(;i===Am;)Am=Fc[--qc],Fc[qc]=null,zd=Fc[--qc],Fc[qc]=null;for(;i===co;)co=Sa[--Aa],Sa[Aa]=null,Pi=Sa[--Aa],Sa[Aa]=null,Di=Sa[--Aa],Sa[Aa]=null}function bS(i,l){Sa[Aa++]=Di,Sa[Aa++]=Pi,Sa[Aa++]=co,Di=l.id,Pi=l.overflow,co=i}var cr=null,Yt=null,xt=!1,uo=null,Ta=!1,Nv=Error(r(519));function fo(i){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bd(Ea(l,i)),Nv}function wS(i){var l=i.stateNode,u=i.type,m=i.memoizedProps;switch(l[Tn]=i,l[Jn]=m,u){case"dialog":ft("cancel",l),ft("close",l);break;case"iframe":case"object":case"embed":ft("load",l);break;case"video":case"audio":for(u=0;u<uf.length;u++)ft(uf[u],l);break;case"source":ft("error",l);break;case"img":case"image":case"link":ft("error",l),ft("load",l);break;case"details":ft("toggle",l);break;case"input":ft("invalid",l),sm(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ft("invalid",l);break;case"textarea":ft("invalid",l),no(l,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||UT(l.textContent,u)?(m.popover!=null&&(ft("beforetoggle",l),ft("toggle",l)),m.onScroll!=null&&ft("scroll",l),m.onScrollEnd!=null&&ft("scrollend",l),m.onClick!=null&&(l.onclick=Ka),l=!0):l=!1,l||fo(i,!0)}function NS(i){for(cr=i.return;cr;)switch(cr.tag){case 5:case 31:case 13:Ta=!1;return;case 27:case 3:Ta=!0;return;default:cr=cr.return}}function Hc(i){if(i!==cr)return!1;if(!xt)return NS(i),xt=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||zx(i.type,i.memoizedProps)),u=!u),u&&Yt&&fo(i),NS(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Yt=KT(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Yt=KT(i)}else l===27?(l=Yt,So(i.type)?(i=Hx,Hx=null,Yt=i):Yt=l):Yt=cr?Ia(i.stateNode.nextSibling):null;return!0}function Ol(){Yt=cr=null,xt=!1}function _v(){var i=uo;return i!==null&&(qr===null?qr=i:qr.push.apply(qr,i),uo=null),i}function Bd(i){uo===null?uo=[i]:uo.push(i)}var jv=F(null),Rl=null,cs=null;function ho(i,l,u){K(jv,l._currentValue),l._currentValue=u}function us(i){i._currentValue=jv.current,Q(jv)}function Ev(i,l,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===u)break;i=i.return}}function Sv(i,l,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var b=v.dependencies;if(b!==null){var T=v.child;b=b.firstContext;e:for(;b!==null;){var $=b;b=v;for(var H=0;H<l.length;H++)if($.context===l[H]){b.lanes|=u,$=b.alternate,$!==null&&($.lanes|=u),Ev(b.return,u,i),m||(T=null);break e}b=$.next}}else if(v.tag===18){if(T=v.return,T===null)throw Error(r(341));T.lanes|=u,b=T.alternate,b!==null&&(b.lanes|=u),Ev(T,u,i),T=null}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===i){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}}function Gc(i,l,u,m){i=null;for(var v=l,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var T=v.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var $=v.type;ia(v.pendingProps.value,T.value)||(i!==null?i.push($):i=[$])}}else if(v===Oe.current){if(T=v.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(pf):i=[pf])}v=v.return}i!==null&&Sv(l,i,u,m),l.flags|=262144}function Tm(i){for(i=i.firstContext;i!==null;){if(!ia(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Dl(i){Rl=i,cs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ur(i){return _S(Rl,i)}function Cm(i,l){return Rl===null&&Dl(i),_S(i,l)}function _S(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},cs===null){if(i===null)throw Error(r(308));cs=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else cs=cs.next=l;return u}var C8=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},I8=t.unstable_scheduleCallback,O8=t.unstable_NormalPriority,On={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Av(){return{controller:new C8,data:new Map,refCount:0}}function $d(i){i.refCount--,i.refCount===0&&I8(O8,function(){i.controller.abort()})}var Fd=null,Tv=0,Kc=0,Yc=null;function R8(i,l){if(Fd===null){var u=Fd=[];Tv=0,Kc=Ox(),Yc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Tv++,l.then(jS,jS),l}function jS(){if(--Tv===0&&Fd!==null){Yc!==null&&(Yc.status="fulfilled");var i=Fd;Fd=null,Kc=0,Yc=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function D8(i,l){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var v=0;v<u.length;v++)(0,u[v])(l)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var ES=G.S;G.S=function(i,l){lT=Pe(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&R8(i,l),ES!==null&&ES(i,l)};var Pl=F(null);function Cv(){var i=Pl.current;return i!==null?i:$t.pooledCache}function Im(i,l){l===null?K(Pl,Pl.current):K(Pl,l.pool)}function SS(){var i=Cv();return i===null?null:{parent:On._currentValue,pool:i}}var Wc=Error(r(460)),Iv=Error(r(474)),Om=Error(r(542)),Rm={then:function(){}};function AS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function TS(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(Ka,Ka),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,IS(i),i;default:if(typeof l.status=="string")l.then(Ka,Ka);else{if(i=$t,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=m}},function(m){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,IS(i),i}throw Ml=l,Wc}}function kl(i){try{var l=i._init;return l(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ml=u,Wc):u}}var Ml=null;function CS(){if(Ml===null)throw Error(r(459));var i=Ml;return Ml=null,i}function IS(i){if(i===Wc||i===Om)throw Error(r(483))}var Xc=null,qd=0;function Dm(i){var l=qd;return qd+=1,Xc===null&&(Xc=[]),TS(Xc,i,l)}function Hd(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Pm(i,l){throw l.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function OS(i){function l(Z,W){if(i){var ie=Z.deletions;ie===null?(Z.deletions=[W],Z.flags|=16):ie.push(W)}}function u(Z,W){if(!i)return null;for(;W!==null;)l(Z,W),W=W.sibling;return null}function m(Z){for(var W=new Map;Z!==null;)Z.key!==null?W.set(Z.key,Z):W.set(Z.index,Z),Z=Z.sibling;return W}function v(Z,W){return Z=os(Z,W),Z.index=0,Z.sibling=null,Z}function b(Z,W,ie){return Z.index=ie,i?(ie=Z.alternate,ie!==null?(ie=ie.index,ie<W?(Z.flags|=67108866,W):ie):(Z.flags|=67108866,W)):(Z.flags|=1048576,W)}function T(Z){return i&&Z.alternate===null&&(Z.flags|=67108866),Z}function $(Z,W,ie,be){return W===null||W.tag!==6?(W=vv(ie,Z.mode,be),W.return=Z,W):(W=v(W,ie),W.return=Z,W)}function H(Z,W,ie,be){var $e=ie.type;return $e===_?ve(Z,W,ie.props.children,be,ie.key):W!==null&&(W.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===V&&kl($e)===W.type)?(W=v(W,ie.props),Hd(W,ie),W.return=Z,W):(W=Sm(ie.type,ie.key,ie.props,null,Z.mode,be),Hd(W,ie),W.return=Z,W)}function se(Z,W,ie,be){return W===null||W.tag!==4||W.stateNode.containerInfo!==ie.containerInfo||W.stateNode.implementation!==ie.implementation?(W=xv(ie,Z.mode,be),W.return=Z,W):(W=v(W,ie.children||[]),W.return=Z,W)}function ve(Z,W,ie,be,$e){return W===null||W.tag!==7?(W=Il(ie,Z.mode,be,$e),W.return=Z,W):(W=v(W,ie),W.return=Z,W)}function Ne(Z,W,ie){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=vv(""+W,Z.mode,ie),W.return=Z,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return ie=Sm(W.type,W.key,W.props,null,Z.mode,ie),Hd(ie,W),ie.return=Z,ie;case E:return W=xv(W,Z.mode,ie),W.return=Z,W;case V:return W=kl(W),Ne(Z,W,ie)}if(ae(W)||B(W))return W=Il(W,Z.mode,ie,null),W.return=Z,W;if(typeof W.then=="function")return Ne(Z,Dm(W),ie);if(W.$$typeof===A)return Ne(Z,Cm(Z,W),ie);Pm(Z,W)}return null}function le(Z,W,ie,be){var $e=W!==null?W.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $e!==null?null:$(Z,W,""+ie,be);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return ie.key===$e?H(Z,W,ie,be):null;case E:return ie.key===$e?se(Z,W,ie,be):null;case V:return ie=kl(ie),le(Z,W,ie,be)}if(ae(ie)||B(ie))return $e!==null?null:ve(Z,W,ie,be,null);if(typeof ie.then=="function")return le(Z,W,Dm(ie),be);if(ie.$$typeof===A)return le(Z,W,Cm(Z,ie),be);Pm(Z,ie)}return null}function de(Z,W,ie,be,$e){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return Z=Z.get(ie)||null,$(W,Z,""+be,$e);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case w:return Z=Z.get(be.key===null?ie:be.key)||null,H(W,Z,be,$e);case E:return Z=Z.get(be.key===null?ie:be.key)||null,se(W,Z,be,$e);case V:return be=kl(be),de(Z,W,ie,be,$e)}if(ae(be)||B(be))return Z=Z.get(ie)||null,ve(W,Z,be,$e,null);if(typeof be.then=="function")return de(Z,W,ie,Dm(be),$e);if(be.$$typeof===A)return de(Z,W,ie,Cm(W,be),$e);Pm(W,be)}return null}function Le(Z,W,ie,be){for(var $e=null,wt=null,Ue=W,ct=W=0,pt=null;Ue!==null&&ct<ie.length;ct++){Ue.index>ct?(pt=Ue,Ue=null):pt=Ue.sibling;var Nt=le(Z,Ue,ie[ct],be);if(Nt===null){Ue===null&&(Ue=pt);break}i&&Ue&&Nt.alternate===null&&l(Z,Ue),W=b(Nt,W,ct),wt===null?$e=Nt:wt.sibling=Nt,wt=Nt,Ue=pt}if(ct===ie.length)return u(Z,Ue),xt&&ls(Z,ct),$e;if(Ue===null){for(;ct<ie.length;ct++)Ue=Ne(Z,ie[ct],be),Ue!==null&&(W=b(Ue,W,ct),wt===null?$e=Ue:wt.sibling=Ue,wt=Ue);return xt&&ls(Z,ct),$e}for(Ue=m(Ue);ct<ie.length;ct++)pt=de(Ue,Z,ct,ie[ct],be),pt!==null&&(i&&pt.alternate!==null&&Ue.delete(pt.key===null?ct:pt.key),W=b(pt,W,ct),wt===null?$e=pt:wt.sibling=pt,wt=pt);return i&&Ue.forEach(function(Oo){return l(Z,Oo)}),xt&&ls(Z,ct),$e}function Ke(Z,W,ie,be){if(ie==null)throw Error(r(151));for(var $e=null,wt=null,Ue=W,ct=W=0,pt=null,Nt=ie.next();Ue!==null&&!Nt.done;ct++,Nt=ie.next()){Ue.index>ct?(pt=Ue,Ue=null):pt=Ue.sibling;var Oo=le(Z,Ue,Nt.value,be);if(Oo===null){Ue===null&&(Ue=pt);break}i&&Ue&&Oo.alternate===null&&l(Z,Ue),W=b(Oo,W,ct),wt===null?$e=Oo:wt.sibling=Oo,wt=Oo,Ue=pt}if(Nt.done)return u(Z,Ue),xt&&ls(Z,ct),$e;if(Ue===null){for(;!Nt.done;ct++,Nt=ie.next())Nt=Ne(Z,Nt.value,be),Nt!==null&&(W=b(Nt,W,ct),wt===null?$e=Nt:wt.sibling=Nt,wt=Nt);return xt&&ls(Z,ct),$e}for(Ue=m(Ue);!Nt.done;ct++,Nt=ie.next())Nt=de(Ue,Z,ct,Nt.value,be),Nt!==null&&(i&&Nt.alternate!==null&&Ue.delete(Nt.key===null?ct:Nt.key),W=b(Nt,W,ct),wt===null?$e=Nt:wt.sibling=Nt,wt=Nt);return i&&Ue.forEach(function(qV){return l(Z,qV)}),xt&&ls(Z,ct),$e}function Ut(Z,W,ie,be){if(typeof ie=="object"&&ie!==null&&ie.type===_&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:e:{for(var $e=ie.key;W!==null;){if(W.key===$e){if($e=ie.type,$e===_){if(W.tag===7){u(Z,W.sibling),be=v(W,ie.props.children),be.return=Z,Z=be;break e}}else if(W.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===V&&kl($e)===W.type){u(Z,W.sibling),be=v(W,ie.props),Hd(be,ie),be.return=Z,Z=be;break e}u(Z,W);break}else l(Z,W);W=W.sibling}ie.type===_?(be=Il(ie.props.children,Z.mode,be,ie.key),be.return=Z,Z=be):(be=Sm(ie.type,ie.key,ie.props,null,Z.mode,be),Hd(be,ie),be.return=Z,Z=be)}return T(Z);case E:e:{for($e=ie.key;W!==null;){if(W.key===$e)if(W.tag===4&&W.stateNode.containerInfo===ie.containerInfo&&W.stateNode.implementation===ie.implementation){u(Z,W.sibling),be=v(W,ie.children||[]),be.return=Z,Z=be;break e}else{u(Z,W);break}else l(Z,W);W=W.sibling}be=xv(ie,Z.mode,be),be.return=Z,Z=be}return T(Z);case V:return ie=kl(ie),Ut(Z,W,ie,be)}if(ae(ie))return Le(Z,W,ie,be);if(B(ie)){if($e=B(ie),typeof $e!="function")throw Error(r(150));return ie=$e.call(ie),Ke(Z,W,ie,be)}if(typeof ie.then=="function")return Ut(Z,W,Dm(ie),be);if(ie.$$typeof===A)return Ut(Z,W,Cm(Z,ie),be);Pm(Z,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,W!==null&&W.tag===6?(u(Z,W.sibling),be=v(W,ie),be.return=Z,Z=be):(u(Z,W),be=vv(ie,Z.mode,be),be.return=Z,Z=be),T(Z)):u(Z,W)}return function(Z,W,ie,be){try{qd=0;var $e=Ut(Z,W,ie,be);return Xc=null,$e}catch(Ue){if(Ue===Wc||Ue===Om)throw Ue;var wt=sa(29,Ue,null,Z.mode);return wt.lanes=be,wt.return=Z,wt}finally{}}}var Ll=OS(!0),RS=OS(!1),mo=!1;function Ov(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rv(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function po(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function go(i,l,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Tt&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,l=Em(i),pS(i,null,u),l}return jm(i,m,l,u),Em(i)}function Gd(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,xd(i,u)}}function Dv(i,l){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=T:b=b.next=T,u=u.next}while(u!==null);b===null?v=b=l:b=b.next=l}else v=b=l;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var Pv=!1;function Kd(){if(Pv){var i=Yc;if(i!==null)throw i}}function Yd(i,l,u,m){Pv=!1;var v=i.updateQueue;mo=!1;var b=v.firstBaseUpdate,T=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var H=$,se=H.next;H.next=null,T===null?b=se:T.next=se,T=H;var ve=i.alternate;ve!==null&&(ve=ve.updateQueue,$=ve.lastBaseUpdate,$!==T&&($===null?ve.firstBaseUpdate=se:$.next=se,ve.lastBaseUpdate=H))}if(b!==null){var Ne=v.baseState;T=0,ve=se=H=null,$=b;do{var le=$.lane&-536870913,de=le!==$.lane;if(de?(mt&le)===le:(m&le)===le){le!==0&&le===Kc&&(Pv=!0),ve!==null&&(ve=ve.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Le=i,Ke=$;le=l;var Ut=u;switch(Ke.tag){case 1:if(Le=Ke.payload,typeof Le=="function"){Ne=Le.call(Ut,Ne,le);break e}Ne=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ke.payload,le=typeof Le=="function"?Le.call(Ut,Ne,le):Le,le==null)break e;Ne=g({},Ne,le);break e;case 2:mo=!0}}le=$.callback,le!==null&&(i.flags|=64,de&&(i.flags|=8192),de=v.callbacks,de===null?v.callbacks=[le]:de.push(le))}else de={lane:le,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ve===null?(se=ve=de,H=Ne):ve=ve.next=de,T|=le;if($=$.next,$===null){if($=v.shared.pending,$===null)break;de=$,$=de.next,de.next=null,v.lastBaseUpdate=de,v.shared.pending=null}}while(!0);ve===null&&(H=Ne),v.baseState=H,v.firstBaseUpdate=se,v.lastBaseUpdate=ve,b===null&&(v.shared.lanes=0),wo|=T,i.lanes=T,i.memoizedState=Ne}}function DS(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function PS(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)DS(u[i],l)}var Qc=F(null),km=F(0);function kS(i,l){i=xs,K(km,i),K(Qc,l),xs=i|l.baseLanes}function kv(){K(km,xs),K(Qc,Qc.current)}function Mv(){xs=km.current,Q(Qc),Q(km)}var oa=F(null),Ca=null;function yo(i){var l=i.alternate;K(vn,vn.current&1),K(oa,i),Ca===null&&(l===null||Qc.current!==null||l.memoizedState!==null)&&(Ca=i)}function Lv(i){K(vn,vn.current),K(oa,i),Ca===null&&(Ca=i)}function MS(i){i.tag===22?(K(vn,vn.current),K(oa,i),Ca===null&&(Ca=i)):vo()}function vo(){K(vn,vn.current),K(oa,oa.current)}function la(i){Q(oa),Ca===i&&(Ca=null),Q(vn)}var vn=F(0);function Mm(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Fx(u)||qx(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ds=0,lt=null,Mt=null,Rn=null,Lm=!1,Jc=!1,Ul=!1,Um=0,Wd=0,Zc=null,P8=0;function hn(){throw Error(r(321))}function Uv(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!ia(i[u],l[u]))return!1;return!0}function Vv(i,l,u,m,v,b){return ds=b,lt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,G.H=i===null||i.memoizedState===null?xA:ex,Ul=!1,b=u(m,v),Ul=!1,Jc&&(b=US(l,u,m,v)),LS(i),b}function LS(i){G.H=Jd;var l=Mt!==null&&Mt.next!==null;if(ds=0,Rn=Mt=lt=null,Lm=!1,Wd=0,Zc=null,l)throw Error(r(300));i===null||Dn||(i=i.dependencies,i!==null&&Tm(i)&&(Dn=!0))}function US(i,l,u,m){lt=i;var v=0;do{if(Jc&&(Zc=null),Wd=0,Jc=!1,25<=v)throw Error(r(301));if(v+=1,Rn=Mt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}G.H=bA,b=l(u,m)}while(Jc);return b}function k8(){var i=G.H,l=i.useState()[0];return l=typeof l.then=="function"?Xd(l):l,i=i.useState()[0],(Mt!==null?Mt.memoizedState:null)!==i&&(lt.flags|=1024),l}function zv(){var i=Um!==0;return Um=0,i}function Bv(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function $v(i){if(Lm){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Lm=!1}ds=0,Rn=Mt=lt=null,Jc=!1,Wd=Um=0,Zc=null}function Or(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?lt.memoizedState=Rn=i:Rn=Rn.next=i,Rn}function xn(){if(Mt===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var l=Rn===null?lt.memoizedState:Rn.next;if(l!==null)Rn=l,Mt=i;else{if(i===null)throw lt.alternate===null?Error(r(467)):Error(r(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Rn===null?lt.memoizedState=Rn=i:Rn=Rn.next=i}return Rn}function Vm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xd(i){var l=Wd;return Wd+=1,Zc===null&&(Zc=[]),i=TS(Zc,i,l),l=lt,(Rn===null?l.memoizedState:Rn.next)===null&&(l=l.alternate,G.H=l===null||l.memoizedState===null?xA:ex),i}function zm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xd(i);if(i.$$typeof===A)return ur(i)}throw Error(r(438,String(i)))}function Fv(i){var l=null,u=lt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=lt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Vm(),lt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),m=0;m<i;m++)u[m]=I;return l.index++,u}function fs(i,l){return typeof l=="function"?l(i):l}function Bm(i){var l=xn();return qv(l,Mt,i)}function qv(i,l,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=i.baseQueue,b=m.pending;if(b!==null){if(v!==null){var T=v.next;v.next=b.next,b.next=T}l.baseQueue=v=b,m.pending=null}if(b=i.baseState,v===null)i.memoizedState=b;else{l=v.next;var $=T=null,H=null,se=l,ve=!1;do{var Ne=se.lane&-536870913;if(Ne!==se.lane?(mt&Ne)===Ne:(ds&Ne)===Ne){var le=se.revertLane;if(le===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Ne===Kc&&(ve=!0);else if((ds&le)===le){se=se.next,le===Kc&&(ve=!0);continue}else Ne={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?($=H=Ne,T=b):H=H.next=Ne,lt.lanes|=le,wo|=le;Ne=se.action,Ul&&u(b,Ne),b=se.hasEagerState?se.eagerState:u(b,Ne)}else le={lane:Ne,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},H===null?($=H=le,T=b):H=H.next=le,lt.lanes|=Ne,wo|=Ne;se=se.next}while(se!==null&&se!==l);if(H===null?T=b:H.next=$,!ia(b,i.memoizedState)&&(Dn=!0,ve&&(u=Yc,u!==null)))throw u;i.memoizedState=b,i.baseState=T,i.baseQueue=H,m.lastRenderedState=b}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Hv(i){var l=xn(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,b=l.memoizedState;if(v!==null){u.pending=null;var T=v=v.next;do b=i(b,T.action),T=T.next;while(T!==v);ia(b,l.memoizedState)||(Dn=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),u.lastRenderedState=b}return[b,m]}function VS(i,l,u){var m=lt,v=xn(),b=xt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=l();var T=!ia((Mt||v).memoizedState,u);if(T&&(v.memoizedState=u,Dn=!0),v=v.queue,Yv($S.bind(null,m,v,i),[i]),v.getSnapshot!==l||T||Rn!==null&&Rn.memoizedState.tag&1){if(m.flags|=2048,eu(9,{destroy:void 0},BS.bind(null,m,v,u,l),null),$t===null)throw Error(r(349));b||(ds&127)!==0||zS(m,l,u)}return u}function zS(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=lt.updateQueue,l===null?(l=Vm(),lt.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function BS(i,l,u,m){l.value=u,l.getSnapshot=m,FS(l)&&qS(i)}function $S(i,l,u){return u(function(){FS(l)&&qS(i)})}function FS(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!ia(i,u)}catch{return!0}}function qS(i){var l=Cl(i,2);l!==null&&Hr(l,i,2)}function Gv(i){var l=Or();if(typeof i=="function"){var u=i;if(i=u(),Ul){Cr(!0);try{u()}finally{Cr(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:i},l}function HS(i,l,u,m){return i.baseState=u,qv(i,Mt,typeof m=="function"?m:fs)}function M8(i,l,u,m,v){if(qm(i))throw Error(r(485));if(i=l.action,i!==null){var b={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){b.listeners.push(T)}};G.T!==null?u(!0):b.isTransition=!1,m(b),u=l.pending,u===null?(b.next=l.pending=b,GS(l,b)):(b.next=u.next,l.pending=u.next=b)}}function GS(i,l){var u=l.action,m=l.payload,v=i.state;if(l.isTransition){var b=G.T,T={};G.T=T;try{var $=u(v,m),H=G.S;H!==null&&H(T,$),KS(i,l,$)}catch(se){Kv(i,l,se)}finally{b!==null&&T.types!==null&&(b.types=T.types),G.T=b}}else try{b=u(v,m),KS(i,l,b)}catch(se){Kv(i,l,se)}}function KS(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){YS(i,l,m)},function(m){return Kv(i,l,m)}):YS(i,l,u)}function YS(i,l,u){l.status="fulfilled",l.value=u,WS(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,GS(i,u)))}function Kv(i,l,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,WS(l),l=l.next;while(l!==m)}i.action=null}function WS(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function XS(i,l){return l}function QS(i,l){if(xt){var u=$t.formState;if(u!==null){e:{var m=lt;if(xt){if(Yt){t:{for(var v=Yt,b=Ta;v.nodeType!==8;){if(!b){v=null;break t}if(v=Ia(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Yt=Ia(v.nextSibling),m=v.data==="F!";break e}}fo(m)}m=!1}m&&(l=u[0])}}return u=Or(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XS,lastRenderedState:l},u.queue=m,u=gA.bind(null,lt,m),m.dispatch=u,m=Gv(!1),b=Zv.bind(null,lt,!1,m.queue),m=Or(),v={state:l,dispatch:null,action:i,pending:null},m.queue=v,u=M8.bind(null,lt,v,b,u),v.dispatch=u,m.memoizedState=i,[l,u,!1]}function JS(i){var l=xn();return ZS(l,Mt,i)}function ZS(i,l,u){if(l=qv(i,l,XS)[0],i=Bm(fs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Xd(l)}catch(T){throw T===Wc?Om:T}else m=l;l=xn();var v=l.queue,b=v.dispatch;return u!==l.memoizedState&&(lt.flags|=2048,eu(9,{destroy:void 0},L8.bind(null,v,u),null)),[m,b,i]}function L8(i,l){i.action=l}function eA(i){var l=xn(),u=Mt;if(u!==null)return ZS(l,u,i);xn(),l=l.memoizedState,u=xn();var m=u.queue.dispatch;return u.memoizedState=i,[l,m,!1]}function eu(i,l,u,m){return i={tag:i,create:u,deps:m,inst:l,next:null},l=lt.updateQueue,l===null&&(l=Vm(),lt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,l.lastEffect=i),i}function tA(){return xn().memoizedState}function $m(i,l,u,m){var v=Or();lt.flags|=i,v.memoizedState=eu(1|l,{destroy:void 0},u,m===void 0?null:m)}function Fm(i,l,u,m){var v=xn();m=m===void 0?null:m;var b=v.memoizedState.inst;Mt!==null&&m!==null&&Uv(m,Mt.memoizedState.deps)?v.memoizedState=eu(l,b,u,m):(lt.flags|=i,v.memoizedState=eu(1|l,b,u,m))}function nA(i,l){$m(8390656,8,i,l)}function Yv(i,l){Fm(2048,8,i,l)}function U8(i){lt.flags|=4;var l=lt.updateQueue;if(l===null)l=Vm(),lt.updateQueue=l,l.events=[i];else{var u=l.events;u===null?l.events=[i]:u.push(i)}}function rA(i){var l=xn().memoizedState;return U8({ref:l,nextImpl:i}),function(){if((Tt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function aA(i,l){return Fm(4,2,i,l)}function iA(i,l){return Fm(4,4,i,l)}function sA(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function oA(i,l,u){u=u!=null?u.concat([i]):null,Fm(4,4,sA.bind(null,l,i),u)}function Wv(){}function lA(i,l){var u=xn();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&Uv(l,m[1])?m[0]:(u.memoizedState=[i,l],i)}function cA(i,l){var u=xn();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&Uv(l,m[1]))return m[0];if(m=i(),Ul){Cr(!0);try{i()}finally{Cr(!1)}}return u.memoizedState=[m,l],m}function Xv(i,l,u){return u===void 0||(ds&1073741824)!==0&&(mt&261930)===0?i.memoizedState=l:(i.memoizedState=u,i=uT(),lt.lanes|=i,wo|=i,u)}function uA(i,l,u,m){return ia(u,l)?u:Qc.current!==null?(i=Xv(i,u,m),ia(i,l)||(Dn=!0),i):(ds&42)===0||(ds&1073741824)!==0&&(mt&261930)===0?(Dn=!0,i.memoizedState=u):(i=uT(),lt.lanes|=i,wo|=i,l)}function dA(i,l,u,m,v){var b=re.p;re.p=b!==0&&8>b?b:8;var T=G.T,$={};G.T=$,Zv(i,!1,l,u);try{var H=v(),se=G.S;if(se!==null&&se($,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ve=D8(H,m);Qd(i,l,ve,da(i))}else Qd(i,l,m,da(i))}catch(Ne){Qd(i,l,{then:function(){},status:"rejected",reason:Ne},da())}finally{re.p=b,T!==null&&$.types!==null&&(T.types=$.types),G.T=T}}function V8(){}function Qv(i,l,u,m){if(i.tag!==5)throw Error(r(476));var v=fA(i).queue;dA(i,v,l,Y,u===null?V8:function(){return hA(i),u(m)})}function fA(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:Y},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function hA(i){var l=fA(i);l.next===null&&(l=i.alternate.memoizedState),Qd(i,l.next.queue,{},da())}function Jv(){return ur(pf)}function mA(){return xn().memoizedState}function pA(){return xn().memoizedState}function z8(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=da();i=po(u);var m=go(l,i,u);m!==null&&(Hr(m,l,u),Gd(m,l,u)),l={cache:Av()},i.payload=l;return}l=l.return}}function B8(i,l,u){var m=da();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},qm(i)?yA(l,u):(u=gv(i,l,u,m),u!==null&&(Hr(u,i,m),vA(u,l,m)))}function gA(i,l,u){var m=da();Qd(i,l,u,m)}function Qd(i,l,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(qm(i))yA(l,v);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var T=l.lastRenderedState,$=b(T,u);if(v.hasEagerState=!0,v.eagerState=$,ia($,T))return jm(i,l,v,0),$t===null&&_m(),!1}catch{}finally{}if(u=gv(i,l,v,m),u!==null)return Hr(u,i,m),vA(u,l,m),!0}return!1}function Zv(i,l,u,m){if(m={lane:2,revertLane:Ox(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},qm(i)){if(l)throw Error(r(479))}else l=gv(i,u,m,2),l!==null&&Hr(l,i,2)}function qm(i){var l=i.alternate;return i===lt||l!==null&&l===lt}function yA(i,l){Jc=Lm=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function vA(i,l,u){if((u&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,xd(i,u)}}var Jd={readContext:ur,use:zm,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn};Jd.useEffectEvent=hn;var xA={readContext:ur,use:zm,useCallback:function(i,l){return Or().memoizedState=[i,l===void 0?null:l],i},useContext:ur,useEffect:nA,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,$m(4194308,4,sA.bind(null,l,i),u)},useLayoutEffect:function(i,l){return $m(4194308,4,i,l)},useInsertionEffect:function(i,l){$m(4,2,i,l)},useMemo:function(i,l){var u=Or();l=l===void 0?null:l;var m=i();if(Ul){Cr(!0);try{i()}finally{Cr(!1)}}return u.memoizedState=[m,l],m},useReducer:function(i,l,u){var m=Or();if(u!==void 0){var v=u(l);if(Ul){Cr(!0);try{u(l)}finally{Cr(!1)}}}else v=l;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=B8.bind(null,lt,i),[m.memoizedState,i]},useRef:function(i){var l=Or();return i={current:i},l.memoizedState=i},useState:function(i){i=Gv(i);var l=i.queue,u=gA.bind(null,lt,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:Wv,useDeferredValue:function(i,l){var u=Or();return Xv(u,i,l)},useTransition:function(){var i=Gv(!1);return i=dA.bind(null,lt,i.queue,!0,!1),Or().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var m=lt,v=Or();if(xt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),$t===null)throw Error(r(349));(mt&127)!==0||zS(m,l,u)}v.memoizedState=u;var b={value:u,getSnapshot:l};return v.queue=b,nA($S.bind(null,m,b,i),[i]),m.flags|=2048,eu(9,{destroy:void 0},BS.bind(null,m,b,u,l),null),u},useId:function(){var i=Or(),l=$t.identifierPrefix;if(xt){var u=Pi,m=Di;u=(m&~(1<<32-gn(m)-1)).toString(32)+u,l="_"+l+"R_"+u,u=Um++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=P8++,l="_"+l+"r_"+u.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:Jv,useFormState:QS,useActionState:QS,useOptimistic:function(i){var l=Or();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Zv.bind(null,lt,!0,u),u.dispatch=l,[i,l]},useMemoCache:Fv,useCacheRefresh:function(){return Or().memoizedState=z8.bind(null,lt)},useEffectEvent:function(i){var l=Or(),u={impl:i};return l.memoizedState=u,function(){if((Tt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},ex={readContext:ur,use:zm,useCallback:lA,useContext:ur,useEffect:Yv,useImperativeHandle:oA,useInsertionEffect:aA,useLayoutEffect:iA,useMemo:cA,useReducer:Bm,useRef:tA,useState:function(){return Bm(fs)},useDebugValue:Wv,useDeferredValue:function(i,l){var u=xn();return uA(u,Mt.memoizedState,i,l)},useTransition:function(){var i=Bm(fs)[0],l=xn().memoizedState;return[typeof i=="boolean"?i:Xd(i),l]},useSyncExternalStore:VS,useId:mA,useHostTransitionStatus:Jv,useFormState:JS,useActionState:JS,useOptimistic:function(i,l){var u=xn();return HS(u,Mt,i,l)},useMemoCache:Fv,useCacheRefresh:pA};ex.useEffectEvent=rA;var bA={readContext:ur,use:zm,useCallback:lA,useContext:ur,useEffect:Yv,useImperativeHandle:oA,useInsertionEffect:aA,useLayoutEffect:iA,useMemo:cA,useReducer:Hv,useRef:tA,useState:function(){return Hv(fs)},useDebugValue:Wv,useDeferredValue:function(i,l){var u=xn();return Mt===null?Xv(u,i,l):uA(u,Mt.memoizedState,i,l)},useTransition:function(){var i=Hv(fs)[0],l=xn().memoizedState;return[typeof i=="boolean"?i:Xd(i),l]},useSyncExternalStore:VS,useId:mA,useHostTransitionStatus:Jv,useFormState:eA,useActionState:eA,useOptimistic:function(i,l){var u=xn();return Mt!==null?HS(u,Mt,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Fv,useCacheRefresh:pA};bA.useEffectEvent=rA;function tx(i,l,u,m){l=i.memoizedState,u=u(m,l),u=u==null?l:g({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var nx={enqueueSetState:function(i,l,u){i=i._reactInternals;var m=da(),v=po(m);v.payload=l,u!=null&&(v.callback=u),l=go(i,v,m),l!==null&&(Hr(l,i,m),Gd(l,i,m))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var m=da(),v=po(m);v.tag=1,v.payload=l,u!=null&&(v.callback=u),l=go(i,v,m),l!==null&&(Hr(l,i,m),Gd(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=da(),m=po(u);m.tag=2,l!=null&&(m.callback=l),l=go(i,m,u),l!==null&&(Hr(l,i,u),Gd(l,i,u))}};function wA(i,l,u,m,v,b,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,T):l.prototype&&l.prototype.isPureReactComponent?!Ud(u,m)||!Ud(v,b):!0}function NA(i,l,u,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==i&&nx.enqueueReplaceState(l,l.state,null)}function Vl(i,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(i=i.defaultProps){u===l&&(u=g({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function _A(i){Nm(i)}function jA(i){console.error(i)}function EA(i){Nm(i)}function Hm(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function SA(i,l,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function rx(i,l,u){return u=po(u),u.tag=3,u.payload={element:null},u.callback=function(){Hm(i,l)},u}function AA(i){return i=po(i),i.tag=3,i}function TA(i,l,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=m.value;i.payload=function(){return v(b)},i.callback=function(){SA(l,u,m)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){SA(l,u,m),typeof v!="function"&&(No===null?No=new Set([this]):No.add(this));var $=m.stack;this.componentDidCatch(m.value,{componentStack:$!==null?$:""})})}function $8(i,l,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&Gc(l,u,v,!0),u=oa.current,u!==null){switch(u.tag){case 31:case 13:return Ca===null?rp():u.alternate===null&&mn===0&&(mn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===Rm?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),Tx(i,m,v)),!1;case 22:return u.flags|=65536,m===Rm?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),Tx(i,m,v)),!1}throw Error(r(435,u.tag))}return Tx(i,m,v),rp(),!1}if(xt)return l=oa.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,m!==Nv&&(i=Error(r(422),{cause:m}),Bd(Ea(i,u)))):(m!==Nv&&(l=Error(r(423),{cause:m}),Bd(Ea(l,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=Ea(m,u),v=rx(i.stateNode,m,v),Dv(i,v),mn!==4&&(mn=2)),!1;var b=Error(r(520),{cause:m});if(b=Ea(b,u),of===null?of=[b]:of.push(b),mn!==4&&(mn=2),l===null)return!0;m=Ea(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=rx(u.stateNode,m,i),Dv(u,i),!1;case 1:if(l=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(No===null||!No.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=AA(v),TA(v,i,u,m),Dv(u,v),!1}u=u.return}while(u!==null);return!1}var ax=Error(r(461)),Dn=!1;function dr(i,l,u,m){l.child=i===null?RS(l,null,u,m):Ll(l,i.child,u,m)}function CA(i,l,u,m,v){u=u.render;var b=l.ref;if("ref"in m){var T={};for(var $ in m)$!=="ref"&&(T[$]=m[$])}else T=m;return Dl(l),m=Vv(i,l,u,T,b,v),$=zv(),i!==null&&!Dn?(Bv(i,l,v),hs(i,l,v)):(xt&&$&&bv(l),l.flags|=1,dr(i,l,m,v),l.child)}function IA(i,l,u,m,v){if(i===null){var b=u.type;return typeof b=="function"&&!yv(b)&&b.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=b,OA(i,l,b,m,v)):(i=Sm(u.type,null,m,l,l.mode,v),i.ref=l.ref,i.return=l,l.child=i)}if(b=i.child,!fx(i,v)){var T=b.memoizedProps;if(u=u.compare,u=u!==null?u:Ud,u(T,m)&&i.ref===l.ref)return hs(i,l,v)}return l.flags|=1,i=os(b,m),i.ref=l.ref,i.return=l,l.child=i}function OA(i,l,u,m,v){if(i!==null){var b=i.memoizedProps;if(Ud(b,m)&&i.ref===l.ref)if(Dn=!1,l.pendingProps=m=b,fx(i,v))(i.flags&131072)!==0&&(Dn=!0);else return l.lanes=i.lanes,hs(i,l,v)}return ix(i,l,u,m,v)}function RA(i,l,u,m){var v=m.children,b=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(m=l.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~b}else m=0,l.child=null;return DA(i,l,b,u,m)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Im(l,b!==null?b.cachePool:null),b!==null?kS(l,b):kv(),MS(l);else return m=l.lanes=536870912,DA(i,l,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(Im(l,b.cachePool),kS(l,b),vo(),l.memoizedState=null):(i!==null&&Im(l,null),kv(),vo());return dr(i,l,v,u),l.child}function Zd(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function DA(i,l,u,m,v){var b=Cv();return b=b===null?null:{parent:On._currentValue,pool:b},l.memoizedState={baseLanes:u,cachePool:b},i!==null&&Im(l,null),kv(),MS(l),i!==null&&Gc(i,l,m,!0),l.childLanes=v,null}function Gm(i,l){return l=Ym({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function PA(i,l,u){return Ll(l,i.child,null,u),i=Gm(l,l.pendingProps),i.flags|=2,la(l),l.memoizedState=null,i}function F8(i,l,u){var m=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(xt){if(m.mode==="hidden")return i=Gm(l,m),l.lanes=536870912,Zd(null,i);if(Lv(l),(i=Yt)?(i=GT(i,Ta),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:co!==null?{id:Di,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},u=yS(i),u.return=l,l.child=u,cr=l,Yt=null)):i=null,i===null)throw fo(l);return l.lanes=536870912,null}return Gm(l,m)}var b=i.memoizedState;if(b!==null){var T=b.dehydrated;if(Lv(l),v)if(l.flags&256)l.flags&=-257,l=PA(i,l,u);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(r(558));else if(Dn||Gc(i,l,u,!1),v=(u&i.childLanes)!==0,Dn||v){if(m=$t,m!==null&&(T=bd(m,u),T!==0&&T!==b.retryLane))throw b.retryLane=T,Cl(i,T),Hr(m,i,T),ax;rp(),l=PA(i,l,u)}else i=b.treeContext,Yt=Ia(T.nextSibling),cr=l,xt=!0,uo=null,Ta=!1,i!==null&&bS(l,i),l=Gm(l,m),l.flags|=4096;return l}return i=os(i.child,{mode:m.mode,children:m.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Km(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function ix(i,l,u,m,v){return Dl(l),u=Vv(i,l,u,m,void 0,v),m=zv(),i!==null&&!Dn?(Bv(i,l,v),hs(i,l,v)):(xt&&m&&bv(l),l.flags|=1,dr(i,l,u,v),l.child)}function kA(i,l,u,m,v,b){return Dl(l),l.updateQueue=null,u=US(l,m,u,v),LS(i),m=zv(),i!==null&&!Dn?(Bv(i,l,b),hs(i,l,b)):(xt&&m&&bv(l),l.flags|=1,dr(i,l,u,b),l.child)}function MA(i,l,u,m,v){if(Dl(l),l.stateNode===null){var b=$c,T=u.contextType;typeof T=="object"&&T!==null&&(b=ur(T)),b=new u(m,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=nx,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=m,b.state=l.memoizedState,b.refs={},Ov(l),T=u.contextType,b.context=typeof T=="object"&&T!==null?ur(T):$c,b.state=l.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(tx(l,u,T,m),b.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(T=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),T!==b.state&&nx.enqueueReplaceState(b,b.state,null),Yd(l,m,b,v),Kd(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){b=l.stateNode;var $=l.memoizedProps,H=Vl(u,$);b.props=H;var se=b.context,ve=u.contextType;T=$c,typeof ve=="object"&&ve!==null&&(T=ur(ve));var Ne=u.getDerivedStateFromProps;ve=typeof Ne=="function"||typeof b.getSnapshotBeforeUpdate=="function",$=l.pendingProps!==$,ve||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($||se!==T)&&NA(l,b,m,T),mo=!1;var le=l.memoizedState;b.state=le,Yd(l,m,b,v),Kd(),se=l.memoizedState,$||le!==se||mo?(typeof Ne=="function"&&(tx(l,u,Ne,m),se=l.memoizedState),(H=mo||wA(l,u,H,m,le,se,T))?(ve||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=se),b.props=m,b.state=se,b.context=T,m=H):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{b=l.stateNode,Rv(i,l),T=l.memoizedProps,ve=Vl(u,T),b.props=ve,Ne=l.pendingProps,le=b.context,se=u.contextType,H=$c,typeof se=="object"&&se!==null&&(H=ur(se)),$=u.getDerivedStateFromProps,(se=typeof $=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==Ne||le!==H)&&NA(l,b,m,H),mo=!1,le=l.memoizedState,b.state=le,Yd(l,m,b,v),Kd();var de=l.memoizedState;T!==Ne||le!==de||mo||i!==null&&i.dependencies!==null&&Tm(i.dependencies)?(typeof $=="function"&&(tx(l,u,$,m),de=l.memoizedState),(ve=mo||wA(l,u,ve,m,le,de,H)||i!==null&&i.dependencies!==null&&Tm(i.dependencies))?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,de,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,de,H)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&le===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&le===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=de),b.props=m,b.state=de,b.context=H,m=ve):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&le===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&le===i.memoizedState||(l.flags|=1024),m=!1)}return b=m,Km(i,l),m=(l.flags&128)!==0,b||m?(b=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,i!==null&&m?(l.child=Ll(l,i.child,null,v),l.child=Ll(l,null,u,v)):dr(i,l,u,v),l.memoizedState=b.state,i=l.child):i=hs(i,l,v),i}function LA(i,l,u,m){return Ol(),l.flags|=256,dr(i,l,u,m),l.child}var sx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ox(i){return{baseLanes:i,cachePool:SS()}}function lx(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=ua),i}function UA(i,l,u){var m=l.pendingProps,v=!1,b=(l.flags&128)!==0,T;if((T=b)||(T=i!==null&&i.memoizedState===null?!1:(vn.current&2)!==0),T&&(v=!0,l.flags&=-129),T=(l.flags&32)!==0,l.flags&=-33,i===null){if(xt){if(v?yo(l):vo(),(i=Yt)?(i=GT(i,Ta),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:co!==null?{id:Di,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},u=yS(i),u.return=l,l.child=u,cr=l,Yt=null)):i=null,i===null)throw fo(l);return qx(i)?l.lanes=32:l.lanes=536870912,null}var $=m.children;return m=m.fallback,v?(vo(),v=l.mode,$=Ym({mode:"hidden",children:$},v),m=Il(m,v,u,null),$.return=l,m.return=l,$.sibling=m,l.child=$,m=l.child,m.memoizedState=ox(u),m.childLanes=lx(i,T,u),l.memoizedState=sx,Zd(null,m)):(yo(l),cx(l,$))}var H=i.memoizedState;if(H!==null&&($=H.dehydrated,$!==null)){if(b)l.flags&256?(yo(l),l.flags&=-257,l=ux(i,l,u)):l.memoizedState!==null?(vo(),l.child=i.child,l.flags|=128,l=null):(vo(),$=m.fallback,v=l.mode,m=Ym({mode:"visible",children:m.children},v),$=Il($,v,u,null),$.flags|=2,m.return=l,$.return=l,m.sibling=$,l.child=m,Ll(l,i.child,null,u),m=l.child,m.memoizedState=ox(u),m.childLanes=lx(i,T,u),l.memoizedState=sx,l=Zd(null,m));else if(yo(l),qx($)){if(T=$.nextSibling&&$.nextSibling.dataset,T)var se=T.dgst;T=se,m=Error(r(419)),m.stack="",m.digest=T,Bd({value:m,source:null,stack:null}),l=ux(i,l,u)}else if(Dn||Gc(i,l,u,!1),T=(u&i.childLanes)!==0,Dn||T){if(T=$t,T!==null&&(m=bd(T,u),m!==0&&m!==H.retryLane))throw H.retryLane=m,Cl(i,m),Hr(T,i,m),ax;Fx($)||rp(),l=ux(i,l,u)}else Fx($)?(l.flags|=192,l.child=i.child,l=null):(i=H.treeContext,Yt=Ia($.nextSibling),cr=l,xt=!0,uo=null,Ta=!1,i!==null&&bS(l,i),l=cx(l,m.children),l.flags|=4096);return l}return v?(vo(),$=m.fallback,v=l.mode,H=i.child,se=H.sibling,m=os(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,se!==null?$=os(se,$):($=Il($,v,u,null),$.flags|=2),$.return=l,m.return=l,m.sibling=$,l.child=m,Zd(null,m),m=l.child,$=i.child.memoizedState,$===null?$=ox(u):(v=$.cachePool,v!==null?(H=On._currentValue,v=v.parent!==H?{parent:H,pool:H}:v):v=SS(),$={baseLanes:$.baseLanes|u,cachePool:v}),m.memoizedState=$,m.childLanes=lx(i,T,u),l.memoizedState=sx,Zd(i.child,m)):(yo(l),u=i.child,i=u.sibling,u=os(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,i!==null&&(T=l.deletions,T===null?(l.deletions=[i],l.flags|=16):T.push(i)),l.child=u,l.memoizedState=null,u)}function cx(i,l){return l=Ym({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Ym(i,l){return i=sa(22,i,null,l),i.lanes=0,i}function ux(i,l,u){return Ll(l,i.child,null,u),i=cx(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function VA(i,l,u){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),Ev(i.return,l,u)}function dx(i,l,u,m,v,b){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:b}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=u,T.tailMode=v,T.treeForkCount=b)}function zA(i,l,u){var m=l.pendingProps,v=m.revealOrder,b=m.tail;m=m.children;var T=vn.current,$=(T&2)!==0;if($?(T=T&1|2,l.flags|=128):T&=1,K(vn,T),dr(i,l,m,u),m=xt?zd:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&VA(i,u,l);else if(i.tag===19)VA(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=l.child,v=null;u!==null;)i=u.alternate,i!==null&&Mm(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=l.child,l.child=null):(v=u.sibling,u.sibling=null),dx(l,!1,v,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=l.child,l.child=null;v!==null;){if(i=v.alternate,i!==null&&Mm(i)===null){l.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}dx(l,!0,u,null,b,m);break;case"together":dx(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function hs(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),wo|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(Gc(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,u=os(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=os(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function fx(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Tm(i)))}function q8(i,l,u){switch(l.tag){case 3:He(l,l.stateNode.containerInfo),ho(l,On,i.memoizedState.cache),Ol();break;case 27:case 5:Be(l);break;case 4:He(l,l.stateNode.containerInfo);break;case 10:ho(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Lv(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(yo(l),l.flags|=128,null):(u&l.child.childLanes)!==0?UA(i,l,u):(yo(l),i=hs(i,l,u),i!==null?i.sibling:null);yo(l);break;case 19:var v=(i.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(Gc(i,l,u,!1),m=(u&l.childLanes)!==0),v){if(m)return zA(i,l,u);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),K(vn,vn.current),m)break;return null;case 22:return l.lanes=0,RA(i,l,u,l.pendingProps);case 24:ho(l,On,i.memoizedState.cache)}return hs(i,l,u)}function BA(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)Dn=!0;else{if(!fx(i,u)&&(l.flags&128)===0)return Dn=!1,q8(i,l,u);Dn=(i.flags&131072)!==0}else Dn=!1,xt&&(l.flags&1048576)!==0&&xS(l,zd,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(i=kl(l.elementType),l.type=i,typeof i=="function")yv(i)?(m=Vl(i,m),l.tag=1,l=MA(null,l,i,m,u)):(l.tag=0,l=ix(null,l,i,m,u));else{if(i!=null){var v=i.$$typeof;if(v===D){l.tag=11,l=CA(null,l,i,m,u);break e}else if(v===k){l.tag=14,l=IA(null,l,i,m,u);break e}}throw l=me(i)||i,Error(r(306,l,""))}}return l;case 0:return ix(i,l,l.type,l.pendingProps,u);case 1:return m=l.type,v=Vl(m,l.pendingProps),MA(i,l,m,v,u);case 3:e:{if(He(l,l.stateNode.containerInfo),i===null)throw Error(r(387));m=l.pendingProps;var b=l.memoizedState;v=b.element,Rv(i,l),Yd(l,m,null,u);var T=l.memoizedState;if(m=T.cache,ho(l,On,m),m!==b.cache&&Sv(l,[On],u,!0),Kd(),m=T.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:T.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=LA(i,l,m,u);break e}else if(m!==v){v=Ea(Error(r(424)),l),Bd(v),l=LA(i,l,m,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Yt=Ia(i.firstChild),cr=l,xt=!0,uo=null,Ta=!0,u=RS(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ol(),m===v){l=hs(i,l,u);break e}dr(i,l,m,u)}l=l.child}return l;case 26:return Km(i,l),i===null?(u=JT(l.type,null,l.pendingProps,null))?l.memoizedState=u:xt||(u=l.type,i=l.pendingProps,m=up(Se.current).createElement(u),m[Tn]=l,m[Jn]=i,fr(m,u,i),Cn(m),l.stateNode=m):l.memoizedState=JT(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Be(l),i===null&&xt&&(m=l.stateNode=WT(l.type,l.pendingProps,Se.current),cr=l,Ta=!0,v=Yt,So(l.type)?(Hx=v,Yt=Ia(m.firstChild)):Yt=v),dr(i,l,l.pendingProps.children,u),Km(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&xt&&((v=m=Yt)&&(m=bV(m,l.type,l.pendingProps,Ta),m!==null?(l.stateNode=m,cr=l,Yt=Ia(m.firstChild),Ta=!1,v=!0):v=!1),v||fo(l)),Be(l),v=l.type,b=l.pendingProps,T=i!==null?i.memoizedProps:null,m=b.children,zx(v,b)?m=null:T!==null&&zx(v,T)&&(l.flags|=32),l.memoizedState!==null&&(v=Vv(i,l,k8,null,null,u),pf._currentValue=v),Km(i,l),dr(i,l,m,u),l.child;case 6:return i===null&&xt&&((i=u=Yt)&&(u=wV(u,l.pendingProps,Ta),u!==null?(l.stateNode=u,cr=l,Yt=null,i=!0):i=!1),i||fo(l)),null;case 13:return UA(i,l,u);case 4:return He(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=Ll(l,null,m,u):dr(i,l,m,u),l.child;case 11:return CA(i,l,l.type,l.pendingProps,u);case 7:return dr(i,l,l.pendingProps,u),l.child;case 8:return dr(i,l,l.pendingProps.children,u),l.child;case 12:return dr(i,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,ho(l,l.type,m.value),dr(i,l,m.children,u),l.child;case 9:return v=l.type._context,m=l.pendingProps.children,Dl(l),v=ur(v),m=m(v),l.flags|=1,dr(i,l,m,u),l.child;case 14:return IA(i,l,l.type,l.pendingProps,u);case 15:return OA(i,l,l.type,l.pendingProps,u);case 19:return zA(i,l,u);case 31:return F8(i,l,u);case 22:return RA(i,l,u,l.pendingProps);case 24:return Dl(l),m=ur(On),i===null?(v=Cv(),v===null&&(v=$t,b=Av(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),l.memoizedState={parent:m,cache:v},Ov(l),ho(l,On,v)):((i.lanes&u)!==0&&(Rv(i,l),Yd(l,null,null,u),Kd()),v=i.memoizedState,b=l.memoizedState,v.parent!==m?(v={parent:m,cache:m},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),ho(l,On,m)):(m=b.cache,ho(l,On,m),m!==v.cache&&Sv(l,[On],u,!0))),dr(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ms(i){i.flags|=4}function hx(i,l,u,m,v){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(mT())i.flags|=8192;else throw Ml=Rm,Iv}else i.flags&=-16777217}function $A(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!r2(l))if(mT())i.flags|=8192;else throw Ml=Rm,Iv}function Wm(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?tm():536870912,i.lanes|=l,au|=l)}function ef(i,l){if(!xt)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Wt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(l)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,l}function H8(i,l,u){var m=l.pendingProps;switch(wv(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(l),null;case 1:return Wt(l),null;case 3:return u=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),us(On),ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Hc(l)?ms(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,_v())),Wt(l),null;case 26:var v=l.type,b=l.memoizedState;return i===null?(ms(l),b!==null?(Wt(l),$A(l,b)):(Wt(l),hx(l,v,null,m,u))):b?b!==i.memoizedState?(ms(l),Wt(l),$A(l,b)):(Wt(l),l.flags&=-16777217):(i=i.memoizedProps,i!==m&&ms(l),Wt(l),hx(l,v,i,m,u)),null;case 27:if(ee(l),u=Se.current,v=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&ms(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Wt(l),null}i=J.current,Hc(l)?wS(l):(i=WT(v,m,u),l.stateNode=i,ms(l))}return Wt(l),null;case 5:if(ee(l),v=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&ms(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Wt(l),null}if(b=J.current,Hc(l))wS(l);else{var T=up(Se.current);switch(b){case 1:b=T.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=T.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=T.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?T.createElement("select",{is:m.is}):T.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?T.createElement(v,{is:m.is}):T.createElement(v)}}b[Tn]=l,b[Jn]=m;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)b.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=b;e:switch(fr(b,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ms(l)}}return Wt(l),hx(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,u),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&ms(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(i=Se.current,Hc(l)){if(i=l.stateNode,u=l.memoizedProps,m=null,v=cr,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[Tn]=l,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||UT(i.nodeValue,u)),i||fo(l,!0)}else i=up(i).createTextNode(m),i[Tn]=l,l.stateNode=i}return Wt(l),null;case 31:if(u=l.memoizedState,i===null||i.memoizedState!==null){if(m=Hc(l),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Tn]=l}else Ol(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Wt(l),i=!1}else u=_v(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return l.flags&256?(la(l),l):(la(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Wt(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Hc(l),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Tn]=l}else Ol(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Wt(l),v=!1}else v=_v(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(la(l),l):(la(l),null)}return la(l),(l.flags&128)!==0?(l.lanes=u,l):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=l.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==v&&(m.flags|=2048)),u!==i&&u&&(l.child.flags|=8192),Wm(l,l.updateQueue),Wt(l),null);case 4:return ce(),i===null&&kx(l.stateNode.containerInfo),Wt(l),null;case 10:return us(l.type),Wt(l),null;case 19:if(Q(vn),m=l.memoizedState,m===null)return Wt(l),null;if(v=(l.flags&128)!==0,b=m.rendering,b===null)if(v)ef(m,!1);else{if(mn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(b=Mm(i),b!==null){for(l.flags|=128,ef(m,!1),i=b.updateQueue,l.updateQueue=i,Wm(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)gS(u,i),u=u.sibling;return K(vn,vn.current&1|2),xt&&ls(l,m.treeForkCount),l.child}i=i.sibling}m.tail!==null&&Pe()>ep&&(l.flags|=128,v=!0,ef(m,!1),l.lanes=4194304)}else{if(!v)if(i=Mm(b),i!==null){if(l.flags|=128,v=!0,i=i.updateQueue,l.updateQueue=i,Wm(l,i),ef(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!xt)return Wt(l),null}else 2*Pe()-m.renderingStartTime>ep&&u!==536870912&&(l.flags|=128,v=!0,ef(m,!1),l.lanes=4194304);m.isBackwards?(b.sibling=l.child,l.child=b):(i=m.last,i!==null?i.sibling=b:l.child=b,m.last=b)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Pe(),i.sibling=null,u=vn.current,K(vn,v?u&1|2:u&1),xt&&ls(l,m.treeForkCount),i):(Wt(l),null);case 22:case 23:return la(l),Mv(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(Wt(l),l.subtreeFlags&6&&(l.flags|=8192)):Wt(l),u=l.updateQueue,u!==null&&Wm(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),i!==null&&Q(Pl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),us(On),Wt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function G8(i,l){switch(wv(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return us(On),ce(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return ee(l),null;case 31:if(l.memoizedState!==null){if(la(l),l.alternate===null)throw Error(r(340));Ol()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(la(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ol()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Q(vn),null;case 4:return ce(),null;case 10:return us(l.type),null;case 22:case 23:return la(l),Mv(),i!==null&&Q(Pl),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return us(On),null;case 25:return null;default:return null}}function FA(i,l){switch(wv(l),l.tag){case 3:us(On),ce();break;case 26:case 27:case 5:ee(l);break;case 4:ce();break;case 31:l.memoizedState!==null&&la(l);break;case 13:la(l);break;case 19:Q(vn);break;case 10:us(l.type);break;case 22:case 23:la(l),Mv(),i!==null&&Q(Pl);break;case 24:us(On)}}function tf(i,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var b=u.create,T=u.inst;m=b(),T.destroy=m}u=u.next}while(u!==v)}}catch($){Rt(l,l.return,$)}}function xo(i,l,u){try{var m=l.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var b=v.next;m=b;do{if((m.tag&i)===i){var T=m.inst,$=T.destroy;if($!==void 0){T.destroy=void 0,v=l;var H=u,se=$;try{se()}catch(ve){Rt(v,H,ve)}}}m=m.next}while(m!==b)}}catch(ve){Rt(l,l.return,ve)}}function qA(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{PS(l,u)}catch(m){Rt(i,i.return,m)}}}function HA(i,l,u){u.props=Vl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){Rt(i,l,m)}}function nf(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){Rt(i,l,v)}}function ki(i,l){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){Rt(i,l,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Rt(i,l,v)}else u.current=null}function GA(i){var l=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){Rt(i,i.return,v)}}function mx(i,l,u){try{var m=i.stateNode;mV(m,i.type,u,l),m[Jn]=l}catch(v){Rt(i,i.return,v)}}function KA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&So(i.type)||i.tag===4}function px(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||KA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&So(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gx(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Ka));else if(m!==4&&(m===27&&So(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(gx(i,l,u),i=i.sibling;i!==null;)gx(i,l,u),i=i.sibling}function Xm(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(m!==4&&(m===27&&So(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Xm(i,l,u),i=i.sibling;i!==null;)Xm(i,l,u),i=i.sibling}function YA(i){var l=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);fr(l,m,u),l[Tn]=i,l[Jn]=u}catch(b){Rt(i,i.return,b)}}var ps=!1,Pn=!1,yx=!1,WA=typeof WeakSet=="function"?WeakSet:Set,er=null;function K8(i,l){if(i=i.containerInfo,Ux=yp,i=oS(i),uv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var T=0,$=-1,H=-1,se=0,ve=0,Ne=i,le=null;t:for(;;){for(var de;Ne!==u||v!==0&&Ne.nodeType!==3||($=T+v),Ne!==b||m!==0&&Ne.nodeType!==3||(H=T+m),Ne.nodeType===3&&(T+=Ne.nodeValue.length),(de=Ne.firstChild)!==null;)le=Ne,Ne=de;for(;;){if(Ne===i)break t;if(le===u&&++se===v&&($=T),le===b&&++ve===m&&(H=T),(de=Ne.nextSibling)!==null)break;Ne=le,le=Ne.parentNode}Ne=de}u=$===-1||H===-1?null:{start:$,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Vx={focusedElem:i,selectionRange:u},yp=!1,er=l;er!==null;)if(l=er,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,er=i;else for(;er!==null;){switch(l=er,b=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=l,v=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var Le=Vl(u.type,v);i=m.getSnapshotBeforeUpdate(Le,b),m.__reactInternalSnapshotBeforeUpdate=i}catch(Ke){Rt(u,u.return,Ke)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)$x(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":$x(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,er=i;break}er=l.return}}function XA(i,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ys(i,u),m&4&&tf(5,u);break;case 1:if(ys(i,u),m&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(T){Rt(u,u.return,T)}else{var v=Vl(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(v,l,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Rt(u,u.return,T)}}m&64&&qA(u),m&512&&nf(u,u.return);break;case 3:if(ys(i,u),m&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{PS(i,l)}catch(T){Rt(u,u.return,T)}}break;case 27:l===null&&m&4&&YA(u);case 26:case 5:ys(i,u),l===null&&m&4&&GA(u),m&512&&nf(u,u.return);break;case 12:ys(i,u);break;case 31:ys(i,u),m&4&&ZA(i,u);break;case 13:ys(i,u),m&4&&eT(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=nV.bind(null,u),NV(i,u))));break;case 22:if(m=u.memoizedState!==null||ps,!m){l=l!==null&&l.memoizedState!==null||Pn,v=ps;var b=Pn;ps=m,(Pn=l)&&!b?vs(i,u,(u.subtreeFlags&8772)!==0):ys(i,u),ps=v,Pn=b}break;case 30:break;default:ys(i,u)}}function QA(i){var l=i.alternate;l!==null&&(i.alternate=null,QA(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Tc(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Zt=null,Br=!1;function gs(i,l,u){for(u=u.child;u!==null;)JA(i,l,u),u=u.sibling}function JA(i,l,u){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Ur,u)}catch{}switch(u.tag){case 26:Pn||ki(u,l),gs(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Pn||ki(u,l);var m=Zt,v=Br;So(u.type)&&(Zt=u.stateNode,Br=!1),gs(i,l,u),ff(u.stateNode),Zt=m,Br=v;break;case 5:Pn||ki(u,l);case 6:if(m=Zt,v=Br,Zt=null,gs(i,l,u),Zt=m,Br=v,Zt!==null)if(Br)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(u.stateNode)}catch(b){Rt(u,l,b)}else try{Zt.removeChild(u.stateNode)}catch(b){Rt(u,l,b)}break;case 18:Zt!==null&&(Br?(i=Zt,qT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),fu(i)):qT(Zt,u.stateNode));break;case 4:m=Zt,v=Br,Zt=u.stateNode.containerInfo,Br=!0,gs(i,l,u),Zt=m,Br=v;break;case 0:case 11:case 14:case 15:xo(2,u,l),Pn||xo(4,u,l),gs(i,l,u);break;case 1:Pn||(ki(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&HA(u,l,m)),gs(i,l,u);break;case 21:gs(i,l,u);break;case 22:Pn=(m=Pn)||u.memoizedState!==null,gs(i,l,u),Pn=m;break;default:gs(i,l,u)}}function ZA(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{fu(i)}catch(u){Rt(l,l.return,u)}}}function eT(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{fu(i)}catch(u){Rt(l,l.return,u)}}function Y8(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new WA),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new WA),l;default:throw Error(r(435,i.tag))}}function Qm(i,l){var u=Y8(i);l.forEach(function(m){if(!u.has(m)){u.add(m);var v=rV.bind(null,i,m);m.then(v,v)}})}function $r(i,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],b=i,T=l,$=T;e:for(;$!==null;){switch($.tag){case 27:if(So($.type)){Zt=$.stateNode,Br=!1;break e}break;case 5:Zt=$.stateNode,Br=!1;break e;case 3:case 4:Zt=$.stateNode.containerInfo,Br=!0;break e}$=$.return}if(Zt===null)throw Error(r(160));JA(b,T,v),Zt=null,Br=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)tT(l,i),l=l.sibling}var Za=null;function tT(i,l){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$r(l,i),Fr(i),m&4&&(xo(3,i,i.return),tf(3,i),xo(5,i,i.return));break;case 1:$r(l,i),Fr(i),m&512&&(Pn||u===null||ki(u,u.return)),m&64&&ps&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Za;if($r(l,i),Fr(i),m&512&&(Pn||u===null||ki(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":b=v.getElementsByTagName("title")[0],(!b||b[wi]||b[Tn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(m),v.head.insertBefore(b,v.querySelector("head > title"))),fr(b,m,u),b[Tn]=i,Cn(b),m=b;break e;case"link":var T=t2("link","href",v).get(m+(u.href||""));if(T){for(var $=0;$<T.length;$++)if(b=T[$],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice($,1);break t}}b=v.createElement(m),fr(b,m,u),v.head.appendChild(b);break;case"meta":if(T=t2("meta","content",v).get(m+(u.content||""))){for($=0;$<T.length;$++)if(b=T[$],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice($,1);break t}}b=v.createElement(m),fr(b,m,u),v.head.appendChild(b);break;default:throw Error(r(468,m))}b[Tn]=i,Cn(b),m=b}i.stateNode=m}else n2(v,i.type,i.stateNode);else i.stateNode=e2(v,m,i.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?n2(v,i.type,i.stateNode):e2(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&mx(i,i.memoizedProps,u.memoizedProps)}break;case 27:$r(l,i),Fr(i),m&512&&(Pn||u===null||ki(u,u.return)),u!==null&&m&4&&mx(i,i.memoizedProps,u.memoizedProps);break;case 5:if($r(l,i),Fr(i),m&512&&(Pn||u===null||ki(u,u.return)),i.flags&32){v=i.stateNode;try{zr(v,"")}catch(Le){Rt(i,i.return,Le)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,mx(i,v,u!==null?u.memoizedProps:v)),m&1024&&(yx=!0);break;case 6:if($r(l,i),Fr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Le){Rt(i,i.return,Le)}}break;case 3:if(hp=null,v=Za,Za=dp(l.containerInfo),$r(l,i),Za=v,Fr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{fu(l.containerInfo)}catch(Le){Rt(i,i.return,Le)}yx&&(yx=!1,nT(i));break;case 4:m=Za,Za=dp(i.stateNode.containerInfo),$r(l,i),Fr(i),Za=m;break;case 12:$r(l,i),Fr(i);break;case 31:$r(l,i),Fr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Qm(i,m)));break;case 13:$r(l,i),Fr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Zm=Pe()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Qm(i,m)));break;case 22:v=i.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,se=ps,ve=Pn;if(ps=se||v,Pn=ve||H,$r(l,i),Pn=ve,ps=se,Fr(i),m&8192)e:for(l=i.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(u===null||H||ps||Pn||zl(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){H=u=l;try{if(b=H.stateNode,v)T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{$=H.stateNode;var Ne=H.memoizedProps.style,le=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;$.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Le){Rt(H,H.return,Le)}}}else if(l.tag===6){if(u===null){H=l;try{H.stateNode.nodeValue=v?"":H.memoizedProps}catch(Le){Rt(H,H.return,Le)}}}else if(l.tag===18){if(u===null){H=l;try{var de=H.stateNode;v?HT(de,!0):HT(H.stateNode,!1)}catch(Le){Rt(H,H.return,Le)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Qm(i,u))));break;case 19:$r(l,i),Fr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Qm(i,m)));break;case 30:break;case 21:break;default:$r(l,i),Fr(i)}}function Fr(i){var l=i.flags;if(l&2){try{for(var u,m=i.return;m!==null;){if(KA(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,b=px(i);Xm(i,b,v);break;case 5:var T=u.stateNode;u.flags&32&&(zr(T,""),u.flags&=-33);var $=px(i);Xm(i,$,T);break;case 3:case 4:var H=u.stateNode.containerInfo,se=px(i);gx(i,se,H);break;default:throw Error(r(161))}}catch(ve){Rt(i,i.return,ve)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function nT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;nT(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function ys(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)XA(i,l.alternate,l),l=l.sibling}function zl(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:xo(4,l,l.return),zl(l);break;case 1:ki(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&HA(l,l.return,u),zl(l);break;case 27:ff(l.stateNode);case 26:case 5:ki(l,l.return),zl(l);break;case 22:l.memoizedState===null&&zl(l);break;case 30:zl(l);break;default:zl(l)}i=i.sibling}}function vs(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,v=i,b=l,T=b.flags;switch(b.tag){case 0:case 11:case 15:vs(v,b,u),tf(4,b);break;case 1:if(vs(v,b,u),m=b,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(se){Rt(m,m.return,se)}if(m=b,v=m.updateQueue,v!==null){var $=m.stateNode;try{var H=v.shared.hiddenCallbacks;if(H!==null)for(v.shared.hiddenCallbacks=null,v=0;v<H.length;v++)DS(H[v],$)}catch(se){Rt(m,m.return,se)}}u&&T&64&&qA(b),nf(b,b.return);break;case 27:YA(b);case 26:case 5:vs(v,b,u),u&&m===null&&T&4&&GA(b),nf(b,b.return);break;case 12:vs(v,b,u);break;case 31:vs(v,b,u),u&&T&4&&ZA(v,b);break;case 13:vs(v,b,u),u&&T&4&&eT(v,b);break;case 22:b.memoizedState===null&&vs(v,b,u),nf(b,b.return);break;case 30:break;default:vs(v,b,u)}l=l.sibling}}function vx(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&$d(u))}function xx(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&$d(i))}function ei(i,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)rT(i,l,u,m),l=l.sibling}function rT(i,l,u,m){var v=l.flags;switch(l.tag){case 0:case 11:case 15:ei(i,l,u,m),v&2048&&tf(9,l);break;case 1:ei(i,l,u,m);break;case 3:ei(i,l,u,m),v&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&$d(i)));break;case 12:if(v&2048){ei(i,l,u,m),i=l.stateNode;try{var b=l.memoizedProps,T=b.id,$=b.onPostCommit;typeof $=="function"&&$(T,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Rt(l,l.return,H)}}else ei(i,l,u,m);break;case 31:ei(i,l,u,m);break;case 13:ei(i,l,u,m);break;case 23:break;case 22:b=l.stateNode,T=l.alternate,l.memoizedState!==null?b._visibility&2?ei(i,l,u,m):rf(i,l):b._visibility&2?ei(i,l,u,m):(b._visibility|=2,tu(i,l,u,m,(l.subtreeFlags&10256)!==0||!1)),v&2048&&vx(T,l);break;case 24:ei(i,l,u,m),v&2048&&xx(l.alternate,l);break;default:ei(i,l,u,m)}}function tu(i,l,u,m,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=i,T=l,$=u,H=m,se=T.flags;switch(T.tag){case 0:case 11:case 15:tu(b,T,$,H,v),tf(8,T);break;case 23:break;case 22:var ve=T.stateNode;T.memoizedState!==null?ve._visibility&2?tu(b,T,$,H,v):rf(b,T):(ve._visibility|=2,tu(b,T,$,H,v)),v&&se&2048&&vx(T.alternate,T);break;case 24:tu(b,T,$,H,v),v&&se&2048&&xx(T.alternate,T);break;default:tu(b,T,$,H,v)}l=l.sibling}}function rf(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,m=l,v=m.flags;switch(m.tag){case 22:rf(u,m),v&2048&&vx(m.alternate,m);break;case 24:rf(u,m),v&2048&&xx(m.alternate,m);break;default:rf(u,m)}l=l.sibling}}var af=8192;function nu(i,l,u){if(i.subtreeFlags&af)for(i=i.child;i!==null;)aT(i,l,u),i=i.sibling}function aT(i,l,u){switch(i.tag){case 26:nu(i,l,u),i.flags&af&&i.memoizedState!==null&&PV(u,Za,i.memoizedState,i.memoizedProps);break;case 5:nu(i,l,u);break;case 3:case 4:var m=Za;Za=dp(i.stateNode.containerInfo),nu(i,l,u),Za=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=af,af=16777216,nu(i,l,u),af=m):nu(i,l,u));break;default:nu(i,l,u)}}function iT(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function sf(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];er=m,oT(m,i)}iT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sT(i),i=i.sibling}function sT(i){switch(i.tag){case 0:case 11:case 15:sf(i),i.flags&2048&&xo(9,i,i.return);break;case 3:sf(i);break;case 12:sf(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Jm(i)):sf(i);break;default:sf(i)}}function Jm(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];er=m,oT(m,i)}iT(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:xo(8,l,l.return),Jm(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Jm(l));break;default:Jm(l)}i=i.sibling}}function oT(i,l){for(;er!==null;){var u=er;switch(u.tag){case 0:case 11:case 15:xo(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:$d(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,er=m;else e:for(u=i;er!==null;){m=er;var v=m.sibling,b=m.return;if(QA(m),m===u){er=null;break e}if(v!==null){v.return=b,er=v;break e}er=b}}}var W8={getCacheForType:function(i){var l=ur(On),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u},cacheSignal:function(){return ur(On).controller.signal}},X8=typeof WeakMap=="function"?WeakMap:Map,Tt=0,$t=null,dt=null,mt=0,Ot=0,ca=null,bo=!1,ru=!1,bx=!1,xs=0,mn=0,wo=0,Bl=0,wx=0,ua=0,au=0,of=null,qr=null,Nx=!1,Zm=0,lT=0,ep=1/0,tp=null,No=null,$n=0,_o=null,iu=null,bs=0,_x=0,jx=null,cT=null,lf=0,Ex=null;function da(){return(Tt&2)!==0&&mt!==0?mt&-mt:G.T!==null?Ox():nm()}function uT(){if(ua===0)if((mt&536870912)===0||xt){var i=ml;ml<<=1,(ml&3932160)===0&&(ml=262144),ua=i}else ua=536870912;return i=oa.current,i!==null&&(i.flags|=32),ua}function Hr(i,l,u){(i===$t&&(Ot===2||Ot===9)||i.cancelPendingCommit!==null)&&(su(i,0),jo(i,mt,ua,!1)),pl(i,u),((Tt&2)===0||i!==$t)&&(i===$t&&((Tt&2)===0&&(Bl|=u),mn===4&&jo(i,mt,ua,!1)),Mi(i))}function dT(i,l,u){if((Tt&6)!==0)throw Error(r(327));var m=!u&&(l&127)===0&&(l&i.expiredLanes)===0||qa(i,l),v=m?Z8(i,l):Ax(i,l,!0),b=m;do{if(v===0){ru&&!m&&jo(i,l,0,!1);break}else{if(u=i.current.alternate,b&&!Q8(u)){v=Ax(i,l,!1),b=!1;continue}if(v===2){if(b=l,i.errorRecoveryDisabledLanes&b)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){l=T;e:{var $=i;v=of;var H=$.current.memoizedState.isDehydrated;if(H&&(su($,T).flags|=256),T=Ax($,T,!1),T!==2){if(bx&&!H){$.errorRecoveryDisabledLanes|=b,Bl|=b,v=4;break e}b=qr,qr=v,b!==null&&(qr===null?qr=b:qr.push.apply(qr,b))}v=T}if(b=!1,v!==2)continue}}if(v===1){su(i,0),jo(i,l,0,!0);break}e:{switch(m=i,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:jo(m,l,ua,!bo);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=Zm+300-Pe(),10<v)){if(jo(m,l,ua,!bo),vi(m,0,!0)!==0)break e;bs=l,m.timeoutHandle=$T(fT.bind(null,m,u,qr,tp,Nx,l,ua,Bl,au,bo,b,"Throttled",-0,0),v);break e}fT(m,u,qr,tp,Nx,l,ua,Bl,au,bo,b,null,-0,0)}}break}while(!0);Mi(i)}function fT(i,l,u,m,v,b,T,$,H,se,ve,Ne,le,de){if(i.timeoutHandle=-1,Ne=l.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ka},aT(l,b,Ne);var Le=(b&62914560)===b?Zm-Pe():(b&4194048)===b?lT-Pe():0;if(Le=kV(Ne,Le),Le!==null){bs=b,i.cancelPendingCommit=Le(bT.bind(null,i,l,b,u,m,v,T,$,H,ve,Ne,null,le,de)),jo(i,b,T,!se);return}}bT(i,l,b,u,m,v,T,$,H)}function Q8(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],b=v.getSnapshot;v=v.value;try{if(!ia(b(),v))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function jo(i,l,u,m){l&=~wx,l&=~Bl,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var v=l;0<v;){var b=31-gn(v),T=1<<b;m[b]=-1,v&=~T}u!==0&&gl(i,u,l)}function np(){return(Tt&6)===0?(cf(0),!1):!0}function Sx(){if(dt!==null){if(Ot===0)var i=dt.return;else i=dt,cs=Rl=null,$v(i),Xc=null,qd=0,i=dt;for(;i!==null;)FA(i.alternate,i),i=i.return;dt=null}}function su(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,yV(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),bs=0,Sx(),$t=i,dt=u=os(i.current,null),mt=l,Ot=0,ca=null,bo=!1,ru=qa(i,l),bx=!1,au=ua=wx=Bl=wo=mn=0,qr=of=null,Nx=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var v=31-gn(m),b=1<<v;l|=i[v],m&=~b}return xs=l,_m(),u}function hT(i,l){lt=null,G.H=Jd,l===Wc||l===Om?(l=CS(),Ot=3):l===Iv?(l=CS(),Ot=4):Ot=l===ax?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ca=l,dt===null&&(mn=1,Hm(i,Ea(l,i.current)))}function mT(){var i=oa.current;return i===null?!0:(mt&4194048)===mt?Ca===null:(mt&62914560)===mt||(mt&536870912)!==0?i===Ca:!1}function pT(){var i=G.H;return G.H=Jd,i===null?Jd:i}function gT(){var i=G.A;return G.A=W8,i}function rp(){mn=4,bo||(mt&4194048)!==mt&&oa.current!==null||(ru=!0),(wo&134217727)===0&&(Bl&134217727)===0||$t===null||jo($t,mt,ua,!1)}function Ax(i,l,u){var m=Tt;Tt|=2;var v=pT(),b=gT();($t!==i||mt!==l)&&(tp=null,su(i,l)),l=!1;var T=mn;e:do try{if(Ot!==0&&dt!==null){var $=dt,H=ca;switch(Ot){case 8:Sx(),T=6;break e;case 3:case 2:case 9:case 6:oa.current===null&&(l=!0);var se=Ot;if(Ot=0,ca=null,ou(i,$,H,se),u&&ru){T=0;break e}break;default:se=Ot,Ot=0,ca=null,ou(i,$,H,se)}}J8(),T=mn;break}catch(ve){hT(i,ve)}while(!0);return l&&i.shellSuspendCounter++,cs=Rl=null,Tt=m,G.H=v,G.A=b,dt===null&&($t=null,mt=0,_m()),T}function J8(){for(;dt!==null;)yT(dt)}function Z8(i,l){var u=Tt;Tt|=2;var m=pT(),v=gT();$t!==i||mt!==l?(tp=null,ep=Pe()+500,su(i,l)):ru=qa(i,l);e:do try{if(Ot!==0&&dt!==null){l=dt;var b=ca;t:switch(Ot){case 1:Ot=0,ca=null,ou(i,l,b,1);break;case 2:case 9:if(AS(b)){Ot=0,ca=null,vT(l);break}l=function(){Ot!==2&&Ot!==9||$t!==i||(Ot=7),Mi(i)},b.then(l,l);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:AS(b)?(Ot=0,ca=null,vT(l)):(Ot=0,ca=null,ou(i,l,b,7));break;case 5:var T=null;switch(dt.tag){case 26:T=dt.memoizedState;case 5:case 27:var $=dt;if(T?r2(T):$.stateNode.complete){Ot=0,ca=null;var H=$.sibling;if(H!==null)dt=H;else{var se=$.return;se!==null?(dt=se,ap(se)):dt=null}break t}}Ot=0,ca=null,ou(i,l,b,5);break;case 6:Ot=0,ca=null,ou(i,l,b,6);break;case 8:Sx(),mn=6;break e;default:throw Error(r(462))}}eV();break}catch(ve){hT(i,ve)}while(!0);return cs=Rl=null,G.H=m,G.A=v,Tt=u,dt!==null?0:($t=null,mt=0,_m(),mn)}function eV(){for(;dt!==null&&!na();)yT(dt)}function yT(i){var l=BA(i.alternate,i,xs);i.memoizedProps=i.pendingProps,l===null?ap(i):dt=l}function vT(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=kA(u,l,l.pendingProps,l.type,void 0,mt);break;case 11:l=kA(u,l,l.pendingProps,l.type.render,l.ref,mt);break;case 5:$v(l);default:FA(u,l),l=dt=gS(l,xs),l=BA(u,l,xs)}i.memoizedProps=i.pendingProps,l===null?ap(i):dt=l}function ou(i,l,u,m){cs=Rl=null,$v(l),Xc=null,qd=0;var v=l.return;try{if($8(i,v,l,u,mt)){mn=1,Hm(i,Ea(u,i.current)),dt=null;return}}catch(b){if(v!==null)throw dt=v,b;mn=1,Hm(i,Ea(u,i.current)),dt=null;return}l.flags&32768?(xt||m===1?i=!0:ru||(mt&536870912)!==0?i=!1:(bo=i=!0,(m===2||m===9||m===3||m===6)&&(m=oa.current,m!==null&&m.tag===13&&(m.flags|=16384))),xT(l,i)):ap(l)}function ap(i){var l=i;do{if((l.flags&32768)!==0){xT(l,bo);return}i=l.return;var u=H8(l.alternate,l,xs);if(u!==null){dt=u;return}if(l=l.sibling,l!==null){dt=l;return}dt=l=i}while(l!==null);mn===0&&(mn=5)}function xT(i,l){do{var u=G8(i.alternate,i);if(u!==null){u.flags&=32767,dt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){dt=i;return}dt=i=u}while(i!==null);mn=6,dt=null}function bT(i,l,u,m,v,b,T,$,H){i.cancelPendingCommit=null;do ip();while($n!==0);if((Tt&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=pv,sv(i,u,b,T,$,H),i===$t&&(dt=$t=null,mt=0),iu=l,_o=i,bs=u,_x=b,jx=v,cT=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,aV(st,function(){return ET(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,v=re.p,re.p=2,T=Tt,Tt|=4;try{K8(i,l,u)}finally{Tt=T,re.p=v,G.T=m}}$n=1,wT(),NT(),_T()}}function wT(){if($n===1){$n=0;var i=_o,l=iu,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var m=re.p;re.p=2;var v=Tt;Tt|=4;try{tT(l,i);var b=Vx,T=oS(i.containerInfo),$=b.focusedElem,H=b.selectionRange;if(T!==$&&$&&$.ownerDocument&&sS($.ownerDocument.documentElement,$)){if(H!==null&&uv($)){var se=H.start,ve=H.end;if(ve===void 0&&(ve=se),"selectionStart"in $)$.selectionStart=se,$.selectionEnd=Math.min(ve,$.value.length);else{var Ne=$.ownerDocument||document,le=Ne&&Ne.defaultView||window;if(le.getSelection){var de=le.getSelection(),Le=$.textContent.length,Ke=Math.min(H.start,Le),Ut=H.end===void 0?Ke:Math.min(H.end,Le);!de.extend&&Ke>Ut&&(T=Ut,Ut=Ke,Ke=T);var Z=iS($,Ke),W=iS($,Ut);if(Z&&W&&(de.rangeCount!==1||de.anchorNode!==Z.node||de.anchorOffset!==Z.offset||de.focusNode!==W.node||de.focusOffset!==W.offset)){var ie=Ne.createRange();ie.setStart(Z.node,Z.offset),de.removeAllRanges(),Ke>Ut?(de.addRange(ie),de.extend(W.node,W.offset)):(ie.setEnd(W.node,W.offset),de.addRange(ie))}}}}for(Ne=[],de=$;de=de.parentNode;)de.nodeType===1&&Ne.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Ne.length;$++){var be=Ne[$];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}yp=!!Ux,Vx=Ux=null}finally{Tt=v,re.p=m,G.T=u}}i.current=l,$n=2}}function NT(){if($n===2){$n=0;var i=_o,l=iu,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var m=re.p;re.p=2;var v=Tt;Tt|=4;try{XA(i,l.alternate,l)}finally{Tt=v,re.p=m,G.T=u}}$n=3}}function _T(){if($n===4||$n===3){$n=0,te();var i=_o,l=iu,u=bs,m=cT;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?$n=5:($n=0,iu=_o=null,jT(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(No=null),rs(u),l=l.stateNode,Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Ur,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=G.T,v=re.p,re.p=2,G.T=null;try{for(var b=i.onRecoverableError,T=0;T<m.length;T++){var $=m[T];b($.value,{componentStack:$.stack})}}finally{G.T=l,re.p=v}}(bs&3)!==0&&ip(),Mi(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===Ex?lf++:(lf=0,Ex=i):lf=0,cf(0)}}function jT(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,$d(l)))}function ip(){return wT(),NT(),_T(),ET()}function ET(){if($n!==5)return!1;var i=_o,l=_x;_x=0;var u=rs(bs),m=G.T,v=re.p;try{re.p=32>u?32:u,G.T=null,u=jx,jx=null;var b=_o,T=bs;if($n=0,iu=_o=null,bs=0,(Tt&6)!==0)throw Error(r(331));var $=Tt;if(Tt|=4,sT(b.current),rT(b,b.current,T,u),Tt=$,cf(0,!1),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Ur,b)}catch{}return!0}finally{re.p=v,G.T=m,jT(i,l)}}function ST(i,l,u){l=Ea(u,l),l=rx(i.stateNode,l,2),i=go(i,l,2),i!==null&&(pl(i,2),Mi(i))}function Rt(i,l,u){if(i.tag===3)ST(i,i,u);else for(;l!==null;){if(l.tag===3){ST(l,i,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(No===null||!No.has(m))){i=Ea(u,i),u=AA(2),m=go(l,u,2),m!==null&&(TA(u,m,l,i),pl(m,2),Mi(m));break}}l=l.return}}function Tx(i,l,u){var m=i.pingCache;if(m===null){m=i.pingCache=new X8;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(u)||(bx=!0,v.add(u),i=tV.bind(null,i,l,u),l.then(i,i))}function tV(i,l,u){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,$t===i&&(mt&u)===u&&(mn===4||mn===3&&(mt&62914560)===mt&&300>Pe()-Zm?(Tt&2)===0&&su(i,0):wx|=u,au===mt&&(au=0)),Mi(i)}function AT(i,l){l===0&&(l=tm()),i=Cl(i,l),i!==null&&(pl(i,l),Mi(i))}function nV(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),AT(i,u)}function rV(i,l){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),AT(i,u)}function aV(i,l){return Ye(i,l)}var sp=null,lu=null,Cx=!1,op=!1,Ix=!1,Eo=0;function Mi(i){i!==lu&&i.next===null&&(lu===null?sp=lu=i:lu=lu.next=i),op=!0,Cx||(Cx=!0,sV())}function cf(i,l){if(!Ix&&op){Ix=!0;do for(var u=!1,m=sp;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var b=0;else{var T=m.suspendedLanes,$=m.pingedLanes;b=(1<<31-gn(42|i)+1)-1,b&=v&~(T&~$),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,OT(m,b))}else b=mt,b=vi(m,m===$t?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||qa(m,b)||(u=!0,OT(m,b));m=m.next}while(u);Ix=!1}}function iV(){TT()}function TT(){op=Cx=!1;var i=0;Eo!==0&&gV()&&(i=Eo);for(var l=Pe(),u=null,m=sp;m!==null;){var v=m.next,b=CT(m,l);b===0?(m.next=null,u===null?sp=v:u.next=v,v===null&&(lu=u)):(u=m,(i!==0||(b&3)!==0)&&(op=!0)),m=v}$n!==0&&$n!==5||cf(i),Eo!==0&&(Eo=0)}function CT(i,l){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var T=31-gn(b),$=1<<T,H=v[T];H===-1?(($&u)===0||($&m)!==0)&&(v[T]=iv($,l)):H<=l&&(i.expiredLanes|=$),b&=~$}if(l=$t,u=mt,u=vi(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===l&&(Ot===2||Ot===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&St(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||qa(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(m!==null&&St(m),rs(u)){case 2:case 8:u=tt;break;case 32:u=st;break;case 268435456:u=Lr;break;default:u=st}return m=IT.bind(null,i),u=Ye(u,m),i.callbackPriority=l,i.callbackNode=u,l}return m!==null&&m!==null&&St(m),i.callbackPriority=2,i.callbackNode=null,2}function IT(i,l){if($n!==0&&$n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(ip()&&i.callbackNode!==u)return null;var m=mt;return m=vi(i,i===$t?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(dT(i,m,l),CT(i,Pe()),i.callbackNode!=null&&i.callbackNode===u?IT.bind(null,i):null)}function OT(i,l){if(ip())return null;dT(i,l,!0)}function sV(){vV(function(){(Tt&6)!==0?Ye(Te,iV):TT()})}function Ox(){if(Eo===0){var i=Kc;i===0&&(i=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Eo=i}return Eo}function RT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Rc(""+i)}function DT(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function oV(i,l,u,m,v){if(l==="submit"&&u&&u.stateNode===v){var b=RT((v[Jn]||null).action),T=m.submitter;T&&(l=(l=T[Jn]||null)?RT(l.formAction):T.getAttribute("formAction"),l!==null&&(b=l,T=null));var $=new Ci("action","action",null,m,v);i.push({event:$,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Eo!==0){var H=T?DT(v,T):new FormData(v);Qv(u,{pending:!0,data:H,method:v.method,action:b},null,H)}}else typeof b=="function"&&($.preventDefault(),H=T?DT(v,T):new FormData(v),Qv(u,{pending:!0,data:H,method:v.method,action:b},b,H))},currentTarget:v}]})}}for(var Rx=0;Rx<mv.length;Rx++){var Dx=mv[Rx],lV=Dx.toLowerCase(),cV=Dx[0].toUpperCase()+Dx.slice(1);Ja(lV,"on"+cV)}Ja(uS,"onAnimationEnd"),Ja(dS,"onAnimationIteration"),Ja(fS,"onAnimationStart"),Ja("dblclick","onDoubleClick"),Ja("focusin","onFocus"),Ja("focusout","onBlur"),Ja(E8,"onTransitionRun"),Ja(S8,"onTransitionStart"),Ja(A8,"onTransitionCancel"),Ja(hS,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uf));function PT(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var b=void 0;if(l)for(var T=m.length-1;0<=T;T--){var $=m[T],H=$.instance,se=$.currentTarget;if($=$.listener,H!==b&&v.isPropagationStopped())break e;b=$,v.currentTarget=se;try{b(v)}catch(ve){Nm(ve)}v.currentTarget=null,b=H}else for(T=0;T<m.length;T++){if($=m[T],H=$.instance,se=$.currentTarget,$=$.listener,H!==b&&v.isPropagationStopped())break e;b=$,v.currentTarget=se;try{b(v)}catch(ve){Nm(ve)}v.currentTarget=null,b=H}}}}function ft(i,l){var u=l[Ac];u===void 0&&(u=l[Ac]=new Set);var m=i+"__bubble";u.has(m)||(kT(l,i,2,!1),u.add(m))}function Px(i,l,u){var m=0;l&&(m|=4),kT(u,i,m,l)}var lp="_reactListening"+Math.random().toString(36).slice(2);function kx(i){if(!i[lp]){i[lp]=!0,wd.forEach(function(u){u!=="selectionchange"&&(uV.has(u)||Px(u,!1,i),Px(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[lp]||(l[lp]=!0,Px("selectionchange",!1,l))}}function kT(i,l,u,m){switch(u2(l)){case 2:var v=UV;break;case 8:v=VV;break;default:v=Xx}u=v.bind(null,l,u,i),v=void 0,!wl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(l,u,{capture:!0,passive:v}):i.addEventListener(l,u,!0):v!==void 0?i.addEventListener(l,u,{passive:v}):i.addEventListener(l,u,!1)}function Mx(i,l,u,m,v){var b=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var $=m.stateNode.containerInfo;if($===v)break;if(T===4)for(T=m.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===v)return;T=T.return}for(;$!==null;){if(T=Ni($),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){m=b=T;continue e}$=$.parentNode}}m=m.return}io(function(){var se=b,ve=wa(u),Ne=[];e:{var le=mS.get(i);if(le!==void 0){var de=Ci,Le=i;switch(i){case"keypress":if(_l(u)===0)break e;case"keydown":case"keyup":de=xm;break;case"focusin":Le="focus",de=El;break;case"focusout":Le="blur",de=El;break;case"beforeblur":case"afterblur":de=El;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=S;break;case uS:case dS:case fS:de=fm;break;case hS:de=q;break;case"scroll":case"scrollend":de=Dd;break;case"wheel":de=ue;break;case"copy":case"cut":case"paste":de=hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=ss;break;case"toggle":case"beforetoggle":de=ot}var Ke=(l&4)!==0,Ut=!Ke&&(i==="scroll"||i==="scrollend"),Z=Ke?le!==null?le+"Capture":null:le;Ke=[];for(var W=se,ie;W!==null;){var be=W;if(ie=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ie===null||Z===null||(be=Ya(W,Z),be!=null&&Ke.push(df(W,be,ie))),Ut)break;W=W.return}0<Ke.length&&(le=new de(le,Le,null,u,ve),Ne.push({event:le,listeners:Ke}))}}if((l&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",le&&u!==Id&&(Le=u.relatedTarget||u.fromElement)&&(Ni(Le)||Le[bi]))break e;if((de||le)&&(le=ve.window===ve?ve:(le=ve.ownerDocument)?le.defaultView||le.parentWindow:window,de?(Le=u.relatedTarget||u.toElement,de=se,Le=Le?Ni(Le):null,Le!==null&&(Ut=s(Le),Ke=Le.tag,Le!==Ut||Ke!==5&&Ke!==27&&Ke!==6)&&(Le=null)):(de=null,Le=se),de!==Le)){if(Ke=Pd,be="onMouseLeave",Z="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Ke=ss,be="onPointerLeave",Z="onPointerEnter",W="pointer"),Ut=de==null?le:ra(de),ie=Le==null?le:ra(Le),le=new Ke(be,W+"leave",de,u,ve),le.target=Ut,le.relatedTarget=ie,be=null,Ni(ve)===se&&(Ke=new Ke(Z,W+"enter",Le,u,ve),Ke.target=ie,Ke.relatedTarget=Ut,be=Ke),Ut=be,de&&Le)t:{for(Ke=dV,Z=de,W=Le,ie=0,be=Z;be;be=Ke(be))ie++;be=0;for(var $e=W;$e;$e=Ke($e))be++;for(;0<ie-be;)Z=Ke(Z),ie--;for(;0<be-ie;)W=Ke(W),be--;for(;ie--;){if(Z===W||W!==null&&Z===W.alternate){Ke=Z;break t}Z=Ke(Z),W=Ke(W)}Ke=null}else Ke=null;de!==null&&MT(Ne,le,de,Ke,!1),Le!==null&&Ut!==null&&MT(Ne,Ut,Le,Ke,!0)}}e:{if(le=se?ra(se):window,de=le.nodeName&&le.nodeName.toLowerCase(),de==="select"||de==="input"&&le.type==="file")var wt=ZE;else if(QE(le))if(eS)wt=N8;else{wt=b8;var Ue=x8}else de=le.nodeName,!de||de.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&Oc(se.elementType)&&(wt=ZE):wt=w8;if(wt&&(wt=wt(i,se))){JE(Ne,wt,u,ve);break e}Ue&&Ue(i,le,se),i==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&Ad(le,"number",le.value)}switch(Ue=se?ra(se):window,i){case"focusin":(QE(Ue)||Ue.contentEditable==="true")&&(Vc=Ue,dv=se,Vd=null);break;case"focusout":Vd=dv=Vc=null;break;case"mousedown":fv=!0;break;case"contextmenu":case"mouseup":case"dragend":fv=!1,lS(Ne,u,ve);break;case"selectionchange":if(j8)break;case"keydown":case"keyup":lS(Ne,u,ve)}var ct;if(At)e:{switch(i){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Uc?Sl(i,u)&&(pt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(pt="onCompositionStart");pt&&(Ri&&u.locale!=="ko"&&(Uc||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Uc&&(ct=Rd()):(Ti=ve,Od="value"in Ti?Ti.value:Ti.textContent,Uc=!0)),Ue=cp(se,pt),0<Ue.length&&(pt=new Oi(pt,i,null,u,ve),Ne.push({event:pt,listeners:Ue}),ct?pt.data=ct:(ct=Lc(u),ct!==null&&(pt.data=ct)))),(ct=_a?p8(i,u):g8(i,u))&&(pt=cp(se,"onBeforeInput"),0<pt.length&&(Ue=new Oi("onBeforeInput","beforeinput",null,u,ve),Ne.push({event:Ue,listeners:pt}),Ue.data=ct)),oV(Ne,i,se,u,ve)}PT(Ne,l)})}function df(i,l,u){return{instance:i,listener:l,currentTarget:u}}function cp(i,l){for(var u=l+"Capture",m=[];i!==null;){var v=i,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Ya(i,u),v!=null&&m.unshift(df(i,v,b)),v=Ya(i,l),v!=null&&m.push(df(i,v,b))),i.tag===3)return m;i=i.return}return[]}function dV(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function MT(i,l,u,m,v){for(var b=l._reactName,T=[];u!==null&&u!==m;){var $=u,H=$.alternate,se=$.stateNode;if($=$.tag,H!==null&&H===m)break;$!==5&&$!==26&&$!==27||se===null||(H=se,v?(se=Ya(u,b),se!=null&&T.unshift(df(u,se,H))):v||(se=Ya(u,b),se!=null&&T.push(df(u,se,H)))),u=u.return}T.length!==0&&i.push({event:l,listeners:T})}var fV=/\r\n?/g,hV=/\u0000|\uFFFD/g;function LT(i){return(typeof i=="string"?i:""+i).replace(fV,`
`).replace(hV,"")}function UT(i,l){return l=LT(l),LT(i)===l}function Lt(i,l,u,m,v,b){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||zr(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&zr(i,""+m);break;case"className":aa(i,"class",m);break;case"tabIndex":aa(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":aa(i,u,m);break;case"style":Cd(i,m,b);break;case"data":if(l!=="object"){aa(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Rc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(l!=="input"&&Lt(i,l,"name",v.name,v,null),Lt(i,l,"formEncType",v.formEncType,v,null),Lt(i,l,"formMethod",v.formMethod,v,null),Lt(i,l,"formTarget",v.formTarget,v,null)):(Lt(i,l,"encType",v.encType,v,null),Lt(i,l,"method",v.method,v,null),Lt(i,l,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Rc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Ka);break;case"onScroll":m!=null&&ft("scroll",i);break;case"onScrollEnd":m!=null&&ft("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Rc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":ft("beforetoggle",i),ft("toggle",i),Cc(i,"popover",m);break;case"xlinkActuate":In(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":In(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":In(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":In(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":In(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":In(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":In(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":In(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":In(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Cc(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=cm.get(u)||u,Cc(i,u,m))}}function Lx(i,l,u,m,v,b){switch(u){case"style":Cd(i,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?zr(i,m):(typeof m=="number"||typeof m=="bigint")&&zr(i,""+m);break;case"onScroll":m!=null&&ft("scroll",i);break;case"onScrollEnd":m!=null&&ft("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ka);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),l=u.slice(2,v?u.length-7:void 0),b=i[Jn]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(l,b,v),typeof m=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Cc(i,u,m)}}}function fr(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",i),ft("load",i);var m=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var T=u[b];if(T!=null)switch(b){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Lt(i,l,b,T,u,null)}}v&&Lt(i,l,"srcSet",u.srcSet,u,null),m&&Lt(i,l,"src",u.src,u,null);return;case"input":ft("invalid",i);var $=b=T=v=null,H=null,se=null;for(m in u)if(u.hasOwnProperty(m)){var ve=u[m];if(ve!=null)switch(m){case"name":v=ve;break;case"type":T=ve;break;case"checked":H=ve;break;case"defaultChecked":se=ve;break;case"value":b=ve;break;case"defaultValue":$=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,l));break;default:Lt(i,l,m,ve,u,null)}}sm(i,b,$,H,se,T,v,!1);return;case"select":ft("invalid",i),m=T=b=null;for(v in u)if(u.hasOwnProperty(v)&&($=u[v],$!=null))switch(v){case"value":b=$;break;case"defaultValue":T=$;break;case"multiple":m=$;default:Lt(i,l,v,$,u,null)}l=b,u=T,i.multiple=!!m,l!=null?to(i,!!m,l,!1):u!=null&&to(i,!!m,u,!0);return;case"textarea":ft("invalid",i),b=v=m=null;for(T in u)if(u.hasOwnProperty(T)&&($=u[T],$!=null))switch(T){case"value":m=$;break;case"defaultValue":v=$;break;case"children":b=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Lt(i,l,T,$,u,null)}no(i,m,v,b);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(m=u[H],m!=null))switch(H){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Lt(i,l,H,m,u,null)}return;case"dialog":ft("beforetoggle",i),ft("toggle",i),ft("cancel",i),ft("close",i);break;case"iframe":case"object":ft("load",i);break;case"video":case"audio":for(m=0;m<uf.length;m++)ft(uf[m],i);break;case"image":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"embed":case"source":case"link":ft("error",i),ft("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in u)if(u.hasOwnProperty(se)&&(m=u[se],m!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Lt(i,l,se,m,u,null)}return;default:if(Oc(l)){for(ve in u)u.hasOwnProperty(ve)&&(m=u[ve],m!==void 0&&Lx(i,l,ve,m,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(m=u[$],m!=null&&Lt(i,l,$,m,u,null))}function mV(i,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,T=null,$=null,H=null,se=null,ve=null;for(de in u){var Ne=u[de];if(u.hasOwnProperty(de)&&Ne!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":H=Ne;default:m.hasOwnProperty(de)||Lt(i,l,de,null,m,Ne)}}for(var le in m){var de=m[le];if(Ne=u[le],m.hasOwnProperty(le)&&(de!=null||Ne!=null))switch(le){case"type":b=de;break;case"name":v=de;break;case"checked":se=de;break;case"defaultChecked":ve=de;break;case"value":T=de;break;case"defaultValue":$=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,l));break;default:de!==Ne&&Lt(i,l,le,de,m,Ne)}}Ic(i,T,$,H,se,ve,b,v);return;case"select":de=T=$=le=null;for(b in u)if(H=u[b],u.hasOwnProperty(b)&&H!=null)switch(b){case"value":break;case"multiple":de=H;default:m.hasOwnProperty(b)||Lt(i,l,b,null,m,H)}for(v in m)if(b=m[v],H=u[v],m.hasOwnProperty(v)&&(b!=null||H!=null))switch(v){case"value":le=b;break;case"defaultValue":$=b;break;case"multiple":T=b;default:b!==H&&Lt(i,l,v,b,m,H)}l=$,u=T,m=de,le!=null?to(i,!!u,le,!1):!!m!=!!u&&(l!=null?to(i,!!u,l,!0):to(i,!!u,u?[]:"",!1));return;case"textarea":de=le=null;for($ in u)if(v=u[$],u.hasOwnProperty($)&&v!=null&&!m.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Lt(i,l,$,null,m,v)}for(T in m)if(v=m[T],b=u[T],m.hasOwnProperty(T)&&(v!=null||b!=null))switch(T){case"value":le=v;break;case"defaultValue":de=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&Lt(i,l,T,v,m,b)}om(i,le,de);return;case"option":for(var Le in u)if(le=u[Le],u.hasOwnProperty(Le)&&le!=null&&!m.hasOwnProperty(Le))switch(Le){case"selected":i.selected=!1;break;default:Lt(i,l,Le,null,m,le)}for(H in m)if(le=m[H],de=u[H],m.hasOwnProperty(H)&&le!==de&&(le!=null||de!=null))switch(H){case"selected":i.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Lt(i,l,H,le,m,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in u)le=u[Ke],u.hasOwnProperty(Ke)&&le!=null&&!m.hasOwnProperty(Ke)&&Lt(i,l,Ke,null,m,le);for(se in m)if(le=m[se],de=u[se],m.hasOwnProperty(se)&&le!==de&&(le!=null||de!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:Lt(i,l,se,le,m,de)}return;default:if(Oc(l)){for(var Ut in u)le=u[Ut],u.hasOwnProperty(Ut)&&le!==void 0&&!m.hasOwnProperty(Ut)&&Lx(i,l,Ut,void 0,m,le);for(ve in m)le=m[ve],de=u[ve],!m.hasOwnProperty(ve)||le===de||le===void 0&&de===void 0||Lx(i,l,ve,le,m,de);return}}for(var Z in u)le=u[Z],u.hasOwnProperty(Z)&&le!=null&&!m.hasOwnProperty(Z)&&Lt(i,l,Z,null,m,le);for(Ne in m)le=m[Ne],de=u[Ne],!m.hasOwnProperty(Ne)||le===de||le==null&&de==null||Lt(i,l,Ne,le,m,de)}function VT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],b=v.transferSize,T=v.initiatorType,$=v.duration;if(b&&$&&VT(T)){for(T=0,$=v.responseEnd,m+=1;m<u.length;m++){var H=u[m],se=H.startTime;if(se>$)break;var ve=H.transferSize,Ne=H.initiatorType;ve&&VT(Ne)&&(H=H.responseEnd,T+=ve*(H<$?1:($-se)/(H-se)))}if(--m,l+=8*(b+T)/(v.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ux=null,Vx=null;function up(i){return i.nodeType===9?i:i.ownerDocument}function zT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BT(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function zx(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Bx=null;function gV(){var i=window.event;return i&&i.type==="popstate"?i===Bx?!1:(Bx=i,!0):(Bx=null,!1)}var $T=typeof setTimeout=="function"?setTimeout:void 0,yV=typeof clearTimeout=="function"?clearTimeout:void 0,FT=typeof Promise=="function"?Promise:void 0,vV=typeof queueMicrotask=="function"?queueMicrotask:typeof FT<"u"?function(i){return FT.resolve(null).then(i).catch(xV)}:$T;function xV(i){setTimeout(function(){throw i})}function So(i){return i==="head"}function qT(i,l){var u=l,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(v),fu(l);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")ff(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,ff(u);for(var b=u.firstChild;b;){var T=b.nextSibling,$=b.nodeName;b[wi]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=T}}else u==="body"&&ff(i.ownerDocument.body);u=v}while(u);fu(l)}function HT(i,l){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function $x(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":$x(u),Tc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function bV(i,l,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[wi])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ia(i.nextSibling),i===null)break}return null}function wV(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ia(i.nextSibling),i===null))return null;return i}function GT(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ia(i.nextSibling),i===null))return null;return i}function Fx(i){return i.data==="$?"||i.data==="$~"}function qx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function NV(i,l){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||u.readyState!=="loading")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ia(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var Hx=null;function KT(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(l===0)return Ia(i.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}i=i.nextSibling}return null}function YT(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return i;l--}else u!=="/$"&&u!=="/&"||l++}i=i.previousSibling}return null}function WT(i,l,u){switch(l=up(u),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ff(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Tc(i)}var Oa=new Map,XT=new Set;function dp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ws=re.d;re.d={f:_V,r:jV,D:EV,C:SV,L:AV,m:TV,X:IV,S:CV,M:OV};function _V(){var i=ws.f(),l=np();return i||l}function jV(i){var l=ba(i);l!==null&&l.tag===5&&l.type==="form"?hA(l):ws.r(i)}var cu=typeof document>"u"?null:document;function QT(i,l,u){var m=cu;if(m&&typeof l=="string"&&l){var v=Vr(l);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),XT.has(v)||(XT.add(v),i={rel:i,crossOrigin:u,href:l},m.querySelector(v)===null&&(l=m.createElement("link"),fr(l,"link",i),Cn(l),m.head.appendChild(l)))}}function EV(i){ws.D(i),QT("dns-prefetch",i,null)}function SV(i,l){ws.C(i,l),QT("preconnect",i,l)}function AV(i,l,u){ws.L(i,l,u);var m=cu;if(m&&i&&l){var v='link[rel="preload"][as="'+Vr(l)+'"]';l==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Vr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Vr(u.imageSizes)+'"]')):v+='[href="'+Vr(i)+'"]';var b=v;switch(l){case"style":b=uu(i);break;case"script":b=du(i)}Oa.has(b)||(i=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),Oa.set(b,i),m.querySelector(v)!==null||l==="style"&&m.querySelector(hf(b))||l==="script"&&m.querySelector(mf(b))||(l=m.createElement("link"),fr(l,"link",i),Cn(l),m.head.appendChild(l)))}}function TV(i,l){ws.m(i,l);var u=cu;if(u&&i){var m=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+Vr(m)+'"][href="'+Vr(i)+'"]',b=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=du(i)}if(!Oa.has(b)&&(i=g({rel:"modulepreload",href:i},l),Oa.set(b,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(mf(b)))return}m=u.createElement("link"),fr(m,"link",i),Cn(m),u.head.appendChild(m)}}}function CV(i,l,u){ws.S(i,l,u);var m=cu;if(m&&i){var v=_i(m).hoistableStyles,b=uu(i);l=l||"default";var T=v.get(b);if(!T){var $={loading:0,preload:null};if(T=m.querySelector(hf(b)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":l},u),(u=Oa.get(b))&&Gx(i,u);var H=T=m.createElement("link");Cn(H),fr(H,"link",i),H._p=new Promise(function(se,ve){H.onload=se,H.onerror=ve}),H.addEventListener("load",function(){$.loading|=1}),H.addEventListener("error",function(){$.loading|=2}),$.loading|=4,fp(T,l,m)}T={type:"stylesheet",instance:T,count:1,state:$},v.set(b,T)}}}function IV(i,l){ws.X(i,l);var u=cu;if(u&&i){var m=_i(u).hoistableScripts,v=du(i),b=m.get(v);b||(b=u.querySelector(mf(v)),b||(i=g({src:i,async:!0},l),(l=Oa.get(v))&&Kx(i,l),b=u.createElement("script"),Cn(b),fr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function OV(i,l){ws.M(i,l);var u=cu;if(u&&i){var m=_i(u).hoistableScripts,v=du(i),b=m.get(v);b||(b=u.querySelector(mf(v)),b||(i=g({src:i,async:!0,type:"module"},l),(l=Oa.get(v))&&Kx(i,l),b=u.createElement("script"),Cn(b),fr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function JT(i,l,u,m){var v=(v=Se.current)?dp(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=uu(u.href),u=_i(v).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=uu(u.href);var b=_i(v).hoistableStyles,T=b.get(i);if(T||(v=v.ownerDocument||v,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,T),(b=v.querySelector(hf(i)))&&!b._p&&(T.instance=b,T.state.loading=5),Oa.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Oa.set(i,u),b||RV(v,i,u,T.state))),l&&m===null)throw Error(r(528,""));return T}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=du(u),u=_i(v).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function uu(i){return'href="'+Vr(i)+'"'}function hf(i){return'link[rel="stylesheet"]['+i+"]"}function ZT(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function RV(i,l,u,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),fr(l,"link",u),Cn(l),i.head.appendChild(l))}function du(i){return'[src="'+Vr(i)+'"]'}function mf(i){return"script[async]"+i}function e2(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+Vr(u.href)+'"]');if(m)return l.instance=m,Cn(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Cn(m),fr(m,"style",v),fp(m,u.precedence,i),l.instance=m;case"stylesheet":v=uu(u.href);var b=i.querySelector(hf(v));if(b)return l.state.loading|=4,l.instance=b,Cn(b),b;m=ZT(u),(v=Oa.get(v))&&Gx(m,v),b=(i.ownerDocument||i).createElement("link"),Cn(b);var T=b;return T._p=new Promise(function($,H){T.onload=$,T.onerror=H}),fr(b,"link",m),l.state.loading|=4,fp(b,u.precedence,i),l.instance=b;case"script":return b=du(u.src),(v=i.querySelector(mf(b)))?(l.instance=v,Cn(v),v):(m=u,(v=Oa.get(b))&&(m=g({},u),Kx(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),Cn(v),fr(v,"link",m),i.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,fp(m,u.precedence,i));return l.instance}function fp(i,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,b=v,T=0;T<m.length;T++){var $=m[T];if($.dataset.precedence===l)b=$;else if(b!==v)break}b?b.parentNode.insertBefore(i,b.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Gx(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Kx(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var hp=null;function t2(i,l,u){if(hp===null){var m=new Map,v=hp=new Map;v.set(u,m)}else v=hp,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var b=u[v];if(!(b[wi]||b[Tn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var T=b.getAttribute(l)||"";T=i+T;var $=m.get(T);$?$.push(b):m.set(T,[b])}}return m}function n2(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function DV(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function r2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function PV(i,l,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=uu(m.href),b=l.querySelector(hf(v));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=mp.bind(i),l.then(i,i)),u.state.loading|=4,u.instance=b,Cn(b);return}b=l.ownerDocument||l,m=ZT(m),(v=Oa.get(v))&&Gx(m,v),b=b.createElement("link"),Cn(b);var T=b;T._p=new Promise(function($,H){T.onload=$,T.onerror=H}),fr(b,"link",m),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=mp.bind(i),l.addEventListener("load",u),l.addEventListener("error",u))}}var Yx=0;function kV(i,l){return i.stylesheets&&i.count===0&&gp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&gp(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+l);0<i.imgBytes&&Yx===0&&(Yx=62500*pV());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gp(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Yx?50:800)+l);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function mp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var pp=null;function gp(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,pp=new Map,l.forEach(MV,i),pp=null,mp.call(i))}function MV(i,l){if(!(l.state.loading&4)){var u=pp.get(i);if(u)var m=u.get(null);else{u=new Map,pp.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var T=v[b];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),m=T)}m&&u.set(null,m)}v=l.instance,T=v.getAttribute("data-precedence"),b=u.get(T)||m,b===m&&u.set(null,v),u.set(T,v),this.count++,m=mp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),b?b.parentNode.insertBefore(v,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),l.state.loading|=4}}var pf={$$typeof:A,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function LV(i,l,u,m,v,b,T,$,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function a2(i,l,u,m,v,b,T,$,H,se,ve,Ne){return i=new LV(i,l,u,T,H,se,ve,Ne,$),l=1,b===!0&&(l|=24),b=sa(3,null,null,l),i.current=b,b.stateNode=i,l=Av(),l.refCount++,i.pooledCache=l,l.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:l},Ov(b),i}function i2(i){return i?(i=$c,i):$c}function s2(i,l,u,m,v,b){v=i2(v),m.context===null?m.context=v:m.pendingContext=v,m=po(l),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=go(i,m,l),u!==null&&(Hr(u,i,l),Gd(u,i,l))}function o2(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Wx(i,l){o2(i,l),(i=i.alternate)&&o2(i,l)}function l2(i){if(i.tag===13||i.tag===31){var l=Cl(i,67108864);l!==null&&Hr(l,i,67108864),Wx(i,67108864)}}function c2(i){if(i.tag===13||i.tag===31){var l=da();l=yl(l);var u=Cl(i,l);u!==null&&Hr(u,i,l),Wx(i,l)}}var yp=!0;function UV(i,l,u,m){var v=G.T;G.T=null;var b=re.p;try{re.p=2,Xx(i,l,u,m)}finally{re.p=b,G.T=v}}function VV(i,l,u,m){var v=G.T;G.T=null;var b=re.p;try{re.p=8,Xx(i,l,u,m)}finally{re.p=b,G.T=v}}function Xx(i,l,u,m){if(yp){var v=Qx(m);if(v===null)Mx(i,l,m,vp,u),d2(i,m);else if(BV(v,i,l,u,m))m.stopPropagation();else if(d2(i,m),l&4&&-1<zV.indexOf(i)){for(;v!==null;){var b=ba(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var T=yi(b.pendingLanes);if(T!==0){var $=b;for($.pendingLanes|=2,$.entangledLanes|=2;T;){var H=1<<31-gn(T);$.entanglements[1]|=H,T&=~H}Mi(b),(Tt&6)===0&&(ep=Pe()+500,cf(0))}}break;case 31:case 13:$=Cl(b,2),$!==null&&Hr($,b,2),np(),Wx(b,2)}if(b=Qx(m),b===null&&Mx(i,l,m,vp,u),b===v)break;v=b}v!==null&&m.stopPropagation()}else Mx(i,l,m,null,u)}}function Qx(i){return i=wa(i),Jx(i)}var vp=null;function Jx(i){if(vp=null,i=Ni(i),i!==null){var l=s(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=c(l),i!==null)return i;i=null}else if(u===31){if(i=d(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return vp=i,null}function u2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pe()){case Te:return 2;case tt:return 8;case st:case En:return 32;case Lr:return 268435456;default:return 32}default:return 32}}var Zx=!1,Ao=null,To=null,Co=null,gf=new Map,yf=new Map,Io=[],zV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d2(i,l){switch(i){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":gf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(l.pointerId)}}function vf(i,l,u,m,v,b){return i===null||i.nativeEvent!==b?(i={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},l!==null&&(l=ba(l),l!==null&&l2(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),i)}function BV(i,l,u,m,v){switch(l){case"focusin":return Ao=vf(Ao,i,l,u,m,v),!0;case"dragenter":return To=vf(To,i,l,u,m,v),!0;case"mouseover":return Co=vf(Co,i,l,u,m,v),!0;case"pointerover":var b=v.pointerId;return gf.set(b,vf(gf.get(b)||null,i,l,u,m,v)),!0;case"gotpointercapture":return b=v.pointerId,yf.set(b,vf(yf.get(b)||null,i,l,u,m,v)),!0}return!1}function f2(i){var l=Ni(i.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){i.blockedOn=l,Ha(i.priority,function(){c2(u)});return}}else if(l===31){if(l=d(u),l!==null){i.blockedOn=l,Ha(i.priority,function(){c2(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xp(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Qx(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Id=m,u.target.dispatchEvent(m),Id=null}else return l=ba(u),l!==null&&l2(l),i.blockedOn=u,!1;l.shift()}return!0}function h2(i,l,u){xp(i)&&u.delete(l)}function $V(){Zx=!1,Ao!==null&&xp(Ao)&&(Ao=null),To!==null&&xp(To)&&(To=null),Co!==null&&xp(Co)&&(Co=null),gf.forEach(h2),yf.forEach(h2)}function bp(i,l){i.blockedOn===l&&(i.blockedOn=null,Zx||(Zx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$V)))}var wp=null;function m2(i){wp!==i&&(wp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wp===i&&(wp=null);for(var l=0;l<i.length;l+=3){var u=i[l],m=i[l+1],v=i[l+2];if(typeof m!="function"){if(Jx(m||u)===null)continue;break}var b=ba(u);b!==null&&(i.splice(l,3),l-=3,Qv(b,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function fu(i){function l(H){return bp(H,i)}Ao!==null&&bp(Ao,i),To!==null&&bp(To,i),Co!==null&&bp(Co,i),gf.forEach(l),yf.forEach(l);for(var u=0;u<Io.length;u++){var m=Io[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Io.length&&(u=Io[0],u.blockedOn===null);)f2(u),u.blockedOn===null&&Io.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],b=u[m+1],T=v[Jn]||null;if(typeof b=="function")T||m2(u);else if(T){var $=null;if(b&&b.hasAttribute("formAction")){if(v=b,T=b[Jn]||null)$=T.formAction;else if(Jx(v)!==null)continue}else $=T.action;typeof $=="function"?u[m+1]=$:(u.splice(m,3),m-=3),m2(u)}}}function p2(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(T){return v=T})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function eb(i){this._internalRoot=i}Np.prototype.render=eb.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,m=da();s2(u,m,i,l,null,null)},Np.prototype.unmount=eb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;s2(i.current,2,null,i,null,null),np(),l[bi]=null}};function Np(i){this._internalRoot=i}Np.prototype.unstable_scheduleHydration=function(i){if(i){var l=nm();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Io.length&&l!==0&&l<Io[u].priority;u++);Io.splice(u,0,i),u===0&&f2(i)}};var g2=e.version;if(g2!=="19.2.0")throw Error(r(527,g2,"19.2.0"));re.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(l),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var FV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{Ur=_p.inject(FV),Sn=_p}catch{}}return bf.createRoot=function(i,l){if(!a(i))throw Error(r(299));var u=!1,m="",v=_A,b=jA,T=EA;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),l=a2(i,1,!1,null,null,u,m,null,v,b,T,p2),i[bi]=l.current,kx(i),new eb(l)},bf.hydrateRoot=function(i,l,u){if(!a(i))throw Error(r(299));var m=!1,v="",b=_A,T=jA,$=EA,H=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),l=a2(i,1,!0,l,u??null,m,v,H,b,T,$,p2),l.context=i2(null),u=l.current,m=da(),m=yl(m),v=po(m),v.callback=null,go(u,v,m),u=m,l.current.lanes=u,pl(l,u),Mi(l),i[bi]=l.current,kx(i),new Np(l)},bf.version="19.2.0",bf}var S2;function n7(){if(S2)return ab.exports;S2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ab.exports=t7(),ab.exports}var r7=n7();const a7=Zi(r7);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A2="popstate";function i7(t={}){function e(a,s){let{pathname:c="/",search:d="",hash:f=""}=gc(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),u1("",{pathname:c,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:qf(s))}function r(a,s){va(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return o7(e,n,r,t)}function on(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function va(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s7(){return Math.random().toString(36).substring(2,10)}function T2(t,e){return{usr:t.state,key:t.key,idx:e}}function u1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gc(e):e,state:n,key:e&&e.key||r||s7()}}function qf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function o7(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,c=a.history,d="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let j=p(),C=j==null?null:j-h;h=j,f&&f({action:d,location:_.location,delta:C})}function x(j,C){d="PUSH";let L=u1(_.location,j,C);n&&n(L,j),h=p()+1;let A=T2(L,h),D=_.createHref(L);try{c.pushState(A,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(D)}s&&f&&f({action:d,location:_.location,delta:1})}function w(j,C){d="REPLACE";let L=u1(_.location,j,C);n&&n(L,j),h=p();let A=T2(L,h),D=_.createHref(L);c.replaceState(A,"",D),s&&f&&f({action:d,location:_.location,delta:0})}function E(j){return l7(j)}let _={get action(){return d},get location(){return t(a,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(A2,g),f=j,()=>{a.removeEventListener(A2,g),f=null}},createHref(j){return e(a,j)},createURL:E,encodeLocation(j){let C=E(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:w,go(j){return c.go(j)}};return _}function l7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),on(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function FP(t,e,n="/"){return c7(t,e,n,!1)}function c7(t,e,n,r){let a=typeof e=="string"?gc(e):e,s=Ps(a.pathname||"/",n);if(s==null)return null;let c=qP(t);u7(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=w7(s);d=x7(c[f],h,r)}return d}function qP(t,e=[],n=[],r="",a=!1){let s=(c,d,f=a,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;on(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Is([r,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(on(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qP(c.children,e,x,g,f)),!(c.path==null&&!c.index)&&e.push({path:g,score:y7(g,c.index),routesMeta:x})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))s(c,d);else for(let h of HP(c.path))s(c,d,!0,h)}),e}function HP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let c=HP(r.join("/")),d=[];return d.push(...c.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function u7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:v7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var d7=/^:[\w-]+$/,f7=3,h7=2,m7=1,p7=10,g7=-2,C2=t=>t==="*";function y7(t,e){let n=t.split("/"),r=n.length;return n.some(C2)&&(r+=g7),e&&(r+=h7),n.filter(a=>!C2(a)).reduce((a,s)=>a+(d7.test(s)?f7:s===""?m7:p7),r)}function v7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function x7(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=gg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=gg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Is([s,g.pathname]),pathnameBase:S7(Is([s,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(s=Is([s,g.pathnameBase]))}return c}function gg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=b7(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let E=d[x]||"";c=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=d[x];return g&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function b7(t,e=!1,n=!0){va(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function w7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return va(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ps(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var N7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_7=t=>N7.test(t);function j7(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?gc(t):t,s;if(n)if(_7(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),va(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?s=I2(n.substring(1),"/"):s=I2(n,e)}else s=e;return{pathname:s,search:A7(r),hash:T7(a)}}function I2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function lb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function FN(t){let e=E7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function qN(t,e,n,r=!1){let a;typeof t=="string"?a=gc(t):(a={...t},on(!a.pathname||!a.pathname.includes("?"),lb("?","pathname","search",a)),on(!a.pathname||!a.pathname.includes("#"),lb("#","pathname","hash",a)),on(!a.search||!a.search.includes("#"),lb("#","search","hash",a)));let s=t===""||a.pathname==="",c=s?"/":a.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}d=g>=0?e[g]:"/"}let f=j7(a,d),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Is=t=>t.join("/").replace(/\/\/+/g,"/"),S7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),A7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function C7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GP=["POST","PUT","PATCH","DELETE"];new Set(GP);var I7=["GET",...GP];new Set(I7);var ed=N.createContext(null);ed.displayName="DataRouter";var ky=N.createContext(null);ky.displayName="DataRouterState";N.createContext(!1);var KP=N.createContext({isTransitioning:!1});KP.displayName="ViewTransition";var O7=N.createContext(new Map);O7.displayName="Fetchers";var R7=N.createContext(null);R7.displayName="Await";var hi=N.createContext(null);hi.displayName="Navigation";var gh=N.createContext(null);gh.displayName="Location";var es=N.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var HN=N.createContext(null);HN.displayName="RouteError";function D7(t,{relative:e}={}){on(td(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(hi),{hash:a,pathname:s,search:c}=yh(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:Is([n,s])),r.createHref({pathname:d,search:c,hash:a})}function td(){return N.useContext(gh)!=null}function ts(){return on(td(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(gh).location}var YP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WP(t){N.useContext(hi).static||N.useLayoutEffect(t)}function GN(){let{isDataRoute:t}=N.useContext(es);return t?G7():P7()}function P7(){on(td(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(ed),{basename:e,navigator:n}=N.useContext(hi),{matches:r}=N.useContext(es),{pathname:a}=ts(),s=JSON.stringify(FN(r)),c=N.useRef(!1);return WP(()=>{c.current=!0}),N.useCallback((f,h={})=>{if(va(c.current,YP),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=qN(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Is([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,a,t])}N.createContext(null);function yh(t,{relative:e}={}){let{matches:n}=N.useContext(es),{pathname:r}=ts(),a=JSON.stringify(FN(n));return N.useMemo(()=>qN(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function k7(t,e){return XP(t,e)}function XP(t,e,n,r,a){var L;on(td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(hi),{matches:c}=N.useContext(es),d=c[c.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";QP(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=ts(),w;if(e){let A=typeof e=="string"?gc(e):e;on(p==="/"||((L=A.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),w=A}else w=x;let E=w.pathname||"/",_=E;if(p!=="/"){let A=p.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(A.length).join("/")}let j=FP(t,{pathname:_});va(g||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),va(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=z7(j&&j.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:Is([p,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:Is([p,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,n,r,a);return e&&C?N.createElement(gh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function M7(){let t=H7(),e=C7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,c)}var L7=N.createElement(M7,null),U7=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(es.Provider,{value:this.props.routeContext},N.createElement(HN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V7({routeContext:t,match:e,children:n}){let r=N.useContext(ed);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(es.Provider,{value:t},n)}function z7(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,c=n==null?void 0:n.errors;if(c!=null){let p=s.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);on(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:w}=n,E=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&r?(p,g)=>{var x,w;r(p,{location:n.location,params:((w=(x=n.matches)==null?void 0:x[0])==null?void 0:w.params)??{},errorInfo:g})}:void 0;return s.reduceRight((p,g,x)=>{let w,E=!1,_=null,j=null;n&&(w=c&&g.route.id?c[g.route.id]:void 0,_=g.route.errorElement||L7,d&&(f<0&&x===0?(QP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,j=null):f===x&&(E=!0,j=g.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,x+1)),L=()=>{let A;return w?A=_:E?A=j:g.route.Component?A=N.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=p,N.createElement(V7,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?N.createElement(U7,{location:n.location,revalidation:n.revalidation,component:_,error:w,children:L(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):L()},null)}function KN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B7(t){let e=N.useContext(ed);return on(e,KN(t)),e}function $7(t){let e=N.useContext(ky);return on(e,KN(t)),e}function F7(t){let e=N.useContext(es);return on(e,KN(t)),e}function YN(t){let e=F7(t),n=e.matches[e.matches.length-1];return on(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function q7(){return YN("useRouteId")}function H7(){var r;let t=N.useContext(HN),e=$7("useRouteError"),n=YN("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function G7(){let{router:t}=B7("useNavigate"),e=YN("useNavigate"),n=N.useRef(!1);return WP(()=>{n.current=!0}),N.useCallback(async(a,s={})=>{va(n.current,YP),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var O2={};function QP(t,e,n){!e&&!O2[t]&&(O2[t]=!0,va(!1,n))}N.memo(K7);function K7({routes:t,future:e,state:n,unstable_onError:r}){return XP(t,void 0,n,r,e)}function Y7({to:t,replace:e,state:n,relative:r}){on(td(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(hi);va(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(es),{pathname:c}=ts(),d=GN(),f=qN(t,FN(s),c,r==="path"),h=JSON.stringify(f);return N.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function tn(t){on(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){on(!td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:a,static:s,future:{}}),[c,a,s]);typeof n=="string"&&(n=gc(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,w=N.useMemo(()=>{let E=Ps(f,c);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:x},navigationType:r}},[c,f,h,p,g,x,r]);return va(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(hi.Provider,{value:d},N.createElement(gh.Provider,{children:e,value:w}))}function X7({children:t,location:e}){return k7(d1(t),e)}function d1(t,e=[]){let n=[];return N.Children.forEach(t,(r,a)=>{if(!N.isValidElement(r))return;let s=[...e,a];if(r.type===N.Fragment){n.push.apply(n,d1(r.props.children,s));return}on(r.type===tn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),on(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=d1(r.props.children,s)),n.push(c)}),n}var Qp="get",Jp="application/x-www-form-urlencoded";function My(t){return t!=null&&typeof t.tagName=="string"}function Q7(t){return My(t)&&t.tagName.toLowerCase()==="button"}function J7(t){return My(t)&&t.tagName.toLowerCase()==="form"}function Z7(t){return My(t)&&t.tagName.toLowerCase()==="input"}function e9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function t9(t,e){return t.button===0&&(!e||e==="_self")&&!e9(t)}var jp=null;function n9(){if(jp===null)try{new FormData(document.createElement("form"),0),jp=!1}catch{jp=!0}return jp}var r9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cb(t){return t!=null&&!r9.has(t)?(va(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jp}"`),null):t}function a9(t,e){let n,r,a,s,c;if(J7(t)){let d=t.getAttribute("action");r=d?Ps(d,e):null,n=t.getAttribute("method")||Qp,a=cb(t.getAttribute("enctype"))||Jp,s=new FormData(t)}else if(Q7(t)||Z7(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Ps(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Qp,a=cb(t.getAttribute("formenctype"))||cb(d.getAttribute("enctype"))||Jp,s=new FormData(d,t),!n9()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else h&&s.append(h,g)}}else{if(My(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qp,r=null,a=Jp,c=t}return s&&a==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function WN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function i9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ps(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function s9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function o9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function l9(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let c=await s9(s,n);return c.links?c.links():[]}return[]}));return f9(r.flat(1).filter(o9).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function R2(t,e,n,r,a,s){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,h)=>c(f,h)||d(f,h)):s==="data"?e.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function c9(t,e,{includeHydrateFallback:n}={}){return u9(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function u9(t){return[...new Set(t)]}function d9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function f9(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(d9(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function JP(){let t=N.useContext(ed);return WN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function h9(){let t=N.useContext(ky);return WN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var XN=N.createContext(void 0);XN.displayName="FrameworkContext";function ZP(){let t=N.useContext(XN);return WN(t,"You must render this element inside a <HydratedRouter> element"),t}function m9(t,e){let n=N.useContext(XN),[r,a]=N.useState(!1),[s,c]=N.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=C=>{C.forEach(L=>{c(L.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[t]),N.useEffect(()=>{if(r){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[r]);let w=()=>{a(!0)},E=()=>{a(!1),c(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:wf(d,w),onBlur:wf(f,E),onMouseEnter:wf(h,w),onMouseLeave:wf(p,E),onTouchStart:wf(g,w)}]:[!1,x,{}]}function wf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function p9({page:t,...e}){let{router:n}=JP(),r=N.useMemo(()=>FP(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(y9,{page:t,matches:r,...e}):null}function g9(t){let{manifest:e,routeModules:n}=ZP(),[r,a]=N.useState([]);return N.useEffect(()=>{let s=!1;return l9(t,e,n).then(c=>{s||a(c)}),()=>{s=!0}},[t,e,n]),r}function y9({page:t,matches:e,...n}){let r=ts(),{manifest:a,routeModules:s}=ZP(),{basename:c}=JP(),{loaderData:d,matches:f}=h9(),h=N.useMemo(()=>R2(t,e,f,a,r,"data"),[t,e,f,a,r]),p=N.useMemo(()=>R2(t,e,f,a,r,"assets"),[t,e,f,a,r]),g=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,_=!1;if(e.forEach(C=>{var A;let L=a.routes[C.route.id];!L||!L.hasLoader||(!h.some(D=>D.route.id===C.route.id)&&C.route.id in d&&((A=s[C.route.id])!=null&&A.shouldRevalidate)||L.hasClientLoader?_=!0:E.add(C.route.id))}),E.size===0)return[];let j=i9(t,c,"data");return _&&E.size>0&&j.searchParams.set("_routes",e.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[j.pathname+j.search]},[c,d,r,a,h,e,t,s]),x=N.useMemo(()=>c9(p,a),[p,a]),w=g9(p);return N.createElement(N.Fragment,null,g.map(E=>N.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>N.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:_})=>N.createElement("link",{key:E,nonce:n.nonce,..._})))}function v9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var e4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e4&&(window.__reactRouterVersion="7.9.6")}catch{}function x9({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=i7({window:n,v5Compat:!0}));let a=r.current,[s,c]=N.useState({action:a.action,location:a.location}),d=N.useCallback(f=>{N.startTransition(()=>c(f))},[c]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(W7,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var t4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QN=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...x},w){let{basename:E}=N.useContext(hi),_=typeof h=="string"&&t4.test(h),j,C=!1;if(typeof h=="string"&&_&&(j=h,e4))try{let M=new URL(window.location.href),I=h.startsWith("//")?new URL(M.protocol+h):new URL(h),O=Ps(I.pathname,E);I.origin===M.origin&&O!=null?h=O+I.search+I.hash:C=!0}catch{va(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=D7(h,{relative:a}),[A,D,R]=m9(r,x),U=_9(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function k(M){e&&e(M),M.defaultPrevented||U(M)}let V=N.createElement("a",{...x,...R,href:j||L,onClick:C||s?e:k,ref:v9(w,D),target:f,"data-discover":!_&&n==="render"?"true":void 0});return A&&!_?N.createElement(N.Fragment,null,V,N.createElement(p9,{page:L})):V});QN.displayName="Link";var b9=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:c,viewTransition:d,children:f,...h},p){let g=yh(c,{relative:h.relative}),x=ts(),w=N.useContext(ky),{navigator:E,basename:_}=N.useContext(hi),j=w!=null&&T9(g)&&d===!0,C=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,L=x.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(L=L.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&_&&(A=Ps(A,_)||A);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let R=L===C||!a&&L.startsWith(C)&&L.charAt(D)==="/",U=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),k={isActive:R,isPending:U,isTransitioning:j},V=R?e:void 0,M;typeof r=="function"?M=r(k):M=[r,R?"active":null,U?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(k):s;return N.createElement(QN,{...h,"aria-current":V,className:M,ref:p,style:I,to:c,viewTransition:d},typeof f=="function"?f(k):f)});b9.displayName="NavLink";var w9=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:c=Qp,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...x},w)=>{let E=S9(),_=A9(d,{relative:h}),j=c.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&t4.test(d),L=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let D=A.nativeEvent.submitter,R=(D==null?void 0:D.getAttribute("formmethod"))||c;E(D||A.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return N.createElement("form",{ref:w,method:j,action:_,onSubmit:r?f:L,...x,"data-discover":!C&&t==="render"?"true":void 0})});w9.displayName="Form";function N9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n4(t){let e=N.useContext(ed);return on(e,N9(t)),e}function _9(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:c}={}){let d=GN(),f=ts(),h=yh(t,{relative:s});return N.useCallback(p=>{if(t9(p,e)){p.preventDefault();let g=n!==void 0?n:qf(f)===qf(h);d(t,{replace:g,state:r,preventScrollReset:a,relative:s,viewTransition:c})}},[f,d,h,n,r,e,t,a,s,c])}var j9=0,E9=()=>`__${String(++j9)}__`;function S9(){let{router:t}=n4("useSubmit"),{basename:e}=N.useContext(hi),n=q7();return N.useCallback(async(r,a={})=>{let{action:s,method:c,encType:d,formData:f,body:h}=a9(r,e);if(a.navigate===!1){let p=a.fetcherKey||E9();await t.fetch(p,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function A9(t,{relative:e}={}){let{basename:n}=N.useContext(hi),r=N.useContext(es);on(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...yh(t||".",{relative:e})},c=ts();if(t==null){s.search=c.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Is([n,s.pathname])),qf(s)}function T9(t,{relative:e}={}){let n=N.useContext(KP);on(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=n4("useViewTransitionState"),a=yh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gg(a.pathname,c)!=null||gg(a.pathname,s)!=null}var r4=$P();/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),D2=t=>{const e=I9(t);return e.charAt(0).toUpperCase()+e.slice(1)},a4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),O9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:c,...d},f)=>N.createElement("svg",{ref:f,...R9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:a4("lucide",a),...!s&&!O9(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,p])=>N.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(t,e)=>{const n=N.forwardRef(({className:r,...a},s)=>N.createElement(D9,{ref:s,iconNode:e,className:a4(`lucide-${C9(D2(t))}`,`lucide-${t}`,r),...a}));return n.displayName=D2(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],i4=Ie("activity",P9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],P2=Ie("archive",k9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],L9=Ie("arrow-left",M9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],V9=Ie("arrow-right-left",U9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Su=Ie("award",z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],s4=Ie("badge-check",B9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Os=Ie("book-open",$9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ks=Ie("briefcase",F9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],H9=Ie("building",q9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],K9=Ie("bus",G9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Zp=Ie("calendar-days",Y9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vh=Ie("calendar",W9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Q9=Ie("chart-column",X9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JN=Ie("chevron-down",J9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ZN=Ie("chevron-up",Z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],e_=Ie("circle-alert",ez);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wr=Ie("circle-check",tz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rz=Ie("circle-play",nz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Mf=Ie("circle-plus",az);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],o4=Ie("circle-user",iz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],t_=Ie("circle-x",sz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],l4=Ie("clipboard-list",oz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gi=Ie("clock",lz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Er=Ie("cloud-upload",cz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],dz=Ie("coins",uz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hz=Ie("copy",fz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],yg=Ie("download",mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],vg=Ie("external-link",pz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],yz=Ie("file-clock",gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1",key:"1q9hii"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],c4=Ie("file-input",vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M4.226 20.925A2 2 0 0 0 6 22h12a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.127",key:"wfxp4w"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],u4=Ie("file-output",xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yr=Ie("file-text",bz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],f1=Ie("flask-conical",wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_z=Ie("funnel",Nz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],n_=Ie("globe",jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Jl=Ie("graduation-cap",Ez);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Az=Ie("history",Sz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],Cz=Ie("import",Tz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],h1=Ie("key",Iz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Rz=Ie("layout-dashboard",Oz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],d4=Ie("leaf",Dz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],f4=Ie("library",Pz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],k2=Ie("link",kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],it=Ie("loader-circle",Mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ub=Ie("lock",Lz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vz=Ie("log-out",Uz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],m1=Ie("mail",zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],h4=Ie("map-pin",Bz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],p1=Ie("megaphone",$z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],qz=Ie("menu",Fz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],M2=Ie("message-circle",Hz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],Kz=Ie("mic-vocal",Gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],xg=Ie("microscope",Yz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],If=Ie("network",Wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],db=Ie("phone",Xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Ly=Ie("plane",Qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ft=Ie("plus",Jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],eB=Ie("presentation",Zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],nB=Ie("qr-code",tB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],g1=Ie("refresh-ccw",rB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nn=Ie("save",aB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Mu=Ie("search",iB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],m4=Ie("send",sB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p4=Ie("settings",oB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],cB=Ie("shield-alert",lB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Nu=Ie("sprout",uB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Gn=Ie("square-pen",dB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],hB=Ie("stethoscope",fB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],pB=Ie("table",mB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eg=Ie("target",gB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ht=Ie("trash-2",yB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qr=Ie("triangle-alert",vB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],L2=Ie("user-check",xB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wB=Ie("user-cog",bB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],g4=Ie("user-plus",NB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],r_=Ie("user",_B);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oi=Ie("users",jB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pt=Ie("x",EB);var je=(t=>(t.ADMIN="ADMIN",t.DATA_ENTRY="DATA_ENTRY",t.STAFF="STAFF",t.STUDENT_PG="STUDENT_PG",t.STUDENT_UG="STUDENT_UG",t.ALUMNI="ALUMNI",t.EMPLOYEE="EMPLOYEE",t))(je||{}),rt=(t=>(t.OUTGOING="OUTGOING",t.INCOMING="INCOMING",t.DEPARTMENT_COUNCIL="DEPARTMENT_COUNCIL",t.COMMITTEE_MEETING="COMMITTEE_MEETING",t))(rt||{});const SB=({children:t,user:e,onLogout:n})=>{const[r,a]=N.useState(!1),s=ts(),c=h=>s.pathname===h,f=[{path:"/",label:" ",icon:Rz,roles:[je.ADMIN,je.STAFF,je.DATA_ENTRY,je.EMPLOYEE]},{path:"/outgoing",label:"",icon:u4,roles:[je.ADMIN,je.STAFF,je.DATA_ENTRY]},{path:"/incoming",label:"",icon:c4,roles:[je.ADMIN,je.STAFF,je.DATA_ENTRY]},{path:"/councils",label:" ",icon:oi,roles:[je.ADMIN,je.STAFF]},{path:"/committees",label:" ",icon:l4,roles:[je.ADMIN,je.STAFF]},{path:"/formation",label:"  ",icon:If,roles:[je.ADMIN,je.STAFF]},{path:"/research-plan",label:"  ",icon:eg,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG,je.STUDENT_UG]},{path:"/events",label:"  ",icon:p1,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG,je.STUDENT_UG,je.ALUMNI,je.EMPLOYEE]},{path:"/pg-manager",label:"  ",icon:yz,roles:[je.ADMIN,je.STAFF]},{path:"/repository",label:"   ",icon:f4,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG,je.STUDENT_UG,je.ALUMNI,je.EMPLOYEE]},{path:"/inventory",label:" ",icon:xg,roles:[je.ADMIN,je.STAFF]},{path:"/labs",label:" ",icon:f1,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG]},{path:"/greenhouse",label:"  ",icon:Nu,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG]},{path:"/staff",label:" ",icon:o4,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG,je.STUDENT_UG]},{path:"/annual-report",label:" ",icon:yr,roles:[je.ADMIN,je.STAFF]},{path:"/leaves",label:" ",icon:Zp,roles:[je.ADMIN,je.STAFF,je.EMPLOYEE]},{path:"/career-movements",label:"   ",icon:Ly,roles:[je.ADMIN,je.STAFF,je.EMPLOYEE]},{path:"/students",label:" ",icon:Os,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG,je.STUDENT_UG]},{path:"/alumni",label:" ",icon:ks,roles:[je.ADMIN,je.STAFF,je.ALUMNI]},{path:"/users",label:" ",icon:wB,roles:[je.ADMIN]},{path:"/activity-log",label:" ",icon:i4,roles:[je.ADMIN]},{path:"/search",label:" ",icon:Mu,roles:[je.ADMIN,je.STAFF,je.DATA_ENTRY]}].filter(h=>h.roles.includes(e.role));return o.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[r&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>a(!1)}),o.jsxs("aside",{className:`
          fixed top-0 right-0 h-full w-64 bg-green-900 text-white z-30 transform transition-transform duration-300 ease-in-out shadow-xl flex flex-col
          ${r?"translate-x-0":"translate-x-full"} 
          lg:relative lg:translate-x-0
        `,children:[o.jsxs("div",{className:"p-6 border-b border-green-800 flex items-center gap-3 shrink-0",children:[o.jsx("div",{className:"bg-white p-2 rounded-full",children:o.jsx(d4,{className:"w-6 h-6 text-green-700"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-bold text-sm",children:"   "}),o.jsx("p",{className:"text-xs text-green-300",children:"  - "})]})]}),o.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto custom-scrollbar",children:f.map(h=>o.jsxs(QN,{to:h.path,onClick:()=>a(!1),className:`
                flex items-center gap-3 px-4 py-3 rounded-lg transition-colors
                ${c(h.path)?"bg-green-700 text-white font-semibold shadow-md":"text-green-100 hover:bg-green-800 hover:text-white"}
              `,children:[o.jsx(h.icon,{className:"w-5 h-5"}),o.jsx("span",{children:h.label})]},h.path))}),o.jsxs("div",{className:"p-4 border-t border-green-800 bg-green-900 shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-700 flex items-center justify-center font-bold text-lg border-2 border-green-600",children:e.name.charAt(0)}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),o.jsx("p",{className:"text-xs text-green-300 truncate",children:e.role===je.ADMIN?" ":e.role===je.STAFF?"  ":e.role===je.STUDENT_PG?" ":e.role===je.STUDENT_UG?"":e.role===je.EMPLOYEE?" / ":""})]})]}),o.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg text-sm transition-colors",children:[o.jsx(Vz,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[o.jsxs("header",{className:"bg-white shadow-sm lg:hidden flex items-center justify-between p-4 z-10",children:[o.jsx("h2",{className:"font-bold text-gray-800 text-sm",children:"   "}),o.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",children:o.jsx(qz,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8",children:t})]})]})};function y4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=y4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Bt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=y4(t))&&(r&&(r+=" "),r+=e);return r}var AB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function a_(t){if(typeof t!="string")return!1;var e=AB;return e.includes(t)}var TB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CB=new Set(TB);function v4(t){return typeof t!="string"?!1:CB.has(t)}function x4(t){return typeof t=="string"&&t.startsWith("data-")}function ci(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v4(n)||x4(n))&&(e[n]=t[n]);return e}function Hf(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ci(e)}return typeof t=="object"&&!Array.isArray(t)?ci(t):null}function Ua(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(v4(n)||x4(n)||a_(n))&&(e[n]=t[n]);return e}var IB=["children","width","height","viewBox","className","style","title","desc"];function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y1.apply(null,arguments)}function OB(t,e){if(t==null)return{};var n,r,a=RB(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function RB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var b4=N.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:c,style:d,title:f,desc:h}=t,p=OB(t,IB),g=s||{width:r,height:a,x:0,y:0},x=Bt("recharts-surface",c);return N.createElement("svg",y1({},Ua(p),{className:x,width:r,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),N.createElement("title",null,f),N.createElement("desc",null,h),n)}),DB=["children","className"];function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v1.apply(null,arguments)}function PB(t,e){if(t==null)return{};var n,r,a=kB(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kr=N.forwardRef((t,e)=>{var{children:n,className:r}=t,a=PB(t,DB),s=Bt("recharts-layer",r);return N.createElement("g",v1({className:s},Ua(a),{ref:e}),n)}),MB=N.createContext(null);function Gt(t){return function(){return t}}const w4=Math.cos,bg=Math.sin,mi=Math.sqrt,wg=Math.PI,Uy=2*wg,x1=Math.PI,b1=2*x1,Fl=1e-6,LB=b1-Fl;function N4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function UB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return N4;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class VB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?N4:UB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,c){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,f=r-e,h=a-n,p=c-e,g=d-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>Fl)if(!(Math.abs(g*f-h*p)>Fl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-c,E=a-d,_=f*f+h*h,j=w*w+E*E,C=Math.sqrt(_),L=Math.sqrt(x),A=s*Math.tan((x1-Math.acos((_+x-j)/(2*C*L)))/2),D=A/L,R=A/C;Math.abs(D-1)>Fl&&this._append`L${e+D*p},${n+D*g}`,this._append`A${s},${s},0,0,${+(g*w>p*E)},${this._x1=e+R*f},${this._y1=n+R*h}`}}arc(e,n,r,a,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),f=r*Math.sin(a),h=e+d,p=n+f,g=1^c,x=c?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Fl||Math.abs(this._y1-p)>Fl)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%b1+b1),x>LB?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>Fl&&this._append`A${r},${r},0,${+(x>=x1)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function i_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new VB(e)}function s_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _4(t){this._context=t}_4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vy(t){return new _4(t)}function j4(t){return t[0]}function E4(t){return t[1]}function S4(t,e){var n=Gt(!0),r=null,a=Vy,s=null,c=i_(d);t=typeof t=="function"?t:t===void 0?j4:Gt(t),e=typeof e=="function"?e:e===void 0?E4:Gt(e);function d(f){var h,p=(f=s_(f)).length,g,x=!1,w;for(r==null&&(s=a(w=c())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(g,h,f),+e(g,h,f));if(w)return s=null,w+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Gt(!!f),d):n},d.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),d):a},d.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),d):r},d}function Ep(t,e,n){var r=null,a=Gt(!0),s=null,c=Vy,d=null,f=i_(h);t=typeof t=="function"?t:t===void 0?j4:Gt(+t),e=typeof e=="function"?e:Gt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?E4:Gt(+n);function h(g){var x,w,E,_=(g=s_(g)).length,j,C=!1,L,A=new Array(_),D=new Array(_);for(s==null&&(d=c(L=f())),x=0;x<=_;++x){if(!(x<_&&a(j=g[x],x,g))===C)if(C=!C)w=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),E=x-1;E>=w;--E)d.point(A[E],D[E]);d.lineEnd(),d.areaEnd()}C&&(A[x]=+t(j,x,g),D[x]=+e(j,x,g),d.point(r?+r(j,x,g):A[x],n?+n(j,x,g):D[x]))}if(L)return d=null,L+""||null}function p(){return S4().defined(a).curve(c).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Gt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Gt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Gt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Gt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Gt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Gt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Gt(!!g),h):a},h.curve=function(g){return arguments.length?(c=g,s!=null&&(d=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=d=null:d=c(s=g),h):s},h}class A4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zB(t){return new A4(t,!0)}function BB(t){return new A4(t,!1)}const o_={draw(t,e){const n=mi(e/wg);t.moveTo(n,0),t.arc(0,0,n,0,Uy)}},$B={draw(t,e){const n=mi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},T4=mi(1/3),FB=T4*2,qB={draw(t,e){const n=mi(e/FB),r=n*T4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},HB={draw(t,e){const n=mi(e),r=-n/2;t.rect(r,r,n,n)}},GB=.8908130915292852,C4=bg(wg/10)/bg(7*wg/10),KB=bg(Uy/10)*C4,YB=-w4(Uy/10)*C4,WB={draw(t,e){const n=mi(e*GB),r=KB*n,a=YB*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const c=Uy*s/5,d=w4(c),f=bg(c);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*a,f*r+d*a)}t.closePath()}},fb=mi(3),XB={draw(t,e){const n=-mi(e/(fb*3));t.moveTo(0,n*2),t.lineTo(-fb*n,-n),t.lineTo(fb*n,-n),t.closePath()}},Ra=-.5,Da=mi(3)/2,w1=1/mi(12),QB=(w1/2+1)*3,JB={draw(t,e){const n=mi(e/QB),r=n/2,a=n*w1,s=r,c=n*w1+n,d=-s,f=c;t.moveTo(r,a),t.lineTo(s,c),t.lineTo(d,f),t.lineTo(Ra*r-Da*a,Da*r+Ra*a),t.lineTo(Ra*s-Da*c,Da*s+Ra*c),t.lineTo(Ra*d-Da*f,Da*d+Ra*f),t.lineTo(Ra*r+Da*a,Ra*a-Da*r),t.lineTo(Ra*s+Da*c,Ra*c-Da*s),t.lineTo(Ra*d+Da*f,Ra*f-Da*d),t.closePath()}};function ZB(t,e){let n=null,r=i_(a);t=typeof t=="function"?t:Gt(t||o_),e=typeof e=="function"?e:Gt(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Gt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Gt(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function Ng(){}function _g(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function I4(t){this._context=t}I4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e$(t){return new I4(t)}function O4(t){this._context=t}O4.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t$(t){return new O4(t)}function R4(t){this._context=t}R4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function n$(t){return new R4(t)}function D4(t){this._context=t}D4.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function r$(t){return new D4(t)}function U2(t){return t<0?-1:1}function V2(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),c=(n-t._y1)/(a||r<0&&-0),d=(s*a+c*r)/(r+a);return(U2(s)+U2(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function z2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function hb(t,e,n){var r=t._x0,a=t._y0,s=t._x1,c=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,a+d*e,s-d,c-d*n,s,c)}function jg(t){this._context=t}jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hb(this,this._t0,z2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hb(this,z2(this,n=V2(this,t,e)),n);break;default:hb(this,this._t0,n=V2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function P4(t){this._context=new k4(t)}(P4.prototype=Object.create(jg.prototype)).point=function(t,e){jg.prototype.point.call(this,e,t)};function k4(t){this._context=t}k4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function a$(t){return new jg(t)}function i$(t){return new P4(t)}function M4(t){this._context=t}M4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=B2(t),a=B2(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function B2(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),c=new Array(n);for(a[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(a[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(c[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function s$(t){return new M4(t)}function zy(t,e){this._context=t,this._t=e}zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function o$(t){return new zy(t,.5)}function l$(t){return new zy(t,0)}function c$(t){return new zy(t,1)}function Lu(t,e){if((c=t.length)>1)for(var n=1,r,a,s=t[e[0]],c,d=s.length;n<c;++n)for(a=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function N1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function u$(t,e){return t[e]}function d$(t){const e=[];return e.key=t,e}function f$(){var t=Gt([]),e=N1,n=Lu,r=u$;function a(s){var c=Array.from(t.apply(this,arguments),d$),d,f=c.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(c[d][h]=[0,+r(g,c[d].key,h,s)]).data=g;for(d=0,p=s_(e(c));d<f;++d)c[p[d]].index=d;return n(c,p),c}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Gt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Gt(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?N1:typeof s=="function"?s:Gt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Lu,a):n},a}function h$(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,c;a<s;++a){for(c=n=0;n<r;++n)c+=t[n][a][1]||0;if(c)for(n=0;n<r;++n)t[n][a][1]/=c}Lu(t,e)}}function m$(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var c=0,d=0;c<a;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}Lu(t,e)}}function p$(t,e){if(!(!((c=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,c;r<s;++r){for(var d=0,f=0,h=0;d<c;++d){for(var p=t[e[d]],g=p[r][1]||0,x=p[r-1][1]||0,w=(g-x)/2,E=0;E<d;++E){var _=t[e[E]],j=_[r][1]||0,C=_[r-1][1]||0;w+=j-C}f+=g,h+=w*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=h/f)}a[r-1][1]+=a[r-1][0]=n,Lu(t,e)}}var mb={},pb={},$2;function g$(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(pb)),pb}var gb={},F2;function L4(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(gb)),gb}var yb={},q2;function l_(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(yb)),yb}var vb={},xb={},H2;function y$(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(xb)),xb}var G2;function c_(){return G2||(G2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y$(),n=l_();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],c=a.length;if(c===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<c;){const g=a[d];h?g==="\\"&&d+1<c?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=r})(vb)),vb}var K2;function u_(){return K2||(K2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g$(),n=L4(),r=l_(),a=c_();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function c(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(mb)),mb}var bb,Y2;function v$(){return Y2||(Y2=1,bb=u_().get),bb}var x$=v$();const ac=Zi(x$);var ir=t=>t===0?0:t>0?1:-1,ui=t=>typeof t=="number"&&t!=+t,Ms=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ve=t=>(typeof t=="number"||t instanceof Number)&&!ui(t),Ki=t=>Ve(t)||typeof t=="string",b$=0,Gf=t=>{var e=++b$;return"".concat(t||"").concat(e)},Sr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(e)&&typeof e!="string")return r;var s;if(Ms(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return ui(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},U4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Fn(t,e,n){return Ve(t)&&Ve(e)?t+n*(e-t):e}function w$(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ac(r,e))===n)}var sr=t=>t===null||typeof t>"u",xh=t=>sr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function N$(t){return t!=null}function bh(){}var _$=["type","size","sizeType"];function _1(){return _1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_1.apply(null,arguments)}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function X2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){j$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j$(t,e,n){return(e=E$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t){var e=S$(t,"string");return typeof e=="symbol"?e:e+""}function S$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A$(t,e){if(t==null)return{};var n,r,a=T$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function T$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var V4={symbolCircle:o_,symbolCross:$B,symbolDiamond:qB,symbolSquare:HB,symbolStar:WB,symbolTriangle:XB,symbolWye:JB},C$=Math.PI/180,I$=t=>{var e="symbol".concat(xh(t));return V4[e]||o_},O$=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*C$;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},R$=(t,e)=>{V4["symbol".concat(xh(t))]=e},z4=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=A$(t,_$),s=X2(X2({},a),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var x=I$(c),w=ZB().type(x).size(O$(n,r,c)),E=w();if(E!==null)return E},{className:f,cx:h,cy:p}=s,g=Ua(s);return Ve(h)&&Ve(p)&&Ve(n)?N.createElement("path",_1({},g,{className:Bt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};z4.registerSymbol=R$;var B4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,D$=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{a_(a)&&(r[a]=(s=>n[a](n,s)))}),r},P$=(t,e,n)=>r=>(t(e,n,r),null),By=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];a_(a)&&typeof s=="function"&&(r||(r={}),r[a]=P$(s,e,n))}),r};function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function k$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){M$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M$(t,e,n){return(e=L$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t){var e=U$(t,"string");return typeof e=="symbol"?e:e+""}function U$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tr(t,e){var n=k$({},t),r=e,a=Object.keys(e),s=a.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return s}var wb={},Nb={},J2;function V$(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const c=n[s],d=r(c);a.has(d)||a.set(d,c)}return Array.from(a.values())}t.uniqBy=e})(Nb)),Nb}var _b={},Z2;function $4(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(_b)),_b}var jb={},Eb={},Sb={},eC;function z$(){return eC||(eC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Sb)),Sb}var tC;function d_(){return tC||(tC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z$();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Eb)),Eb}var Ab={},nC;function B$(){return nC||(nC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Ab)),Ab}var rC;function $$(){return rC||(rC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d_(),n=B$();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(jb)),jb}var Tb={},Cb={},aC;function F$(){return aC||(aC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u_();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Cb)),Cb}var Ib={},Ob={},Rb={},Db={},iC;function F4(){return iC||(iC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Db)),Db}var Pb={},sC;function q4(){return sC||(sC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Pb)),Pb}var kb={},oC;function H4(){return oC||(oC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(kb)),kb}var lC;function q$(){return lC||(lC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4(),n=q4(),r=H4();function a(p,g,x){return typeof x!="function"?a(p,g,()=>{}):s(p,g,function w(E,_,j,C,L,A){const D=x(E,_,j,C,L,A);return D!==void 0?!!D:s(E,_,w,A)},new Map)}function s(p,g,x,w){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,x,w);case"function":return Object.keys(g).length>0?s(p,{...g},x,w):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function c(p,g,x,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,x,w);if(g instanceof Map)return d(p,g,x,w);if(g instanceof Set)return h(p,g,x,w);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===p;w==null||w.set(g,p);try{for(let _=0;_<E.length;_++){const j=E[_];if(!n.isPrimitive(p)&&!(j in p)||g[j]===void 0&&p[j]!==void 0||g[j]===null&&p[j]!==null||!x(p[j],g[j],j,p,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function d(p,g,x,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,_]of g.entries()){const j=p.get(E);if(x(j,_,E,p,g,w)===!1)return!1}return!0}function f(p,g,x,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let _=0;_<g.length;_++){const j=g[_];let C=!1;for(let L=0;L<p.length;L++){if(E.has(L))continue;const A=p[L];let D=!1;if(x(A,j,_,p,g,w)&&(D=!0),D){E.add(L),C=!0;break}}if(!C)return!1}return!0}function h(p,g,x,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],x,w):!1}t.isMatchWith=a,t.isSetMatch=h})(Rb)),Rb}var cC;function G4(){return cC||(cC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q$();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Ob)),Ob}var Mb={},Lb={},Ub={},uC;function H$(){return uC||(uC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Ub)),Ub}var Vb={},dC;function K4(){return dC||(dC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Vb)),Vb}var zb={},fC;function Y4(){return fC||(fC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",w="[object Object]",E="[object Error]",_="[object DataView]",j="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",A="[object Uint32Array]",D="[object BigUint64Array]",R="[object Int8Array]",U="[object Int16Array]",k="[object Int32Array]",V="[object BigInt64Array]",M="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=V,t.bigUint64ArrayTag=D,t.booleanTag=a,t.dataViewTag=_,t.dateTag=d,t.errorTag=E,t.float32ArrayTag=M,t.float64ArrayTag=I,t.functionTag=g,t.int16ArrayTag=U,t.int32ArrayTag=k,t.int8ArrayTag=R,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=L,t.uint32ArrayTag=A,t.uint8ArrayTag=j,t.uint8ClampedArrayTag=C})(zb)),zb}var Bb={},hC;function G$(){return hC||(hC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Bb)),Bb}var mC;function W4(){return mC||(mC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H$(),n=K4(),r=Y4(),a=q4(),s=G$();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,x,w=new Map,E=void 0){const _=E==null?void 0:E(p,g,x,w);if(_!==void 0)return _;if(a.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const j=new Array(p.length);w.set(p,j);for(let C=0;C<p.length;C++)j[C]=d(p[C],C,x,w,E);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;w.set(p,j);for(const[C,L]of p)j.set(C,d(L,C,x,w,E));return j}if(p instanceof Set){const j=new Set;w.set(p,j);for(const C of p)j.add(d(C,void 0,x,w,E));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,j);for(let C=0;C<p.length;C++)j[C]=d(p[C],C,x,w,E);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,j),f(j,p,x,w,E),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return w.set(p,j),f(j,p,x,w,E),j}if(typeof Blob<"u"&&p instanceof Blob){const j=new Blob([p],{type:p.type});return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof Error){const j=new p.constructor;return w.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,f(j,p,x,w,E),j}if(p instanceof Boolean){const j=new Boolean(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof Number){const j=new Number(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof String){const j=new String(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(typeof p=="object"&&h(p)){const j=Object.create(Object.getPrototypeOf(p));return w.set(p,j),f(j,p,x,w,E),j}return p}function f(p,g,x=p,w,E){const _=[...Object.keys(g),...e.getSymbols(g)];for(let j=0;j<_.length;j++){const C=_[j],L=Object.getOwnPropertyDescriptor(p,C);(L==null||L.writable)&&(p[C]=d(g[C],C,x,w,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=f})(Lb)),Lb}var pC;function K$(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Mb)),Mb}var gC;function Y$(){return gC||(gC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G4(),n=K$();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r})(Ib)),Ib}var $b={},Fb={},qb={},yC;function W$(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W4(),n=Y4();function r(a,s){return e.cloneDeepWith(a,(c,d,f,h)=>{const p=s==null?void 0:s(c,d,f,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(qb)),qb}var vC;function X$(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W$();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Fb)),Fb}var Hb={},Gb={},xC;function X4(){return xC||(xC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Gb)),Gb}var Kb={},bC;function Q$(){return bC||(bC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Kb)),Kb}var wC;function J$(){return wC||(wC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L4(),n=X4(),r=Q$(),a=c_();function s(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(Hb)),Hb}var NC;function Z$(){return NC||(NC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G4(),n=l_(),r=X$(),a=u_(),s=J$();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})($b)),$b}var _C;function eF(){return _C||(_C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$4(),n=F$(),r=Y$(),a=Z$();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s})(Tb)),Tb}var jC;function tF(){return jC||(jC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V$(),n=$4(),r=$$(),a=eF();function s(c,d=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),a.iteratee(d)):[]}t.uniqBy=s})(wb)),wb}var Yb,EC;function nF(){return EC||(EC=1,Yb=tF().uniqBy),Yb}var rF=nF();const SC=Zi(rF);function aF(t,e,n){return e===!0?SC(t,n):typeof e=="function"?SC(t,e):t}var Wb={exports:{}},Xb={},Qb={exports:{}},Jb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function iF(){if(AC)return Jb;AC=1;var t=Zu();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function d(g,x){var w=x(),E=r({inst:{value:w,getSnapshot:x}}),_=E[0].inst,j=E[1];return s(function(){_.value=w,_.getSnapshot=x,f(_)&&j({inst:_})},[g,w,x]),a(function(){return f(_)&&j({inst:_}),g(function(){f(_)&&j({inst:_})})},[g]),c(w),w}function f(g){var x=g.getSnapshot;g=g.value;try{var w=x();return!n(g,w)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Jb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Jb}var TC;function sF(){return TC||(TC=1,Qb.exports=iF()),Qb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CC;function oF(){if(CC)return Xb;CC=1;var t=Zu(),e=sF();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Xb.useSyncExternalStoreWithSelector=function(h,p,g,x,w){var E=s(null);if(E.current===null){var _={hasValue:!1,value:null};E.current=_}else _=E.current;E=d(function(){function C(U){if(!L){if(L=!0,A=U,U=x(U),w!==void 0&&_.hasValue){var k=_.value;if(w(k,U))return D=k}return D=U}if(k=D,r(A,U))return k;var V=x(U);return w!==void 0&&w(k,V)?(A=U,k):(A=U,D=V)}var L=!1,A,D,R=g===void 0?null:g;return[function(){return C(p())},R===null?void 0:function(){return C(R())}]},[p,g,x,w]);var j=a(h,E[0],E[1]);return c(function(){_.hasValue=!0,_.value=j},[j]),f(j),j},Xb}var IC;function lF(){return IC||(IC=1,Wb.exports=oF()),Wb.exports}var cF=lF(),f_=N.createContext(null),uF=t=>t,ln=()=>{var t=N.useContext(f_);return t?t.store.dispatch:uF},tg=()=>{},dF=()=>tg,fF=(t,e)=>t===e;function ze(t){var e=N.useContext(f_);return cF.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:dF,e?e.store.getState:tg,e?e.store.getState:tg,e?t:tg,fF)}function hF(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function mF(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function pF(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var OC=t=>Array.isArray(t)?t:[t];function gF(t){const e=Array.isArray(t[0])?t[0]:t;return pF(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function yF(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var vF=class{constructor(t){this.value=t}deref(){return this.value}},xF=typeof WeakRef<"u"?WeakRef:vF,bF=0,RC=1;function Sp(){return{s:bF,v:void 0,o:null,p:null}}function Q4(t,e={}){let n=Sp();const{resultEqualityCheck:r}=e;let a,s=0;function c(){var g;let d=n;const{length:f}=arguments;for(let x=0,w=f;x<w;x++){const E=arguments[x];if(typeof E=="function"||typeof E=="object"&&E!==null){let _=d.o;_===null&&(d.o=_=new WeakMap);const j=_.get(E);j===void 0?(d=Sp(),_.set(E,d)):d=j}else{let _=d.p;_===null&&(d.p=_=new Map);const j=_.get(E);j===void 0?(d=Sp(),_.set(E,d)):d=j}}const h=d;let p;if(d.s===RC)p=d.v;else if(p=t.apply(null,arguments),s++,r){const x=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;x!=null&&r(x,p)&&(p=x,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new xF(p):p}return h.s=RC,h.v=p,p}return c.clearCache=()=>{n=Sp(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function wF(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,c=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),hF(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:w=Q4,argsMemoizeOptions:E=[]}=p,_=OC(x),j=OC(E),C=gF(a),L=g(function(){return s++,h.apply(null,arguments)},..._),A=w(function(){c++;const R=yF(C,arguments);return d=L.apply(null,R),d},...j);return Object.assign(A,{resultFunc:h,memoizedResultFunc:L,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var oe=wF(Q4),NF=Object.assign((t,e=oe)=>{mF(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>NF}),Zb={},ew={},tw={},DC;function _F(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const c=e(r),d=e(a);if(c===d&&c===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};t.compareValues=n})(tw)),tw}var nw={},rw={},PC;function J4(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(rw)),rw}var kC;function jF(){return kC||(kC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=a})(nw)),nw}var MC;function EF(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_F(),n=jF(),r=c_();function a(s,c,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const h=(w,E)=>{let _=w;for(let j=0;j<E.length&&_!=null;++j)_=_[E[j]];return _},p=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:h(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?h(E,w):typeof E=="object"?E[w]:E,g=c.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(E=>p(E,w))})).slice().sort((w,E)=>{for(let _=0;_<g.length;_++){const j=e.compareValues(w.criteria[_],E.criteria[_],d[_]);if(j!==0)return j}return 0}).map(w=>w.original)}t.orderBy=a})(ew)),ew}var aw={},LC;function SF(){return LC||(LC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),c=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?c(p,f+1):a.push(p)}};return c(n,0),a}t.flatten=e})(aw)),aw}var iw={},UC;function Z4(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X4(),n=d_(),r=F4(),a=H4();function s(c,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.eq(f[d],c):!1}t.isIterateeCall=s})(iw)),iw}var VC;function AF(){return VC||(VC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EF(),n=SF(),r=Z4();function a(s,...c){const d=c.length;return d>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=a})(Zb)),Zb}var sw,zC;function TF(){return zC||(zC=1,sw=AF().sortBy),sw}var CF=TF();const $y=Zi(CF);var ek=t=>t.legend.settings,IF=t=>t.legend.size,OF=t=>t.legend.payload;oe([OF,ek],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?$y(r,n):r});var Ap=1;function RF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>Ap||Math.abs(c.left-e.left)>Ap||Math.abs(c.top-e.top)>Ap||Math.abs(c.width-e.width)>Ap)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function hr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var DF=typeof Symbol=="function"&&Symbol.observable||"@@observable",BC=DF,ow=()=>Math.random().toString(36).substring(7).split("").join("."),PF={INIT:`@@redux/INIT${ow()}`,REPLACE:`@@redux/REPLACE${ow()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ow()}`},Eg=PF;function h_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function tk(t,e,n){if(typeof t!="function")throw new Error(hr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(hr(1));return n(tk)(t,e)}let r=t,a=e,s=new Map,c=s,d=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((j,C)=>{c.set(C,j)}))}function p(){if(f)throw new Error(hr(3));return a}function g(j){if(typeof j!="function")throw new Error(hr(4));if(f)throw new Error(hr(5));let C=!0;h();const L=d++;return c.set(L,j),function(){if(C){if(f)throw new Error(hr(6));C=!1,h(),c.delete(L),s=null}}}function x(j){if(!h_(j))throw new Error(hr(7));if(typeof j.type>"u")throw new Error(hr(8));if(typeof j.type!="string")throw new Error(hr(17));if(f)throw new Error(hr(9));try{f=!0,a=r(a,j)}finally{f=!1}return(s=c).forEach(L=>{L()}),j}function w(j){if(typeof j!="function")throw new Error(hr(10));r=j,x({type:Eg.REPLACE})}function E(){const j=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(hr(11));function L(){const D=C;D.next&&D.next(p())}return L(),{unsubscribe:j(L)}},[BC](){return this}}}return x({type:Eg.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:w,[BC]:E}}function kF(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Eg.INIT})>"u")throw new Error(hr(12));if(typeof n(void 0,{type:Eg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hr(13))})}function nk(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let a;try{kF(n)}catch(s){a=s}return function(c={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],w=c[g],E=x(w,d);if(typeof E>"u")throw d&&d.type,new Error(hr(14));h[g]=E,f=f||E!==w}return f=f||r.length!==Object.keys(c).length,f?h:c}}function Sg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function MF(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(hr(15))};const c={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=t.map(f=>f(c));return s=Sg(...d)(a.dispatch),{...a,dispatch:s}}}function rk(t){return h_(t)&&"type"in t&&typeof t.type=="string"}var ak=Symbol.for("immer-nothing"),$C=Symbol.for("immer-draftable"),Mr=Symbol.for("immer-state");function ti(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ma=Object,Uu=ma.getPrototypeOf,Ag="constructor",Fy="prototype",j1="configurable",Tg="enumerable",ng="writable",Kf="value",Ls=t=>!!t&&!!t[Mr];function Yi(t){var e;return t?ik(t)||qy(t)||!!t[$C]||!!((e=t[Ag])!=null&&e[$C])||Hy(t)||Gy(t):!1}var LF=ma[Fy][Ag].toString(),FC=new WeakMap;function ik(t){if(!t||!m_(t))return!1;const e=Uu(t);if(e===null||e===ma[Fy])return!0;const n=ma.hasOwnProperty.call(e,Ag)&&e[Ag];if(n===Object)return!0;if(!yu(n))return!1;let r=FC.get(n);return r===void 0&&(r=Function.toString.call(n),FC.set(n,r)),r===LF}function wh(t,e,n=!0){Nh(t)===0?(n?Reflect.ownKeys(t):ma.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function Nh(t){const e=t[Mr];return e?e.type_:qy(t)?1:Hy(t)?2:Gy(t)?3:0}var qC=(t,e,n=Nh(t))=>n===2?t.has(e):ma[Fy].hasOwnProperty.call(t,e),E1=(t,e,n=Nh(t))=>n===2?t.get(e):t[e],Cg=(t,e,n,r=Nh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function UF(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var qy=Array.isArray,Hy=t=>t instanceof Map,Gy=t=>t instanceof Set,m_=t=>typeof t=="object",yu=t=>typeof t=="function",lw=t=>typeof t=="boolean",_s=t=>t.copy_||t.base_,p_=t=>t.modified_?t.copy_:t.base_;function S1(t,e){if(Hy(t))return new Map(t);if(Gy(t))return new Set(t);if(qy(t))return Array[Fy].slice.call(t);const n=ik(t);if(e===!0||e==="class_only"&&!n){const r=ma.getOwnPropertyDescriptors(t);delete r[Mr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],d=r[c];d[ng]===!1&&(d[ng]=!0,d[j1]=!0),(d.get||d.set)&&(r[c]={[j1]:!0,[ng]:!0,[Tg]:d[Tg],[Kf]:t[c]})}return ma.create(Uu(t),r)}else{const r=Uu(t);if(r!==null&&n)return{...t};const a=ma.create(r);return ma.assign(a,t)}}function g_(t,e=!1){return Ky(t)||Ls(t)||(Nh(t)>1&&ma.defineProperties(t,{set:Tp,add:Tp,clear:Tp,delete:Tp}),ma.freeze(t),e&&wh(t,(n,r)=>{g_(r,!0)},!1)),t}function VF(){ti(2)}var Tp={[Kf]:VF};function Ky(t){return t===null||!m_(t)?!0:ma.isFrozen(t)}var Ig="MapSet",A1="Patches",sk={};function Vu(t){const e=sk[t];return e||ti(0,t),e}var zF=t=>!!sk[t],Yf,ok=()=>Yf,BF=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zF(Ig)?Vu(Ig):void 0});function HC(t,e){e&&(t.patchPlugin_=Vu(A1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function T1(t){C1(t),t.drafts_.forEach($F),t.drafts_=null}function C1(t){t===Yf&&(Yf=t.parent_)}var GC=t=>Yf=BF(Yf,t);function $F(t){const e=t[Mr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function KC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Mr].modified_&&(T1(e),ti(4)),Yi(t)&&(t=YC(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[Mr].base_,t,e)}else t=YC(e,n);return FF(e,t,!0),T1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ak?t:void 0}function YC(t,e){if(Ky(e))return e;const n=e[Mr];if(!n)return y_(e,t.handledSet_,t);if(!Yy(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);uk(n,t)}return n.copy_}function FF(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&g_(e,n)}function lk(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Yy=(t,e)=>t.scope_===e,qF=[];function ck(t,e,n,r){const a=_s(t),s=t.type_;if(r!==void 0&&E1(a,r,s)===e){Cg(a,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;wh(a,(f,h)=>{if(Ls(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const c=t.draftLocations_.get(e)??qF;for(const d of c)Cg(a,d,n,s)}function HF(t,e,n){t.callbacks_.push(function(a){var d;const s=e;if(!s||!Yy(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const c=p_(s);ck(t,s.draft_??s,c,n),uk(s,a)})}function uk(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const s=a.getPath(t);s&&a.generatePatches_(t,s,e)}lk(t)}}function GF(t,e,n){const{scope_:r}=t;if(Ls(n)){const a=n[Mr];Yy(a,r)&&a.callbacks_.push(function(){rg(t);const c=p_(a);ck(t,n,c,e)})}else Yi(n)&&t.callbacks_.push(function(){const s=_s(t);E1(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&y_(E1(t.copy_,e,t.type_),r.handledSet_,r)})}function y_(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ls(t)||e.has(t)||!Yi(t)||Ky(t)||(e.add(t),wh(t,(r,a)=>{if(Ls(a)){const s=a[Mr];if(Yy(s,n)){const c=p_(s);Cg(t,r,c,t.type_),lk(s)}}else Yi(a)&&y_(a,e,n)})),t}function KF(t,e){const n=qy(t),r={type_:n?1:0,scope_:e?e.scope_:ok(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=v_;n&&(a=[r],s=Wf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=c,[d,r]}var v_={get(t,e){if(e===Mr)return t;const n=_s(t);if(!qC(n,e,t.type_))return YF(t,n,e);const r=n[e];if(t.finalized_||!Yi(r))return r;if(r===cw(t.base_,e)){rg(t);const a=t.type_===1?+e:e,s=O1(t.scope_,r,t,a);return t.copy_[a]=s}return r},has(t,e){return e in _s(t)},ownKeys(t){return Reflect.ownKeys(_s(t))},set(t,e,n){const r=dk(_s(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=cw(_s(t),e),s=a==null?void 0:a[Mr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(UF(n,a)&&(n!==void 0||qC(t.base_,e,t.type_)))return!0;rg(t),I1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),GF(t,e,n)),!0},deleteProperty(t,e){return rg(t),cw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),I1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=_s(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[ng]:!0,[j1]:t.type_!==1||e!=="length",[Tg]:r[Tg],[Kf]:n[e]}},defineProperty(){ti(11)},getPrototypeOf(t){return Uu(t.base_)},setPrototypeOf(){ti(12)}},Wf={};wh(v_,(t,e)=>{Wf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Wf.deleteProperty=function(t,e){return Wf.set.call(this,t,e,void 0)};Wf.set=function(t,e,n){return v_.set.call(this,t[0],e,n,t[0])};function cw(t,e){const n=t[Mr];return(n?_s(n):t)[e]}function YF(t,e,n){var a;const r=dk(e,n);return r?Kf in r?r[Kf]:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function dk(t,e){if(!(e in t))return;let n=Uu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Uu(n)}}function I1(t){t.modified_||(t.modified_=!0,t.parent_&&I1(t.parent_))}function rg(t){t.copy_||(t.assigned_=new Map,t.copy_=S1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var WF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(yu(n)&&!yu(r)){const c=r;r=n;const d=this;return function(h=c,...p){return d.produce(h,g=>r.call(this,g,...p))}}yu(r)||ti(6),a!==void 0&&!yu(a)&&ti(7);let s;if(Yi(n)){const c=GC(this),d=O1(c,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?T1(c):C1(c)}return HC(c,a),KC(s,c)}else if(!n||!m_(n)){if(s=r(n),s===void 0&&(s=n),s===ak&&(s=void 0),this.autoFreeze_&&g_(s,!0),a){const c=[],d=[];Vu(A1).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:d}),a(c,d)}return s}else ti(1,n)},this.produceWithPatches=(n,r)=>{if(yu(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let a,s;return[this.produce(n,r,(d,f)=>{a=d,s=f}),a,s]},lw(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),lw(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),lw(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Yi(e)||ti(8),Ls(e)&&(e=li(e));const n=GC(this),r=O1(n,e,void 0);return r[Mr].isManual_=!0,C1(n),r}finishDraft(e,n){const r=e&&e[Mr];(!r||!r.isManual_)&&ti(9);const{scope_:a}=r;return HC(a,n),KC(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Vu(A1).applyPatches_;return Ls(e)?a(e,n):this.produce(e,s=>a(s,n))}};function O1(t,e,n,r){const[a,s]=Hy(e)?Vu(Ig).proxyMap_(e,n):Gy(e)?Vu(Ig).proxySet_(e,n):KF(e,n);return((n==null?void 0:n.scope_)??ok()).drafts_.push(a),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?HF(n,s,r):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function li(t){return Ls(t)||ti(10,t),fk(t)}function fk(t){if(!Yi(t)||Ky(t))return t;const e=t[Mr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=S1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=S1(t,!0);return wh(n,(a,s)=>{Cg(n,a,fk(s))},r),e&&(e.finalized_=!1),n}var XF=new WF,hk=XF.produce;function mk(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var QF=mk(),JF=mk,ZF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sg:Sg.apply(null,arguments)};function Va(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(ga(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>rk(r)&&r.type===t,n}var pk=class Of extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Of.prototype)}static get[Symbol.species](){return Of}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Of(...e[0].concat(this)):new Of(...e.concat(this))}};function WC(t){return Yi(t)?hk(t,()=>{}):t}function Cp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function eq(t){return typeof t=="boolean"}var tq=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let c=new pk;return n&&(eq(n)?c.push(QF):c.push(JF(n.extraArgument))),c},gk="RTK_autoBatch",rn=()=>t=>({payload:t,meta:{[gk]:!0}}),XC=t=>e=>{setTimeout(e,t)},yk=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:XC(10):t.type==="callback"?t.queueNotification:XC(t.timeout),h=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),x=r.subscribe(g);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[gk]),s=!a,s&&(c||(c=!0,f(h))),r.dispatch(p)}finally{a=!0}}})},nq=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new pk(t);return r&&a.push(yk(typeof r=="object"?r:void 0)),a};function rq(t){const e=tq(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(h_(n))d=nk(n);else throw new Error(ga(1));let f;typeof r=="function"?f=r(e):f=e();let h=Sg;a&&(h=ZF({trace:!1,...typeof a=="object"&&a}));const p=MF(...f),g=nq(p);let x=typeof c=="function"?c(g):g();const w=h(...x);return tk(d,s,w)}function vk(t){const e={},n=[];let r;const a={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(ga(28));if(d in e)throw new Error(ga(29));return e[d]=c,a},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return n.push({matcher:s,reducer:c}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function aq(t){return typeof t=="function"}function iq(t,e){let[n,r,a]=vk(e),s;if(aq(t))s=()=>WC(t());else{const d=WC(t);s=()=>d}function c(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(Ls(p)){const w=g(p,f);return w===void 0?p:w}else{if(Yi(p))return hk(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return c.getInitialState=s,c}var sq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oq=(t=21)=>{let e="",n=t;for(;n--;)e+=sq[Math.random()*64|0];return e},lq=Symbol.for("rtk-slice-createasyncthunk");function cq(t,e){return`${t}/${e}`}function uq({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[lq];return function(a){const{name:s,reducerPath:c=s}=a;if(!s)throw new Error(ga(11));const d=(typeof a.reducers=="function"?a.reducers(fq()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(D,R){const U=typeof D=="string"?D:D.type;if(!U)throw new Error(ga(12));if(U in h.sliceCaseReducersByType)throw new Error(ga(13));return h.sliceCaseReducersByType[U]=R,p},addMatcher(D,R){return h.sliceMatchers.push({matcher:D,reducer:R}),p},exposeAction(D,R){return h.actionCreators[D]=R,p},exposeCaseReducer(D,R){return h.sliceCaseReducersByName[D]=R,p}};f.forEach(D=>{const R=d[D],U={reducerName:D,type:cq(s,D),createNotation:typeof a.reducers=="function"};mq(R)?gq(U,R,p,e):hq(U,R,p)});function g(){const[D={},R=[],U=void 0]=typeof a.extraReducers=="function"?vk(a.extraReducers):[a.extraReducers],k={...D,...h.sliceCaseReducersByType};return iq(a.initialState,V=>{for(let M in k)V.addCase(M,k[M]);for(let M of h.sliceMatchers)V.addMatcher(M.matcher,M.reducer);for(let M of R)V.addMatcher(M.matcher,M.reducer);U&&V.addDefaultCase(U)})}const x=D=>D,w=new Map,E=new WeakMap;let _;function j(D,R){return _||(_=g()),_(D,R)}function C(){return _||(_=g()),_.getInitialState()}function L(D,R=!1){function U(V){let M=V[D];return typeof M>"u"&&R&&(M=Cp(E,U,C)),M}function k(V=x){const M=Cp(w,R,()=>new WeakMap);return Cp(M,V,()=>{const I={};for(const[O,B]of Object.entries(a.selectors??{}))I[O]=dq(B,V,()=>Cp(E,V,C),R);return I})}return{reducerPath:D,getSelectors:k,get selectors(){return k(U)},selectSlice:U}}const A={name:s,reducer:j,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,...L(c),injectInto(D,{reducerPath:R,...U}={}){const k=R??c;return D.inject({reducerPath:k,reducer:j},U),{...A,...L(k,!0)}}};return A}}function dq(t,e,n,r){function a(s,...c){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var ea=uq();function fq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function hq({type:t,reducerName:e,createNotation:n},r,a){let s,c;if("reducer"in r){if(n&&!pq(r))throw new Error(ga(17));s=r.reducer,c=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?Va(t,c):Va(t))}function mq(t){return t._reducerDefinitionType==="asyncThunk"}function pq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function gq({type:t,reducerName:e},n,r,a){if(!a)throw new Error(ga(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:f,settled:h,options:p}=n,g=a(t,s,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:c||Ip,pending:d||Ip,rejected:f||Ip,settled:h||Ip})}function Ip(){}var yq="task",xk="listener",bk="completed",x_="cancelled",vq=`task-${x_}`,xq=`task-${bk}`,R1=`${xk}-${x_}`,bq=`${xk}-${bk}`,Wy=class{constructor(t){tb(this,"name","TaskAbortError");tb(this,"message");this.code=t,this.message=`${yq} ${x_} (reason: ${t})`}},b_=(t,e)=>{if(typeof t!="function")throw new TypeError(ga(32))},Og=()=>{},wk=(t,e=Og)=>(t.catch(e),t),Nk=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Zl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ec=t=>{if(t.aborted){const{reason:e}=t;throw new Wy(e)}};function _k(t,e){let n=Og;return new Promise((r,a)=>{const s=()=>a(new Wy(t.reason));if(t.aborted){s();return}n=Nk(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Og})}var wq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Wy?"cancelled":"rejected",error:n}}finally{e==null||e()}},Rg=t=>e=>wk(_k(t,e).then(n=>(ec(t),n))),jk=t=>{const e=Rg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Au}=Object,QC={},Xy="listenerMiddleware",Nq=(t,e)=>{const n=r=>Nk(t,()=>Zl(r,t.reason));return(r,a)=>{b_(r);const s=new AbortController;n(s);const c=wq(async()=>{ec(t),ec(s.signal);const d=await r({pause:Rg(s.signal),delay:jk(s.signal),signal:s.signal});return ec(s.signal),d},()=>Zl(s,xq));return a!=null&&a.autoJoin&&e.push(c.catch(Og)),{result:Rg(t)(c),cancel(){Zl(s,vq)}}}},_q=(t,e)=>{const n=async(r,a)=>{ec(e);let s=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await _k(e,Promise.race(d));return ec(e),f}finally{s()}};return(r,a)=>wk(n(r,a))},Ek=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=Va(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ga(21));return b_(s),{predicate:a,type:e,effect:s}},Sk=Au(t=>{const{type:e,predicate:n,effect:r}=Ek(t);return{id:oq(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ga(22))}}},{withTypes:()=>Sk}),JC=(t,e)=>{const{type:n,effect:r,predicate:a}=Ek(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},D1=t=>{t.pending.forEach(e=>{Zl(e,R1)})},jq=(t,e)=>()=>{for(const n of e.keys())D1(n);t.clear()},ZC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Ak=Au(Va(`${Xy}/add`),{withTypes:()=>Ak}),Eq=Va(`${Xy}/removeAll`),Tk=Au(Va(`${Xy}/remove`),{withTypes:()=>Tk}),Sq=(...t)=>{console.error(`${Xy}/error`,...t)},_h=(t={})=>{const e=new Map,n=new Map,r=w=>{const E=n.get(w)??0;n.set(w,E+1)},a=w=>{const E=n.get(w)??1;E===1?n.delete(w):n.set(w,E-1)},{extra:s,onError:c=Sq}=t;b_(c);const d=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),E=>{w.unsubscribe(),E!=null&&E.cancelActive&&D1(w)}),f=w=>{const E=JC(e,w)??Sk(w);return d(E)};Au(f,{withTypes:()=>f});const h=w=>{const E=JC(e,w);return E&&(E.unsubscribe(),w.cancelActive&&D1(E)),!!E};Au(h,{withTypes:()=>h});const p=async(w,E,_,j)=>{const C=new AbortController,L=_q(f,C.signal),A=[];try{w.pending.add(C),r(w),await Promise.resolve(w.effect(E,Au({},_,{getOriginalState:j,condition:(D,R)=>L(D,R).then(Boolean),take:L,delay:jk(C.signal),pause:Rg(C.signal),extra:s,signal:C.signal,fork:Nq(C.signal,A),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((D,R,U)=>{D!==C&&(Zl(D,R1),U.delete(D))})},cancel:()=>{Zl(C,R1),w.pending.delete(C)},throwIfCancelled:()=>{ec(C.signal)}})))}catch(D){D instanceof Wy||ZC(c,D,{raisedBy:"effect"})}finally{await Promise.all(A),Zl(C,bq),a(w),w.pending.delete(C)}},g=jq(e,n);return{middleware:w=>E=>_=>{if(!rk(_))return E(_);if(Ak.match(_))return f(_.payload);if(Eq.match(_)){g();return}if(Tk.match(_))return h(_.payload);let j=w.getState();const C=()=>{if(j===QC)throw new Error(ga(23));return j};let L;try{if(L=E(_),e.size>0){const A=w.getState(),D=Array.from(e.values());for(const R of D){let U=!1;try{U=R.predicate(_,A,j)}catch(k){U=!1,ZC(c,k,{raisedBy:"predicate"})}U&&p(R,_,w,C)}}}finally{j=QC}return L},startListening:f,stopListening:h,clearListeners:g}};function ga(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Aq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Ck=ea({name:"chartLayout",initialState:Aq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Tq,setLayout:Cq,setChartSize:Iq,setScale:Oq}=Ck.actions,Rq=Ck.reducer;function Ik(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function eI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(n),!0).forEach(function(r){Dq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dq(t,e,n){return(e=Pq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pq(t){var e=kq(t,"string");return typeof e=="symbol"?e:e+""}function kq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function an(t,e,n){return sr(t)||sr(e)?n:Ki(e)?ac(t,e,n):typeof e=="function"?e(t):n}var Mq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&Ve(t[s]))return _u(_u({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&Ve(t[c]))return _u(_u({},t),{},{[c]:t[c]+(a||0)})}return t},yc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Ok=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,s,c=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate));return a||c.push(e),s||c.push(n),c},Rk=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:w}=t;if(!c)return null;var E=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,_=a==="category"&&c.bandwidth?c.bandwidth()/E:0;if(_=w==="angleAxis"&&s&&s.length>=2?ir(s[0]-s[1])*2*_:_,g||x){var j=(g||x||[]).map((C,L)=>{var A=r?r.indexOf(C):C;return{coordinate:c(A)+_,value:C,offset:_,index:L}});return j.filter(C=>!ui(C.coordinate))}return f&&h?h.map((C,L)=>({coordinate:c(C)+_,value:C,index:L,offset:_})):c.ticks&&p!=null?c.ticks(p).map((C,L)=>({coordinate:c(C)+_,value:C,offset:_,index:L})):c.domain().map((C,L)=>({coordinate:c(C)+_,value:r?r[C]:C,index:L,offset:_}))},tI=1e-4,Lq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-tI,s=Math.max(r[0],r[1])+tI,c=t(e[0]),d=t(e[n-1]);(c<a||c>s||d<a||d>s)&&t.domain([e[0],e[n-1]])}},Uq=(t,e)=>{if(!e||e.length!==2||!Ve(e[0])||!Ve(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Ve(t[0])||t[0]<n)&&(a[0]=n),(!Ve(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},Vq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,c=0;c<e;++c){var d=ui(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=a,t[c][n][1]=a+d,a=t[c][n][1]):(t[c][n][0]=s,t[c][n][1]=s+d,s=t[c][n][1])}},zq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var c=ui(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=a,t[s][n][1]=a+c,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Bq={sign:Vq,expand:h$,none:Lu,silhouette:m$,wiggle:p$,positive:zq},$q=(t,e,n)=>{var r=Bq[n],a=f$().keys(e).value((s,c)=>Number(an(s,c,0))).order(N1).offset(r);return a(t)};function Fq(t){return t==null?void 0:String(t)}var nI=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var d=an(s,e.dataKey,e.scale.domain()[c]);return sr(d)?null:e.scale(d)-a/2+r},qq=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},Hq=t=>{var e=t.flat(2).filter(Ve);return[Math.min(...e),Math.max(...e)]},Gq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Kq=(t,e,n)=>{if(t!=null)return Gq(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:c}=s,d=c.reduce((f,h)=>{var p=Ik(h,e,n),g=Hq(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},rI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=$y(e,p=>p.coordinate),s=1/0,c=1,d=a.length;c<d;c++){var f=a[c],h=a[c-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function iI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return _u(_u({},e),{},{dataKey:n,payload:r,value:a,name:s})}function Qy(t,e){if(t)return String(t);if(typeof e=="string")return e}var Yq=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Wq=(t,e)=>e==="centric"?t.angle:t.radius,Ys=t=>t.layout.width,Ws=t=>t.layout.height,Xq=t=>t.layout.scale,Dk=t=>t.layout.margin,Jy=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Zy=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Pk="data-recharts-item-index",kk="data-recharts-item-data-key",jh=60;function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){Qq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qq(t,e,n){return(e=Jq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jq(t){var e=Zq(t,"string");return typeof e=="symbol"?e:e+""}function Zq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eH=t=>t.brush.height;function tH(t){var e=Zy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:jh;return n+a}return n},0)}function nH(t){var e=Zy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:jh;return n+a}return n},0)}function rH(t){var e=Jy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function aH(t){var e=Jy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Yn=oe([Ys,Ws,Dk,eH,tH,nH,rH,aH,ek,IF],(t,e,n,r,a,s,c,d,f,h)=>{var p={left:(n.left||0)+a,right:(n.right||0)+s},g={top:(n.top||0)+c,bottom:(n.bottom||0)+d},x=Op(Op({},g),p),w=x.bottom;x.bottom+=r,x=Mq(x,f,h);var E=t-x.left-x.right,_=e-x.top-x.bottom;return Op(Op({brushBottom:w},x),{},{width:Math.max(E,0),height:Math.max(_,0)})}),iH=oe(Yn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),w_=oe(Ys,Ws,(t,e)=>({x:0,y:0,width:t,height:e})),sH=N.createContext(null),ta=()=>N.useContext(sH)!=null,e0=t=>t.brush,t0=oe([e0,Yn,Dk],(t,e,n)=>({height:t.height,x:Ve(t.x)?t.x:e.left,y:Ve(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ve(t.width)?t.width:e.width})),uw={},dw={},fw={},oI;function oH(){return oI||(oI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let c,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},g=()=>{h&&p(),_()};let x=null;const w=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},E=()=>{x!==null&&(clearTimeout(x),x=null)},_=()=>{E(),c=void 0,d=null},j=()=>{p()},C=function(...L){if(a!=null&&a.aborted)return;c=this,d=L;const A=x==null;w(),f&&A&&p()};return C.schedule=w,C.cancel=_,C.flush=j,a==null||a.addEventListener("abort",_,{once:!0}),C}t.debounce=e})(fw)),fw}var lI;function lH(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oH();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(..._){p=r.apply(this,_),g=null},a,{edges:h}),w=function(..._){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,_),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,_),p)},E=()=>(x.flush(),p);return w.cancel=x.cancel,w.flush=E,w}t.debounce=n})(dw)),dw}var cI;function cH(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lH();function n(r,a=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return e.debounce(r,a,{leading:c,maxWait:a,trailing:d})}t.throttle=n})(uw)),uw}var hw,uI;function uH(){return uI||(uI=1,hw=cH().throttle),hw}var dH=uH();const fH=Zi(dH);var Pg=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},Mk=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:c}=n,d=Ms(r)?t:Number(r),f=Ms(a)?e:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},hH={width:0,height:0,overflow:"visible"},mH={width:0,overflowX:"visible"},pH={height:0,overflowY:"visible"},gH={},yH=t=>{var{width:e,height:n}=t,r=Ms(e),a=Ms(n);return r&&a?hH:r?mH:a?pH:gH};function vH(t){var{width:e,height:n,aspect:r}=t,a=e,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function _n(t){return Number.isFinite(t)}function Wi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P1.apply(null,arguments)}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){xH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xH(t,e,n){return(e=bH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bH(t){var e=wH(t,"string");return typeof e=="symbol"?e:e+""}function wH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lk=N.createContext({width:-1,height:-1});function NH(t){return Wi(t.width)&&Wi(t.height)}function Uk(t){var{children:e,width:n,height:r}=t,a=N.useMemo(()=>({width:n,height:r}),[n,r]);return NH(a)?N.createElement(Lk.Provider,{value:a},e):null}var N_=()=>N.useContext(Lk),_H=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:c=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:w,style:E={}}=t,_=N.useRef(null),j=N.useRef();j.current=w,N.useImperativeHandle(e,()=>_.current);var[C,L]=N.useState({containerWidth:r.width,containerHeight:r.height}),A=N.useCallback((V,M)=>{L(I=>{var O=Math.round(V),B=Math.round(M);return I.containerWidth===O&&I.containerHeight===B?I:{containerWidth:O,containerHeight:B}})},[]);N.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return bh;var V=B=>{var z,{width:me,height:ae}=B[0].contentRect;A(me,ae),(z=j.current)===null||z===void 0||z.call(j,me,ae)};p>0&&(V=fH(V,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(V),{width:I,height:O}=_.current.getBoundingClientRect();return A(I,O),M.observe(_.current),()=>{M.disconnect()}},[A,p]);var{containerWidth:D,containerHeight:R}=C;Pg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:U,calculatedHeight:k}=Mk(D,R,{width:a,height:s,aspect:n,maxHeight:f});return Pg(U!=null&&U>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,k,a,s,c,d,n),N.createElement("div",{id:g?"".concat(g):void 0,className:Bt("recharts-responsive-container",x),style:fI(fI({},E),{},{width:a,height:s,minWidth:c,minHeight:d,maxHeight:f}),ref:_},N.createElement("div",{style:yH({width:a,height:s})},N.createElement(Uk,{width:U,height:k},h)))}),Vk=N.forwardRef((t,e)=>{var n=N_();if(Wi(n.width)&&Wi(n.height))return t.children;var{width:r,height:a}=vH({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=Mk(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Ve(s)&&Ve(c)?N.createElement(Uk,{width:s,height:c},t.children):N.createElement(_H,P1({},t,{width:r,height:a,ref:e}))});function zk(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var n0=()=>{var t,e=ta(),n=ze(iH),r=ze(t0),a=(t=ze(e0))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},jH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Bk=()=>{var t;return(t=ze(Yn))!==null&&t!==void 0?t:jH},$k=()=>ze(Ys),Fk=()=>ze(Ws),jt=t=>t.layout.layoutType,r0=()=>ze(jt),EH=()=>{var t=r0();return t!==void 0},a0=t=>{var e=ln(),n=ta(),{width:r,height:a}=t,s=N_(),c=r,d=a;return s&&(c=s.width>0?s.width:r,d=s.height>0?s.height:a),N.useEffect(()=>{!n&&Wi(c)&&Wi(d)&&e(Iq({width:c,height:d}))},[e,n,c,d]),null},qk=Symbol.for("immer-nothing"),hI=Symbol.for("immer-draftable"),xa=Symbol.for("immer-state");function ni(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xf=Object.getPrototypeOf;function zu(t){return!!t&&!!t[xa]}function ic(t){var e;return t?Hk(t)||Array.isArray(t)||!!t[hI]||!!((e=t.constructor)!=null&&e[hI])||Eh(t)||s0(t):!1}var SH=Object.prototype.constructor.toString(),mI=new WeakMap;function Hk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=mI.get(n);return r===void 0&&(r=Function.toString.call(n),mI.set(n,r)),r===SH}function kg(t,e,n=!0){i0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function i0(t){const e=t[xa];return e?e.type_:Array.isArray(t)?1:Eh(t)?2:s0(t)?3:0}function k1(t,e){return i0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Gk(t,e,n){const r=i0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function AH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Eh(t){return t instanceof Map}function s0(t){return t instanceof Set}function ql(t){return t.copy_||t.base_}function M1(t,e){if(Eh(t))return new Map(t);if(s0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Hk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[xa];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Xf(t),r)}else{const r=Xf(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function __(t,e=!1){return o0(t)||zu(t)||!ic(t)||(i0(t)>1&&Object.defineProperties(t,{set:Rp,add:Rp,clear:Rp,delete:Rp}),Object.freeze(t),e&&Object.values(t).forEach(n=>__(n,!0))),t}function TH(){ni(2)}var Rp={value:TH};function o0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var CH={};function sc(t){const e=CH[t];return e||ni(0,t),e}var Qf;function Kk(){return Qf}function IH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pI(t,e){e&&(sc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function L1(t){U1(t),t.drafts_.forEach(OH),t.drafts_=null}function U1(t){t===Qf&&(Qf=t.parent_)}function gI(t){return Qf=IH(Qf,t)}function OH(t){const e=t[xa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function yI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[xa].modified_&&(L1(e),ni(4)),ic(t)&&(t=Mg(e,t),e.parent_||Lg(e,t)),e.patches_&&sc("Patches").generateReplacementPatches_(n[xa].base_,t,e.patches_,e.inversePatches_)):t=Mg(e,n,[]),L1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==qk?t:void 0}function Mg(t,e,n){if(o0(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[xa];if(!a)return kg(e,(s,c)=>vI(t,a,e,s,c,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return Lg(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,d=!1;a.type_===3&&(c=new Set(s),s.clear(),d=!0),kg(c,(f,h)=>vI(t,a,s,f,h,n,d),r),Lg(t,s,!1),n&&t.patches_&&sc("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function vI(t,e,n,r,a,s,c){if(a==null||typeof a!="object"&&!c)return;const d=o0(a);if(!(d&&!c)){if(zu(a)){const f=s&&e&&e.type_!==3&&!k1(e.assigned_,r)?s.concat(r):void 0,h=Mg(t,a,f);if(Gk(n,r,h),zu(h))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(ic(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;Mg(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Eh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Lg(t,a)}}}function Lg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&__(e,n)}function RH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Kk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=j_;n&&(a=[r],s=Jf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=c,d}var j_={get(t,e){if(e===xa)return t;const n=ql(t);if(!k1(n,e))return DH(t,n,e);const r=n[e];return t.finalized_||!ic(r)?r:r===mw(t.base_,e)?(pw(t),t.copy_[e]=z1(r,t)):r},has(t,e){return e in ql(t)},ownKeys(t){return Reflect.ownKeys(ql(t))},set(t,e,n){const r=Yk(ql(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=mw(ql(t),e),s=a==null?void 0:a[xa];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(AH(n,a)&&(n!==void 0||k1(t.base_,e)))return!0;pw(t),V1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return mw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,pw(t),V1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ql(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ni(11)},getPrototypeOf(t){return Xf(t.base_)},setPrototypeOf(){ni(12)}},Jf={};kg(j_,(t,e)=>{Jf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Jf.deleteProperty=function(t,e){return Jf.set.call(this,t,e,void 0)};Jf.set=function(t,e,n){return j_.set.call(this,t[0],e,n,t[0])};function mw(t,e){const n=t[xa];return(n?ql(n):t)[e]}function DH(t,e,n){var a;const r=Yk(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function Yk(t,e){if(!(e in t))return;let n=Xf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Xf(n)}}function V1(t){t.modified_||(t.modified_=!0,t.parent_&&V1(t.parent_))}function pw(t){t.copy_||(t.copy_=M1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var PH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(f=s,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&ni(6),r!==void 0&&typeof r!="function"&&ni(7);let a;if(ic(e)){const s=gI(this),c=z1(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?L1(s):U1(s)}return pI(s,r),yI(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===qk&&(a=void 0),this.autoFreeze_&&__(a,!0),r){const s=[],c=[];sc("Patches").generateReplacementPatches_(e,a,s,c),r(s,c)}return a}else ni(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let r,a;return[this.produce(e,n,(c,d)=>{r=c,a=d}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ic(t)||ni(8),zu(t)&&(t=kH(t));const e=gI(this),n=z1(t,void 0);return n[xa].isManual_=!0,U1(e),n}finishDraft(t,e){const n=t&&t[xa];(!n||!n.isManual_)&&ni(9);const{scope_:r}=n;return pI(r,e),yI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=sc("Patches").applyPatches_;return zu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function z1(t,e){const n=Eh(t)?sc("MapSet").proxyMap_(t,e):s0(t)?sc("MapSet").proxySet_(t,e):RH(t,e);return(e?e.scope_:Kk()).drafts_.push(n),n}function kH(t){return zu(t)||ni(10,t),Wk(t)}function Wk(t){if(!ic(t)||o0(t))return t;const e=t[xa];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=M1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=M1(t,!0);return kg(n,(a,s)=>{Gk(n,a,Wk(s))},r),e&&(e.finalized_=!1),n}var MH=new PH;MH.produce;var LH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Xk=ea({name:"legend",initialState:LH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:rn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=li(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:rn()},removeLegendPayload:{reducer(t,e){var n=li(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:rn()}}}),{setLegendSize:Cge,setLegendSettings:Ige,addLegendPayload:Qk,replaceLegendPayload:Jk,removeLegendPayload:Zk}=Xk.actions,UH=Xk.reducer;function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){VH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VH(t,e,n){return(e=zH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zH(t){var e=BH(t,"string");return typeof e=="symbol"?e:e+""}function BH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $H(t){return Array.isArray(t)&&Ki(t[0])&&Ki(t[1])?t.join(" ~ "):t}var FH=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,w=()=>{if(s&&s.length){var R={padding:0,margin:0},U=(d?$y(s,d):s).map((k,V)=>{if(k.type==="none")return null;var M=k.formatter||c||$H,{value:I,name:O}=k,B=I,z=O;if(M){var me=M(I,O,k,V,s);if(Array.isArray(me))[B,z]=me;else if(me!=null)B=me;else return null}var ae=gw({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:ae},Ki(z)?N.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Ki(z)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},B),N.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:R},U)}return null},E=gw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=gw({margin:0},a),j=!sr(p),C=j?p:"",L=Bt("recharts-default-tooltip",f),A=Bt("recharts-tooltip-label",h);j&&g&&s!==void 0&&s!==null&&(C=g(p,s));var D=x?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",B1({className:L,style:E},D),N.createElement("p",{className:A,style:_},N.isValidElement(C)?C:"".concat(C)),w())},Nf="recharts-tooltip-wrapper",qH={visibility:"hidden"};function HH(t){var{coordinate:e,translateX:n,translateY:r}=t;return Bt(Nf,{["".concat(Nf,"-right")]:Ve(n)&&e&&Ve(e.x)&&n>=e.x,["".concat(Nf,"-left")]:Ve(n)&&e&&Ve(e.x)&&n<e.x,["".concat(Nf,"-bottom")]:Ve(r)&&e&&Ve(e.y)&&r>=e.y,["".concat(Nf,"-top")]:Ve(r)&&e&&Ve(e.y)&&r<e.y})}function bI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(s&&Ve(s[r]))return s[r];var p=n[r]-d-(a>0?a:0),g=n[r]+a;if(e[r])return c[r]?p:g;var x=f[r];if(x==null)return 0;if(c[r]){var w=p,E=x;return w<E?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var _=g+d,j=x+h;return _>j?Math.max(p,x):Math.max(g,x)}function GH(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function KH(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:c,useTranslate3d:d,viewBox:f}=t,h,p,g;return c.height>0&&c.width>0&&n?(p=bI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=bI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=GH({translateX:p,translateY:g,useTranslate3d:d})):h=qH,{cssProperties:h,cssClasses:HH({translateX:p,translateY:g,coordinate:n})}}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){$1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $1(t,e,n){return(e=YH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YH(t){var e=WH(t,"string");return typeof e=="symbol"?e:e+""}function WH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class XH extends N.PureComponent{constructor(){super(...arguments),$1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:c,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:w,wrapperStyle:E,lastBoundingBox:_,innerRef:j,hasPortalFromProps:C}=this.props,{cssClasses:L,cssProperties:A}=KH({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:_.height,width:_.width},useTranslate3d:x,viewBox:w}),D=C?{}:Dp(Dp({transition:f&&e?"transform ".concat(r,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),R=Dp(Dp({},D),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},E);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:R,ref:j},s)}}var QH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vc={devToolsEnabled:!1,isSsr:QH()},eM=()=>{var t;return(t=ze(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(null,arguments)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){JH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JH(t,e,n){return(e=ZH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZH(t){var e=eG(t,"string");return typeof e=="symbol"?e:e+""}function eG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jI={curveBasisClosed:t$,curveBasisOpen:n$,curveBasis:e$,curveBumpX:zB,curveBumpY:BB,curveLinearClosed:r$,curveLinear:Vy,curveMonotoneX:a$,curveMonotoneY:i$,curveNatural:s$,curveStep:o$,curveStepAfter:c$,curveStepBefore:l$},Ug=t=>_n(t.x)&&_n(t.y),EI=t=>t.base!=null&&Ug(t.base)&&Ug(t),_f=t=>t.x,jf=t=>t.y,tG=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(xh(t));return(n==="curveMonotone"||n==="curveBump")&&e?jI["".concat(n).concat(e==="vertical"?"Y":"X")]:jI[n]||Vy},nG=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,c=tG(e,a),d=s?n.filter(Ug):n,f;if(Array.isArray(r)){var h=n.map((w,E)=>_I(_I({},w),{},{base:r[E]}));a==="vertical"?f=Ep().y(jf).x1(_f).x0(w=>w.base.x):f=Ep().x(_f).y1(jf).y0(w=>w.base.y);var p=f.defined(EI).curve(c),g=s?h.filter(EI):h;return p(g)}a==="vertical"&&Ve(r)?f=Ep().y(jf).x1(_f).x0(r):Ve(r)?f=Ep().x(_f).y1(jf).y0(r):f=S4().x(_f).y(jf);var x=f.defined(Ug).curve(c);return x(d)},E_=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?nG(t):r;return N.createElement("path",F1({},ci(t),D$(t),{className:Bt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},rG=["x","y","top","left","width","height","className"];function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(null,arguments)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){iG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iG(t,e,n){return(e=sG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sG(t){var e=oG(t,"string");return typeof e=="symbol"?e:e+""}function oG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lG(t,e){if(t==null)return{};var n,r,a=cG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uG=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),dG=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:c=0,className:d}=t,f=lG(t,rG),h=aG({x:e,y:n,top:r,left:a,width:s,height:c},f);return!Ve(e)||!Ve(n)||!Ve(s)||!Ve(c)||!Ve(r)||!Ve(a)?null:N.createElement("path",q1({},Ua(h),{className:Bt("recharts-cross",d),d:uG(e,n,s,c,r,a)}))};function fG(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function TI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){hG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hG(t,e,n){return(e=mG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mG(t){var e=pG(t,"string");return typeof e=="symbol"?e:e+""}function pG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),tM=(t,e,n)=>t.map(r=>"".concat(gG(r)," ").concat(e,"ms ").concat(n)).join(","),yG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Zf=(t,e)=>Object.keys(e).reduce((n,r)=>TI(TI({},n),{},{[r]:t(r,e[r])}),{});function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){vG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vG(t,e,n){return(e=xG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xG(t){var e=bG(t,"string");return typeof e=="symbol"?e:e+""}function bG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vg=(t,e,n)=>t+(e-t)*n,H1=t=>{var{from:e,to:n}=t;return e!==n},nM=(t,e,n)=>{var r=Zf((a,s)=>{if(H1(s)){var[c,d]=t(s.from,s.to,s.velocity);return qn(qn({},s),{},{from:c,velocity:d})}return s},e);return n<1?Zf((a,s)=>H1(s)?qn(qn({},s),{},{velocity:Vg(s.velocity,r[a].velocity,n),from:Vg(s.from,r[a].from,n)}):s,e):nM(t,r,n-1)};function wG(t,e,n,r,a,s){var c,d=r.reduce((x,w)=>qn(qn({},x),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>Zf((x,w)=>w.from,d),h=()=>!Object.values(d).filter(H1).length,p=null,g=x=>{c||(c=x);var w=x-c,E=w/n.dt;d=nM(n,d,E),a(qn(qn(qn({},t),e),f())),c=x,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function NG(t,e,n,r,a,s,c){var d=null,f=a.reduce((g,x)=>qn(qn({},g),{},{[x]:[t[x],e[x]]}),{}),h,p=g=>{h||(h=g);var x=(g-h)/r,w=Zf((_,j)=>Vg(...j,n(x)),f);if(s(qn(qn(qn({},t),e),w)),x<1)d=c.setTimeout(p);else{var E=Zf((_,j)=>Vg(...j,n(1)),f);s(qn(qn(qn({},t),e),E))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const _G=(t,e,n,r,a,s)=>{var c=yG(t,e);return n==null?()=>(a(qn(qn({},t),e)),()=>{}):n.isStepper===!0?wG(t,e,n,c,a,s):NG(t,e,n,r,c,a,s)};var zg=1e-4,rM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],aM=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),II=(t,e)=>n=>{var r=rM(t,e);return aM(r,n)},jG=(t,e)=>n=>{var r=rM(t,e),a=[...r.map((s,c)=>s*c).slice(1),0];return aM(a,n)},EG=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var c=s[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return n.length===4?n:[0,0,1,1]},SG=(t,e,n,r)=>{var a=II(t,n),s=II(e,r),c=jG(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,x=0;x<8;++x){var w=a(g)-p,E=c(g);if(Math.abs(w-p)<zg||E<zg)return s(g);g=d(g-w/E)}return s(g)};return f.isStepper=!1,f},OI=function(){return SG(...EG(...arguments))},AG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(c,d,f)=>{var h=-(c-d)*n,p=f*r,g=f+(h-p)*a/1e3,x=f*a/1e3+c;return Math.abs(x-d)<zg&&Math.abs(g)<zg?[d,0]:[x,g]};return s.isStepper=!0,s.dt=a,s},TG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OI(t);case"spring":return AG();default:if(t.split("(")[0]==="cubic-bezier")return OI(t)}return typeof t=="function"?t:null};function CG(t){var e,n=()=>null,r=!1,a=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...h]=d;if(typeof f=="number"){a=t.setTimeout(s.bind(null,h),f);return}s(f),a=t.setTimeout(s.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class IG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function OG(){return CG(new IG)}var RG=N.createContext(OG);function DG(t,e){var n=N.useContext(RG);return N.useMemo(()=>e??n(t),[t,e,n])}var PG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},RI={t:0},yw={t:1};function l0(t){var e=Tr(t,PG),{isActive:n,canBegin:r,duration:a,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!vc.isSsr:n,g=DG(e.animationId,e.animationManager),[x,w]=N.useState(p?RI:yw),E=N.useRef(null);return N.useEffect(()=>{p||w(yw)},[p]),N.useEffect(()=>{if(!p||!r)return bh;var _=_G(RI,yw,TG(s),a,w,g.getTimeoutController()),j=()=>{E.current=_()};return g.start([f,c,j,a,d]),()=>{g.stop(),E.current&&E.current(),d()}},[p,r,a,s,c,f,d,g]),h(x.t)}function c0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(Gf(e)),r=N.useRef(t);return r.current!==t&&(n.current=Gf(e),r.current=t),n.current}var kG=["radius"],MG=["radius"];function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function PI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){LG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LG(t,e,n){return(e=UG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UG(t){var e=VG(t,"string");return typeof e=="symbol"?e:e+""}function VG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(null,arguments)}function kI(t,e){if(t==null)return{};var n,r,a=zG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function zG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var MI=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=a[g]>s?s:a[g];h="M".concat(t,",").concat(e+c*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(e)),h+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+c*p[1])),h+="L ".concat(t+n,",").concat(e+r-c*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),h+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-c*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var w=Math.min(s,a);h="M ".concat(t,",").concat(e+c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(e,`
            L `).concat(t+n-d*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(e+c*w,`
            L `).concat(t+n,",").concat(e+r-c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-d*w,",").concat(e+r,`
            L `).concat(t+d*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(e+r-c*w," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},LI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iM=t=>{var e=Tr(t,LI),n=N.useRef(null),[r,a]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var re=n.current.getTotalLength();re&&a(re)}catch{}},[]);var{x:s,y:c,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:_}=e,j=N.useRef(d),C=N.useRef(f),L=N.useRef(s),A=N.useRef(c),D=N.useMemo(()=>({x:s,y:c,width:d,height:f,radius:h}),[s,c,d,f,h]),R=c0(D,"rectangle-");if(s!==+s||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var U=Bt("recharts-rectangle",p);if(!_){var k=Ua(e),{radius:V}=k,M=kI(k,kG);return N.createElement("path",Bg({},M,{radius:typeof h=="number"?h:void 0,className:U,d:MI(s,c,d,f,h)}))}var I=j.current,O=C.current,B=L.current,z=A.current,me="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),G=tM(["strokeDasharray"],x,typeof g=="string"?g:LI.animationEasing);return N.createElement(l0,{animationId:R,key:R,canBegin:r>0,duration:x,easing:g,isActive:_,begin:w},re=>{var Y=Fn(I,d,re),xe=Fn(O,f,re),X=Fn(B,s,re),F=Fn(z,c,re);n.current&&(j.current=Y,C.current=xe,L.current=X,A.current=F);var Q;E?re>0?Q={transition:G,strokeDasharray:ae}:Q={strokeDasharray:me}:Q={strokeDasharray:ae};var K=Ua(e),{radius:J}=K,he=kI(K,MG);return N.createElement("path",Bg({},he,{radius:typeof h=="number"?h:void 0,className:U,d:MI(X,F,Y,xe,h),ref:n,style:PI(PI({},Q),e.style)}))})};function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function VI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){BG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BG(t,e,n){return(e=$G(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $G(t){var e=FG(t,"string");return typeof e=="symbol"?e:e+""}function FG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $g=Math.PI/180,qG=t=>t*180/Math.PI,Vn=(t,e,n,r)=>({x:t+Math.cos(-$g*r)*n,y:e+Math.sin(-$g*r)*n}),sM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},HG=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},GG=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,c=HG({x:n,y:r},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var d=(n-a)/c,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:c,angle:qG(f),angleInRadian:f}},KG=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},YG=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(a,s);return t+c*360},WG=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:s}=GG({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(a<c||a>d||a===0)return null;var{startAngle:f,endAngle:h}=KG(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?VI(VI({},e),{},{radius:a,angle:YG(p,e)}):null};function oM(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,c=Vn(e,n,r,a),d=Vn(e,n,r,s);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(null,arguments)}var XG=(t,e)=>{var n=ir(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Pp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:f}=t,h=d*(c?1:-1)+r,p=Math.asin(d/h)/$g,g=f?a:a+s*p,x=Vn(e,n,h,g),w=Vn(e,n,r,g),E=f?a-s*p:a,_=Vn(e,n,h*Math.cos(p*$g),E);return{center:x,circleTangency:w,lineTangency:_,theta:p}},lM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:c}=t,d=XG(s,c),f=s+d,h=Vn(e,n,a,s),p=Vn(e,n,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=Vn(e,n,r,s),w=Vn(e,n,r,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},QG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=ir(h-f),{circleTangency:g,lineTangency:x,theta:w}=Pp({cx:e,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:E,lineTangency:_,theta:j}=Pp({cx:e,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),C=d?Math.abs(f-h):Math.abs(f-h)-w-j;if(C<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):lM({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:h});var L="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:D,theta:R}=Pp({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:U,lineTangency:k,theta:V}=Pp({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),M=d?Math.abs(f-h):Math.abs(f-h)-R-V;if(M<0&&s===0)return"".concat(L,"L").concat(e,",").concat(n,"Z");L+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else L+="L".concat(e,",").concat(n,"Z");return L},JG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cM=t=>{var e=Tr(t,JG),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<a||h===p)return null;var x=Bt("recharts-sector",g),w=s-a,E=Sr(c,w,0,!0),_;return E>0&&Math.abs(h-p)<360?_=QG({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):_=lM({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),N.createElement("path",G1({},Ua(e),{className:x,d:_}))};function ZG(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(B4(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:c,angle:d}=e,f=Vn(r,a,s,d),h=Vn(r,a,c,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return oM(e)}}var vw={},xw={},bw={},zI;function eK(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(bw)),bw}var BI;function tK(){return BI||(BI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eK();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(xw)),xw}var $I;function nK(){return $I||($I=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z4(),n=tK();function r(a,s,c){c&&typeof c!="number"&&e.isIterateeCall(a,s,c)&&(s=c=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),c=c===void 0?a<s?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=c;return f}t.range=r})(vw)),vw}var ww,FI;function rK(){return FI||(FI=1,ww=nK().range),ww}var aK=rK();const uM=Zi(aK);function Bo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function S_(t){let e,n,r;t.length!==2?(e=Bo,n=(d,f)=>Bo(t(d),f),r=(d,f)=>t(d)-f):(e=t===Bo||t===iK?t:sK,n=t,r=t);function a(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:a,center:c,right:s}}function sK(){return 0}function dM(t){return t===null?NaN:+t}function*oK(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const lK=S_(Bo),Sh=lK.right;S_(dM).center;class qI extends Map{constructor(e,n=dK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(HI(this,e))}has(e){return super.has(HI(this,e))}set(e,n){return super.set(cK(this,e),n)}delete(e){return super.delete(uK(this,e))}}function HI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function cK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function uK({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function dK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fK(t=Bo){if(t===Bo)return fM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function fM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const hK=Math.sqrt(50),mK=Math.sqrt(10),pK=Math.sqrt(2);function Fg(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),c=s>=hK?10:s>=mK?5:s>=pK?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/c,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,a)*c,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?Fg(t,e,n*2):[d,f,h]}function K1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,c]=r?Fg(e,t,n):Fg(t,e,n);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(r)if(c<0)for(let h=0;h<d;++h)f[h]=(s-h)/-c;else for(let h=0;h<d;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<d;++h)f[h]=(a+h)/-c;else for(let h=0;h<d;++h)f[h]=(a+h)*c;return f}function Y1(t,e,n){return e=+e,t=+t,n=+n,Fg(t,e,n)[2]}function W1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?Y1(e,t,n):Y1(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function GI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function KI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hM(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?fM:fK(a);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),w=Math.max(n,Math.floor(e-h*g/f+x)),E=Math.min(r,Math.floor(e+(f-h)*g/f+x));hM(t,e,w,E,a)}const s=t[e];let c=n,d=r;for(Ef(t,n,e),a(t[r],s)>0&&Ef(t,n,r);c<d;){for(Ef(t,c,d),++c,--d;a(t[c],s)<0;)++c;for(;a(t[d],s)>0;)--d}a(t[n],s)===0?Ef(t,n,d):(++d,Ef(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function Ef(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function gK(t,e,n){if(t=Float64Array.from(oK(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return KI(t);if(e>=1)return GI(t);var r,a=(r-1)*e,s=Math.floor(a),c=GI(hM(t,s).subarray(0,s+1)),d=KI(t.subarray(s+1));return c+(d-c)*(a-s)}}function yK(t,e,n=dM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),c=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return c+(d-c)*(a-s)}}function vK(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function $a(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const X1=Symbol("implicit");function A_(){var t=new qI,e=[],n=[],r=X1;function a(s){let c=t.get(s);if(c===void 0){if(r!==X1)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new qI;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return A_(e,n).unknown(r)},$a.apply(a,arguments),a}function T_(){var t=A_().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,c,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,w=a<r,E=w?a:r,_=w?r:a;s=(_-E)/Math.max(1,x-f+h*2),d&&(s=Math.floor(s)),E+=(_-E-s*(x-f))*p,c=s*(1-f),d&&(E=Math.round(E),c=Math.round(c));var j=vK(x).map(function(C){return E+s*C});return n(w?j.reverse():j)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(x){return arguments.length?(d=!!x,g()):d},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return T_(e(),[r,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},$a.apply(g(),arguments)}function mM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mM(e())},t}function xK(){return mM(T_.apply(null,arguments).paddingInner(1))}function C_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function pM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ah(){}var eh=.7,qg=1/eh,Tu="\\s*([+-]?\\d+)\\s*",th="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bK=/^#([0-9a-f]{3,8})$/,wK=new RegExp(`^rgb\\(${Tu},${Tu},${Tu}\\)$`),NK=new RegExp(`^rgb\\(${Vi},${Vi},${Vi}\\)$`),_K=new RegExp(`^rgba\\(${Tu},${Tu},${Tu},${th}\\)$`),jK=new RegExp(`^rgba\\(${Vi},${Vi},${Vi},${th}\\)$`),EK=new RegExp(`^hsl\\(${th},${Vi},${Vi}\\)$`),SK=new RegExp(`^hsla\\(${th},${Vi},${Vi},${th}\\)$`),YI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};C_(Ah,nh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:WI,formatHex:WI,formatHex8:AK,formatHsl:TK,formatRgb:XI,toString:XI});function WI(){return this.rgb().formatHex()}function AK(){return this.rgb().formatHex8()}function TK(){return gM(this).formatHsl()}function XI(){return this.rgb().formatRgb()}function nh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?QI(e):n===3?new Xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?kp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?kp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wK.exec(t))?new Xr(e[1],e[2],e[3],1):(e=NK.exec(t))?new Xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_K.exec(t))?kp(e[1],e[2],e[3],e[4]):(e=jK.exec(t))?kp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=EK.exec(t))?eO(e[1],e[2]/100,e[3]/100,1):(e=SK.exec(t))?eO(e[1],e[2]/100,e[3]/100,e[4]):YI.hasOwnProperty(t)?QI(YI[t]):t==="transparent"?new Xr(NaN,NaN,NaN,0):null}function QI(t){return new Xr(t>>16&255,t>>8&255,t&255,1)}function kp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xr(t,e,n,r)}function CK(t){return t instanceof Ah||(t=nh(t)),t?(t=t.rgb(),new Xr(t.r,t.g,t.b,t.opacity)):new Xr}function Q1(t,e,n,r){return arguments.length===1?CK(t):new Xr(t,e,n,r??1)}function Xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}C_(Xr,Q1,pM(Ah,{brighter(t){return t=t==null?qg:Math.pow(qg,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?eh:Math.pow(eh,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xr(tc(this.r),tc(this.g),tc(this.b),Hg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JI,formatHex:JI,formatHex8:IK,formatRgb:ZI,toString:ZI}));function JI(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}`}function IK(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}${Kl((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZI(){const t=Hg(this.opacity);return`${t===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${t===1?")":`, ${t})`}`}function Hg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kl(t){return t=tc(t),(t<16?"0":"")+t.toString(16)}function eO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ri(t,e,n,r)}function gM(t){if(t instanceof ri)return new ri(t.h,t.s,t.l,t.opacity);if(t instanceof Ah||(t=nh(t)),!t)return new ri;if(t instanceof ri)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,d=s-a,f=(s+a)/2;return d?(e===s?c=(n-r)/d+(n<r)*6:n===s?c=(r-e)/d+2:c=(e-n)/d+4,d/=f<.5?s+a:2-s-a,c*=60):d=f>0&&f<1?0:c,new ri(c,d,f,t.opacity)}function OK(t,e,n,r){return arguments.length===1?gM(t):new ri(t,e,n,r??1)}function ri(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}C_(ri,OK,pM(Ah,{brighter(t){return t=t==null?qg:Math.pow(qg,t),new ri(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?eh:Math.pow(eh,t),new ri(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Xr(Nw(t>=240?t-240:t+120,a,r),Nw(t,a,r),Nw(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ri(tO(this.h),Mp(this.s),Mp(this.l),Hg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hg(this.opacity);return`${t===1?"hsl(":"hsla("}${tO(this.h)}, ${Mp(this.s)*100}%, ${Mp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tO(t){return t=(t||0)%360,t<0?t+360:t}function Mp(t){return Math.max(0,Math.min(1,t||0))}function Nw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const I_=t=>()=>t;function RK(t,e){return function(n){return t+n*e}}function DK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function PK(t){return(t=+t)==1?yM:function(e,n){return n-e?DK(e,n,t):I_(isNaN(e)?n:e)}}function yM(t,e){var n=e-t;return n?RK(t,n):I_(isNaN(t)?e:t)}const nO=(function t(e){var n=PK(e);function r(a,s){var c=n((a=Q1(a)).r,(s=Q1(s)).r),d=n(a.g,s.g),f=n(a.b,s.b),h=yM(a.opacity,s.opacity);return function(p){return a.r=c(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return r.gamma=t,r})(1);function kK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function MK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function LK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)a[c]=nd(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(d){for(c=0;c<r;++c)s[c]=a[c](d);return s}}function UK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Gg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function VK(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=nd(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var J1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_w=new RegExp(J1.source,"g");function zK(t){return function(){return t}}function BK(t){return function(e){return t(e)+""}}function $K(t,e){var n=J1.lastIndex=_w.lastIndex=0,r,a,s,c=-1,d=[],f=[];for(t=t+"",e=e+"";(r=J1.exec(t))&&(a=_w.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),d[c]?d[c]+=s:d[++c]=s),(r=r[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,f.push({i:c,x:Gg(r,a)})),n=_w.lastIndex;return n<e.length&&(s=e.slice(n),d[c]?d[c]+=s:d[++c]=s),d.length<2?f[0]?BK(f[0].x):zK(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function nd(t,e){var n=typeof e,r;return e==null||n==="boolean"?I_(e):(n==="number"?Gg:n==="string"?(r=nh(e))?(e=r,nO):$K:e instanceof nh?nO:e instanceof Date?UK:MK(e)?kK:Array.isArray(e)?LK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?VK:Gg)(t,e)}function O_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function FK(t,e){e===void 0&&(e=t,t=nd);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[d](c-d)}}function qK(t){return function(){return t}}function Kg(t){return+t}var rO=[0,1];function Dr(t){return t}function Z1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:qK(isNaN(e)?NaN:.5)}function HK(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function GK(t,e,n){var r=t[0],a=t[1],s=e[0],c=e[1];return a<r?(r=Z1(a,r),s=n(c,s)):(r=Z1(r,a),s=n(s,c)),function(d){return s(r(d))}}function KK(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)a[c]=Z1(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(d){var f=Sh(t,d,1,r)-1;return s[f](a[f](d))}}function Th(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function u0(){var t=rO,e=rO,n=nd,r,a,s,c=Dr,d,f,h;function p(){var x=Math.min(t.length,e.length);return c!==Dr&&(c=HK(t[0],t[x-1])),d=x>2?KK:GK,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?s:(f||(f=d(t.map(r),e,n)))(r(c(x)))}return g.invert=function(x){return c(a((h||(h=d(e,t.map(r),Gg)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,Kg),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=O_,p()},g.clamp=function(x){return arguments.length?(c=x?!0:Dr,p()):c!==Dr},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(s=x,g):s},function(x,w){return r=x,a=w,p()}}function R_(){return u0()(Dr,Dr)}function YK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bu(t){return t=Yg(Math.abs(t)),t?t[1]:NaN}function WK(t,e){return function(n,r){for(var a=n.length,s=[],c=0,d=t[0],f=0;a>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(a-=d,a+d)),!((f+=d+1)>r));)d=t[c=(c+1)%t.length];return s.reverse().join(e)}}function XK(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var QK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rh(t){if(!(e=QK.exec(t)))throw new Error("invalid format: "+t);var e;return new D_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rh.prototype=D_.prototype;function D_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}D_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JK(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var vM;function ZK(t,e){var n=Yg(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(vM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Yg(t,Math.max(0,e+s-1))[0]}function aO(t,e){var n=Yg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const iO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:YK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>aO(t*100,e),r:aO,s:ZK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sO(t){return t}var oO=Array.prototype.map,lO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eY(t){var e=t.grouping===void 0||t.thousands===void 0?sO:WK(oO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?sO:XK(oO.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=rh(g);var x=g.fill,w=g.align,E=g.sign,_=g.symbol,j=g.zero,C=g.width,L=g.comma,A=g.precision,D=g.trim,R=g.type;R==="n"?(L=!0,R="g"):iO[R]||(A===void 0&&(A=12),D=!0,R="g"),(j||x==="0"&&w==="=")&&(j=!0,x="0",w="=");var U=_==="$"?n:_==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",k=_==="$"?r:/[%p]/.test(R)?c:"",V=iO[R],M=/[defgprs%]/.test(R);A=A===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function I(O){var B=U,z=k,me,ae,G;if(R==="c")z=V(O)+z,O="";else{O=+O;var re=O<0||1/O<0;if(O=isNaN(O)?f:V(Math.abs(O),A),D&&(O=JK(O)),re&&+O==0&&E!=="+"&&(re=!1),B=(re?E==="("?E:d:E==="-"||E==="("?"":E)+B,z=(R==="s"?lO[8+vM/3]:"")+z+(re&&E==="("?")":""),M){for(me=-1,ae=O.length;++me<ae;)if(G=O.charCodeAt(me),48>G||G>57){z=(G===46?a+O.slice(me+1):O.slice(me))+z,O=O.slice(0,me);break}}}L&&!j&&(O=e(O,1/0));var Y=B.length+O.length+z.length,xe=Y<C?new Array(C-Y+1).join(x):"";switch(L&&j&&(O=e(xe+O,xe.length?C-z.length:1/0),xe=""),w){case"<":O=B+O+z+xe;break;case"=":O=B+xe+O+z;break;case"^":O=xe.slice(0,Y=xe.length>>1)+B+O+z+xe.slice(Y);break;default:O=xe+B+O+z;break}return s(O)}return I.toString=function(){return g+""},I}function p(g,x){var w=h((g=rh(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(Bu(x)/3)))*3,_=Math.pow(10,-E),j=lO[8+E/3];return function(C){return w(_*C)+j}}return{format:h,formatPrefix:p}}var Lp,P_,xM;tY({thousands:",",grouping:[3],currency:["$",""]});function tY(t){return Lp=eY(t),P_=Lp.format,xM=Lp.formatPrefix,Lp}function nY(t){return Math.max(0,-Bu(Math.abs(t)))}function rY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bu(e)/3)))*3-Bu(Math.abs(t)))}function aY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bu(e)-Bu(t))+1}function bM(t,e,n,r){var a=W1(t,e,n),s;switch(r=rh(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=rY(a,c))&&(r.precision=s),xM(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=aY(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=nY(a))&&(r.precision=s-(r.type==="%")*2);break}}return P_(r)}function rl(t){var e=t.domain;return t.ticks=function(n){var r=e();return K1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return bM(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,c=r[a],d=r[s],f,h,p=10;for(d<c&&(h=c,c=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=Y1(c,d,n),h===f)return r[a]=c,r[s]=d,e(r);if(h>0)c=Math.floor(c/h)*h,d=Math.ceil(d/h)*h;else if(h<0)c=Math.ceil(c*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function wM(){var t=R_();return t.copy=function(){return Th(t,wM())},$a.apply(t,arguments),rl(t)}function NM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Kg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return NM(t).unknown(e)},t=arguments.length?Array.from(t,Kg):[0,1],rl(n)}function _M(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],c;return s<a&&(c=n,n=r,r=c,c=a,a=s,s=c),t[n]=e.floor(a),t[r]=e.ceil(s),t}function cO(t){return Math.log(t)}function uO(t){return Math.exp(t)}function iY(t){return-Math.log(-t)}function sY(t){return-Math.exp(-t)}function oY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function lY(t){return t===10?oY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function cY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function dO(t){return(e,n)=>-t(-e,n)}function k_(t){const e=t(cO,uO),n=e.domain;let r=10,a,s;function c(){return a=cY(r),s=lY(r),n()[0]<0?(a=dO(a),s=dO(s),t(iY,sY)):t(cO,uO),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=a(h),w=a(p),E,_;const j=d==null?10:+d;let C=[];if(!(r%1)&&w-x<j){if(x=Math.floor(x),w=Math.ceil(w),h>0){for(;x<=w;++x)for(E=1;E<r;++E)if(_=x<0?E/s(-x):E*s(x),!(_<h)){if(_>p)break;C.push(_)}}else for(;x<=w;++x)for(E=r-1;E>=1;--E)if(_=x>0?E/s(-x):E*s(x),!(_<h)){if(_>p)break;C.push(_)}C.length*2<j&&(C=K1(h,p,j))}else C=K1(x,w,Math.min(w-x,j)).map(s);return g?C.reverse():C},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=rh(f)).precision==null&&(f.trim=!0),f=P_(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(_M(n(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),e}function jM(){const t=k_(u0()).domain([1,10]);return t.copy=()=>Th(t,jM()).base(t.base()),$a.apply(t,arguments),t}function fO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function hO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function M_(t){var e=1,n=t(fO(e),hO(e));return n.constant=function(r){return arguments.length?t(fO(e=+r),hO(e)):e},rl(n)}function EM(){var t=M_(u0());return t.copy=function(){return Th(t,EM()).constant(t.constant())},$a.apply(t,arguments)}function mO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function uY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function dY(t){return t<0?-t*t:t*t}function L_(t){var e=t(Dr,Dr),n=1;function r(){return n===1?t(Dr,Dr):n===.5?t(uY,dY):t(mO(n),mO(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},rl(e)}function U_(){var t=L_(u0());return t.copy=function(){return Th(t,U_()).exponent(t.exponent())},$a.apply(t,arguments),t}function fY(){return U_.apply(null,arguments).exponent(.5)}function pO(t){return Math.sign(t)*t*t}function hY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function SM(){var t=R_(),e=[0,1],n=!1,r;function a(s){var c=hY(t(s));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(s){return t.invert(pO(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Kg)).map(pO)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return SM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$a.apply(a,arguments),rl(a)}function AM(){var t=[],e=[],n=[],r;function a(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=yK(t,c/d);return s}function s(c){return c==null||isNaN(c=+c)?r:e[Sh(n,c)]}return s.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Bo),a()},s.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return AM().domain(t).range(e).unknown(r)},$a.apply(s,arguments)}function TM(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[Sh(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,d()):a.slice()},c.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return TM().domain([t,e]).range(a).unknown(s)},$a.apply(rl(c),arguments)}function CM(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[Sh(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return CM().domain(t).range(e).unknown(n)},$a.apply(a,arguments)}const jw=new Date,Ew=new Date;function Wn(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const c=a(s),d=a.ceil(s);return s-c<d-s?c:d},a.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return f;let h;do f.push(h=new Date(+s)),e(s,d),t(s);while(h<s&&s<c);return f},a.filter=s=>Wn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!s(c););else for(;--d>=0;)for(;e(c,1),!s(c););}),n&&(a.count=(s,c)=>(jw.setTime(+s),Ew.setTime(+c),t(jw),t(Ew),Math.floor(n(jw,Ew))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?c=>r(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Wg=Wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Wg);Wg.range;const Ss=1e3,La=Ss*60,As=La*60,Us=As*24,V_=Us*7,gO=Us*30,Sw=Us*365,Yl=Wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCSeconds());Yl.range;const z_=Wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss)},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getMinutes());z_.range;const B_=Wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getUTCMinutes());B_.range;const $_=Wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss-t.getMinutes()*La)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getHours());$_.range;const F_=Wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getUTCHours());F_.range;const Ch=Wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*La)/Us,t=>t.getDate()-1);Ch.range;const d0=Wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>t.getUTCDate()-1);d0.range;const IM=Wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>Math.floor(t/Us));IM.range;function xc(t){return Wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*La)/V_)}const f0=xc(0),Xg=xc(1),mY=xc(2),pY=xc(3),$u=xc(4),gY=xc(5),yY=xc(6);f0.range;Xg.range;mY.range;pY.range;$u.range;gY.range;yY.range;function bc(t){return Wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/V_)}const h0=bc(0),Qg=bc(1),vY=bc(2),xY=bc(3),Fu=bc(4),bY=bc(5),wY=bc(6);h0.range;Qg.range;vY.range;xY.range;Fu.range;bY.range;wY.range;const q_=Wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());q_.range;const H_=Wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());H_.range;const Vs=Wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Vs.range;const zs=Wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});zs.range;function OM(t,e,n,r,a,s){const c=[[Yl,1,Ss],[Yl,5,5*Ss],[Yl,15,15*Ss],[Yl,30,30*Ss],[s,1,La],[s,5,5*La],[s,15,15*La],[s,30,30*La],[a,1,As],[a,3,3*As],[a,6,6*As],[a,12,12*As],[r,1,Us],[r,2,2*Us],[n,1,V_],[e,1,gO],[e,3,3*gO],[t,1,Sw]];function d(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const w=g&&typeof g.range=="function"?g:f(h,p,g),E=w?w.range(h,+p+1):[];return x?E.reverse():E}function f(h,p,g){const x=Math.abs(p-h)/g,w=S_(([,,j])=>j).right(c,x);if(w===c.length)return t.every(W1(h/Sw,p/Sw,g));if(w===0)return Wg.every(Math.max(W1(h,p,g),1));const[E,_]=c[x/c[w-1][2]<c[w][2]/x?w-1:w];return E.every(_)}return[d,f]}const[NY,_Y]=OM(zs,H_,h0,IM,F_,B_),[jY,EY]=OM(Vs,q_,f0,Ch,$_,z_);function Aw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Tw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function SY(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,c=t.shortDays,d=t.months,f=t.shortMonths,h=Af(a),p=Tf(a),g=Af(s),x=Tf(s),w=Af(c),E=Tf(c),_=Af(d),j=Tf(d),C=Af(f),L=Tf(f),A={a:re,A:Y,b:xe,B:X,c:null,d:NO,e:NO,f:WY,g:iW,G:oW,H:GY,I:KY,j:YY,L:RM,m:XY,M:QY,p:F,q:Q,Q:EO,s:SO,S:JY,u:ZY,U:eW,V:tW,w:nW,W:rW,x:null,X:null,y:aW,Y:sW,Z:lW,"%":jO},D={a:K,A:J,b:he,B:Se,c:null,d:_O,e:_O,f:fW,g:NW,G:jW,H:cW,I:uW,j:dW,L:PM,m:hW,M:mW,p:Oe,q:He,Q:EO,s:SO,S:pW,u:gW,U:yW,V:vW,w:xW,W:bW,x:null,X:null,y:wW,Y:_W,Z:EW,"%":jO},R={a:I,A:O,b:B,B:z,c:me,d:bO,e:bO,f:$Y,g:xO,G:vO,H:wO,I:wO,j:UY,L:BY,m:LY,M:VY,p:M,q:MY,Q:qY,s:HY,S:zY,u:OY,U:RY,V:DY,w:IY,W:PY,x:ae,X:G,y:xO,Y:vO,Z:kY,"%":FY};A.x=U(n,A),A.X=U(r,A),A.c=U(e,A),D.x=U(n,D),D.X=U(r,D),D.c=U(e,D);function U(ce,Be){return function(ee){var fe=[],Je=-1,Ge=0,Et=ce.length,Ee,ut,ge;for(ee instanceof Date||(ee=new Date(+ee));++Je<Et;)ce.charCodeAt(Je)===37&&(fe.push(ce.slice(Ge,Je)),(ut=yO[Ee=ce.charAt(++Je)])!=null?Ee=ce.charAt(++Je):ut=Ee==="e"?" ":"0",(ge=Be[Ee])&&(Ee=ge(ee,ut)),fe.push(Ee),Ge=Je+1);return fe.push(ce.slice(Ge,Je)),fe.join("")}}function k(ce,Be){return function(ee){var fe=Sf(1900,void 0,1),Je=V(fe,ce,ee+="",0),Ge,Et;if(Je!=ee.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Be&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Ge=Tw(Sf(fe.y,0,1)),Et=Ge.getUTCDay(),Ge=Et>4||Et===0?Qg.ceil(Ge):Qg(Ge),Ge=d0.offset(Ge,(fe.V-1)*7),fe.y=Ge.getUTCFullYear(),fe.m=Ge.getUTCMonth(),fe.d=Ge.getUTCDate()+(fe.w+6)%7):(Ge=Aw(Sf(fe.y,0,1)),Et=Ge.getDay(),Ge=Et>4||Et===0?Xg.ceil(Ge):Xg(Ge),Ge=Ch.offset(Ge,(fe.V-1)*7),fe.y=Ge.getFullYear(),fe.m=Ge.getMonth(),fe.d=Ge.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Et="Z"in fe?Tw(Sf(fe.y,0,1)).getUTCDay():Aw(Sf(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Et+5)%7:fe.w+fe.U*7-(Et+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,Tw(fe)):Aw(fe)}}function V(ce,Be,ee,fe){for(var Je=0,Ge=Be.length,Et=ee.length,Ee,ut;Je<Ge;){if(fe>=Et)return-1;if(Ee=Be.charCodeAt(Je++),Ee===37){if(Ee=Be.charAt(Je++),ut=R[Ee in yO?Be.charAt(Je++):Ee],!ut||(fe=ut(ce,ee,fe))<0)return-1}else if(Ee!=ee.charCodeAt(fe++))return-1}return fe}function M(ce,Be,ee){var fe=h.exec(Be.slice(ee));return fe?(ce.p=p.get(fe[0].toLowerCase()),ee+fe[0].length):-1}function I(ce,Be,ee){var fe=w.exec(Be.slice(ee));return fe?(ce.w=E.get(fe[0].toLowerCase()),ee+fe[0].length):-1}function O(ce,Be,ee){var fe=g.exec(Be.slice(ee));return fe?(ce.w=x.get(fe[0].toLowerCase()),ee+fe[0].length):-1}function B(ce,Be,ee){var fe=C.exec(Be.slice(ee));return fe?(ce.m=L.get(fe[0].toLowerCase()),ee+fe[0].length):-1}function z(ce,Be,ee){var fe=_.exec(Be.slice(ee));return fe?(ce.m=j.get(fe[0].toLowerCase()),ee+fe[0].length):-1}function me(ce,Be,ee){return V(ce,e,Be,ee)}function ae(ce,Be,ee){return V(ce,n,Be,ee)}function G(ce,Be,ee){return V(ce,r,Be,ee)}function re(ce){return c[ce.getDay()]}function Y(ce){return s[ce.getDay()]}function xe(ce){return f[ce.getMonth()]}function X(ce){return d[ce.getMonth()]}function F(ce){return a[+(ce.getHours()>=12)]}function Q(ce){return 1+~~(ce.getMonth()/3)}function K(ce){return c[ce.getUTCDay()]}function J(ce){return s[ce.getUTCDay()]}function he(ce){return f[ce.getUTCMonth()]}function Se(ce){return d[ce.getUTCMonth()]}function Oe(ce){return a[+(ce.getUTCHours()>=12)]}function He(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Be=U(ce+="",A);return Be.toString=function(){return ce},Be},parse:function(ce){var Be=k(ce+="",!1);return Be.toString=function(){return ce},Be},utcFormat:function(ce){var Be=U(ce+="",D);return Be.toString=function(){return ce},Be},utcParse:function(ce){var Be=k(ce+="",!0);return Be.toString=function(){return ce},Be}}}var yO={"-":"",_:" ",0:"0"},or=/^\s*\d+/,AY=/^%/,TY=/[\\^$*+?|[\]().{}]/g;function _t(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function CY(t){return t.replace(TY,"\\$&")}function Af(t){return new RegExp("^(?:"+t.map(CY).join("|")+")","i")}function Tf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function IY(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function OY(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function RY(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function DY(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function PY(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function vO(t,e,n){var r=or.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xO(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function MY(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function LY(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bO(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function UY(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function wO(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function zY(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function BY(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $Y(t,e,n){var r=or.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FY(t,e,n){var r=AY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function qY(t,e,n){var r=or.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function HY(t,e,n){var r=or.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function NO(t,e){return _t(t.getDate(),e,2)}function GY(t,e){return _t(t.getHours(),e,2)}function KY(t,e){return _t(t.getHours()%12||12,e,2)}function YY(t,e){return _t(1+Ch.count(Vs(t),t),e,3)}function RM(t,e){return _t(t.getMilliseconds(),e,3)}function WY(t,e){return RM(t,e)+"000"}function XY(t,e){return _t(t.getMonth()+1,e,2)}function QY(t,e){return _t(t.getMinutes(),e,2)}function JY(t,e){return _t(t.getSeconds(),e,2)}function ZY(t){var e=t.getDay();return e===0?7:e}function eW(t,e){return _t(f0.count(Vs(t)-1,t),e,2)}function DM(t){var e=t.getDay();return e>=4||e===0?$u(t):$u.ceil(t)}function tW(t,e){return t=DM(t),_t($u.count(Vs(t),t)+(Vs(t).getDay()===4),e,2)}function nW(t){return t.getDay()}function rW(t,e){return _t(Xg.count(Vs(t)-1,t),e,2)}function aW(t,e){return _t(t.getFullYear()%100,e,2)}function iW(t,e){return t=DM(t),_t(t.getFullYear()%100,e,2)}function sW(t,e){return _t(t.getFullYear()%1e4,e,4)}function oW(t,e){var n=t.getDay();return t=n>=4||n===0?$u(t):$u.ceil(t),_t(t.getFullYear()%1e4,e,4)}function lW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function _O(t,e){return _t(t.getUTCDate(),e,2)}function cW(t,e){return _t(t.getUTCHours(),e,2)}function uW(t,e){return _t(t.getUTCHours()%12||12,e,2)}function dW(t,e){return _t(1+d0.count(zs(t),t),e,3)}function PM(t,e){return _t(t.getUTCMilliseconds(),e,3)}function fW(t,e){return PM(t,e)+"000"}function hW(t,e){return _t(t.getUTCMonth()+1,e,2)}function mW(t,e){return _t(t.getUTCMinutes(),e,2)}function pW(t,e){return _t(t.getUTCSeconds(),e,2)}function gW(t){var e=t.getUTCDay();return e===0?7:e}function yW(t,e){return _t(h0.count(zs(t)-1,t),e,2)}function kM(t){var e=t.getUTCDay();return e>=4||e===0?Fu(t):Fu.ceil(t)}function vW(t,e){return t=kM(t),_t(Fu.count(zs(t),t)+(zs(t).getUTCDay()===4),e,2)}function xW(t){return t.getUTCDay()}function bW(t,e){return _t(Qg.count(zs(t)-1,t),e,2)}function wW(t,e){return _t(t.getUTCFullYear()%100,e,2)}function NW(t,e){return t=kM(t),_t(t.getUTCFullYear()%100,e,2)}function _W(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function jW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Fu(t):Fu.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function EW(){return"+0000"}function jO(){return"%"}function EO(t){return+t}function SO(t){return Math.floor(+t/1e3)}var hu,MM,LM;SW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SW(t){return hu=SY(t),MM=hu.format,hu.parse,LM=hu.utcFormat,hu.utcParse,hu}function AW(t){return new Date(t)}function TW(t){return t instanceof Date?+t:+new Date(+t)}function G_(t,e,n,r,a,s,c,d,f,h){var p=R_(),g=p.invert,x=p.domain,w=h(".%L"),E=h(":%S"),_=h("%I:%M"),j=h("%I %p"),C=h("%a %d"),L=h("%b %d"),A=h("%B"),D=h("%Y");function R(U){return(f(U)<U?w:d(U)<U?E:c(U)<U?_:s(U)<U?j:r(U)<U?a(U)<U?C:L:n(U)<U?A:D)(U)}return p.invert=function(U){return new Date(g(U))},p.domain=function(U){return arguments.length?x(Array.from(U,TW)):x().map(AW)},p.ticks=function(U){var k=x();return t(k[0],k[k.length-1],U??10)},p.tickFormat=function(U,k){return k==null?R:h(k)},p.nice=function(U){var k=x();return(!U||typeof U.range!="function")&&(U=e(k[0],k[k.length-1],U??10)),U?x(_M(k,U)):p},p.copy=function(){return Th(p,G_(t,e,n,r,a,s,c,d,f,h))},p}function CW(){return $a.apply(G_(jY,EY,Vs,q_,f0,Ch,$_,z_,Yl,MM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IW(){return $a.apply(G_(NY,_Y,zs,H_,h0,d0,F_,B_,Yl,LM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function m0(){var t=0,e=1,n,r,a,s,c=Dr,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(s(g)-n)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(x){var w,E;return arguments.length?([w,E]=x,c=g(w,E),h):[c(0),c(1)]}}return h.range=p(nd),h.rangeRound=p(O_),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),h}}function al(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UM(){var t=rl(m0()(Dr));return t.copy=function(){return al(t,UM())},Xs.apply(t,arguments)}function VM(){var t=k_(m0()).domain([1,10]);return t.copy=function(){return al(t,VM()).base(t.base())},Xs.apply(t,arguments)}function zM(){var t=M_(m0());return t.copy=function(){return al(t,zM()).constant(t.constant())},Xs.apply(t,arguments)}function K_(){var t=L_(m0());return t.copy=function(){return al(t,K_()).exponent(t.exponent())},Xs.apply(t,arguments)}function OW(){return K_.apply(null,arguments).exponent(.5)}function BM(){var t=[],e=Dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Sh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Bo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>gK(t,s/r))},n.copy=function(){return BM(e).domain(t)},Xs.apply(n,arguments)}function p0(){var t=0,e=.5,n=1,r=1,a,s,c,d,f,h=Dr,p,g=!1,x;function w(_){return isNaN(_=+_)?x:(_=.5+((_=+p(_))-s)*(r*_<r*s?d:f),h(g?Math.max(0,Math.min(1,_)):_))}w.domain=function(_){return arguments.length?([t,e,n]=_,a=p(t=+t),s=p(e=+e),c=p(n=+n),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,w):[t,e,n]},w.clamp=function(_){return arguments.length?(g=!!_,w):g},w.interpolator=function(_){return arguments.length?(h=_,w):h};function E(_){return function(j){var C,L,A;return arguments.length?([C,L,A]=j,h=FK(_,[C,L,A]),w):[h(0),h(.5),h(1)]}}return w.range=E(nd),w.rangeRound=E(O_),w.unknown=function(_){return arguments.length?(x=_,w):x},function(_){return p=_,a=_(t),s=_(e),c=_(n),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,w}}function $M(){var t=rl(p0()(Dr));return t.copy=function(){return al(t,$M())},Xs.apply(t,arguments)}function FM(){var t=k_(p0()).domain([.1,1,10]);return t.copy=function(){return al(t,FM()).base(t.base())},Xs.apply(t,arguments)}function qM(){var t=M_(p0());return t.copy=function(){return al(t,qM()).constant(t.constant())},Xs.apply(t,arguments)}function Y_(){var t=L_(p0());return t.copy=function(){return al(t,Y_()).exponent(t.exponent())},Xs.apply(t,arguments)}function RW(){return Y_.apply(null,arguments).exponent(.5)}const Rf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:T_,scaleDiverging:$M,scaleDivergingLog:FM,scaleDivergingPow:Y_,scaleDivergingSqrt:RW,scaleDivergingSymlog:qM,scaleIdentity:NM,scaleImplicit:X1,scaleLinear:wM,scaleLog:jM,scaleOrdinal:A_,scalePoint:xK,scalePow:U_,scaleQuantile:AM,scaleQuantize:TM,scaleRadial:SM,scaleSequential:UM,scaleSequentialLog:VM,scaleSequentialPow:K_,scaleSequentialQuantile:BM,scaleSequentialSqrt:OW,scaleSequentialSymlog:zM,scaleSqrt:fY,scaleSymlog:EM,scaleThreshold:CM,scaleTime:CW,scaleUtc:IW,tickFormat:bM},Symbol.toStringTag,{value:"Module"}));var il=t=>t.chartData,W_=oe([il],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),X_=(t,e,n,r)=>r?W_(t):il(t);function Ko(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(_n(e)&&_n(n))return!0}return!1}function AO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function HM(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(_n(n))a=n;else if(typeof n=="function")return;if(_n(r))s=r;else if(typeof r=="function")return;var c=[a,s];if(Ko(c))return c}}function DW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ko(r))return AO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,c,d;if(a==="auto")e!=null&&(c=Math.min(...e));else if(Ve(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&rI.test(a)){var f=rI.exec(a);if(f==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e==null?void 0:e[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Ve(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&aI.test(s)){var p=aI.exec(s);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var x=[c,d];if(Ko(x))return e==null?x:AO(x,e,n)}}}var rd=1e9,PW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},J_,sn=!0,za="[DecimalError] ",nc=za+"Invalid argument: ",Q_=za+"Exponent out of range: ",ad=Math.floor,Hl=Math.pow,kW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ha,rr=1e7,Xt=7,GM=9007199254740991,Jg=ad(GM/Xt),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Xt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return Rs(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return qt(Rs(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return Bn(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ha))throw Error(za+"NaN");if(n.s<1)throw Error(za+(n.s?"NaN":"-Infinity"));return n.eq(ha)?new r(0):(sn=!1,e=Rs(ah(n,s),ah(t,s),s),sn=!0,qt(e,a))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WM(e,t):KM(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(za+"NaN");return n.s?(sn=!1,e=Rs(n,t,0,1).times(t),sn=!0,n.minus(e)):qt(new r(n),a)};Me.naturalExponential=Me.exp=function(){return YM(this)};Me.naturalLogarithm=Me.ln=function(){return ah(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KM(e,t):WM(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nc+t);if(e=Bn(a)+1,r=a.d.length-1,n=r*Xt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,a,s,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(za+"NaN")}for(t=Bn(d),sn=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Ui(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=ad((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(s=r,r=s.plus(Rs(d,s,c+2)).times(.5),Ui(s.d).slice(0,c)===(e=Ui(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(qt(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;c+=4}return sn=!0,qt(r,n)};Me.times=Me.mul=function(t){var e,n,r,a,s,c,d,f,h,p=this,g=p.constructor,x=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=w.length,f<h&&(s=x,x=w,w=s,c=f,f=h,h=c),s=[],c=f+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,a=f+r;a>r;)d=s[a]+w[r]*x[a-r-1]+e,s[a--]=d%rr|0,e=d/rr|0;s[a]=(s[a]+e)%rr|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,sn?qt(t,g.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Xi(t,0,rd),e===void 0?e=r.rounding:Xi(e,0,8),qt(n,t+Bn(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=oc(r,!0):(Xi(t,0,rd),e===void 0?e=a.rounding:Xi(e,0,8),r=qt(new a(r),t+1,e),n=oc(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?oc(a):(Xi(t,0,rd),e===void 0?e=s.rounding:Xi(e,0,8),r=qt(new s(a),t+Bn(a)+1,e),n=oc(r.abs(),!1,t+Bn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return qt(new e(t),Bn(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,a,s,c,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(ha);if(d=new f(d),!d.s){if(t.s<1)throw Error(za+"Infinity");return d}if(d.eq(ha))return d;if(r=f.precision,t.eq(ha))return qt(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=d.s,c){if((n=p<0?-p:p)<=GM){for(a=new f(ha),e=Math.ceil(r/Xt+4),sn=!1;n%2&&(a=a.times(d),CO(a.d,e)),n=ad(n/2),n!==0;)d=d.times(d),CO(d.d,e);return sn=!0,t.s<0?new f(ha).div(a):qt(a,r)}}else if(s<0)throw Error(za+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,sn=!1,a=t.times(ah(d,r+h)),sn=!0,a=YM(a),a.s=s,a};Me.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=Bn(a),r=oc(a,n<=s.toExpNeg||n>=s.toExpPos)):(Xi(t,1,rd),e===void 0?e=s.rounding:Xi(e,0,8),a=qt(new s(a),t,e),n=Bn(a),r=oc(a,t<=n||n<=s.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Xi(t,1,rd),e===void 0?e=r.rounding:Xi(e,0,8)),qt(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bn(t),n=t.constructor;return oc(t,e<=n.toExpNeg||e>=n.toExpPos)};function KM(t,e){var n,r,a,s,c,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),sn?qt(e,g):e;if(f=t.d,h=e.d,c=t.e,a=e.e,f=f.slice(),s=c-a,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,a=c,d=f.length),c=Math.ceil(g/Xt),d=c>d?c+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/rr|0,f[s]%=rr;for(n&&(f.unshift(n),++a),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=a,sn?qt(e,g):e}function Xi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nc+t)}function Ui(t){var e,n,r,a=t.length-1,s="",c=t[0];if(a>0){for(s+=c,e=1;e<a;e++)r=t[e]+"",n=Xt-r.length,n&&(s+=Do(n)),s+=r;c=t[e],r=c+"",n=Xt-r.length,n&&(s+=Do(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Rs=(function(){function t(r,a){var s,c=0,d=r.length;for(r=r.slice();d--;)s=r[d]*a+c,r[d]=s%rr|0,c=s/rr|0;return c&&r.unshift(c),r}function e(r,a,s,c){var d,f;if(s!=c)f=s>c?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=a[d]){f=r[d]>a[d]?1:-1;break}return f}function n(r,a,s){for(var c=0;s--;)r[s]-=c,c=r[s]<a[s]?1:0,r[s]=c*rr+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,c){var d,f,h,p,g,x,w,E,_,j,C,L,A,D,R,U,k,V,M=r.constructor,I=r.s==a.s?1:-1,O=r.d,B=a.d;if(!r.s)return new M(r);if(!a.s)throw Error(za+"Division by zero");for(f=r.e-a.e,k=B.length,R=O.length,w=new M(I),E=w.d=[],h=0;B[h]==(O[h]||0);)++h;if(B[h]>(O[h]||0)&&--f,s==null?L=s=M.precision:c?L=s+(Bn(r)-Bn(a))+1:L=s,L<0)return new M(0);if(L=L/Xt+2|0,h=0,k==1)for(p=0,B=B[0],L++;(h<R||p)&&L--;h++)A=p*rr+(O[h]||0),E[h]=A/B|0,p=A%B|0;else{for(p=rr/(B[0]+1)|0,p>1&&(B=t(B,p),O=t(O,p),k=B.length,R=O.length),D=k,_=O.slice(0,k),j=_.length;j<k;)_[j++]=0;V=B.slice(),V.unshift(0),U=B[0],B[1]>=rr/2&&++U;do p=0,d=e(B,_,k,j),d<0?(C=_[0],k!=j&&(C=C*rr+(_[1]||0)),p=C/U|0,p>1?(p>=rr&&(p=rr-1),g=t(B,p),x=g.length,j=_.length,d=e(g,_,x,j),d==1&&(p--,n(g,k<x?V:B,x))):(p==0&&(d=p=1),g=B.slice()),x=g.length,x<j&&g.unshift(0),n(_,g,j),d==-1&&(j=_.length,d=e(B,_,k,j),d<1&&(p++,n(_,k<j?V:B,j))),j=_.length):d===0&&(p++,_=[0]),E[h++]=p,d&&_[0]?_[j++]=O[D]||0:(_=[O[D]],j=1);while((D++<R||_[0]!==void 0)&&L--)}return E[0]||E.shift(),w.e=f,qt(w,c?s+Bn(w)+1:s)}})();function YM(t,e){var n,r,a,s,c,d,f=0,h=0,p=t.constructor,g=p.precision;if(Bn(t)>16)throw Error(Q_+Bn(t));if(!t.s)return new p(ha);for(sn=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(Hl(2,h))/Math.LN10*2+5|0,d+=r,n=a=s=new p(ha),p.precision=d;;){if(a=qt(a.times(t),d),n=n.times(++f),c=s.plus(Rs(a,n,d)),Ui(c.d).slice(0,d)===Ui(s.d).slice(0,d)){for(;h--;)s=qt(s.times(s),d);return p.precision=g,e==null?(sn=!0,qt(s,g)):s}s=c}}function Bn(t){for(var e=t.e*Xt,n=t.d[0];n>=10;n/=10)e++;return e}function Cw(t,e,n){if(e>t.LN10.sd())throw sn=!0,n&&(t.precision=n),Error(za+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function Do(t){for(var e="";t--;)e+="0";return e}function ah(t,e){var n,r,a,s,c,d,f,h,p,g=1,x=10,w=t,E=w.d,_=w.constructor,j=_.precision;if(w.s<1)throw Error(za+(w.s?"NaN":"-Infinity"));if(w.eq(ha))return new _(0);if(e==null?(sn=!1,h=j):h=e,w.eq(10))return e==null&&(sn=!0),Cw(_,h);if(h+=x,_.precision=h,n=Ui(E),r=n.charAt(0),s=Bn(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Ui(w.d),r=n.charAt(0),g++;s=Bn(w),r>1?(w=new _("0."+n),s++):w=new _(r+"."+n.slice(1))}else return f=Cw(_,h+2,j).times(s+""),w=ah(new _(r+"."+n.slice(1)),h-x).plus(f),_.precision=j,e==null?(sn=!0,qt(w,j)):w;for(d=c=w=Rs(w.minus(ha),w.plus(ha),h),p=qt(w.times(w),h),a=3;;){if(c=qt(c.times(p),h),f=d.plus(Rs(c,new _(a),h)),Ui(f.d).slice(0,h)===Ui(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(Cw(_,h+2,j).times(s+""))),d=Rs(d,new _(g),h),_.precision=j,e==null?(sn=!0,qt(d,j)):d;d=f,a+=2}}function TO(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=ad(n/Xt),t.d=[],r=(n+1)%Xt,n<0&&(r+=Xt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Xt;r<a;)t.d.push(+e.slice(r,r+=Xt));e=e.slice(r),r=Xt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),sn&&(t.e>Jg||t.e<-Jg))throw Error(Q_+n)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,n){var r,a,s,c,d,f,h,p,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=Xt,a=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Xt),s=g.length,p>=s)return t;for(h=s=g[p],c=1;s>=10;s/=10)c++;r%=Xt,a=r-Xt+c}if(n!==void 0&&(s=Hl(10,c-a-1),d=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?a>0?h/Hl(10,c-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=Bn(t),g.length=1,e=e-s-1,g[0]=Hl(10,(Xt-e%Xt)%Xt),t.e=ad(-e/Xt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Hl(10,Xt-r),g[p]=a>0?(h/Hl(10,c-a)%Hl(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==rr&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=rr)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(sn&&(t.e>Jg||t.e<-Jg))throw Error(Q_+Bn(t));return t}function WM(t,e){var n,r,a,s,c,d,f,h,p,g,x=t.constructor,w=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),sn?qt(e,w):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,d=g.length):(n=g,r=h,d=f.length),a=Math.max(Math.ceil(w/Xt),d)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}c=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=rr-1;--f[s],f[a]+=rr}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,sn?qt(e,w):e):new x(0)}function oc(t,e,n){var r,a=Bn(t),s=Ui(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Do(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Do(-a-1)+s,n&&(r=n-c)>0&&(s+=Do(r))):a>=c?(s+=Do(a+1-c),n&&(r=n-a-1)>0&&(s=s+"."+Do(r))):((r=a+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(s+="."),s+=Do(r))),t.s<0?"-"+s:s}function CO(t,e){if(t.length>e)return t.length=e,!0}function XM(t){var e,n,r;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(nc+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return TO(c,s.toString())}else if(typeof s!="string")throw Error(nc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,kW.test(s))TO(c,s);else throw Error(nc+s)}if(a.prototype=Me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=XM,a.config=a.set=MW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function MW(t){if(!t||typeof t!="object")throw Error(za+"Object expected");var e,n,r,a=["precision",1,rd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(ad(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(nc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nc+n+": "+r);return this}var J_=XM(PW);ha=new J_(1);const Dt=J_;var LW=t=>t,QM={},JM=t=>t===QM,IO=t=>function e(){return arguments.length===0||arguments.length===1&&JM(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},ZM=(t,e)=>t===1?e:IO(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(c=>c!==QM).length;return s>=t?e(...r):ZM(t-s,IO(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=r.map(p=>JM(p)?d.shift():p);return e(...h,...d)}))}),UW=t=>ZM(t.length,t),eN=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},VW=UW((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),zW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return LW;var a=n.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce((d,f)=>f(d),s(...arguments))}},tN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function e5(t){var e;return t===0?e=1:e=Math.floor(new Dt(t).abs().log(10).toNumber())+1,e}function t5(t,e,n){for(var r=new Dt(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var n5=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},r5=(t,e,n)=>{if(t.lte(0))return new Dt(0);var r=e5(t.toNumber()),a=new Dt(10).pow(r),s=t.div(a),c=r!==1?.05:.1,d=new Dt(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=d.mul(a);return e?new Dt(f.toNumber()):new Dt(Math.ceil(f.toNumber()))},BW=(t,e,n)=>{var r=new Dt(1),a=new Dt(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new Dt(10).pow(e5(t)-1),a=new Dt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new Dt(Math.floor(t)))}else t===0?a=new Dt(Math.floor((e-1)/2)):n||(a=new Dt(Math.floor(t)));var c=Math.floor((e-1)/2),d=zW(VW(f=>a.add(new Dt(f-c).mul(r)).toNumber()),eN);return d(0,e)},a5=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var c=r5(new Dt(n).sub(e).div(r-1),a,s),d;e<=0&&n>=0?d=new Dt(0):(d=new Dt(e).add(n).div(2),d=d.sub(new Dt(d).mod(c)));var f=Math.ceil(d.sub(e).div(c).toNumber()),h=Math.ceil(new Dt(n).sub(d).div(c).toNumber()),p=f+h+1;return p>r?a5(e,n,r,a,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:d.sub(new Dt(f).mul(c)),tickMax:d.add(new Dt(h).mul(c))})},$W=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[d,f]=n5([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...eN(0,a-1).map(()=>1/0)]:[...eN(0,a-1).map(()=>-1/0),f];return n>r?tN(h):h}if(d===f)return BW(d,a,s);var{step:p,tickMin:g,tickMax:x}=a5(d,f,c,s,0),w=t5(g,x.add(new Dt(.1).mul(p)),p);return n>r?tN(w):w},FW=function(e,n){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=n5([r,a]);if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var f=Math.max(n,2),h=r5(new Dt(d).sub(c).div(f-1),s,0),p=[...t5(new Dt(c),new Dt(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),r>a?tN(p):p},i5=t=>t.rootProps.maxBarSize,qW=t=>t.rootProps.barGap,s5=t=>t.rootProps.barCategoryGap,HW=t=>t.rootProps.barSize,Ih=t=>t.rootProps.stackOffset,o5=t=>t.rootProps.reverseStackOrder,Z_=t=>t.options.chartName,ej=t=>t.rootProps.syncId,l5=t=>t.rootProps.syncMethod,tj=t=>t.options.eventEmitter,gr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},js={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},fa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},g0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},GW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:js.angleAxisId,includeHidden:!1,name:void 0,reversed:js.reversed,scale:js.scale,tick:js.tick,tickCount:void 0,ticks:void 0,type:js.type,unit:void 0},KW={allowDataOverflow:fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fa.scale,tick:fa.tick,tickCount:fa.tickCount,ticks:void 0,type:fa.type,unit:void 0},YW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:js.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:js.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:js.scale,tick:js.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},WW={allowDataOverflow:fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fa.scale,tick:fa.tick,tickCount:fa.tickCount,ticks:void 0,type:"category",unit:void 0},nj=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?YW:GW,rj=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?WW:KW,y0=t=>t.polarOptions,aj=oe([Ys,Ws,Yn],sM),c5=oe([y0,aj],(t,e)=>{if(t!=null)return Sr(t.innerRadius,e,0)}),u5=oe([y0,aj],(t,e)=>{if(t!=null)return Sr(t.outerRadius,e,e*.8)}),XW=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},d5=oe([y0],XW);oe([nj,d5],g0);var f5=oe([aj,c5,u5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});oe([rj,f5],g0);var h5=oe([jt,y0,c5,u5,Ys,Ws],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:h}=e;return{cx:Sr(c,a,a/2),cy:Sr(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),cn=(t,e)=>e,Oh=(t,e,n)=>n;function ij(t){return t==null?void 0:t.id}function m5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,c=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=ij(d);h.forEach((g,x)=>{var w=s==null||a?x:String(an(g,s,null)),E=an(g,d.dataKey,0),_;c.has(w)?_=c.get(w):_={},Object.assign(_,{[p]:E}),c.set(w,_)})}}),Array.from(c.values())}function v0(t){return t.stackId!=null&&t.dataKey!=null}var x0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function b0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function QW(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Xn=t=>{var e=jt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},id=t=>t.tooltip.settings.axisId;function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){JW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JW(t,e,n){return(e=ZW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZW(t){var e=eX(t,"string");return typeof e=="symbol"?e:e+""}function eX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nN=[0,"auto"],tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},p5=(t,e)=>t.cartesianAxis.xAxis[e],Qs=(t,e)=>{var n=p5(t,e);return n??tr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:jh},g5=(t,e)=>t.cartesianAxis.yAxis[e],Js=(t,e)=>{var n=g5(t,e);return n??nr},tX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sj=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??tX},fn=(t,e,n)=>{switch(e){case"xAxis":return Qs(t,n);case"yAxis":return Js(t,n);case"zAxis":return sj(t,n);case"angleAxis":return nj(t,n);case"radiusAxis":return rj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nX=(t,e,n)=>{switch(e){case"xAxis":return Qs(t,n);case"yAxis":return Js(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Rh=(t,e,n)=>{switch(e){case"xAxis":return Qs(t,n);case"yAxis":return Js(t,n);case"angleAxis":return nj(t,n);case"radiusAxis":return rj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},y5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function oj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var lj=t=>t.graphicalItems.cartesianItems,rX=oe([cn,Oh],oj),cj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Dh=oe([lj,fn,rX],cj,{memoizeOptions:{resultEqualityCheck:b0}}),v5=oe([Dh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(v0)),x5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),aX=oe([Dh],x5),uj=t=>t.map(e=>e.data).filter(Boolean).flat(1),iX=oe([Dh],uj,{memoizeOptions:{resultEqualityCheck:b0}}),dj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},fj=oe([iX,X_],dj),hj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:an(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:an(a,r)}))):t.map(r=>({value:r})),w0=oe([fj,fn,Dh],hj);function b5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ag(t){if(Ki(t)||t instanceof Date){var e=Number(t);if(_n(e))return e}}function RO(t){if(Array.isArray(t)){var e=[ag(t[0]),ag(t[1])];return Ko(e)?e:void 0}var n=ag(t);if(n!=null)return[n,n]}function Bs(t){return t.map(ag).filter(N$)}function sX(t,e,n){return!n||typeof e!="number"||ui(e)?[]:n.length?Bs(n.flatMap(r=>{var a=an(t,r.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!_n(s)||!_n(c)))return[e-s,e+c]})):[]}var Qn=t=>{var e=Xn(t),n=id(t);return Rh(t,e,n)},Ph=oe([Qn],t=>t==null?void 0:t.dataKey),oX=oe([v5,X_,Qn],m5),w5=(t,e,n,r)=>{var a={},s=e.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),a);return Object.fromEntries(Object.entries(s).map(c=>{var[d,f]=c,h=r?[...f].reverse():f,p=h.map(ij);return[d,{stackedData:$q(t,p,n),graphicalItems:h}]}))},rN=oe([oX,v5,Ih,o5],w5),N5=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var c=Kq(t,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},lX=oe([fn],t=>t.allowDataOverflow),mj=t=>{var e;if(t==null||!("domain"in t))return nN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Bs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:nN},pj=oe([fn],mj),gj=oe([pj,lX],HM),cX=oe([rN,il,cn,gj],N5,{memoizeOptions:{resultEqualityCheck:x0}}),N0=t=>t.errorBars,uX=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>b5(n,r)),ey=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},yj=(t,e,n,r,a)=>{var s,c;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(C=>b5(a,C)),x=an(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=sX(d,x,g);if(w.length>=2){var E=Math.min(...w),_=Math.max(...w);(s==null||E<s)&&(s=E),(c==null||_>c)&&(c=_)}var j=RO(x);j!=null&&(s=s==null?j[0]:Math.min(s,j[0]),c=c==null?j[1]:Math.max(c,j[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var f=RO(an(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),_n(s)&&_n(c))return[s,c]},dX=oe([fj,fn,aX,N0,cn],yj,{memoizeOptions:{resultEqualityCheck:x0}});function fX(t){var{value:e}=t;if(Ki(e)||e instanceof Date)return e}var hX=(t,e,n)=>{var r=t.map(fX).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&U4(r))?uM(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},_5=t=>t.referenceElements.dots,sd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),mX=oe([_5,cn,Oh],sd),j5=t=>t.referenceElements.areas,pX=oe([j5,cn,Oh],sd),E5=t=>t.referenceElements.lines,gX=oe([E5,cn,Oh],sd),S5=(t,e)=>{var n=Bs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yX=oe(mX,cn,S5),A5=(t,e)=>{var n=Bs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vX=oe([pX,cn],A5);function xX(t){var e;if(t.x!=null)return Bs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Bs(n)}function bX(t){var e;if(t.y!=null)return Bs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Bs(n)}var T5=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?xX(r):bX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wX=oe([gX,cn],T5),NX=oe(yX,wX,vX,(t,e,n)=>ey(t,n,e)),vj=(t,e,n,r,a,s,c,d)=>{if(n!=null)return n;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",h=f?ey(r,s,a):ey(s,a);return DW(e,h,t.allowDataOverflow)},_X=oe([fn,pj,gj,cX,dX,NX,jt,cn],vj,{memoizeOptions:{resultEqualityCheck:x0}}),jX=[0,1],xj=(t,e,n,r,a,s,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=t,h=yc(e,s);if(h&&d==null){var p;return uM(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?hX(r,t,h):a==="expand"?jX:c}},bj=oe([fn,jt,fj,w0,Ih,cn,_X],xj),C5=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:c}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(xh(s));return d in Rf?d:"point"}}},od=oe([fn,jt,y5,Z_,cn],C5);function EX(t){if(t!=null){if(t in Rf)return Rf[t]();var e="scale".concat(xh(t));if(e in Rf)return Rf[e]()}}function wj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=EX(e);if(a!=null){var s=a.domain(n).range(r);return Lq(s),s}}}var Nj=(t,e,n)=>{var r=mj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ko(t))return $W(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ko(t))return FW(t,e.tickCount,e.allowDecimals)}},_j=oe([bj,Rh,od],Nj),jj=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ko(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],c=e[1],d=n[n.length-1];return[Math.min(a,s),Math.max(c,d)]}return e},SX=oe([fn,bj,_j,cn],jj),AX=oe(w0,fn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Bs(t.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s+1]-r[s];n=Math.min(n,c)}return n/a}}),I5=oe(AX,jt,s5,Yn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!_n(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var c=Sr(n,t*s),d=t*s/2;return d-c-(d-c)/s*c}return 0}),TX=(t,e)=>{var n=Qs(t,e);return n==null||typeof n.padding!="string"?0:I5(t,"xAxis",e,n.padding)},CX=(t,e)=>{var n=Js(t,e);return n==null||typeof n.padding!="string"?0:I5(t,"yAxis",e,n.padding)},IX=oe(Qs,TX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),OX=oe(Js,CX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),RX=oe([Yn,IX,t0,e0,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),DX=oe([Yn,jt,OX,t0,e0,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:c}=a;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),kh=(t,e,n,r)=>{var a;switch(e){case"xAxis":return RX(t,n,r);case"yAxis":return DX(t,n,r);case"zAxis":return(a=sj(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return d5(t);case"radiusAxis":return f5(t,n);default:return}},O5=oe([fn,kh],g0),ld=oe([fn,od,SX,O5],wj);oe([Dh,N0,cn],uX);function R5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var _0=(t,e)=>e,j0=(t,e,n)=>n,PX=oe(Jy,_0,j0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(R5)),kX=oe(Zy,_0,j0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(R5)),D5=(t,e)=>({width:t.width,height:e.height}),MX=(t,e)=>{var n=typeof e.width=="number"?e.width:jh;return{width:n,height:t.height}},P5=oe(Yn,Qs,D5),LX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},UX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},VX=oe(Ws,Yn,PX,_0,j0,(t,e,n,r,a)=>{var s={},c;return n.forEach(d=>{var f=D5(e,d);c==null&&(c=LX(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;s[d.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),zX=oe(Ys,Yn,kX,_0,j0,(t,e,n,r,a)=>{var s={},c;return n.forEach(d=>{var f=MX(e,d);c==null&&(c=UX(e,r,t));var h=r==="left"&&!a||r==="right"&&a;s[d.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),BX=(t,e)=>{var n=Qs(t,e);if(n!=null)return VX(t,n.orientation,n.mirror)},$X=oe([Yn,Qs,BX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),FX=(t,e)=>{var n=Js(t,e);if(n!=null)return zX(t,n.orientation,n.mirror)},qX=oe([Yn,Js,FX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),k5=oe(Yn,Js,(t,e)=>{var n=typeof e.width=="number"?e.width:jh;return{width:n,height:t.height}}),DO=(t,e,n)=>{switch(e){case"xAxis":return P5(t,n).width;case"yAxis":return k5(t,n).height;default:return}},M5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=n,d=yc(t,r),f=e.map(h=>h.value);if(c&&d&&s==="category"&&a&&U4(f))return f}},Ej=oe([jt,w0,fn,cn],M5),L5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,c=yc(t,r);if(c&&(a==="number"||s!=="auto"))return e.map(d=>d.value)}},Sj=oe([jt,w0,Rh,cn],L5),PO=oe([jt,nX,od,ld,Ej,Sj,kh,_j,cn],(t,e,n,r,a,s,c,d,f)=>{if(e!=null){var h=yc(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:c,realScaleType:n,scale:r}}}),HX=(t,e,n,r,a,s,c,d,f)=>{if(!(e==null||r==null)){var h=yc(t,f),{type:p,ticks:g,tickCount:x}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/w:0;E=f==="angleAxis"&&s!=null&&s.length>=2?ir(s[0]-s[1])*2*E:E;var _=g||a;if(_){var j=_.map((C,L)=>{var A=c?c.indexOf(C):C;return{index:L,coordinate:r(A)+E,value:C,offset:E}});return j.filter(C=>_n(C.coordinate))}return h&&d?d.map((C,L)=>({coordinate:r(C)+E,value:C,index:L,offset:E})).filter(C=>_n(C.coordinate)):r.ticks?r.ticks(x).map(C=>({coordinate:r(C)+E,value:C,offset:E})):r.domain().map((C,L)=>({coordinate:r(C)+E,value:c?c[C]:C,index:L,offset:E}))}},U5=oe([jt,Rh,od,ld,_j,kh,Ej,Sj,cn],HX),GX=(t,e,n,r,a,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=yc(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&(r==null?void 0:r.length)>=2?ir(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}},qu=oe([jt,Rh,ld,kh,Ej,Sj,cn],GX),Hu=oe(fn,ld,(t,e)=>{if(!(t==null||e==null))return Zg(Zg({},t),{},{scale:e})}),KX=oe([fn,od,bj,O5],wj);oe((t,e,n)=>sj(t,n),KX,(t,e)=>{if(!(t==null||e==null))return Zg(Zg({},t),{},{scale:e})});var YX=oe([jt,Jy,Zy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),V5=t=>t.options.defaultTooltipEventType,z5=t=>t.options.validateTooltipEventTypes;function B5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Aj(t,e){var n=V5(t),r=z5(t);return B5(e,n,r)}function WX(t){return ze(e=>Aj(e,t))}var $5=(t,e)=>{var n,r=Number(e);if(!(ui(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},XX=t=>t.tooltip.settings,ko={active:!1,index:null,dataKey:void 0,coordinate:void 0},QX={itemInteraction:{click:ko,hover:ko},axisInteraction:{click:ko,hover:ko},keyboardInteraction:ko,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},F5=ea({name:"tooltip",initialState:QX,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:rn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=li(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:rn()},removeTooltipEntrySettings:{reducer(t,e){var n=li(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:rn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:JX,replaceTooltipEntrySettings:ZX,removeTooltipEntrySettings:eQ,setTooltipSettingsState:tQ,setActiveMouseOverItemIndex:q5,mouseLeaveItem:nQ,mouseLeaveChart:H5,setActiveClickItemIndex:rQ,setMouseOverAxisIndex:G5,setMouseClickAxisIndex:aQ,setSyncInteraction:aN,setKeyboardInteraction:iN}=F5.actions,iQ=F5.reducer;function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){sQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sQ(t,e,n){return(e=oQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=lQ(t,"string");return typeof e=="symbol"?e:e+""}function lQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function uQ(t){return t.index!=null}var K5=(t,e,n,r)=>{if(e==null)return ko;var a=cQ(t,e,n);if(a==null)return ko;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(uQ(a)){if(s)return Up(Up({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Up(Up({},ko),{},{coordinate:a.coordinate})};function dQ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function fQ(t,e){var n=dQ(t),r=e[0],a=e[1];if(n===void 0)return!1;var s=Math.min(r,a),c=Math.max(r,a);return n>=s&&n<=c}function hQ(t,e,n){if(n==null||e==null)return!0;var r=an(t,e);return r==null||!Ko(n)?!0:fQ(r,n)}var Tj=(t,e,n,r)=>{var a=t==null?void 0:t.index;if(a==null)return null;var s=Number(a);if(!_n(s))return a;var c=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(c,Math.min(s,d)),h=e[f];return h==null||hQ(h,n,r)?String(f):null},Y5=(t,e,n,r,a,s,c,d)=>{if(!(s==null||d==null)){var f=c[0],h=f==null?void 0:d(f.positions,s);if(h!=null)return h;var p=a==null?void 0:a[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},W5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===a})},Mh=t=>t.options.tooltipPayloadSearcher,cd=t=>t.tooltip;function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){mQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mQ(t,e,n){return(e=pQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pQ(t){var e=gQ(t,"string");return typeof e=="symbol"?e:e+""}function gQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yQ(t,e){return t??e}var X5=(t,e,n,r,a,s,c)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,w)=>{var E,{dataDefinedOnItem:_,settings:j}=w,C=yQ(_,d),L=Array.isArray(C)?Ik(C,h,p):C,A=(E=j==null?void 0:j.dataKey)!==null&&E!==void 0?E:r,D=j==null?void 0:j.nameKey,R;if(r&&Array.isArray(L)&&!Array.isArray(L[0])&&c==="axis"?R=w$(L,r,a):R=s(L,e,f,D),Array.isArray(R))R.forEach(k=>{var V=LO(LO({},j),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});x.push(iI({tooltipEntrySettings:V,dataKey:k.dataKey,payload:k.payload,value:an(k.payload,k.dataKey),name:k.name}))});else{var U;x.push(iI({tooltipEntrySettings:j,dataKey:A,payload:R,value:an(R,A),name:(U=an(R,D))!==null&&U!==void 0?U:j==null?void 0:j.name}))}return x},g)}},Cj=oe([Qn,jt,y5,Z_,Xn],C5),vQ=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),xQ=oe([Xn,id],oj),Lh=oe([vQ,Qn,xQ],cj,{memoizeOptions:{resultEqualityCheck:b0}}),bQ=oe([Lh],t=>t.filter(v0)),wQ=oe([Lh],uj,{memoizeOptions:{resultEqualityCheck:b0}}),ud=oe([wQ,il],dj),NQ=oe([bQ,il,Qn],m5),Ij=oe([ud,Qn,Lh],hj),Q5=oe([Qn],mj),_Q=oe([Qn],t=>t.allowDataOverflow),J5=oe([Q5,_Q],HM),jQ=oe([Lh],t=>t.filter(v0)),EQ=oe([NQ,jQ,Ih,o5],w5),SQ=oe([EQ,il,Xn,J5],N5),AQ=oe([Lh],x5),TQ=oe([ud,Qn,AQ,N0,Xn],yj,{memoizeOptions:{resultEqualityCheck:x0}}),CQ=oe([_5,Xn,id],sd),IQ=oe([CQ,Xn],S5),OQ=oe([j5,Xn,id],sd),RQ=oe([OQ,Xn],A5),DQ=oe([E5,Xn,id],sd),PQ=oe([DQ,Xn],T5),kQ=oe([IQ,PQ,RQ],ey),MQ=oe([Qn,Q5,J5,SQ,TQ,kQ,jt,Xn],vj),Uh=oe([Qn,jt,ud,Ij,Ih,Xn,MQ],xj),LQ=oe([Uh,Qn,Cj],Nj),UQ=oe([Qn,Uh,LQ,Xn],jj),Z5=t=>{var e=Xn(t),n=id(t),r=!1;return kh(t,e,n,r)},e6=oe([Qn,Z5],g0),t6=oe([Qn,Cj,UQ,e6],wj),VQ=oe([jt,Ij,Qn,Xn],M5),zQ=oe([jt,Ij,Qn,Xn],L5),BQ=(t,e,n,r,a,s,c,d)=>{if(e){var{type:f}=e,h=yc(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ir(a[0]-a[1])*2*g:g,h&&c?c.map((x,w)=>({coordinate:r(x)+g,value:x,index:w,offset:g})):r.domain().map((x,w)=>({coordinate:r(x)+g,value:s?s[x]:x,index:w,offset:g}))}}},Zs=oe([jt,Qn,Cj,t6,Z5,VQ,zQ,Xn],BQ),Oj=oe([V5,z5,XX],(t,e,n)=>B5(n.shared,t,e)),n6=t=>t.tooltip.settings.trigger,Rj=t=>t.tooltip.settings.defaultIndex,E0=oe([cd,Oj,n6,Rj],K5),lc=oe([E0,ud,Ph,Uh],Tj),r6=oe([Zs,lc],$5),a6=oe([E0],t=>{if(t)return t.dataKey}),i6=oe([cd,Oj,n6,Rj],W5),$Q=oe([Ys,Ws,jt,Yn,Zs,Rj,i6,Mh],Y5),FQ=oe([E0,$Q],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),qQ=oe([E0],t=>t.active),HQ=oe([i6,lc,il,Ph,r6,Mh,Oj],X5);oe([HQ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){GQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GQ(t,e,n){return(e=KQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KQ(t){var e=YQ(t,"string");return typeof e=="symbol"?e:e+""}function YQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WQ=()=>ze(Qn),XQ=()=>{var t=WQ(),e=ze(Zs),n=ze(t6);return Dg(!t||!n?void 0:VO(VO({},t),{},{scale:n}),e)};function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){QQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e,n){return(e=JQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JQ(t){var e=ZQ(t,"string");return typeof e=="symbol"?e:e+""}function ZQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eJ=(t,e,n,r)=>{var a=e.find(s=>s&&s.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},tJ=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="centric"){var s=a.coordinate,{radius:c}=r;return mu(mu(mu({},r),Vn(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var d=a.coordinate,{angle:f}=r;return mu(mu(mu({},r),Vn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function nJ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var s6=(t,e,n,r,a)=>{var s,c=-1,d=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if(ir(p-h)!==ir(g-p)){var w=[];if(ir(g-p)===ir(a[1]-a[0])){x=g;var E=p+a[1]-a[0];w[0]=Math.min(E,(E+h)/2),w[1]=Math.max(E,(E+h)/2)}else{x=h;var _=g+a[1]-a[0];w[0]=Math.min(p,(_+p)/2),w[1]=Math.max(p,(_+p)/2)}var j=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>j[0]&&t<=j[1]||t>=w[0]&&t<=w[1]){({index:c}=n[f]);break}}else{var C=Math.min(h,g),L=Math.max(h,g);if(t>(C+p)/2&&t<=(L+p)/2){({index:c}=n[f]);break}}}else if(e){for(var A=0;A<d;A++)if(A===0&&t<=(e[A].coordinate+e[A+1].coordinate)/2||A>0&&A<d-1&&t>(e[A].coordinate+e[A-1].coordinate)/2&&t<=(e[A].coordinate+e[A+1].coordinate)/2||A===d-1&&t>(e[A].coordinate+e[A-1].coordinate)/2){({index:c}=e[A]);break}}return c},rJ=()=>ze(Z_),Dj=(t,e)=>e,o6=(t,e,n)=>n,Pj=(t,e,n,r)=>r,aJ=oe(Zs,t=>$y(t,e=>e.coordinate)),kj=oe([cd,Dj,o6,Pj],K5),Mj=oe([kj,ud,Ph,Uh],Tj),iJ=(t,e,n)=>{if(e!=null){var r=cd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},l6=oe([cd,Dj,o6,Pj],W5),ty=oe([Ys,Ws,jt,Yn,Zs,Pj,l6,Mh],Y5),sJ=oe([kj,ty],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),c6=oe([Zs,Mj],$5),oJ=oe([l6,Mj,il,Ph,c6,Mh,Dj],X5),lJ=oe([kj,Mj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),cJ=(t,e,n,r,a,s,c)=>{if(!(!t||!n||!r||!a)&&nJ(t,c)){var d=Yq(t,e),f=s6(d,s,a,n,r),h=eJ(e,a,f,t);return{activeIndex:String(f),activeCoordinate:h}}},uJ=(t,e,n,r,a,s,c)=>{if(!(!t||!r||!a||!s||!n)){var d=WG(t,n);if(d){var f=Wq(d,e),h=s6(f,c,s,r,a),p=tJ(e,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},dJ=(t,e,n,r,a,s,c,d)=>{if(!(!t||!e||!r||!a||!s))return e==="horizontal"||e==="vertical"?cJ(t,e,r,a,s,c,d):uJ(t,e,n,r,a,s,c)},fJ=oe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),hJ=oe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(gr)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:QW}});function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){mJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mJ(t,e,n){return(e=pJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJ(t){var e=gJ(t,"string");return typeof e=="symbol"?e:e+""}function gJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yJ={},vJ={zIndexMap:Object.values(gr).reduce((t,e)=>$O($O({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),yJ)},xJ=new Set(Object.values(gr));function bJ(t){return xJ.has(t)}var u6=ea({name:"zIndex",initialState:vJ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:rn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!bJ(n)&&delete t.zIndexMap[n])},prepare:rn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:rn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:rn()}}}),{registerZIndexPortal:wJ,unregisterZIndexPortal:NJ,registerZIndexPortalId:_J,unregisterZIndexPortalId:jJ}=u6.actions,EJ=u6.reducer;function pi(t){var{zIndex:e,children:n}=t,r=EH(),a=r&&e!==void 0&&e!==0,s=ta(),c=ln();N.useLayoutEffect(()=>a?(c(wJ({zIndex:e})),()=>{c(NJ({zIndex:e}))}):bh,[c,e,a]);var d=ze(h=>fJ(h,e,s));if(!a)return n;if(!d)return null;var f=document.getElementById(d);return f?r4.createPortal(n,f):null}function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sN.apply(null,arguments)}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){SJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SJ(t,e,n){return(e=AJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AJ(t){var e=TJ(t,"string");return typeof e=="symbol"?e:e+""}function TJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CJ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return N.isValidElement(e)?N.cloneElement(e,r):N.createElement(n,r)}function IJ(t){var e,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,x=r,w=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,_,j;if(p==="ScatterChart")E=g,_=dG,j=gr.cursorLine;else if(p==="BarChart")E=fG(d,g,s,c),_=iM,j=gr.cursorRectangle;else if(d==="radial"&&B4(g)){var{cx:C,cy:L,radius:A,startAngle:D,endAngle:R}=oM(g);E={cx:C,cy:L,startAngle:D,endAngle:R,innerRadius:A,outerRadius:A},_=cM,j=gr.cursorLine}else E={points:ZG(d,g,s)},_=E_,j=gr.cursorLine;var U=typeof f=="object"&&"className"in f?f.className:void 0,k=Vp(Vp(Vp(Vp({stroke:"#ccc",pointerEvents:"none"},s),E),Hf(f)),{},{payload:x,payloadIndex:w,className:Bt("recharts-tooltip-cursor",U)});return N.createElement(pi,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:j},N.createElement(CJ,{cursor:f,cursorComp:_,cursorProps:k}))}function OJ(t){var e=XQ(),n=Bk(),r=r0(),a=rJ();return e==null||n==null||r==null||a==null?null:N.createElement(IJ,sN({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var d6=N.createContext(null),RJ=()=>N.useContext(d6),Iw={exports:{}},qO;function DJ(){return qO||(qO=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new a(p,g||f,x),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],w]:f._events[E].push(w):(f._events[E]=w,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,w=g.length,E=new Array(w);x<w;x++)E[x]=g[x].fn;return E},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,x,w,E){var _=n?n+h:h;if(!this._events[_])return!1;var j=this._events[_],C=arguments.length,L,A;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),C){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,g),!0;case 4:return j.fn.call(j.context,p,g,x),!0;case 5:return j.fn.call(j.context,p,g,x,w),!0;case 6:return j.fn.call(j.context,p,g,x,w,E),!0}for(A=1,L=new Array(C-1);A<C;A++)L[A-1]=arguments[A];j.fn.apply(j.context,L)}else{var D=j.length,R;for(A=0;A<D;A++)switch(j[A].once&&this.removeListener(h,j[A].fn,void 0,!0),C){case 1:j[A].fn.call(j[A].context);break;case 2:j[A].fn.call(j[A].context,p);break;case 3:j[A].fn.call(j[A].context,p,g);break;case 4:j[A].fn.call(j[A].context,p,g,x);break;default:if(!L)for(R=1,L=new Array(C-1);R<C;R++)L[R-1]=arguments[R];j[A].fn.apply(j[A].context,L)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,x){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return c(this,w),this;var E=this._events[w];if(E.fn)E.fn===p&&(!x||E.once)&&(!g||E.context===g)&&c(this,w);else{for(var _=0,j=[],C=E.length;_<C;_++)(E[_].fn!==p||x&&!E[_].once||g&&E[_].context!==g)&&j.push(E[_]);j.length?this._events[w]=j.length===1?j[0]:j:c(this,w)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(Iw)),Iw.exports}var PJ=DJ();const kJ=Zi(PJ);var ih=new kJ,oN="recharts.syncEvent.tooltip",HO="recharts.syncEvent.brush";function f6(t,e){if(e){var n=Number.parseInt(e,10);if(!ui(n))return t==null?void 0:t[n]}}var MJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},h6=ea({name:"options",initialState:MJ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),LJ=h6.reducer,{createEventEmitter:UJ}=h6.actions;function VJ(t){return t.tooltip.syncInteraction}var zJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},m6=ea({name:"chartData",initialState:zJ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:GO,setDataStartEndIndexes:BJ,setComputedData:Oge}=m6.actions,$J=m6.reducer,FJ=["x","y"];function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){qJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qJ(t,e,n){return(e=HJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HJ(t){var e=GJ(t,"string");return typeof e=="symbol"?e:e+""}function GJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KJ(t,e){if(t==null)return{};var n,r,a=YJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function YJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WJ(){var t=ze(ej),e=ze(tj),n=ln(),r=ze(l5),a=ze(Zs),s=r0(),c=n0(),d=ze(f=>f.rootProps.className);N.useEffect(()=>{if(t==null)return bh;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(c&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:E,y:_}=w,j=KJ(w,FJ),{x:C,y:L,width:A,height:D}=p.payload.sourceViewBox,R=pu(pu({},j),{},{x:c.x+(A?(E-C)/A:0)*c.width,y:c.y+(D?(_-L)/D:0)*c.height});n(pu(pu({},p),{},{payload:pu(pu({},p.payload),{},{coordinate:R})}))}else n(p);return}if(a!=null){var U;if(typeof r=="function"){var k={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},V=r(a,k);U=a[V]}else r==="value"&&(U=a.find(G=>String(G.value)===p.payload.label));var{coordinate:M}=p.payload;if(U==null||p.payload.active===!1||M==null||c==null){n(aN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:I,y:O}=M,B=Math.min(I,c.x+c.width),z=Math.min(O,c.y+c.height),me={x:s==="horizontal"?U.coordinate:B,y:s==="horizontal"?z:U.coordinate},ae=aN({active:p.payload.active,coordinate:me,dataKey:p.payload.dataKey,index:String(U.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(ae)}}};return ih.on(oN,f),()=>{ih.off(oN,f)}},[d,n,e,t,r,a,s,c])}function XJ(){var t=ze(ej),e=ze(tj),n=ln();N.useEffect(()=>{if(t==null)return bh;var r=(a,s,c)=>{e!==c&&t===a&&n(BJ(s))};return ih.on(HO,r),()=>{ih.off(HO,r)}},[n,e,t])}function QJ(){var t=ln();N.useEffect(()=>{t(UJ())},[t]),WJ(),XJ()}function JJ(t,e,n,r,a,s){var c=ze(w=>iJ(w,t,e)),d=ze(tj),f=ze(ej),h=ze(l5),p=ze(VJ),g=p==null?void 0:p.active,x=n0();N.useEffect(()=>{if(!g&&f!=null&&d!=null){var w=aN({active:s,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x});ih.emit(oN,f,w,d)}},[g,n,c,a,r,d,f,h,s,x])}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function WO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){ZJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZJ(t,e,n){return(e=eZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eZ(t){var e=tZ(t,"string");return typeof e=="symbol"?e:e+""}function tZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nZ(t){return t.dataKey}function rZ(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(FH,e)}var XO=[],aZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!vc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function p6(t){var e,n,r=Tr(t,aZ),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:x,position:w,reverseDirection:E,useTranslate3d:_,wrapperStyle:j,cursor:C,shared:L,trigger:A,defaultIndex:D,portal:R,axisId:U}=r,k=ln(),V=typeof D=="number"?String(D):D;N.useEffect(()=>{k(tQ({shared:L,trigger:A,axisId:U,active:a,defaultIndex:V}))},[k,L,A,U,a,V]);var M=n0(),I=eM(),O=WX(L),{activeIndex:B,isActive:z}=(e=ze(Oe=>lJ(Oe,O,A,V)))!==null&&e!==void 0?e:{},me=ze(Oe=>oJ(Oe,O,A,V)),ae=ze(Oe=>c6(Oe,O,A,V)),G=ze(Oe=>sJ(Oe,O,A,V)),re=me,Y=RJ(),xe=(n=a??z)!==null&&n!==void 0?n:!1,[X,F]=RF([re,xe]),Q=O==="axis"?ae:void 0;JJ(O,A,G,Q,B,xe);var K=R??Y;if(K==null||M==null||O==null)return null;var J=re??XO;xe||(J=XO),h&&J.length&&(J=aF(J.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||r.includeHidden)),x,nZ));var he=J.length>0,Se=N.createElement(XH,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:p,active:xe,coordinate:G,hasPayload:he,offset:g,position:w,reverseDirection:E,useTranslate3d:_,viewBox:M,wrapperStyle:j,lastBoundingBox:X,innerRef:F,hasPortalFromProps:!!R},rZ(f,WO(WO({},r),{},{payload:J,label:Q,active:xe,activeIndex:B,coordinate:G,accessibilityLayer:I})));return N.createElement(N.Fragment,null,r4.createPortal(Se,K),xe&&N.createElement(OJ,{cursor:C,tooltipEventType:O,coordinate:G,payload:J,index:B}))}var Vh=t=>null;Vh.displayName="Cell";function iZ(t,e,n){return(e=sZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sZ(t){var e=oZ(t,"string");return typeof e=="symbol"?e:e+""}function oZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lZ{constructor(e){iZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){uZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uZ(t,e,n){return(e=dZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dZ(t){var e=fZ(t,"string");return typeof e=="symbol"?e:e+""}function fZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hZ={cacheSize:2e3,enableCache:!0},g6=cZ({},hZ),JO=new lZ(g6.cacheSize),mZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZO="recharts_measurement_span";function pZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(d)}var eR=(t,e)=>{try{var n=document.getElementById(ZO);n||(n=document.createElement("span"),n.setAttribute("id",ZO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,mZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Lf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vc.isSsr)return{width:0,height:0};if(!g6.enableCache)return eR(e,n);var r=pZ(e,n),a=JO.get(r);if(a)return a;var s=eR(e,n);return JO.set(r,s),s},tR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,y6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vZ=Object.keys(y6),ju="NaN";function xZ(t,e){return t*y6[e]}class Gr{static parse(e){var n,[,r,a]=(n=yZ.exec(e))!==null&&n!==void 0?n:[];return new Gr(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ui(e)&&(this.unit=""),n!==""&&!gZ.test(n)&&(this.num=NaN,this.unit=""),vZ.includes(n)&&(this.num=xZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Gr(NaN,""):new Gr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Gr(NaN,""):new Gr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Gr(NaN,""):new Gr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Gr(NaN,""):new Gr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ui(this.num)}}function v6(t){if(t.includes(ju))return ju;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=tR.exec(e))!==null&&n!==void 0?n:[],c=Gr.parse(r??""),d=Gr.parse(s??""),f=a==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return ju;e=e.replace(tR,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=nR.exec(e))!==null&&h!==void 0?h:[],w=Gr.parse(p??""),E=Gr.parse(x??""),_=g==="+"?w.add(E):w.subtract(E);if(_.isNaN())return ju;e=e.replace(nR,_.toString())}return e}var rR=/\(([^()]*)\)/;function bZ(t){for(var e=t,n;(n=rR.exec(e))!=null;){var[,r]=n;e=e.replace(rR,v6(r))}return e}function wZ(t){var e=t.replace(/\s+/g,"");return e=bZ(e),e=v6(e),e}function NZ(t){try{return wZ(t)}catch{return ju}}function Ow(t){var e=NZ(t.slice(5,-1));return e===ju?"":e}var _Z=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],jZ=["dx","dy","angle","className","breakAll"];function lN(){return lN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lN.apply(null,arguments)}function aR(t,e){if(t==null)return{};var n,r,a=EZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function EZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var x6=/[ \f\n\r\t\v\u2028\u2029]+/,b6=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];sr(e)||(n?a=e.toString().split(""):a=e.toString().split(x6));var s=a.map(d=>({word:d,width:Lf(d,r).width})),c=n?0:Lf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function SZ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var w6=(t,e,n,r)=>t.reduce((a,s)=>{var{word:c,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(c),f.width+=d+n;else{var h={words:[c],width:d};a.push(h)}return a},[]),N6=t=>t.reduce((e,n)=>e.width>n.width?e:n),AZ="",iR=(t,e,n,r,a,s,c,d)=>{var f=t.slice(0,e),h=b6({breakAll:n,style:r,children:f+AZ});if(!h)return[!1,[]];var p=w6(h.wordsWithComputedWidth,s,c,d),g=p.length>a||N6(p).width>Number(s);return[g,p]},TZ=(t,e,n,r,a)=>{var{maxLines:s,children:c,style:d,breakAll:f}=t,h=Ve(s),p=String(c),g=w6(e,r,n,a);if(!h||a)return g;var x=g.length>s||N6(g).width>Number(r);if(!x)return g;for(var w=0,E=p.length-1,_=0,j;w<=E&&_<=p.length-1;){var C=Math.floor((w+E)/2),L=C-1,[A,D]=iR(p,L,f,d,s,r,n,a),[R]=iR(p,C,f,d,s,r,n,a);if(!A&&!R&&(w=C+1),A&&R&&(E=C-1),!A&&R){j=D;break}_++}return j||g},sR=t=>{var e=sr(t)?[]:t.toString().split(x6);return[{words:e,width:void 0}]},CZ=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:c}=t;if((e||n)&&!vc.isSsr){var d,f,h=b6({breakAll:s,children:r,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return sR(r);return TZ({breakAll:s,children:r,maxLines:c,style:a},d,f,e,!!n)}return sR(r)},_6="#808080",IZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:_6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},S0=N.forwardRef((t,e)=>{var n=Tr(t,IZ),{x:r,y:a,lineHeight:s,capHeight:c,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=aR(n,_Z),x=N.useMemo(()=>CZ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:E,angle:_,className:j,breakAll:C}=g,L=aR(g,jZ);if(!Ki(r)||!Ki(a)||x.length===0)return null;var A=Number(r)+(Ve(w)?w:0),D=Number(a)+(Ve(E)?E:0);if(!_n(A)||!_n(D))return null;var R;switch(p){case"start":R=Ow("calc(".concat(c,")"));break;case"middle":R=Ow("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:R=Ow("calc(".concat(x.length-1," * -").concat(s,")"));break}var U=[];if(f){var k=x[0].width,{width:V}=g;U.push("scale(".concat(Ve(V)&&Ve(k)?V/k:1,")"))}return _&&U.push("rotate(".concat(_,", ").concat(A,", ").concat(D,")")),U.length&&(L.transform=U.join(" ")),N.createElement("text",lN({},Ua(L),{ref:e,x:A,y:D,className:Bt("recharts-text",j),textAnchor:h,fill:d.includes("url")?_6:d}),x.map((M,I)=>{var O=M.words.join(C?"":" ");return N.createElement("tspan",{x:A,dy:I===0?R:s,key:"".concat(O,"-").concat(I)},O)}))});S0.displayName="Text";var OZ=["labelRef"];function RZ(t,e){if(t==null)return{};var n,r,a=DZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function DZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){PZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PZ(t,e,n){return(e=kZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kZ(t){var e=MZ(t,"string");return typeof e=="symbol"?e:e+""}function MZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Es(){return Es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Es.apply(null,arguments)}var j6=N.createContext(null),LZ=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:c,children:d}=t,f=N.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:c}),[e,n,r,a,s,c]);return N.createElement(j6.Provider,{value:f},d)},E6=()=>{var t=N.useContext(j6),e=n0();return t||zk(e)},UZ=N.createContext(null),VZ=()=>{var t=N.useContext(UZ),e=ze(h5);return t||e},zZ=t=>{var{value:e,formatter:n}=t,r=sr(t.children)?e:t.children;return typeof n=="function"?n(r):r},Lj=t=>t!=null&&typeof t=="function",BZ=(t,e)=>{var n=ir(e-t),r=Math.min(Math.abs(e-t),360);return n*r},$Z=(t,e,n,r,a)=>{var{offset:s,className:c}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:w}=a,E=(h+p)/2,_=BZ(g,x),j=_>=0?1:-1,C,L;switch(e){case"insideStart":C=g+j*s,L=w;break;case"insideEnd":C=x-j*s,L=!w;break;case"end":C=x+j*s,L=w;break;default:throw new Error("Unsupported position ".concat(e))}L=_<=0?L:!L;var A=Vn(d,f,E,C),D=Vn(d,f,E,C+(L?1:-1)*359),R="M".concat(A.x,",").concat(A.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(L?0:1,`,
    `).concat(D.x,",").concat(D.y),U=sr(t.id)?Gf("recharts-radial-line-"):t.id;return N.createElement("text",Es({},r,{dominantBaseline:"central",className:Bt("recharts-radial-bar-label",c)}),N.createElement("defs",null,N.createElement("path",{id:U,d:R})),N.createElement("textPath",{xlinkHref:"#".concat(U)},n))},FZ=(t,e,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:c,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=Vn(r,a,c+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+c)/2,{x:w,y:E}=Vn(r,a,x,h);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},cN=t=>"cx"in t&&Ve(t.cx),qZ=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,s;n!=null&&!cN(n)&&(s=n);var{x:c,y:d,upperWidth:f,lowerWidth:h,height:p}=e,g=c,x=c+(f-h)/2,w=(g+x)/2,E=(f+h)/2,_=g+f/2,j=p>=0?1:-1,C=j*r,L=j>0?"end":"start",A=j>0?"start":"end",D=f>=0?1:-1,R=D*r,U=D>0?"end":"start",k=D>0?"start":"end";if(a==="top"){var V={x:g+f/2,y:d-C,textAnchor:"middle",verticalAnchor:L};return bn(bn({},V),s?{height:Math.max(d-s.y,0),width:f}:{})}if(a==="bottom"){var M={x:x+h/2,y:d+p+C,textAnchor:"middle",verticalAnchor:A};return bn(bn({},M),s?{height:Math.max(s.y+s.height-(d+p),0),width:h}:{})}if(a==="left"){var I={x:w-R,y:d+p/2,textAnchor:U,verticalAnchor:"middle"};return bn(bn({},I),s?{width:Math.max(I.x-s.x,0),height:p}:{})}if(a==="right"){var O={x:w+E+R,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return bn(bn({},O),s?{width:Math.max(s.x+s.width-O.x,0),height:p}:{})}var B=s?{width:E,height:p}:{};return a==="insideLeft"?bn({x:w+R,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},B):a==="insideRight"?bn({x:w+E-R,y:d+p/2,textAnchor:U,verticalAnchor:"middle"},B):a==="insideTop"?bn({x:g+f/2,y:d+C,textAnchor:"middle",verticalAnchor:A},B):a==="insideBottom"?bn({x:x+h/2,y:d+p-C,textAnchor:"middle",verticalAnchor:L},B):a==="insideTopLeft"?bn({x:g+R,y:d+C,textAnchor:k,verticalAnchor:A},B):a==="insideTopRight"?bn({x:g+f-R,y:d+C,textAnchor:U,verticalAnchor:A},B):a==="insideBottomLeft"?bn({x:x+R,y:d+p-C,textAnchor:k,verticalAnchor:L},B):a==="insideBottomRight"?bn({x:x+h-R,y:d+p-C,textAnchor:U,verticalAnchor:L},B):a&&typeof a=="object"&&(Ve(a.x)||Ms(a.x))&&(Ve(a.y)||Ms(a.y))?bn({x:c+Sr(a.x,E),y:d+Sr(a.y,p),textAnchor:"end",verticalAnchor:"end"},B):bn({x:_,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},B)},HZ={angle:0,offset:5,zIndex:gr.label,position:"middle",textBreakAll:!1};function Po(t){var e=Tr(t,HZ),{viewBox:n,position:r,value:a,children:s,content:c,className:d="",textBreakAll:f,labelRef:h}=e,p=VZ(),g=E6(),x=r==="center"?g:p??g,w,E,_;if(n==null?w=x:cN(n)?w=n:w=zk(n),!w||sr(a)&&sr(s)&&!N.isValidElement(c)&&typeof c!="function")return null;var j=bn(bn({},e),{},{viewBox:w});if(N.isValidElement(c)){var{labelRef:C}=j,L=RZ(j,OZ);return N.cloneElement(c,L)}if(typeof c=="function"){if(E=N.createElement(c,j),N.isValidElement(E))return E}else E=zZ(e);var A=Ua(e);if(cN(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return $Z(e,r,E,A,w);_=FZ(w,e.offset,e.position)}else _=qZ(e,w);return N.createElement(pi,{zIndex:e.zIndex},N.createElement(S0,Es({ref:h,className:Bt("recharts-label",d)},A,_,{textAnchor:SZ(A.textAnchor)?A.textAnchor:_.textAnchor,breakAll:f}),E))}Po.displayName="Label";var GZ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?N.createElement(Po,Es({key:"label-implicit"},r)):Ki(t)?N.createElement(Po,Es({key:"label-implicit",value:t},r)):N.isValidElement(t)?t.type===Po?N.cloneElement(t,bn({key:"label-implicit"},r)):N.createElement(Po,Es({key:"label-implicit",content:t},r)):Lj(t)?N.createElement(Po,Es({key:"label-implicit",content:t},r)):t&&typeof t=="object"?N.createElement(Po,Es({},t,{key:"label-implicit"},r)):null};function KZ(t){var{label:e,labelRef:n}=t,r=E6();return GZ(e,r,n)||null}var Rw={},Dw={},lR;function YZ(){return lR||(lR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Dw)),Dw}var Pw={},cR;function WZ(){return cR||(cR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Pw)),Pw}var uR;function XZ(){return uR||(uR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YZ(),n=WZ(),r=d_();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(Rw)),Rw}var kw,dR;function QZ(){return dR||(dR=1,kw=XZ().last),kw}var JZ=QZ();const ZZ=Zi(JZ);var eee=["valueAccessor"],tee=["dataKey","clockWise","id","textBreakAll","zIndex"];function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(null,arguments)}function fR(t,e){if(t==null)return{};var n,r,a=nee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function nee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ree=t=>Array.isArray(t.value)?ZZ(t.value):t.value,S6=N.createContext(void 0),aee=S6.Provider,A6=N.createContext(void 0),iee=A6.Provider;function see(){return N.useContext(S6)}function oee(){return N.useContext(A6)}function ig(t){var{valueAccessor:e=ree}=t,n=fR(t,eee),{dataKey:r,clockWise:a,id:s,textBreakAll:c,zIndex:d}=n,f=fR(n,tee),h=see(),p=oee(),g=h||p;return!g||!g.length?null:N.createElement(pi,{zIndex:d??gr.label},N.createElement(kr,{className:"recharts-label-list"},g.map((x,w)=>{var E,_=sr(r)?e(x,w):an(x&&x.payload,r),j=sr(s)?{}:{id:"".concat(s,"-").concat(w)};return N.createElement(Po,ny({key:"label-".concat(w)},Ua(x),f,j,{fill:(E=n.fill)!==null&&E!==void 0?E:x.fill,parentViewBox:x.parentViewBox,value:_,textBreakAll:c,viewBox:x.viewBox,index:w,zIndex:0}))})))}ig.displayName="LabelList";function T6(t){var{label:e}=t;return e?e===!0?N.createElement(ig,{key:"labelList-implicit"}):N.isValidElement(e)||Lj(e)?N.createElement(ig,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(ig,ny({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var C6=t=>t.graphicalItems.polarItems,lee=oe([cn,Oh],oj),A0=oe([C6,fn,lee],cj),cee=oe([A0],uj),T0=oe([cee,W_],dj),uee=oe([T0,fn,A0],hj);oe([T0,fn,A0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,c=an(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:an(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var hR=()=>{},dee=oe([T0,fn,A0,N0,cn],yj),fee=oe([fn,pj,gj,hR,dee,hR,jt,cn],vj),I6=oe([fn,jt,T0,uee,Ih,cn,fee],xj),hee=oe([I6,fn,od],Nj);oe([fn,I6,hee,cn],jj);var mee={radiusAxis:{},angleAxis:{}},O6=ea({name:"polarAxis",initialState:mee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Rge,removeRadiusAxis:Dge,addAngleAxis:Pge,removeAngleAxis:kge}=O6.actions,pee=O6.reducer;function mR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(n),!0).forEach(function(r){gee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gee(t,e,n){return(e=yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yee(t){var e=vee(t,"string");return typeof e=="symbol"?e:e+""}function vee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xee=(t,e)=>e,Uj=oe([C6,xee],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),bee=[],Vj=(t,e,n)=>(n==null?void 0:n.length)===0?bee:n,R6=oe([W_,Uj,Vj],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>pR(pR({},e.presentationProps),s.props))),a!=null)return a}}),wee=oe([R6,Uj,Vj],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var s,c=an(r,e.nameKey,e.name),d;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:Qy(c,e.dataKey),color:d,payload:r,type:e.legendType}})}),Nee=oe([R6,Uj,Vj,Yn],(t,e,n,r)=>{if(!(e==null||t==null))return Ete({offset:r,pieSettings:e,displayedData:t,cells:n})}),Mw={exports:{}},Vt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR;function _ee(){if(gR)return Vt;gR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(_){if(typeof _=="object"&&_!==null){var j=_.$$typeof;switch(j){case t:switch(_=_.type,_){case n:case a:case r:case f:case h:case x:return _;default:switch(_=_&&_.$$typeof,_){case c:case d:case g:case p:return _;case s:return _;default:return j}}case e:return j}}}return Vt.ContextConsumer=s,Vt.ContextProvider=c,Vt.Element=t,Vt.ForwardRef=d,Vt.Fragment=n,Vt.Lazy=g,Vt.Memo=p,Vt.Portal=e,Vt.Profiler=a,Vt.StrictMode=r,Vt.Suspense=f,Vt.SuspenseList=h,Vt.isContextConsumer=function(_){return E(_)===s},Vt.isContextProvider=function(_){return E(_)===c},Vt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},Vt.isForwardRef=function(_){return E(_)===d},Vt.isFragment=function(_){return E(_)===n},Vt.isLazy=function(_){return E(_)===g},Vt.isMemo=function(_){return E(_)===p},Vt.isPortal=function(_){return E(_)===e},Vt.isProfiler=function(_){return E(_)===a},Vt.isStrictMode=function(_){return E(_)===r},Vt.isSuspense=function(_){return E(_)===f},Vt.isSuspenseList=function(_){return E(_)===h},Vt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===a||_===r||_===f||_===h||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===p||_.$$typeof===c||_.$$typeof===s||_.$$typeof===d||_.$$typeof===w||_.getModuleId!==void 0)},Vt.typeOf=E,Vt}var yR;function jee(){return yR||(yR=1,Mw.exports=_ee()),Mw.exports}var Eee=jee(),vR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",xR=null,Lw=null,D6=t=>{if(t===xR&&Array.isArray(Lw))return Lw;var e=[];return N.Children.forEach(t,n=>{sr(n)||(Eee.isFragment(n)?e=e.concat(D6(n.props.children)):e.push(n))}),Lw=e,xR=t,e};function zj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>vR(a)):r=[vR(e)],D6(t).forEach(a=>{var s=ac(a,"type.displayName")||ac(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var Uw={},bR;function See(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Uw)),Uw}var Vw,wR;function Aee(){return wR||(wR=1,Vw=See().isPlainObject),Vw}var Tee=Aee();const Cee=Zi(Tee);function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){Iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iee(t,e,n){return(e=Oee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oee(t){var e=Ree(t,"string");return typeof e=="symbol"?e:e+""}function Ree(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ry.apply(null,arguments)}var jR=(t,e,n,r,a)=>{var s=n-r,c;return c="M ".concat(t,",").concat(e),c+="L ".concat(t+n,",").concat(e),c+="L ".concat(t+n-s/2,",").concat(e+a),c+="L ".concat(t+n-s/2-r,",").concat(e+a),c+="L ".concat(t,",").concat(e," Z"),c},Dee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pee=t=>{var e=Tr(t,Dee),{x:n,y:r,upperWidth:a,lowerWidth:s,height:c,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=N.useRef(null),[w,E]=N.useState(-1),_=N.useRef(a),j=N.useRef(s),C=N.useRef(c),L=N.useRef(n),A=N.useRef(r),D=c0(t,"trapezoid-");if(N.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var me=x.current.getTotalLength();me&&E(me)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var R=Bt("recharts-trapezoid",d);if(!g)return N.createElement("g",null,N.createElement("path",ry({},Ua(e),{className:R,d:jR(n,r,a,s,c)})));var U=_.current,k=j.current,V=C.current,M=L.current,I=A.current,O="0px ".concat(w===-1?1:w,"px"),B="".concat(w,"px 0px"),z=tM(["strokeDasharray"],h,f);return N.createElement(l0,{animationId:D,key:D,canBegin:w>0,duration:h,easing:f,isActive:g,begin:p},me=>{var ae=Fn(U,a,me),G=Fn(k,s,me),re=Fn(V,c,me),Y=Fn(M,n,me),xe=Fn(I,r,me);x.current&&(_.current=ae,j.current=G,C.current=re,L.current=Y,A.current=xe);var X=me>0?{transition:z,strokeDasharray:B}:{strokeDasharray:O};return N.createElement("path",ry({},Ua(e),{className:R,d:jR(Y,xe,ae,G,re),ref:x,style:_R(_R({},X),e.style)}))})},kee=["option","shapeType","propTransformer","activeClassName"];function Mee(t,e){if(t==null)return{};var n,r,a=Lee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Lee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){Uee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uee(t,e,n){return(e=Vee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vee(t){var e=zee(t,"string");return typeof e=="symbol"?e:e+""}function zee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bee(t,e){return ay(ay({},e),t)}function $ee(t,e){return t==="symbols"}function SR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return N.createElement(iM,n);case"trapezoid":return N.createElement(Pee,n);case"sector":return N.createElement(cM,n);case"symbols":if($ee(e))return N.createElement(z4,n);break;case"curve":return N.createElement(E_,n);default:return null}}function Fee(t){return N.isValidElement(t)?t.props:t}function P6(t){var{option:e,shapeType:n,propTransformer:r=Bee,activeClassName:a="recharts-active-shape"}=t,s=Mee(t,kee),c;if(N.isValidElement(e))c=N.cloneElement(e,ay(ay({},s),Fee(e)));else if(typeof e=="function")c=e(s);else if(Cee(e)&&typeof e!="boolean"){var d=r(e,s);c=N.createElement(SR,{shapeType:n,elementProps:d})}else{var f=s;c=N.createElement(SR,{shapeType:n,elementProps:f})}return s.isActive?N.createElement(kr,{className:a},c):c}var Bj=(t,e)=>{var n=ln();return(r,a)=>s=>{t==null||t(r,a,s),n(q5({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},$j=t=>{var e=ln();return(n,r)=>a=>{t==null||t(n,r,a),e(nQ())}},Fj=(t,e)=>{var n=ln();return(r,a)=>s=>{t==null||t(r,a,s),n(rQ({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function k6(t){var{tooltipEntrySettings:e}=t,n=ln(),r=ta(),a=N.useRef(null);return N.useLayoutEffect(()=>{r||(a.current===null?n(JX(e)):a.current!==e&&n(ZX({prev:a.current,next:e})),a.current=e)},[e,n,r]),N.useLayoutEffect(()=>()=>{a.current&&(n(eQ(a.current)),a.current=null)},[n]),null}function qee(t){var{legendPayload:e}=t,n=ln(),r=ta(),a=N.useRef(null);return N.useLayoutEffect(()=>{r||(a.current===null?n(Qk(e)):a.current!==e&&n(Jk({prev:a.current,next:e})),a.current=e)},[n,r,e]),N.useLayoutEffect(()=>()=>{a.current&&(n(Zk(a.current)),a.current=null)},[n]),null}function Hee(t){var{legendPayload:e}=t,n=ln(),r=ze(jt),a=N.useRef(null);return N.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(Qk(e)):a.current!==e&&n(Jk({prev:a.current,next:e})),a.current=e)},[n,r,e]),N.useLayoutEffect(()=>()=>{a.current&&(n(Zk(a.current)),a.current=null)},[n]),null}var zw,Gee=()=>{var[t]=N.useState(()=>Gf("uid-"));return t},Kee=(zw=QV.useId)!==null&&zw!==void 0?zw:Gee;function M6(t,e){var n=Kee();return e||(t?"".concat(t,"-").concat(n):n)}var Yee=N.createContext(void 0),L6=t=>{var{id:e,type:n,children:r}=t,a=M6("recharts-".concat(n),e);return N.createElement(Yee.Provider,{value:a},r(a))},Wee={cartesianItems:[],polarItems:[]},U6=ea({name:"graphicalItems",initialState:Wee,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:rn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=li(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:rn()},removeCartesianGraphicalItem:{reducer(t,e){var n=li(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:rn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:rn()},removePolarGraphicalItem:{reducer(t,e){var n=li(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:rn()}}}),{addCartesianGraphicalItem:Xee,replaceCartesianGraphicalItem:Qee,removeCartesianGraphicalItem:Jee,addPolarGraphicalItem:Zee,removePolarGraphicalItem:ete}=U6.actions,tte=U6.reducer,nte=t=>{var e=ln(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(Xee(t)):n.current!==t&&e(Qee({prev:n.current,next:t})),n.current=t},[e,t]),N.useLayoutEffect(()=>()=>{n.current&&(e(Jee(n.current)),n.current=null)},[e]),null},rte=N.memo(nte);function ate(t){var e=ln();return N.useLayoutEffect(()=>(e(Zee(t)),()=>{e(ete(t))}),[e,t]),null}var ite=["key"],ste=["onMouseEnter","onClick","onMouseLeave"],ote=["id"],lte=["id"];function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cte(t,e,n){return(e=ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ute(t){var e=dte(t,"string");return typeof e=="symbol"?e:e+""}function dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(null,arguments)}function C0(t,e){if(t==null)return{};var n,r,a=fte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function fte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hte(t){var e=N.useMemo(()=>zj(t.children,Vh),[t.children]),n=ze(r=>wee(r,t.id,e));return n==null?null:N.createElement(Hee,{legendPayload:n})}var mte=N.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:c,name:d,hide:f,tooltipType:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:c,dataKey:e,nameKey:n,name:Qy(d,e),hide:f,type:h,color:c,unit:""}};return N.createElement(k6,{tooltipEntrySettings:p})}),pte=(t,e)=>t>e?"start":t<e?"end":"middle",gte=(t,e,n)=>Sr(typeof e=="function"?e(t):e,n,n*.8),yte=(t,e,n)=>{var{top:r,left:a,width:s,height:c}=e,d=sM(s,c),f=a+Sr(t.cx,s,s/2),h=r+Sr(t.cy,c,c/2),p=Sr(t.innerRadius,d,0),g=gte(n,t.outerRadius,d),x=t.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},vte=(t,e)=>{var n=ir(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function xte(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var bte=(t,e)=>{if(N.isValidElement(t))return N.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Bt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=C0(e,ite);return N.createElement(E_,Yo({},a,{type:"linear",className:n}))},wte=(t,e,n)=>{if(N.isValidElement(t))return N.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),N.isValidElement(r)))return r;var a=Bt("recharts-pie-label-text",xte(t));return N.createElement(S0,Yo({},e,{alignmentBaseline:"middle",className:a}),r)};function Nte(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:c}=n;if(!r||!a||!e)return null;var d=ci(n),f=Hf(a),h=Hf(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((x,w)=>{var E=(x.startAngle+x.endAngle)/2,_=Vn(x.cx,x.cy,x.outerRadius+p,E),j=pn(pn(pn(pn({},d),x),{},{stroke:"none"},f),{},{index:w,textAnchor:pte(_.x,x.cx)},_),C=pn(pn(pn(pn({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:w,points:[Vn(x.cx,x.cy,x.outerRadius,E),_],key:"line"});return N.createElement(pi,{zIndex:gr.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(w)},N.createElement(kr,null,s&&bte(s,C),wte(a,j,an(x,c))))});return N.createElement(kr,{className:"recharts-pie-labels"},g)}function _te(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?N.createElement(T6,{label:a}):N.createElement(Nte,{sectors:e,props:n,showLabels:r})}function jte(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s}=t,c=ze(lc),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,p=C0(a,ste),g=Bj(d,a.dataKey),x=$j(h),w=Fj(f,a.dataKey);return e==null||e.length===0?null:N.createElement(N.Fragment,null,e.map((E,_)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var j=String(_)===c,C=c?r:null,L=n&&j?n:C,A=pn(pn({},E),{},{stroke:E.stroke,tabIndex:-1,[Pk]:_,[kk]:a.dataKey});return N.createElement(kr,Yo({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},By(p,E,_),{onMouseEnter:g(E,_),onMouseLeave:x(E,_),onClick:w(E,_)}),N.createElement(P6,Yo({option:s??L,shapeType:"sector",isActive:j},A)))}))}function Ete(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),w=vte(d,f),E=Math.abs(w),_=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,j=r.filter(U=>an(U,h,0)!==0).length,C=(E>=360?j:j-1)*_,L=E-j*x-C,A=r.reduce((U,k)=>{var V=an(k,h,0);return U+(Ve(V)?V:0)},0),D;if(A>0){var R;D=r.map((U,k)=>{var V=an(U,h,0),M=an(U,p,k),I=yte(n,s,U),O=(Ve(V)?V:0)/A,B,z=pn(pn({},U),a&&a[k]&&a[k].props);k?B=R.endAngle+ir(w)*_*(V!==0?1:0):B=d;var me=B+ir(w)*((V!==0?x:0)+O*L),ae=(B+me)/2,G=(I.innerRadius+I.outerRadius)/2,re=[{name:M,value:V,payload:z,dataKey:h,type:g}],Y=Vn(I.cx,I.cy,G,ae);return R=pn(pn(pn(pn({},n.presentationProps),{},{percent:O,cornerRadius:typeof c=="string"?parseFloat(c):c,name:M,tooltipPayload:re,midAngle:ae,middleRadius:G,tooltipPosition:Y},z),I),{},{value:V,startAngle:B,endAngle:me,payload:z,paddingAngle:ir(w)*_}),R})}return D}function Ste(t){var{showLabels:e,sectors:n,children:r}=t,a=N.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return N.createElement(iee,{value:e?a:void 0},r)}function Ate(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,x=c0(e,"recharts-pie-"),w=n.current,[E,_]=N.useState(!1),j=N.useCallback(()=>{typeof g=="function"&&g(),_(!1)},[g]),C=N.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);return N.createElement(Ste,{showLabels:!E,sectors:r},N.createElement(l0,{animationId:x,begin:s,duration:c,isActive:a,easing:d,onAnimationStart:C,onAnimationEnd:j,key:x},L=>{var A=[],D=r&&r[0],R=D==null?void 0:D.startAngle;return r==null||r.forEach((U,k)=>{var V=w&&w[k],M=k>0?ac(U,"paddingAngle",0):0;if(V){var I=Fn(V.endAngle-V.startAngle,U.endAngle-U.startAngle,L),O=pn(pn({},U),{},{startAngle:R+M,endAngle:R+I+M});A.push(O),R=O.endAngle}else{var{endAngle:B,startAngle:z}=U,me=Fn(0,B-z,L),ae=pn(pn({},U),{},{startAngle:R+M,endAngle:R+me+M});A.push(ae),R=ae.endAngle}}),n.current=A,N.createElement(kr,null,N.createElement(jte,{sectors:A,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape}))}),N.createElement(_te,{showLabels:!E,sectors:r,props:e}),e.children)}var Tte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!vc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:gr.area};function Cte(t){var{id:e}=t,n=C0(t,ote),{hide:r,className:a,rootTabIndex:s}=t,c=N.useMemo(()=>zj(t.children,Vh),[t.children]),d=ze(p=>Nee(p,e,c)),f=N.useRef(null),h=Bt("recharts-pie",a);return r||d==null?(f.current=null,N.createElement(kr,{tabIndex:s,className:h})):N.createElement(pi,{zIndex:t.zIndex},N.createElement(mte,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),N.createElement(kr,{tabIndex:s,className:h},N.createElement(Ate,{props:pn(pn({},n),{},{sectors:d}),previousSectorsRef:f})))}function V6(t){var e=Tr(t,Tte),{id:n}=e,r=C0(e,lte),a=ci(r);return N.createElement(L6,{id:n,type:"pie"},s=>N.createElement(N.Fragment,null,N.createElement(ate,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),N.createElement(hte,Yo({},r,{id:s})),N.createElement(Cte,Yo({},r,{id:s}))))}V6.displayName="Pie";function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function CR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){Ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ite(t,e,n){return(e=Ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ote(t){var e=Rte(t,"string");return typeof e=="symbol"?e:e+""}function Rte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dte={xAxis:{},yAxis:{},zAxis:{}},z6=ea({name:"cartesianAxis",initialState:Dte,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:rn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:rn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:rn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:rn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:rn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:rn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:rn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:rn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:rn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var c=[...s,r].slice(-3);t.yAxis[n]=CR(CR({},t.yAxis[n]),{},{width:r,widthHistory:c})}}}}),{addXAxis:Pte,replaceXAxis:kte,removeXAxis:Mte,addYAxis:Lte,replaceYAxis:Ute,removeYAxis:Vte,addZAxis:Mge,replaceZAxis:Lge,removeZAxis:Uge,updateYAxisWidth:zte}=z6.actions,Bte=z6.reducer,$te=oe([Yn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Fte=oe([$te,Ys,Ws],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),B6=()=>ze(Fte),qte="Invariant failed";function Hte(t,e){throw new Error(qte)}var Gte=["x","y"];function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uN.apply(null,arguments)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){Kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kte(t,e,n){return(e=Yte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yte(t){var e=Wte(t,"string");return typeof e=="symbol"?e:e+""}function Wte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xte(t,e){if(t==null)return{};var n,r,a=Qte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Qte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jte(t,e){var{x:n,y:r}=t,a=Xte(t,Gte),s="".concat(n),c=parseInt(s,10),d="".concat(r),f=parseInt(d,10),h="".concat(e.height||a.height),p=parseInt(h,10),g="".concat(e.width||a.width),x=parseInt(g,10);return Cf(Cf(Cf(Cf(Cf({},e),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:p,width:x,name:e.name,radius:e.radius})}function iy(t){return N.createElement(P6,uN({shapeType:"rectangle",propTransformer:Jte,activeClassName:"recharts-active-bar"},t))}var Zte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Ve(e))return e;var s=Ve(r)||sr(r);return s?e(r,a):(s||Hte(),n)}},ene={},$6=ea({name:"errorBars",initialState:ene,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Vge,replaceErrorBar:zge,removeErrorBar:Bge}=$6.actions,tne=$6.reducer,nne=["children"];function rne(t,e){if(t==null)return{};var n,r,a=ane(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ane(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ine={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sne=N.createContext(ine);function one(t){var{children:e}=t,n=rne(t,nne);return N.createElement(sne.Provider,{value:n},e)}function F6(t,e){var n,r,a=ze(h=>Qs(h,t)),s=ze(h=>Js(h,e)),c=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:tr.allowDataOverflow,d=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:nr.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function lne(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=B6(),{needClipX:s,needClipY:c,needClip:d}=F6(e,n);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:s?f:f-p/2,y:c?h:h-g/2,width:s?p:p*2,height:c?g:g*2}))}function cne(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&_n(t.zIndex)?t.zIndex:e}var Bw={exports:{}},$w={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OR;function une(){if(OR)return $w;OR=1;var t=Zu();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return $w.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=c(function(){function j(R){if(!C){if(C=!0,L=R,R=g(R),x!==void 0&&E.hasValue){var U=E.value;if(x(U,R))return A=U}return A=R}if(U=A,n(L,R))return U;var k=g(R);return x!==void 0&&x(U,k)?(L=R,U):(L=R,A=k)}var C=!1,L,A,D=p===void 0?null:p;return[function(){return j(h())},D===null?void 0:function(){return j(D())}]},[h,p,g,x]);var _=r(f,w[0],w[1]);return s(function(){E.hasValue=!0,E.value=_},[_]),d(_),_},$w}var RR;function dne(){return RR||(RR=1,Bw.exports=une()),Bw.exports}dne();function fne(t){t()}function hne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){fne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var DR={notify(){},get:()=>[]};function mne(t,e){let n,r=DR,a=0,s=!1;function c(_){p();const j=r.subscribe(_);let C=!1;return()=>{C||(C=!0,j(),g())}}function d(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){a++,n||(n=t.subscribe(f),r=hne())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=DR)}function x(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const E={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:w,getListeners:()=>r};return E}var pne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gne=pne(),yne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vne=yne(),xne=()=>gne||vne?N.useLayoutEffect:N.useEffect,bne=xne();function PR(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function wne(t,e){if(PR(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!PR(t[n[a]],e[n[a]]))return!1;return!0}var Fw=Symbol.for("react-redux-context"),qw=typeof globalThis<"u"?globalThis:{};function Nne(){if(!N.createContext)return{};const t=qw[Fw]??(qw[Fw]=new Map);let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var _ne=Nne();function jne(t){const{children:e,context:n,serverState:r,store:a}=t,s=N.useMemo(()=>{const f=mne(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),c=N.useMemo(()=>a.getState(),[a]);bne(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const d=n||_ne;return N.createElement(d.Provider,{value:s},e)}var Ene=jne,Sne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Ane(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function qj(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Sne.has(r)){if(t[r]==null&&e[r]==null)continue;if(!wne(t[r],e[r]))return!1}else if(!Ane(t[r],e[r]))return!1;return!0}var Tne=["onMouseEnter","onMouseLeave","onClick"],Cne=["value","background","tooltipPosition"],Ine=["id"],One=["onMouseEnter","onClick","onMouseLeave"];function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(null,arguments)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){Rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rne(t,e,n){return(e=Dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dne(t){var e=Pne(t,"string");return typeof e=="symbol"?e:e+""}function Pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sy(t,e){if(t==null)return{};var n,r,a=kne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mne=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:Qy(n,e),payload:t}]},Lne=N.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:c,unit:d,tooltipType:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Qy(s,e),hide:c,type:f,color:a,unit:d}};return N.createElement(k6,{tooltipEntrySettings:h})});function Une(t){var e=ze(lc),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:c,onMouseLeave:d,onClick:f}=s,h=sy(s,Tne),p=Bj(c,r),g=$j(d),x=Fj(f,r);if(!a||n==null)return null;var w=Hf(a);return N.createElement(pi,{zIndex:cne(a,gr.barBackground)},n.map((E,_)=>{var{value:j,background:C,tooltipPosition:L}=E,A=sy(E,Cne);if(!C)return null;var D=p(E,_),R=g(E,_),U=x(E,_),k=Rr(Rr(Rr(Rr(Rr({option:a,isActive:String(_)===e},A),{},{fill:"#eee"},C),w),By(h,E,_)),{},{onMouseEnter:D,onMouseLeave:R,onClick:U,dataKey:r,index:_,className:"recharts-bar-background-rectangle"});return N.createElement(iy,$s({key:"background-bar-".concat(_)},k))}))}function Vne(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Rr(Rr({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return N.createElement(aee,{value:e?a:void 0},n)}function zne(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:s,dataKey:c}=t,d=ze(lc),f=ze(a6),h=n&&String(s)===d&&(f==null||c===f),p=h?n:e;return h?N.createElement(pi,{zIndex:gr.activeBar},N.createElement(iy,$s({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:c}))):N.createElement(iy,$s({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:c}))}function Bne(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:s}=t;return N.createElement(iy,$s({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:s}))}function $ne(t){var e,{data:n,props:r}=t,a=(e=ci(r))!==null&&e!==void 0?e:{},{id:s}=a,c=sy(a,Ine),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:x}=r,w=sy(r,One),E=Bj(p,f),_=$j(x),j=Fj(g,f);return n?N.createElement(N.Fragment,null,n.map((C,L)=>N.createElement(kr,$s({key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(L),className:"recharts-bar-rectangle"},By(w,C,L),{onMouseEnter:E(C,L),onMouseLeave:_(C,L),onClick:j(C,L)}),h?N.createElement(zne,{shape:d,activeBar:h,baseProps:c,entry:C,index:L,dataKey:f}):N.createElement(Bne,{shape:d,baseProps:c,entry:C,index:L,dataKey:f})))):null}function Fne(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=c0(e,"recharts-bar-"),[w,E]=N.useState(!1),_=!w,j=N.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),C=N.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return N.createElement(Vne,{showLabels:_,rects:r},N.createElement(l0,{animationId:x,begin:c,duration:d,isActive:s,easing:f,onAnimationEnd:j,onAnimationStart:C,key:x},L=>{var A=L===1?r:r==null?void 0:r.map((D,R)=>{var U=g&&g[R];if(U)return Rr(Rr({},D),{},{x:Fn(U.x,D.x,L),y:Fn(U.y,D.y,L),width:Fn(U.width,D.width,L),height:Fn(U.height,D.height,L)});if(a==="horizontal"){var k=Fn(0,D.height,L),V=Fn(D.stackedBarStart,D.y,L);return Rr(Rr({},D),{},{y:V,height:k})}var M=Fn(0,D.width,L),I=Fn(D.stackedBarStart,D.x,L);return Rr(Rr({},D),{},{width:M,x:I})});return L>0&&(n.current=A??null),A==null?null:N.createElement(kr,null,N.createElement($ne,{props:e,data:A}))}),N.createElement(T6,{label:e.label}),e.children)}function qne(t){var e=N.useRef(null);return N.createElement(Fne,{previousRectanglesRef:e,props:t})}var q6=0,Hne=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:an(t,e)}};class Gne extends N.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:c,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=Bt("recharts-bar",a),g=h;return N.createElement(kr,{className:p,id:h},d&&N.createElement("defs",null,N.createElement(lne,{clipPathId:g,xAxisId:s,yAxisId:c})),N.createElement(kr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},N.createElement(Une,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),N.createElement(qne,this.props)))}}var Kne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:q6,xAxisId:0,yAxisId:0,zIndex:gr.bar};function Yne(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=F6(e,n),x=r0(),w=ta(),E=zj(t.children,Vh),_=ze(L=>Nre(L,e,n,w,t.id,E));if(x!=="vertical"&&x!=="horizontal")return null;var j,C=_==null?void 0:_[0];return C==null||C.height==null||C.width==null?j=0:j=x==="vertical"?C.height/2:C.width/2,N.createElement(one,{xAxisId:e,yAxisId:n,data:_,dataPointFormatter:Hne,errorBarOffset:j},N.createElement(Gne,$s({},t,{layout:x,needClip:g,data:_,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Wne(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:w,parentViewBox:E,dataStartIndex:_}=t,j=e==="horizontal"?d:c,C=p?j.scale.domain():null,L=qq({numericAxis:j}),A=j.scale(L);return g.map((D,R)=>{var U,k,V,M,I,O;p?U=Uq(p[R+_],C):(U=an(D,n),Array.isArray(U)||(U=[L,U]));var B=Zte(r,q6)(U[1],R);if(e==="horizontal"){var z,[me,ae]=[d.scale(U[0]),d.scale(U[1])];k=nI({axis:c,ticks:f,bandSize:s,offset:a.offset,entry:D,index:R}),V=(z=ae??me)!==null&&z!==void 0?z:void 0,M=a.size;var G=me-ae;if(I=ui(G)?0:G,O={x:k,y:x.top,width:M,height:x.height},Math.abs(B)>0&&Math.abs(I)<Math.abs(B)){var re=ir(I||B)*(Math.abs(B)-Math.abs(I));V-=re,I+=re}}else{var[Y,xe]=[c.scale(U[0]),c.scale(U[1])];if(k=Y,V=nI({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:D,index:R}),M=xe-Y,I=a.size,O={x:x.left,y:V,width:x.width,height:I},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var X=ir(M||B)*(Math.abs(B)-Math.abs(M));M+=X}}if(k==null||V==null||M==null||I==null)return null;var F=Rr(Rr({},D),{},{stackedBarStart:A,x:k,y:V,width:M,height:I,value:p?U:U[1],payload:D,background:O,tooltipPosition:{x:k+M/2,y:V+I/2},parentViewBox:E},w&&w[R]&&w[R].props);return F}).filter(Boolean)}function Xne(t){var e=Tr(t,Kne),n=ta();return N.createElement(L6,{id:e.id,type:"bar"},r=>N.createElement(N.Fragment,null,N.createElement(qee,{legendPayload:Mne(e)}),N.createElement(Lne,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),N.createElement(rte,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Fq(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),N.createElement(pi,{zIndex:e.zIndex},N.createElement(Yne,$s({},e,{id:r})))))}var H6=N.memo(Xne,qj);H6.displayName="Bar";function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qne(t,e,n){return(e=Jne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jne(t){var e=Zne(t,"string");return typeof e=="symbol"?e:e+""}function Zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ere=(t,e)=>e,tre=(t,e,n)=>n,nre=(t,e,n,r)=>r,rre=(t,e,n,r,a)=>a,zh=oe([lj,rre],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),are=oe([zh],t=>t==null?void 0:t.maxBarSize),ire=(t,e,n,r,a,s)=>s,LR=(t,e,n)=>{var r=n??t;if(!sr(r))return Sr(r,e,0)},sre=oe([jt,lj,ere,tre,nre],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),ore=(t,e,n,r)=>{var a=jt(t);return a==="horizontal"?rN(t,"yAxis",n,r):rN(t,"xAxis",e,r)},lre=(t,e,n)=>{var r=jt(t);return r==="horizontal"?DO(t,"xAxis",e):DO(t,"yAxis",n)},cre=(t,e,n)=>{var r={},a=t.filter(v0),s=t.filter(h=>h.stackId==null),c=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(c).map(h=>{var[p,g]=h,x=g.map(E=>E.dataKey),w=LR(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:w}}),f=s.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=LR(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},ure=oe([sre,HW,lre],cre),dre=(t,e,n,r,a)=>{var s,c,d=zh(t,e,n,r,a);if(d!=null){var f=jt(t),h=i5(t),{maxBarSize:p}=d,g=sr(p)?h:p,x,w;return f==="horizontal"?(x=Hu(t,"xAxis",e,r),w=qu(t,"xAxis",e,r)):(x=Hu(t,"yAxis",n,r),w=qu(t,"yAxis",n,r)),(s=(c=Dg(x,w,!0))!==null&&c!==void 0?c:g)!==null&&s!==void 0?s:0}},G6=(t,e,n,r)=>{var a=jt(t),s,c;return a==="horizontal"?(s=Hu(t,"xAxis",e,r),c=qu(t,"xAxis",e,r)):(s=Hu(t,"yAxis",n,r),c=qu(t,"yAxis",n,r)),Dg(s,c)};function fre(t,e,n,r,a){var s=r.length;if(!(s<1)){var c=Sr(t,n,0,!0),d,f=[];if(_n(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((C,L)=>C+(L.barSize||0),0);g+=(s-1)*c,g>=n&&(g-=(s-1)*c,c=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var x=(n-g)/2>>0,w={offset:x-c,size:0};d=r.reduce((C,L)=>{var A,D={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:w.offset+w.size+c,size:h?p:(A=L.barSize)!==null&&A!==void 0?A:0}},R=[...C,D];return w=R[R.length-1].position,R},f)}else{var E=Sr(e,n,0,!0);n-2*E-(s-1)*c<=0&&(c=0);var _=(n-2*E-(s-1)*c)/s;_>1&&(_>>=0);var j=_n(a)?Math.min(_,a):_;d=r.reduce((C,L,A)=>[...C,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:E+(_+c)*A+(_-j)/2,size:j}}],f)}return d}}var hre=(t,e,n,r,a,s,c)=>{var d=sr(c)?e:c,f=fre(n,r,a!==s?a:s,t,d);return a!==s&&f!=null&&(f=f.map(h=>zp(zp({},h),{},{position:zp(zp({},h.position),{},{offset:h.position.offset-a/2})}))),f},mre=oe([ure,i5,qW,s5,dre,G6,are],hre),pre=(t,e,n,r)=>Hu(t,"xAxis",e,r),gre=(t,e,n,r)=>Hu(t,"yAxis",n,r),yre=(t,e,n,r)=>qu(t,"xAxis",e,r),vre=(t,e,n,r)=>qu(t,"yAxis",n,r),xre=oe([mre,zh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),bre=(t,e)=>{var n=ij(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:s}=a;if(s)return s.find(c=>c.key===n)}}}},wre=oe([ore,zh],bre),Nre=oe([Yn,w_,pre,gre,yre,vre,xre,jt,X_,G6,wre,zh,ire],(t,e,n,r,a,s,c,d,f,h,p,g,x)=>{var{chartData:w,dataStartIndex:E,dataEndIndex:_}=f;if(!(g==null||c==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||s==null||h==null)){var{data:j}=g,C;if(j!=null&&j.length>0?C=j:C=w==null?void 0:w.slice(E,_+1),C!=null)return Wne({layout:d,barSettings:g,pos:c,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:C,offset:t,cells:x,dataStartIndex:E})}}),K6=t=>{var{chartData:e}=t,n=ln(),r=ta();return N.useEffect(()=>r?()=>{}:(n(GO(e)),()=>{n(GO(void 0))}),[e,n,r]),null},UR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Y6=ea({name:"brush",initialState:UR,reducers:{setBrushSettings(t,e){return e.payload==null?UR:e.payload}}}),{setBrushSettings:$ge}=Y6.actions,_re=Y6.reducer;function jre(t,e,n){return(e=Ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ere(t){var e=Sre(t,"string");return typeof e=="symbol"?e:e+""}function Sre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Hj{static create(e){return new Hj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}jre(Hj,"EPS",1e-4);function Are(t){return(t%180+180)%180}var Tre=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Are(a),c=s*Math.PI/180,d=Math.atan(r/n),f=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Cre={dots:[],areas:[],lines:[]},W6=ea({name:"referenceElements",initialState:Cre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=li(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=li(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=li(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Fge,removeDot:qge,addArea:Hge,removeArea:Gge,addLine:Kge,removeLine:Yge}=W6.actions,Ire=W6.reducer,Ore=N.createContext(void 0),Rre=t=>{var{children:e}=t,[n]=N.useState("".concat(Gf("recharts"),"-clip")),r=B6();if(r==null)return null;var{x:a,y:s,width:c,height:d}=r;return N.createElement(Ore.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:a,y:s,height:d,width:c}))),e)};function X6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Dre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Tre(r,n)}function Pre(t,e,n){var r=n==="width",{x:a,y:s,width:c,height:d}=t;return e===1?{start:r?a:s,end:r?a+c:s+d}:{start:r?a+c:s+d,end:r?a:s}}function oy(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function kre(t,e){return X6(t,e+1)}function Mre(t,e,n,r,a){for(var s=(r||[]).slice(),{start:c,end:d}=e,f=0,h=1,p=c,g=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:X6(r,h)};var _=f,j,C=()=>(j===void 0&&(j=n(E,_)),j),L=E.coordinate,A=f===0||oy(t,L,C,p,d);A||(f=0,p=c,h+=1),A&&(p=L+t*(C()/2+a),f+=h)},x;h<=s.length;)if(x=g(),x)return x.v;return[]}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){Lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lre(t,e,n){return(e=Ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=Vre(t,"string");return typeof e=="symbol"?e:e+""}function Vre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zre(t,e,n,r,a){for(var s=(r||[]).slice(),c=s.length,{start:d}=e,{end:f}=e,h=function(x){var w=s[x],E,_=()=>(E===void 0&&(E=n(w,x)),E);if(x===c-1){var j=t*(w.coordinate+t*_()/2-f);s[x]=w=wr(wr({},w),{},{tickCoord:j>0?w.coordinate-j*t:w.coordinate})}else s[x]=w=wr(wr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var C=oy(t,w.tickCoord,_,d,f);C&&(f=w.tickCoord-t*(_()/2+a),s[x]=wr(wr({},w),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return s}function Bre(t,e,n,r,a,s){var c=(r||[]).slice(),d=c.length,{start:f,end:h}=e;if(s){var p=r[d-1],g=n(p,d-1),x=t*(p.coordinate+t*g/2-h);if(c[d-1]=p=wr(wr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate}),p.tickCoord!=null){var w=oy(t,p.tickCoord,()=>g,f,h);w&&(h=p.tickCoord-t*(g/2+a),c[d-1]=wr(wr({},p),{},{isShow:!0}))}}for(var E=s?d-1:d,_=function(L){var A=c[L],D,R=()=>(D===void 0&&(D=n(A,L)),D);if(L===0){var U=t*(A.coordinate-t*R()/2-f);c[L]=A=wr(wr({},A),{},{tickCoord:U<0?A.coordinate-U*t:A.coordinate})}else c[L]=A=wr(wr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var k=oy(t,A.tickCoord,R,f,h);k&&(f=A.tickCoord+t*(R()/2+a),c[L]=wr(wr({},A),{},{isShow:!0}))}},j=0;j<E;j++)_(j);return c}function Gj(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:c,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if(Ve(f)||vc.isSsr){var x;return(x=kre(a,Ve(f)?f:0))!==null&&x!==void 0?x:[]}var w=[],E=d==="top"||d==="bottom"?"width":"height",_=p&&E==="width"?Lf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},j=(A,D)=>{var R=typeof h=="function"?h(A.value,D):A.value;return E==="width"?Dre(Lf(R,{fontSize:e,letterSpacing:n}),_,g):Lf(R,{fontSize:e,letterSpacing:n})[E]},C=a.length>=2?ir(a[1].coordinate-a[0].coordinate):1,L=Pre(s,C,E);return f==="equidistantPreserveStart"?Mre(C,L,j,a,c):(f==="preserveStart"||f==="preserveStartEnd"?w=Bre(C,L,j,a,c,f==="preserveStartEnd"):w=zre(C,L,j,a,c),w.filter(A=>A.isShow))}var $re=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=a+s,h=c+f+d+(n?r:0);return Math.round(h)}return 0},Fre=["axisLine","width","height","className","hide","ticks","axisType"];function qre(t,e){if(t==null)return{};var n,r,a=Hre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Hre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(null,arguments)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){Gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gre(t,e,n){return(e=Kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Yre(t,"string");return typeof e=="symbol"?e:e+""}function Yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ds={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:gr.axis};function Wre(t){var{x:e,y:n,width:r,height:a,orientation:s,mirror:c,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=Mn(Mn(Mn({},f),ci(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);h=Mn(Mn({},h),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=Mn(Mn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return N.createElement("line",cc({},h,{className:Bt("recharts-cartesian-axis-line",ac(d,"className"))}))}function Xre(t,e,n,r,a,s,c,d,f){var h,p,g,x,w,E,_=d?-1:1,j=t.tickSize||c,C=Ve(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,x=n+ +!d*a,g=x-_*j,E=g-_*f,w=C;break;case"left":g=x=t.coordinate,p=e+ +!d*r,h=p-_*j,w=h-_*f,E=C;break;case"right":g=x=t.coordinate,p=e+ +d*r,h=p+_*j,w=h+_*f,E=C;break;default:h=p=t.coordinate,x=n+ +d*a,g=x+_*j,E=g+_*f,w=C;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:w,y:E}}}function Qre(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Jre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Zre(t){var{option:e,tickProps:n,value:r}=t,a,s=Bt(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(e))a=N.cloneElement(e,Mn(Mn({},n),{},{className:s}));else if(typeof e=="function")a=e(Mn(Mn({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Bt(c,e==null?void 0:e.className)),a=N.createElement(S0,cc({},n,{className:c}),r)}return a}var eae=N.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:c,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x,y:w,width:E,height:_,tickSize:j,tickMargin:C,fontSize:L,letterSpacing:A,getTicksConfig:D,events:R,axisType:U}=t,k=Gj(Mn(Mn({},D),{},{ticks:n}),L,A),V=Qre(p,g),M=Jre(p,g),I=ci(D),O=Hf(r),B={};typeof a=="object"&&(B=a);var z=Mn(Mn({},I),{},{fill:"none"},B),me=k.map(re=>Mn({entry:re},Xre(re,x,w,E,_,p,j,g,C))),ae=me.map(re=>{var{entry:Y,line:xe}=re;return N.createElement(kr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},a&&N.createElement("line",cc({},z,xe,{className:Bt("recharts-cartesian-axis-tick-line",ac(a,"className"))})))}),G=me.map((re,Y)=>{var{entry:xe,tick:X}=re,F=Mn(Mn(Mn(Mn({textAnchor:V,verticalAnchor:M},I),{},{stroke:"none",fill:s},O),X),{},{index:Y,payload:xe,visibleTicksCount:k.length,tickFormatter:c,padding:f},h);return N.createElement(kr,cc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(xe.value,"-").concat(xe.coordinate,"-").concat(xe.tickCoord)},By(R,xe,Y)),r&&N.createElement(Zre,{option:r,tickProps:F,value:"".concat(typeof c=="function"?c(xe.value,Y):xe.value).concat(d||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(U,"-ticks")},G.length>0&&N.createElement(pi,{zIndex:gr.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(U,"-tick-labels"),ref:e},G)),ae.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(U,"-tick-lines")},ae))}),tae=N.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:s,hide:c,ticks:d,axisType:f}=t,h=qre(t,Fre),[p,g]=N.useState(""),[x,w]=N.useState(""),E=N.useRef(null);N.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var j;return $re({ticks:E.current,label:(j=t.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var _=N.useCallback(j=>{if(j){var C=j.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=C;var L=C[0];if(L){var A=window.getComputedStyle(L),D=A.fontSize,R=A.letterSpacing;(D!==p||R!==x)&&(g(D),w(R))}}},[p,x]);return c||r!=null&&r<=0||a!=null&&a<=0?null:N.createElement(pi,{zIndex:t.zIndex},N.createElement(kr,{className:Bt("recharts-cartesian-axis",s)},N.createElement(Wre,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ci(t)}),N.createElement(eae,{ref:_,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),N.createElement(LZ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},N.createElement(KZ,{label:t.label,labelRef:t.labelRef}),t.children)))}),Kj=N.forwardRef((t,e)=>{var n=Tr(t,Ds);return N.createElement(tae,cc({},n,{ref:e}))});Kj.displayName="CartesianAxis";var nae=["x1","y1","x2","y2","key"],rae=["offset"],aae=["xAxisId","yAxisId"],iae=["xAxisId","yAxisId"];function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e,n){return(e=oae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=lae(t,"string");return typeof e=="symbol"?e:e+""}function lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(null,arguments)}function ly(t,e){if(t==null)return{};var n,r,a=cae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var uae=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:c,ry:d}=t;return N.createElement("rect",{x:r,y:a,ry:d,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Q6(t){var{option:e,lineItemProps:n}=t,r;if(N.isValidElement(e))r=N.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:s,y1:c,x2:d,y2:f,key:h}=n,p=ly(n,nae),g=(a=ci(p))!==null&&a!==void 0?a:{},{offset:x}=g,w=ly(g,rae);r=N.createElement("line",Wl({},w,{x1:s,y1:c,x2:d,y2:f,fill:"none",key:h}))}return r}function dae(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=ly(t,aae),f=a.map((h,p)=>{var g=_r(_r({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return N.createElement(Q6,{key:"line-".concat(p),option:r,lineItemProps:g})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function fae(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=ly(t,iae),f=a.map((h,p)=>{var g=_r(_r({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return N.createElement(Q6,{option:r,lineItemProps:g,key:"line-".concat(p)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function hae(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:c,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+c-g:h[x+1]-g;if(E<=0)return null;var _=x%e.length;return N.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:E,width:s,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function mae(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:c,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+c-g:h[x+1]-g;if(E<=0)return null;var _=x%n.length;return N.createElement("rect",{key:"react-".concat(x),x:g,y:s,width:E,height:d,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var pae=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return Ok(Gj(_r(_r(_r({},Ds),n),{},{ticks:Rk(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},gae=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return Ok(Gj(_r(_r(_r({},Ds),n),{},{ticks:Rk(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},yae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:gr.grid};function J6(t){var e=$k(),n=Fk(),r=Bk(),a=_r(_r({},Tr(t,yae)),{},{x:Ve(t.x)?t.x:r.left,y:Ve(t.y)?t.y:r.top,width:Ve(t.width)?t.width:r.width,height:Ve(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:w}=a,E=ta(),_=ze(M=>PO(M,"xAxis",s,E)),j=ze(M=>PO(M,"yAxis",c,E));if(!Wi(h)||!Wi(p)||!Ve(d)||!Ve(f))return null;var C=a.verticalCoordinatesGenerator||pae,L=a.horizontalCoordinatesGenerator||gae,{horizontalPoints:A,verticalPoints:D}=a;if((!A||!A.length)&&typeof L=="function"){var R=x&&x.length,U=L({yAxis:j?_r(_r({},j),{},{ticks:R?x:j.ticks}):void 0,width:e??h,height:n??p,offset:r},R?!0:g);Pg(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(A=U)}if((!D||!D.length)&&typeof C=="function"){var k=w&&w.length,V=C({xAxis:_?_r(_r({},_),{},{ticks:k?w:_.ticks}):void 0,width:e??h,height:n??p,offset:r},k?!0:g);Pg(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(D=V)}return N.createElement(pi,{zIndex:a.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(uae,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),N.createElement(hae,Wl({},a,{horizontalPoints:A})),N.createElement(mae,Wl({},a,{verticalPoints:D})),N.createElement(dae,Wl({},a,{offset:r,horizontalPoints:A,xAxis:_,yAxis:j})),N.createElement(fae,Wl({},a,{offset:r,verticalPoints:D,xAxis:_,yAxis:j}))))}J6.displayName="CartesianGrid";var vae=["domain","range"],xae=["domain","range"];function $R(t,e){if(t==null)return{};var n,r,a=bae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function FR(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Z6(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=$R(t,vae),{domain:s,range:c}=e,d=$R(e,xae);return!FR(n,s)||!FR(r,c)?!1:qj(a,d)}var wae=["dangerouslySetInnerHTML","ticks"],Nae=["id"];function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dN.apply(null,arguments)}function qR(t,e){if(t==null)return{};var n,r,a=_ae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _ae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jae(t){var e=ln(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(Pte(t)):n.current!==t&&e(kte({prev:n.current,next:t})),n.current=t},[t,e]),N.useLayoutEffect(()=>()=>{n.current&&(e(Mte(n.current)),n.current=null)},[e]),null}var Eae=t=>{var{xAxisId:e,className:n}=t,r=ze(w_),a=ta(),s="xAxis",c=ze(j=>ld(j,s,e,a)),d=ze(j=>U5(j,s,e,a)),f=ze(j=>P5(j,e)),h=ze(j=>$X(j,e)),p=ze(j=>p5(j,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,w=qR(t,wae),{id:E}=p,_=qR(p,Nae);return N.createElement(Kj,dN({},w,_,{scale:c,x:h.x,y:h.y,width:f.width,height:f.height,className:Bt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d,axisType:s}))},Sae={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:Ds.axisLine,height:tr.height,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:Ds.tickLine,tickSize:Ds.tickSize,type:tr.type,xAxisId:0},Aae=t=>{var e=Tr(t,Sae);return N.createElement(N.Fragment,null,N.createElement(jae,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),N.createElement(Eae,e))},e3=N.memo(Aae,Z6);e3.displayName="XAxis";var Tae=["dangerouslySetInnerHTML","ticks"],Cae=["id"];function fN(){return fN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fN.apply(null,arguments)}function HR(t,e){if(t==null)return{};var n,r,a=Iae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Iae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Oae(t){var e=ln(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(Lte(t)):n.current!==t&&e(Ute({prev:n.current,next:t})),n.current=t},[t,e]),N.useLayoutEffect(()=>()=>{n.current&&(e(Vte(n.current)),n.current=null)},[e]),null}var Rae=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,s=N.useRef(null),c=N.useRef(null),d=ze(w_),f=ta(),h=ln(),p="yAxis",g=ze(R=>ld(R,p,e,f)),x=ze(R=>k5(R,e)),w=ze(R=>qX(R,e)),E=ze(R=>U5(R,p,e,f)),_=ze(R=>g5(R,e));if(N.useLayoutEffect(()=>{if(!(r!=="auto"||!x||Lj(a)||N.isValidElement(a)||_==null)){var R=s.current;if(R){var U=R.getCalculatedWidth();Math.round(x.width)!==Math.round(U)&&h(zte({id:e,width:U}))}}},[E,x,h,a,e,r,_]),x==null||w==null||_==null)return null;var{dangerouslySetInnerHTML:j,ticks:C}=t,L=HR(t,Tae),{id:A}=_,D=HR(_,Cae);return N.createElement(Kj,fN({},L,D,{ref:s,labelRef:c,scale:g,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:Bt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:E,axisType:p}))},Dae={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,angle:nr.angle,axisLine:Ds.axisLine,hide:!1,includeHidden:nr.includeHidden,interval:nr.interval,minTickGap:nr.minTickGap,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,tickLine:Ds.tickLine,tickSize:Ds.tickSize,type:nr.type,width:nr.width,yAxisId:0},Pae=t=>{var e=Tr(t,Dae);return N.createElement(N.Fragment,null,N.createElement(Oae,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),N.createElement(Rae,e))},t3=N.memo(Pae,Z6);t3.displayName="YAxis";var kae=(t,e)=>e,Yj=oe([kae,jt,h5,Xn,e6,Zs,aJ,Yn],dJ),Wj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},n3=Va("mouseClick"),r3=_h();r3.startListening({actionCreator:n3,effect:(t,e)=>{var n=t.payload,r=Yj(e.getState(),Wj(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(aQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var hN=Va("mouseMove"),a3=_h(),Bp=null;a3.startListening({actionCreator:hN,effect:(t,e)=>{var n=t.payload;Bp!==null&&cancelAnimationFrame(Bp);var r=Wj(n);Bp=requestAnimationFrame(()=>{var a=e.getState(),s=Aj(a,a.tooltip.settings.shared);if(s==="axis"){var c=Yj(a,r);(c==null?void 0:c.activeIndex)!=null?e.dispatch(G5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(H5())}Bp=null})}});var GR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},i3=ea({name:"rootProps",initialState:GR,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:GR.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Mae=i3.reducer,{updateOptions:Lae}=i3.actions,s3=ea({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Uae}=s3.actions,Vae=s3.reducer,o3=Va("keyDown"),l3=Va("focus"),Xj=_h();Xj.startListening({actionCreator:o3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Tj(a,ud(n),Ph(n),Uh(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=Zs(n);if(s==="Enter"){var h=ty(n,"axis","hover",String(a.index));e.dispatch(iN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var p=YX(n),g=p==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,w=d+x*g;if(!(f==null||w>=f.length||w<0)){var E=ty(n,"axis","hover",String(w));e.dispatch(iN({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});Xj.startListening({actionCreator:l3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",c=ty(n,"axis","hover",String(s));e.dispatch(iN({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Pa=Va("externalEvent"),c3=_h(),Hw=new Map;c3.startListening({actionCreator:Pa,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,s=Hw.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:FQ(d),activeDataKey:a6(d),activeIndex:lc(d),activeLabel:r6(d),activeTooltipIndex:lc(d),isTooltipActive:qQ(d)};n(f,r)}finally{Hw.delete(a)}});Hw.set(a,c)}}});var zae=oe([cd],t=>t.tooltipItemPayloads),Bae=oe([zae,Mh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var c=e(s,n);return c}}}),u3=Va("touchMove"),d3=_h();d3.startListening({actionCreator:u3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=Aj(r,r.tooltip.settings.shared);if(a==="axis"){var s=Yj(r,Wj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(G5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(Pk),p=(c=f.getAttribute(kk))!==null&&c!==void 0?c:void 0,g=Bae(e.getState(),h,p);e.dispatch(q5({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var $ae=nk({brush:_re,cartesianAxis:Bte,chartData:$J,errorBars:tne,graphicalItems:tte,layout:Rq,legend:UH,options:LJ,polarAxis:pee,polarOptions:Vae,referenceElements:Ire,rootProps:Mae,tooltip:iQ,zIndex:EJ}),Fae=function(e){return rq({reducer:$ae,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([r3.middleware,a3.middleware,Xj.middleware,c3.middleware,d3.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(yk({type:"raf"}))},devTools:vc.devToolsEnabled})};function f3(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=ta(),s=N.useRef(null);if(a)return n;s.current==null&&(s.current=Fae(e));var c=f_;return N.createElement(Ene,{context:c,store:s.current},n)}function qae(t){var{layout:e,margin:n}=t,r=ln(),a=ta();return N.useEffect(()=>{a||(r(Cq(e)),r(Tq(n)))},[r,a,e,n]),null}var h3=N.memo(qae,qj);function m3(t){var e=ln();return N.useEffect(()=>{e(Lae(t))},[e,t]),null}function KR(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=M6("".concat(r).concat(e)),s=ln();return N.useLayoutEffect(()=>(s(_J({zIndex:e,elementId:a,isPanorama:n})),()=>{s(jJ({zIndex:e,isPanorama:n}))}),[s,e,a,n]),N.createElement("g",{id:a})}function YR(t){var{children:e,isPanorama:n}=t,r=ze(hJ);if(!r||r.length===0)return e;var a=r.filter(c=>c<0),s=r.filter(c=>c>0);return N.createElement(N.Fragment,null,a.map(c=>N.createElement(KR,{key:c,zIndex:c,isPanorama:n})),e,s.map(c=>N.createElement(KR,{key:c,zIndex:c,isPanorama:n})))}var Hae=["children"];function Gae(t,e){if(t==null)return{};var n,r,a=Kae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(null,arguments)}var Yae={width:"100%",height:"100%",display:"block"},Wae=N.forwardRef((t,e)=>{var n=$k(),r=Fk(),a=eM();if(!Wi(n)||!Wi(r))return null;var{children:s,otherAttributes:c,title:d,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=a?0:void 0,typeof c.role=="string"?p=c.role:p=a?"application":void 0),N.createElement(b4,cy({},c,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Yae,ref:e}),s)}),Xae=t=>{var{children:e}=t,n=ze(t0);if(!n)return null;var{width:r,height:a,y:s,x:c}=n;return N.createElement(b4,{width:r,height:a,x:c,y:s},e)},WR=N.forwardRef((t,e)=>{var{children:n}=t,r=Gae(t,Hae),a=ta();return a?N.createElement(Xae,null,N.createElement(YR,{isPanorama:!0},n)):N.createElement(Wae,cy({ref:e},r),N.createElement(YR,{isPanorama:!1},n))});function Qae(){var t=ln(),[e,n]=N.useState(null),r=ze(Xq);return N.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;_n(s)&&s!==r&&t(Oq(s))}},[e,t,r]),n}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){Zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zae(t,e,n){return(e=eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return typeof e=="symbol"?e:e+""}function tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(null,arguments)}var nie=()=>(QJ(),null);function uy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var rie=N.forwardRef((t,e)=>{var n,r,a=N.useRef(null),[s,c]=N.useState({containerWidth:uy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:uy((r=t.style)===null||r===void 0?void 0:r.height)}),d=N.useCallback((h,p)=>{c(g=>{var x=Math.round(h),w=Math.round(p);return g.containerWidth===x&&g.containerHeight===w?g:{containerWidth:x,containerHeight:w}})},[]),f=N.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var x=E=>{var{width:_,height:j}=E[0].contentRect;d(_,j)},w=new ResizeObserver(x);w.observe(h),a.current=w}},[e,d]);return N.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),N.createElement(N.Fragment,null,N.createElement(a0,{width:s.containerWidth,height:s.containerHeight}),N.createElement("div",uc({ref:f},t)))}),aie=N.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,s]=N.useState({containerWidth:uy(n),containerHeight:uy(r)}),c=N.useCallback((f,h)=>{s(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),d=N.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return N.createElement(N.Fragment,null,N.createElement(a0,{width:a.containerWidth,height:a.containerHeight}),N.createElement("div",uc({ref:d},t)))}),iie=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return N.createElement(N.Fragment,null,N.createElement(a0,{width:n,height:r}),N.createElement("div",uc({ref:e},t)))}),sie=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ms(n)||Ms(r)?N.createElement(aie,uc({},t,{ref:e})):N.createElement(iie,uc({},t,{ref:e}))});function oie(t){return t===!0?rie:sie}var lie=N.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:w,onTouchMove:E,onTouchStart:_,style:j,width:C,responsive:L,dispatchTouchEvents:A=!0}=t,D=N.useRef(null),R=ln(),[U,k]=N.useState(null),[V,M]=N.useState(null),I=Qae(),O=N_(),B=(O==null?void 0:O.width)>0?O.width:C,z=(O==null?void 0:O.height)>0?O.height:a,me=N.useCallback(ce=>{I(ce),typeof e=="function"&&e(ce),k(ce),M(ce),ce!=null&&(D.current=ce)},[I,e,k,M]),ae=N.useCallback(ce=>{R(n3(ce)),R(Pa({handler:s,reactEvent:ce}))},[R,s]),G=N.useCallback(ce=>{R(hN(ce)),R(Pa({handler:h,reactEvent:ce}))},[R,h]),re=N.useCallback(ce=>{R(H5()),R(Pa({handler:p,reactEvent:ce}))},[R,p]),Y=N.useCallback(ce=>{R(hN(ce)),R(Pa({handler:g,reactEvent:ce}))},[R,g]),xe=N.useCallback(()=>{R(l3())},[R]),X=N.useCallback(ce=>{R(o3(ce.key))},[R]),F=N.useCallback(ce=>{R(Pa({handler:c,reactEvent:ce}))},[R,c]),Q=N.useCallback(ce=>{R(Pa({handler:d,reactEvent:ce}))},[R,d]),K=N.useCallback(ce=>{R(Pa({handler:f,reactEvent:ce}))},[R,f]),J=N.useCallback(ce=>{R(Pa({handler:x,reactEvent:ce}))},[R,x]),he=N.useCallback(ce=>{R(Pa({handler:_,reactEvent:ce}))},[R,_]),Se=N.useCallback(ce=>{A&&R(u3(ce)),R(Pa({handler:E,reactEvent:ce}))},[R,A,E]),Oe=N.useCallback(ce=>{R(Pa({handler:w,reactEvent:ce}))},[R,w]),He=oie(L);return N.createElement(d6.Provider,{value:U},N.createElement(MB.Provider,{value:V},N.createElement(He,{width:B??(j==null?void 0:j.width),height:z??(j==null?void 0:j.height),className:Bt("recharts-wrapper",r),style:Jae({position:"relative",cursor:"default",width:B,height:z},j),onClick:ae,onContextMenu:F,onDoubleClick:Q,onFocus:xe,onKeyDown:X,onMouseDown:K,onMouseEnter:G,onMouseLeave:re,onMouseMove:Y,onMouseUp:J,onTouchEnd:Oe,onTouchMove:Se,onTouchStart:he,ref:me},N.createElement(nie,null),n)))}),cie=["width","height","responsive","children","className","style","compact","title","desc"];function uie(t,e){if(t==null)return{};var n,r,a=die(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function die(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var p3=N.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:s,className:c,style:d,compact:f,title:h,desc:p}=t,g=uie(t,cie),x=ci(g);return f?N.createElement(N.Fragment,null,N.createElement(a0,{width:n,height:r}),N.createElement(WR,{otherAttributes:x,title:h,desc:p},s)):N.createElement(lie,{className:c,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(WR,{otherAttributes:x,title:h,desc:p,ref:e},N.createElement(Rre,null,s)))});function mN(){return mN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mN.apply(null,arguments)}var fie={top:5,right:5,bottom:5,left:5},hie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:fie,reverseStackOrder:!1,syncMethod:"index",responsive:!1},mie=N.forwardRef(function(e,n){var r,a=Tr(e.categoricalChartProps,hie),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return N.createElement(f3,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},N.createElement(K6,{chartData:h.data}),N.createElement(h3,{layout:a.layout,margin:a.margin}),N.createElement(m3,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),N.createElement(p3,mN({},a,{ref:n})))}),pie=["axis","item"],gie=N.forwardRef((t,e)=>N.createElement(mie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pie,tooltipPayloadSearcher:f6,categoricalChartProps:t,ref:e}));function yie(t){var e=ln();return N.useEffect(()=>{e(Uae(t))},[e,t]),null}var vie=["layout"];function pN(){return pN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pN.apply(null,arguments)}function xie(t,e){if(t==null)return{};var n,r,a=bie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wie={top:5,right:5,bottom:5,left:5},Nie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:wie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},_ie=N.forwardRef(function(e,n){var r,a=Tr(e.categoricalChartProps,Nie),{layout:s}=a,c=xie(a,vie),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return N.createElement(f3,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},N.createElement(K6,{chartData:a.data}),N.createElement(h3,{layout:s,margin:a.margin}),N.createElement(m3,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),N.createElement(yie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),N.createElement(p3,pN({},c,{ref:n})))}),jie=["item"],Eie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Sie=N.forwardRef((t,e)=>{var n=Tr(t,Eie);return N.createElement(_ie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:jie,tooltipPayloadSearcher:f6,categoricalChartProps:n,ref:e})});const ka=({title:t,value:e,icon:n,color:r})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e})]}),o.jsx("div",{className:`p-3 rounded-full ${a[r]}`,children:o.jsx(n,{className:"w-6 h-6"})})]})},Aie=()=>{};var QR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Tie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(s&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|c&63)}}return e.join("")},y3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,h=f?t[a+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let x=(d&15)<<2|h>>6,w=h&63;f||(w=64,c||(x=64)),r.push(n[p],n[g],n[x],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(g3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||d==null||h==null||g==null)throw new Cie;const x=s<<2|d>>4;if(r.push(x),h!==64){const w=d<<4&240|h>>2;if(r.push(w),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Cie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Iie=function(t){const e=g3(t);return y3.encodeByteArray(e,!0)},dy=function(t){return Iie(t).replace(/\./g,"")},v3=function(t){try{return y3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rie=()=>Oie().__FIREBASE_DEFAULTS__,Die=()=>{if(typeof process>"u"||typeof QR>"u")return;const t=QR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v3(t[1]);return e&&JSON.parse(e)},I0=()=>{try{return Aie()||Rie()||Die()||Pie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x3=t=>{var e,n;return(n=(e=I0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},b3=t=>{const e=x3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},w3=()=>{var t;return(t=I0())==null?void 0:t.config},N3=t=>{var e;return(e=I0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dy(JSON.stringify(n)),dy(JSON.stringify(c)),""].join(".")}const Uf={};function Mie(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uf))Uf[e]?t.emulator.push(e):t.prod.push(e);return t}function Lie(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let JR=!1;function Jj(t,e){if(typeof window>"u"||typeof document>"u"||!wc(window.location.host)||Uf[t]===e||Uf[t]||JR)return;Uf[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=Mie().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{JR=!0,c()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=Lie(r),w=n("text"),E=document.getElementById(w)||document.createElement("span"),_=n("learnmore"),j=document.getElementById(_)||document.createElement("a"),C=n("preprendIcon"),L=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const A=x.element;d(A),p(j,_);const D=h();f(L,C),A.append(L,E,j,D),document.body.appendChild(A)}s?(E.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function Vie(){var e;const t=(e=I0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $ie(){const t=Ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Fie(){return!Vie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E3(){try{return typeof indexedDB=="object"}catch{return!1}}function S3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;e(((s=a.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function qie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hie="FirebaseError";class Fa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hie,Object.setPrototypeOf(this,Fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],c=s?Gie(s,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Fa(a,d,r)}}function Gie(t,e){return t.replace(Kie,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Kie=/\{\$([^}]+)}/g;function Yie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],c=e[a];if(ZR(s)&&ZR(c)){if(!Wo(s,c))return!1}else if(s!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function ZR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wie(t,e){const n=new Xie(t,e);return n.subscribe.bind(n)}class Xie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Qie(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Gw),a.error===void 0&&(a.error=Gw),a.complete===void 0&&(a.complete=Gw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qie(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie=1e3,Zie=2,ese=14400*1e3,tse=.5;function eD(t,e=Jie,n=Zie){const r=e*Math.pow(n,t),a=Math.round(tse*r*(Math.random()-.5)*2);return Math.min(ese,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){return t&&t._delegate?t._delegate:t}class Ba{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ase(e))try{this.getOrInitializeService({instanceIdentifier:Gl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Gl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gl){return this.instances.has(e)}getOptions(e=Gl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rse(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gl){return this.component?this.component.multipleInstances?e:Gl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rse(t){return t===Gl?void 0:t}function ase(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const sse={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},ose=gt.INFO,lse={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},cse=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=lse[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O0{constructor(e){this.name=e,this._logLevel=ose,this._logHandler=cse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sse[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const use=(t,e)=>e.some(n=>t instanceof n);let tD,nD;function dse(){return tD||(tD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fse(){return nD||(nD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A3=new WeakMap,gN=new WeakMap,T3=new WeakMap,Kw=new WeakMap,Zj=new WeakMap;function hse(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n($o(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&A3.set(n,t)}).catch(()=>{}),Zj.set(e,t),e}function mse(t){if(gN.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});gN.set(t,e)}let yN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pse(t){yN=t(yN)}function gse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yw(this),e,...n);return T3.set(r,e.sort?e.sort():[e]),$o(r)}:fse().includes(t)?function(...e){return t.apply(Yw(this),e),$o(A3.get(this))}:function(...e){return $o(t.apply(Yw(this),e))}}function yse(t){return typeof t=="function"?gse(t):(t instanceof IDBTransaction&&mse(t),use(t,dse())?new Proxy(t,yN):t)}function $o(t){if(t instanceof IDBRequest)return hse(t);if(Kw.has(t))return Kw.get(t);const e=yse(t);return e!==t&&(Kw.set(t,e),Zj.set(e,t)),e}const Yw=t=>Zj.get(t);function C3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const c=indexedDB.open(t,e),d=$o(c);return r&&c.addEventListener("upgradeneeded",f=>{r($o(c.result),f.oldVersion,f.newVersion,$o(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const vse=["get","getKey","getAll","getAllKeys","count"],xse=["put","add","delete","clear"],Ww=new Map;function rD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ww.get(e))return Ww.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=xse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||vse.includes(n)))return;const s=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),a&&f.done]))[0]};return Ww.set(e,s),s}pse(t=>({...t,get:(e,n,r)=>rD(e,n)||t.get(e,n,r),has:(e,n)=>!!rD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vN="@firebase/app",aD="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new O0("@firebase/app"),Nse="@firebase/app-compat",_se="@firebase/analytics-compat",jse="@firebase/analytics",Ese="@firebase/app-check-compat",Sse="@firebase/app-check",Ase="@firebase/auth",Tse="@firebase/auth-compat",Cse="@firebase/database",Ise="@firebase/data-connect",Ose="@firebase/database-compat",Rse="@firebase/functions",Dse="@firebase/functions-compat",Pse="@firebase/installations",kse="@firebase/installations-compat",Mse="@firebase/messaging",Lse="@firebase/messaging-compat",Use="@firebase/performance",Vse="@firebase/performance-compat",zse="@firebase/remote-config",Bse="@firebase/remote-config-compat",$se="@firebase/storage",Fse="@firebase/storage-compat",qse="@firebase/firestore",Hse="@firebase/ai",Gse="@firebase/firestore-compat",Kse="firebase",Yse="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="[DEFAULT]",Wse={[vN]:"fire-core",[Nse]:"fire-core-compat",[jse]:"fire-analytics",[_se]:"fire-analytics-compat",[Sse]:"fire-app-check",[Ese]:"fire-app-check-compat",[Ase]:"fire-auth",[Tse]:"fire-auth-compat",[Cse]:"fire-rtdb",[Ise]:"fire-data-connect",[Ose]:"fire-rtdb-compat",[Rse]:"fire-fn",[Dse]:"fire-fn-compat",[Pse]:"fire-iid",[kse]:"fire-iid-compat",[Mse]:"fire-fcm",[Lse]:"fire-fcm-compat",[Use]:"fire-perf",[Vse]:"fire-perf-compat",[zse]:"fire-rc",[Bse]:"fire-rc-compat",[$se]:"fire-gcs",[Fse]:"fire-gcs-compat",[qse]:"fire-fst",[Gse]:"fire-fst-compat",[Hse]:"fire-vertex","fire-js":"fire-js",[Kse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map,Xse=new Map,bN=new Map;function iD(t,e){try{t.container.addComponent(e)}catch(n){Fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function di(t){const e=t.name;if(bN.has(e))return Fs.debug(`There were multiple attempts to register component ${e}.`),!1;bN.set(e,t);for(const n of fy.values())iD(n,t);for(const n of Xse.values())iD(n,t);return!0}function sl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ai(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fo=new Nc("app","Firebase",Qse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=Yse;function I3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:xN,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Fo.create("bad-app-name",{appName:String(a)});if(n||(n=w3()),!n)throw Fo.create("no-options");const s=fy.get(a);if(s){if(Wo(n,s.options)&&Wo(r,s.config))return s;throw Fo.create("duplicate-app",{appName:a})}const c=new ise(a);for(const f of bN.values())c.addComponent(f);const d=new Jse(n,r,c);return fy.set(a,d),d}function R0(t=xN){const e=fy.get(t);if(!e&&t===xN&&w3())return I3();if(!e)throw Fo.create("no-app",{appName:t});return e}function Jr(t,e,n){let r=Wse[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fs.warn(c.join(" "));return}di(new Ba(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zse="firebase-heartbeat-database",eoe=1,sh="firebase-heartbeat-store";let Xw=null;function O3(){return Xw||(Xw=C3(Zse,eoe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fo.create("idb-open",{originalErrorMessage:t.message})})),Xw}async function toe(t){try{const n=(await O3()).transaction(sh),r=await n.objectStore(sh).get(R3(t));return await n.done,r}catch(e){if(e instanceof Fa)Fs.warn(e.message);else{const n=Fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fs.warn(n.message)}}}async function sD(t,e){try{const r=(await O3()).transaction(sh,"readwrite");await r.objectStore(sh).put(e,R3(t)),await r.done}catch(n){if(n instanceof Fa)Fs.warn(n.message);else{const r=Fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fs.warn(r.message)}}}function R3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const noe=1024,roe=30;class aoe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new soe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>roe){const c=ooe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oD(),{heartbeatsToSend:r,unsentEntries:a}=ioe(this._heartbeatsCache.heartbeats),s=dy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fs.warn(n),""}}}function oD(){return new Date().toISOString().substring(0,10)}function ioe(t,e=noe){const n=[];let r=t.slice();for(const a of t){const s=n.find(c=>c.agent===a.agent);if(s){if(s.dates.push(a.date),lD(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),lD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class soe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E3()?S3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await toe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lD(t){return dy(JSON.stringify({version:2,heartbeats:t})).length}function ooe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function loe(t){di(new Ba("platform-logger",e=>new bse(e),"PRIVATE")),di(new Ba("heartbeat",e=>new aoe(e),"PRIVATE")),Jr(vN,aD,t),Jr(vN,aD,"esm2020"),Jr("fire-js","")}loe("");var coe="firebase",uoe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(coe,uoe,"app");const D3="@firebase/installations",eE="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=1e4,k3=`w:${eE}`,M3="FIS_v2",doe="https://firebaseinstallations.googleapis.com/v1",foe=3600*1e3,hoe="installations",moe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},dc=new Nc(hoe,moe,poe);function L3(t){return t instanceof Fa&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3({projectId:t}){return`${doe}/projects/${t}/installations`}function V3(t){return{token:t.token,requestStatus:2,expiresIn:yoe(t.expiresIn),creationTime:Date.now()}}async function z3(t,e){const r=(await e.json()).error;return dc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function B3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function goe(t,{refreshToken:e}){const n=B3(t);return n.append("Authorization",voe(e)),n}async function $3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function yoe(t){return Number(t.replace("s","000"))}function voe(t){return`${M3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xoe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=U3(t),a=B3(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={fid:n,authVersion:M3,appId:t.appId,sdkVersion:k3},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await $3(()=>fetch(r,d));if(f.ok){const h=await f.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:V3(h.authToken)}}else throw await z3("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function boe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe=/^[cdef][\w-]{21}$/,wN="";function Noe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_oe(t);return woe.test(n)?n:wN}catch{return wN}}function _oe(t){return boe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new Map;function H3(t,e){const n=D0(t);G3(n,e),joe(n,e)}function G3(t,e){const n=q3.get(t);if(n)for(const r of n)r(e)}function joe(t,e){const n=Eoe();n&&n.postMessage({key:t,fid:e}),Soe()}let Xl=null;function Eoe(){return!Xl&&"BroadcastChannel"in self&&(Xl=new BroadcastChannel("[Firebase] FID Change"),Xl.onmessage=t=>{G3(t.data.key,t.data.fid)}),Xl}function Soe(){q3.size===0&&Xl&&(Xl.close(),Xl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aoe="firebase-installations-database",Toe=1,fc="firebase-installations-store";let Qw=null;function tE(){return Qw||(Qw=C3(Aoe,Toe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fc)}}})),Qw}async function hy(t,e){const n=D0(t),a=(await tE()).transaction(fc,"readwrite"),s=a.objectStore(fc),c=await s.get(n);return await s.put(e,n),await a.done,(!c||c.fid!==e.fid)&&H3(t,e.fid),e}async function K3(t){const e=D0(t),r=(await tE()).transaction(fc,"readwrite");await r.objectStore(fc).delete(e),await r.done}async function P0(t,e){const n=D0(t),a=(await tE()).transaction(fc,"readwrite"),s=a.objectStore(fc),c=await s.get(n),d=e(c);return d===void 0?await s.delete(n):await s.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&H3(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(t){let e;const n=await P0(t.appConfig,r=>{const a=Coe(r),s=Ioe(t,a);return e=s.registrationPromise,s.installationEntry});return n.fid===wN?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Coe(t){const e=t||{fid:Noe(),registrationStatus:0};return Y3(e)}function Ioe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(dc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ooe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Roe(t)}:{installationEntry:e}}async function Ooe(t,e){try{const n=await xoe(t,e);return hy(t.appConfig,n)}catch(n){throw L3(n)&&n.customData.serverCode===409?await K3(t.appConfig):await hy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Roe(t){let e=await cD(t.appConfig);for(;e.registrationStatus===1;)await F3(100),e=await cD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await nE(t);return r||n}return e}function cD(t){return P0(t,e=>{if(!e)throw dc.create("installation-not-found");return Y3(e)})}function Y3(t){return Doe(t)?{fid:t.fid,registrationStatus:0}:t}function Doe(t){return t.registrationStatus===1&&t.registrationTime+P3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Poe({appConfig:t,heartbeatServiceProvider:e},n){const r=koe(t,n),a=goe(t,n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={installation:{sdkVersion:k3,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await $3(()=>fetch(r,d));if(f.ok){const h=await f.json();return V3(h)}else throw await z3("Generate Auth Token",f)}function koe(t,{fid:e}){return`${U3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rE(t,e=!1){let n;const r=await P0(t.appConfig,s=>{if(!W3(s))throw dc.create("not-registered");const c=s.authToken;if(!e&&Uoe(c))return s;if(c.requestStatus===1)return n=Moe(t,e),s;{if(!navigator.onLine)throw dc.create("app-offline");const d=zoe(s);return n=Loe(t,d),d}});return n?await n:r.authToken}async function Moe(t,e){let n=await uD(t.appConfig);for(;n.authToken.requestStatus===1;)await F3(100),n=await uD(t.appConfig);const r=n.authToken;return r.requestStatus===0?rE(t,e):r}function uD(t){return P0(t,e=>{if(!W3(e))throw dc.create("not-registered");const n=e.authToken;return Boe(n)?{...e,authToken:{requestStatus:0}}:e})}async function Loe(t,e){try{const n=await Poe(t,e),r={...e,authToken:n};return await hy(t.appConfig,r),n}catch(n){if(L3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await K3(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await hy(t.appConfig,r)}throw n}}function W3(t){return t!==void 0&&t.registrationStatus===2}function Uoe(t){return t.requestStatus===2&&!Voe(t)}function Voe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+foe}function zoe(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Boe(t){return t.requestStatus===1&&t.requestTime+P3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $oe(t){const e=t,{installationEntry:n,registrationPromise:r}=await nE(e);return r?r.catch(console.error):rE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Foe(t,e=!1){const n=t;return await qoe(n),(await rE(n,e)).token}async function qoe(t){const{registrationPromise:e}=await nE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hoe(t){if(!t||!t.options)throw Jw("App Configuration");if(!t.name)throw Jw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jw(t){return dc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="installations",Goe="installations-internal",Koe=t=>{const e=t.getProvider("app").getImmediate(),n=Hoe(e),r=sl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Yoe=t=>{const e=t.getProvider("app").getImmediate(),n=sl(e,X3).getImmediate();return{getId:()=>$oe(n),getToken:a=>Foe(n,a)}};function Woe(){di(new Ba(X3,Koe,"PUBLIC")),di(new Ba(Goe,Yoe,"PRIVATE"))}Woe();Jr(D3,eE);Jr(D3,eE,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="analytics",Xoe="firebase_id",Qoe="origin",Joe=60*1e3,Zoe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",aE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new O0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ele={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ya=new Nc("analytics","Analytics",ele);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tle(t){if(!t.startsWith(aE)){const e=ya.create("invalid-gtag-resource",{gtagURL:t});return Pr.warn(e.message),""}return t}function Q3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function nle(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function rle(t,e){const n=nle("firebase-js-sdk-policy",{createScriptURL:tle}),r=document.createElement("script"),a=`${aE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function ale(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ile(t,e,n,r,a,s){const c=r[a];try{if(c)await e[c];else{const f=(await Q3(n)).find(h=>h.measurementId===a);f&&await e[f.appId]}}catch(d){Pr.error(d)}t("config",a,s)}async function sle(t,e,n,r,a){try{let s=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await Q3(n);for(const f of c){const h=d.find(g=>g.measurementId===f),p=h&&e[h.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,a||{})}catch(s){Pr.error(s)}}function ole(t,e,n,r){async function a(s,...c){try{if(s==="event"){const[d,f]=c;await sle(t,e,n,d,f)}else if(s==="config"){const[d,f]=c;await ile(t,e,n,r,d,f)}else if(s==="consent"){const[d,f]=c;t("consent",d,f)}else if(s==="get"){const[d,f,h]=c;t("get",d,f,h)}else if(s==="set"){const[d]=c;t("set",d)}else t(s,...c)}catch(d){Pr.error(d)}}return a}function lle(t,e,n,r,a){let s=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(s=window[a]),window[a]=ole(s,t,e,n),{gtagCore:s,wrappedGtag:window[a]}}function cle(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(aE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ule=30,dle=1e3;class fle{constructor(e={},n=dle){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const J3=new fle;function hle(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function mle(t){var c;const{appId:e,apiKey:n}=t,r={method:"GET",headers:hle(n)},a=Zoe.replace("{app-id}",e),s=await fetch(a,r);if(s.status!==200&&s.status!==304){let d="";try{const f=await s.json();(c=f.error)!=null&&c.message&&(d=f.error.message)}catch{}throw ya.create("config-fetch-failed",{httpStatus:s.status,responseMessage:d})}return s.json()}async function ple(t,e=J3,n){const{appId:r,apiKey:a,measurementId:s}=t.options;if(!r)throw ya.create("no-app-id");if(!a){if(s)return{measurementId:s,appId:r};throw ya.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new vle;return setTimeout(async()=>{d.abort()},Joe),Z3({appId:r,apiKey:a,measurementId:s},c,d,e)}async function Z3(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=J3){var d;const{appId:s,measurementId:c}=t;try{await gle(r,e)}catch(f){if(c)return Pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:c};throw f}try{const f=await mle(t);return a.deleteThrottleMetadata(s),f}catch(f){const h=f;if(!yle(h)){if(a.deleteThrottleMetadata(s),c)return Pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:s,measurementId:c};throw f}const p=Number((d=h==null?void 0:h.customData)==null?void 0:d.httpStatus)===503?eD(n,a.intervalMillis,ule):eD(n,a.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(s,g),Pr.debug(`Calling attemptFetch again in ${p} millis`),Z3(t,g,r,a)}}function gle(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),s=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(s),r(ya.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yle(t){if(!(t instanceof Fa)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class vle{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xle(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const s=await e,c={...r,send_to:s};t("event",n,c)}}async function ble(t,e,n,r){if(r&&r.global){const a={};for(const s of Object.keys(n))a[`user_properties.${s}`]=n[s];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wle(){if(E3())try{await S3()}catch(t){return Pr.warn(ya.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Pr.warn(ya.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Nle(t,e,n,r,a,s,c){const d=ple(t);d.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Pr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Pr.error(x)),e.push(d);const f=wle().then(x=>{if(x)return r.getId()}),[h,p]=await Promise.all([d,f]);cle(s)||rle(s,h.measurementId),a("js",new Date);const g=(c==null?void 0:c.config)??{};return g[Qoe]="firebase",g.update=!0,p!=null&&(g[Xoe]=p),a("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _le{constructor(e){this.app=e}_delete(){return delete Cu[this.app.options.appId],Promise.resolve()}}let Cu={},dD=[];const fD={};let Zw="dataLayer",jle="gtag",hD,iE,mD=!1;function Ele(){const t=[];if(j3()&&t.push("This is a browser extension environment."),qie()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=ya.create("invalid-analytics-context",{errorInfo:e});Pr.warn(n.message)}}function Sle(t,e,n){Ele();const r=t.options.appId;if(!r)throw ya.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ya.create("no-api-key");if(Cu[r]!=null)throw ya.create("already-exists",{id:r});if(!mD){ale(Zw);const{wrappedGtag:s,gtagCore:c}=lle(Cu,dD,fD,Zw,jle);iE=s,hD=c,mD=!0}return Cu[r]=Nle(t,dD,fD,e,hD,Zw,n),new _le(t)}function Ale(t=R0()){t=jn(t);const e=sl(t,my);return e.isInitialized()?e.getImmediate():Tle(t)}function Tle(t,e={}){const n=sl(t,my);if(n.isInitialized()){const a=n.getImmediate();if(Wo(e,n.getOptions()))return a;throw ya.create("already-initialized")}return n.initialize({options:e})}function Cle(t,e,n){t=jn(t),ble(iE,Cu[t.app.options.appId],e,n).catch(r=>Pr.error(r))}function Ile(t,e,n,r){t=jn(t),xle(iE,Cu[t.app.options.appId],e,n,r).catch(a=>Pr.error(a))}const pD="@firebase/analytics",gD="0.10.19";function Ole(){di(new Ba(my,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Sle(r,a,n)},"PUBLIC")),di(new Ba("analytics-internal",t,"PRIVATE")),Jr(pD,gD),Jr(pD,gD,"esm2020");function t(e){try{const n=e.getProvider(my).getImmediate();return{logEvent:(r,a,s)=>Ile(n,r,a,s),setUserProperties:(r,a)=>Cle(n,r,a)}}catch(n){throw ya.create("interop-component-reg-failed",{reason:n})}}}Ole();var yD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qo,eL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,V){function M(){}M.prototype=V.prototype,k.F=V.prototype,k.prototype=new M,k.prototype.constructor=k,k.D=function(I,O,B){for(var z=Array(arguments.length-2),me=2;me<arguments.length;me++)z[me-2]=arguments[me];return V.prototype[O].apply(I,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,V,M){M||(M=0);const I=Array(16);if(typeof V=="string")for(var O=0;O<16;++O)I[O]=V.charCodeAt(M++)|V.charCodeAt(M++)<<8|V.charCodeAt(M++)<<16|V.charCodeAt(M++)<<24;else for(O=0;O<16;++O)I[O]=V[M++]|V[M++]<<8|V[M++]<<16|V[M++]<<24;V=k.g[0],M=k.g[1],O=k.g[2];let B=k.g[3],z;z=V+(B^M&(O^B))+I[0]+3614090360&4294967295,V=M+(z<<7&4294967295|z>>>25),z=B+(O^V&(M^O))+I[1]+3905402710&4294967295,B=V+(z<<12&4294967295|z>>>20),z=O+(M^B&(V^M))+I[2]+606105819&4294967295,O=B+(z<<17&4294967295|z>>>15),z=M+(V^O&(B^V))+I[3]+3250441966&4294967295,M=O+(z<<22&4294967295|z>>>10),z=V+(B^M&(O^B))+I[4]+4118548399&4294967295,V=M+(z<<7&4294967295|z>>>25),z=B+(O^V&(M^O))+I[5]+1200080426&4294967295,B=V+(z<<12&4294967295|z>>>20),z=O+(M^B&(V^M))+I[6]+2821735955&4294967295,O=B+(z<<17&4294967295|z>>>15),z=M+(V^O&(B^V))+I[7]+4249261313&4294967295,M=O+(z<<22&4294967295|z>>>10),z=V+(B^M&(O^B))+I[8]+1770035416&4294967295,V=M+(z<<7&4294967295|z>>>25),z=B+(O^V&(M^O))+I[9]+2336552879&4294967295,B=V+(z<<12&4294967295|z>>>20),z=O+(M^B&(V^M))+I[10]+4294925233&4294967295,O=B+(z<<17&4294967295|z>>>15),z=M+(V^O&(B^V))+I[11]+2304563134&4294967295,M=O+(z<<22&4294967295|z>>>10),z=V+(B^M&(O^B))+I[12]+1804603682&4294967295,V=M+(z<<7&4294967295|z>>>25),z=B+(O^V&(M^O))+I[13]+4254626195&4294967295,B=V+(z<<12&4294967295|z>>>20),z=O+(M^B&(V^M))+I[14]+2792965006&4294967295,O=B+(z<<17&4294967295|z>>>15),z=M+(V^O&(B^V))+I[15]+1236535329&4294967295,M=O+(z<<22&4294967295|z>>>10),z=V+(O^B&(M^O))+I[1]+4129170786&4294967295,V=M+(z<<5&4294967295|z>>>27),z=B+(M^O&(V^M))+I[6]+3225465664&4294967295,B=V+(z<<9&4294967295|z>>>23),z=O+(V^M&(B^V))+I[11]+643717713&4294967295,O=B+(z<<14&4294967295|z>>>18),z=M+(B^V&(O^B))+I[0]+3921069994&4294967295,M=O+(z<<20&4294967295|z>>>12),z=V+(O^B&(M^O))+I[5]+3593408605&4294967295,V=M+(z<<5&4294967295|z>>>27),z=B+(M^O&(V^M))+I[10]+38016083&4294967295,B=V+(z<<9&4294967295|z>>>23),z=O+(V^M&(B^V))+I[15]+3634488961&4294967295,O=B+(z<<14&4294967295|z>>>18),z=M+(B^V&(O^B))+I[4]+3889429448&4294967295,M=O+(z<<20&4294967295|z>>>12),z=V+(O^B&(M^O))+I[9]+568446438&4294967295,V=M+(z<<5&4294967295|z>>>27),z=B+(M^O&(V^M))+I[14]+3275163606&4294967295,B=V+(z<<9&4294967295|z>>>23),z=O+(V^M&(B^V))+I[3]+4107603335&4294967295,O=B+(z<<14&4294967295|z>>>18),z=M+(B^V&(O^B))+I[8]+1163531501&4294967295,M=O+(z<<20&4294967295|z>>>12),z=V+(O^B&(M^O))+I[13]+2850285829&4294967295,V=M+(z<<5&4294967295|z>>>27),z=B+(M^O&(V^M))+I[2]+4243563512&4294967295,B=V+(z<<9&4294967295|z>>>23),z=O+(V^M&(B^V))+I[7]+1735328473&4294967295,O=B+(z<<14&4294967295|z>>>18),z=M+(B^V&(O^B))+I[12]+2368359562&4294967295,M=O+(z<<20&4294967295|z>>>12),z=V+(M^O^B)+I[5]+4294588738&4294967295,V=M+(z<<4&4294967295|z>>>28),z=B+(V^M^O)+I[8]+2272392833&4294967295,B=V+(z<<11&4294967295|z>>>21),z=O+(B^V^M)+I[11]+1839030562&4294967295,O=B+(z<<16&4294967295|z>>>16),z=M+(O^B^V)+I[14]+4259657740&4294967295,M=O+(z<<23&4294967295|z>>>9),z=V+(M^O^B)+I[1]+2763975236&4294967295,V=M+(z<<4&4294967295|z>>>28),z=B+(V^M^O)+I[4]+1272893353&4294967295,B=V+(z<<11&4294967295|z>>>21),z=O+(B^V^M)+I[7]+4139469664&4294967295,O=B+(z<<16&4294967295|z>>>16),z=M+(O^B^V)+I[10]+3200236656&4294967295,M=O+(z<<23&4294967295|z>>>9),z=V+(M^O^B)+I[13]+681279174&4294967295,V=M+(z<<4&4294967295|z>>>28),z=B+(V^M^O)+I[0]+3936430074&4294967295,B=V+(z<<11&4294967295|z>>>21),z=O+(B^V^M)+I[3]+3572445317&4294967295,O=B+(z<<16&4294967295|z>>>16),z=M+(O^B^V)+I[6]+76029189&4294967295,M=O+(z<<23&4294967295|z>>>9),z=V+(M^O^B)+I[9]+3654602809&4294967295,V=M+(z<<4&4294967295|z>>>28),z=B+(V^M^O)+I[12]+3873151461&4294967295,B=V+(z<<11&4294967295|z>>>21),z=O+(B^V^M)+I[15]+530742520&4294967295,O=B+(z<<16&4294967295|z>>>16),z=M+(O^B^V)+I[2]+3299628645&4294967295,M=O+(z<<23&4294967295|z>>>9),z=V+(O^(M|~B))+I[0]+4096336452&4294967295,V=M+(z<<6&4294967295|z>>>26),z=B+(M^(V|~O))+I[7]+1126891415&4294967295,B=V+(z<<10&4294967295|z>>>22),z=O+(V^(B|~M))+I[14]+2878612391&4294967295,O=B+(z<<15&4294967295|z>>>17),z=M+(B^(O|~V))+I[5]+4237533241&4294967295,M=O+(z<<21&4294967295|z>>>11),z=V+(O^(M|~B))+I[12]+1700485571&4294967295,V=M+(z<<6&4294967295|z>>>26),z=B+(M^(V|~O))+I[3]+2399980690&4294967295,B=V+(z<<10&4294967295|z>>>22),z=O+(V^(B|~M))+I[10]+4293915773&4294967295,O=B+(z<<15&4294967295|z>>>17),z=M+(B^(O|~V))+I[1]+2240044497&4294967295,M=O+(z<<21&4294967295|z>>>11),z=V+(O^(M|~B))+I[8]+1873313359&4294967295,V=M+(z<<6&4294967295|z>>>26),z=B+(M^(V|~O))+I[15]+4264355552&4294967295,B=V+(z<<10&4294967295|z>>>22),z=O+(V^(B|~M))+I[6]+2734768916&4294967295,O=B+(z<<15&4294967295|z>>>17),z=M+(B^(O|~V))+I[13]+1309151649&4294967295,M=O+(z<<21&4294967295|z>>>11),z=V+(O^(M|~B))+I[4]+4149444226&4294967295,V=M+(z<<6&4294967295|z>>>26),z=B+(M^(V|~O))+I[11]+3174756917&4294967295,B=V+(z<<10&4294967295|z>>>22),z=O+(V^(B|~M))+I[2]+718787259&4294967295,O=B+(z<<15&4294967295|z>>>17),z=M+(B^(O|~V))+I[9]+3951481745&4294967295,k.g[0]=k.g[0]+V&4294967295,k.g[1]=k.g[1]+(O+(z<<21&4294967295|z>>>11))&4294967295,k.g[2]=k.g[2]+O&4294967295,k.g[3]=k.g[3]+B&4294967295}r.prototype.v=function(k,V){V===void 0&&(V=k.length);const M=V-this.blockSize,I=this.C;let O=this.h,B=0;for(;B<V;){if(O==0)for(;B<=M;)a(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<V;)if(I[O++]=k.charCodeAt(B++),O==this.blockSize){a(this,I),O=0;break}}else for(;B<V;)if(I[O++]=k[B++],O==this.blockSize){a(this,I),O=0;break}}this.h=O,this.o+=V},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var V=1;V<k.length-8;++V)k[V]=0;V=this.o*8;for(var M=k.length-8;M<k.length;++M)k[M]=V&255,V/=256;for(this.v(k),k=Array(16),V=0,M=0;M<4;++M)for(let I=0;I<32;I+=8)k[V++]=this.g[M]>>>I&255;return k};function s(k,V){var M=d;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=V(k)}function c(k,V){this.h=V;const M=[];let I=!0;for(let O=k.length-1;O>=0;O--){const B=k[O]|0;I&&B==V||(M[O]=B,I=!1)}this.g=M}var d={};function f(k){return-128<=k&&k<128?s(k,function(V){return new c([V|0],V<0?-1:0)}):new c([k|0],k<0?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return j(h(-k));const V=[];let M=1;for(let I=0;k>=M;I++)V[I]=k/M|0,M*=4294967296;return new c(V,0)}function p(k,V){if(k.length==0)throw Error("number format error: empty string");if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(k.charAt(0)=="-")return j(p(k.substring(1),V));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=h(Math.pow(V,8));let I=g;for(let B=0;B<k.length;B+=8){var O=Math.min(8,k.length-B);const z=parseInt(k.substring(B,B+O),V);O<8?(O=h(Math.pow(V,O)),I=I.j(O).add(h(z))):(I=I.j(M),I=I.add(h(z)))}return I}var g=f(0),x=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(_(this))return-j(this).m();let k=0,V=1;for(let M=0;M<this.g.length;M++){const I=this.i(M);k+=(I>=0?I:4294967296+I)*V,V*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(E(this))return"0";if(_(this))return"-"+j(this).toString(k);const V=h(Math.pow(k,6));var M=this;let I="";for(;;){const O=D(M,V).g;M=C(M,O.j(V));let B=((M.g.length>0?M.g[0]:M.h)>>>0).toString(k);if(M=O,E(M))return B+I;for(;B.length<6;)B="0"+B;I=B+I}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function E(k){if(k.h!=0)return!1;for(let V=0;V<k.g.length;V++)if(k.g[V]!=0)return!1;return!0}function _(k){return k.h==-1}t.l=function(k){return k=C(this,k),_(k)?-1:E(k)?0:1};function j(k){const V=k.g.length,M=[];for(let I=0;I<V;I++)M[I]=~k.g[I];return new c(M,~k.h).add(x)}t.abs=function(){return _(this)?j(this):this},t.add=function(k){const V=Math.max(this.g.length,k.g.length),M=[];let I=0;for(let O=0;O<=V;O++){let B=I+(this.i(O)&65535)+(k.i(O)&65535),z=(B>>>16)+(this.i(O)>>>16)+(k.i(O)>>>16);I=z>>>16,B&=65535,z&=65535,M[O]=z<<16|B}return new c(M,M[M.length-1]&-2147483648?-1:0)};function C(k,V){return k.add(j(V))}t.j=function(k){if(E(this)||E(k))return g;if(_(this))return _(k)?j(this).j(j(k)):j(j(this).j(k));if(_(k))return j(this.j(j(k)));if(this.l(w)<0&&k.l(w)<0)return h(this.m()*k.m());const V=this.g.length+k.g.length,M=[];for(var I=0;I<2*V;I++)M[I]=0;for(I=0;I<this.g.length;I++)for(let O=0;O<k.g.length;O++){const B=this.i(I)>>>16,z=this.i(I)&65535,me=k.i(O)>>>16,ae=k.i(O)&65535;M[2*I+2*O]+=z*ae,L(M,2*I+2*O),M[2*I+2*O+1]+=B*ae,L(M,2*I+2*O+1),M[2*I+2*O+1]+=z*me,L(M,2*I+2*O+1),M[2*I+2*O+2]+=B*me,L(M,2*I+2*O+2)}for(k=0;k<V;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=V;k<2*V;k++)M[k]=0;return new c(M,0)};function L(k,V){for(;(k[V]&65535)!=k[V];)k[V+1]+=k[V]>>>16,k[V]&=65535,V++}function A(k,V){this.g=k,this.h=V}function D(k,V){if(E(V))throw Error("division by zero");if(E(k))return new A(g,g);if(_(k))return V=D(j(k),V),new A(j(V.g),j(V.h));if(_(V))return V=D(k,j(V)),new A(j(V.g),V.h);if(k.g.length>30){if(_(k)||_(V))throw Error("slowDivide_ only works with positive integers.");for(var M=x,I=V;I.l(k)<=0;)M=R(M),I=R(I);var O=U(M,1),B=U(I,1);for(I=U(I,2),M=U(M,2);!E(I);){var z=B.add(I);z.l(k)<=0&&(O=O.add(M),B=z),I=U(I,1),M=U(M,1)}return V=C(k,O.j(V)),new A(O,V)}for(O=g;k.l(V)>=0;){for(M=Math.max(1,Math.floor(k.m()/V.m())),I=Math.ceil(Math.log(M)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),B=h(M),z=B.j(V);_(z)||z.l(k)>0;)M-=I,B=h(M),z=B.j(V);E(B)&&(B=x),O=O.add(B),k=C(k,z)}return new A(O,k)}t.B=function(k){return D(this,k).h},t.and=function(k){const V=Math.max(this.g.length,k.g.length),M=[];for(let I=0;I<V;I++)M[I]=this.i(I)&k.i(I);return new c(M,this.h&k.h)},t.or=function(k){const V=Math.max(this.g.length,k.g.length),M=[];for(let I=0;I<V;I++)M[I]=this.i(I)|k.i(I);return new c(M,this.h|k.h)},t.xor=function(k){const V=Math.max(this.g.length,k.g.length),M=[];for(let I=0;I<V;I++)M[I]=this.i(I)^k.i(I);return new c(M,this.h^k.h)};function R(k){const V=k.g.length+1,M=[];for(let I=0;I<V;I++)M[I]=k.i(I)<<1|k.i(I-1)>>>31;return new c(M,k.h)}function U(k,V){const M=V>>5;V%=32;const I=k.g.length-M,O=[];for(let B=0;B<I;B++)O[B]=V>0?k.i(B+M)>>>V|k.i(B+M+1)<<32-V:k.i(B+M);return new c(O,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eL=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,qo=c}).apply(typeof yD<"u"?yD:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tL,Df,nL,sg,NN,rL,aL,iL;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var S=0;S<y.length;++S){var P=y[S];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function a(y,S){if(S)e:{var P=r;y=y.split(".");for(var q=0;q<y.length-1;q++){var ne=y[q];if(!(ne in P))break e;P=P[ne]}y=y[y.length-1],q=P[y],S=S(q),S!=q&&S!=null&&e(P,y,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(S){var P=[],q;for(q in S)Object.prototype.hasOwnProperty.call(S,q)&&P.push([q,S[q]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},c=this||self;function d(y){var S=typeof y;return S=="object"&&y!=null||S=="function"}function f(y,S,P){return y.call.apply(y.bind,arguments)}function h(y,S,P){return h=f,h.apply(null,arguments)}function p(y,S){var P=Array.prototype.slice.call(arguments,1);return function(){var q=P.slice();return q.push.apply(q,arguments),y.apply(this,q)}}function g(y,S){function P(){}P.prototype=S.prototype,y.Z=S.prototype,y.prototype=new P,y.prototype.constructor=y,y.Ob=function(q,ne,ue){for(var Ce=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Ce[ot-2]=arguments[ot];return S.prototype[ne].apply(q,Ce)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function w(y){const S=y.length;if(S>0){const P=Array(S);for(let q=0;q<S;q++)P[q]=y[q];return P}return[]}function E(y,S){for(let q=1;q<arguments.length;q++){const ne=arguments[q];var P=typeof ne;if(P=P!="object"?P:ne?Array.isArray(ne)?"array":P:"null",P=="array"||P=="object"&&typeof ne.length=="number"){P=y.length||0;const ue=ne.length||0;y.length=P+ue;for(let Ce=0;Ce<ue;Ce++)y[P+Ce]=ne[Ce]}else y.push(ne)}}class _{constructor(S,P){this.i=S,this.j=P,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function j(y){c.setTimeout(()=>{throw y},0)}function C(){var y=k;let S=null;return y.g&&(S=y.g,y.g=y.g.next,y.g||(y.h=null),S.next=null),S}class L{constructor(){this.h=this.g=null}add(S,P){const q=A.get();q.set(S,P),this.h?this.h.next=q:this.g=q,this.h=q}}var A=new _(()=>new D,y=>y.reset());class D{constructor(){this.next=this.g=this.h=null}set(S,P){this.h=S,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let R,U=!1,k=new L,V=()=>{const y=Promise.resolve(void 0);R=()=>{y.then(M)}};function M(){for(var y;y=C();){try{y.h.call(y.g)}catch(P){j(P)}var S=A;S.j(y),S.h<100&&(S.h++,y.next=S.g,S.g=y)}U=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(y,S){this.type=y,this.g=this.target=S,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,S=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};c.addEventListener("test",P,S),c.removeEventListener("test",P,S)}catch{}return y})();function z(y){return/^[\s\xa0]*$/.test(y)}function me(y,S){O.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,S)}g(me,O),me.prototype.init=function(y,S){const P=this.type=y.type,q=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=S,S=y.relatedTarget,S||(P=="mouseover"?S=y.fromElement:P=="mouseout"&&(S=y.toElement)),this.relatedTarget=S,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),G=0;function re(y,S,P,q,ne){this.listener=y,this.proxy=null,this.src=S,this.type=P,this.capture=!!q,this.ha=ne,this.key=++G,this.da=this.fa=!1}function Y(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function xe(y,S,P){for(const q in y)S.call(P,y[q],q,y)}function X(y,S){for(const P in y)S.call(void 0,y[P],P,y)}function F(y){const S={};for(const P in y)S[P]=y[P];return S}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(y,S){let P,q;for(let ne=1;ne<arguments.length;ne++){q=arguments[ne];for(P in q)y[P]=q[P];for(let ue=0;ue<Q.length;ue++)P=Q[ue],Object.prototype.hasOwnProperty.call(q,P)&&(y[P]=q[P])}}function J(y){this.src=y,this.g={},this.h=0}J.prototype.add=function(y,S,P,q,ne){const ue=y.toString();y=this.g[ue],y||(y=this.g[ue]=[],this.h++);const Ce=Se(y,S,q,ne);return Ce>-1?(S=y[Ce],P||(S.fa=!1)):(S=new re(S,this.src,ue,!!q,ne),S.fa=P,y.push(S)),S};function he(y,S){const P=S.type;if(P in y.g){var q=y.g[P],ne=Array.prototype.indexOf.call(q,S,void 0),ue;(ue=ne>=0)&&Array.prototype.splice.call(q,ne,1),ue&&(Y(S),y.g[P].length==0&&(delete y.g[P],y.h--))}}function Se(y,S,P,q){for(let ne=0;ne<y.length;++ne){const ue=y[ne];if(!ue.da&&ue.listener==S&&ue.capture==!!P&&ue.ha==q)return ne}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),He={};function ce(y,S,P,q,ne){if(Array.isArray(S)){for(let ue=0;ue<S.length;ue++)ce(y,S[ue],P,q,ne);return null}return P=ge(P),y&&y[ae]?y.J(S,P,d(q)?!!q.capture:!1,ne):Be(y,S,P,!1,q,ne)}function Be(y,S,P,q,ne,ue){if(!S)throw Error("Invalid event type");const Ce=d(ne)?!!ne.capture:!!ne;let ot=Ee(y);if(ot||(y[Oe]=ot=new J(y)),P=ot.add(S,P,q,Ce,ue),P.proxy)return P;if(q=ee(),P.proxy=q,q.src=y,q.listener=P,y.addEventListener)B||(ne=Ce),ne===void 0&&(ne=!1),y.addEventListener(S.toString(),q,ne);else if(y.attachEvent)y.attachEvent(Ge(S.toString()),q);else if(y.addListener&&y.removeListener)y.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ee(){function y(P){return S.call(y.src,y.listener,P)}const S=Et;return y}function fe(y,S,P,q,ne){if(Array.isArray(S))for(var ue=0;ue<S.length;ue++)fe(y,S[ue],P,q,ne);else q=d(q)?!!q.capture:!!q,P=ge(P),y&&y[ae]?(y=y.i,ue=String(S).toString(),ue in y.g&&(S=y.g[ue],P=Se(S,P,q,ne),P>-1&&(Y(S[P]),Array.prototype.splice.call(S,P,1),S.length==0&&(delete y.g[ue],y.h--)))):y&&(y=Ee(y))&&(S=y.g[S.toString()],y=-1,S&&(y=Se(S,P,q,ne)),(P=y>-1?S[y]:null)&&Je(P))}function Je(y){if(typeof y!="number"&&y&&!y.da){var S=y.src;if(S&&S[ae])he(S.i,y);else{var P=y.type,q=y.proxy;S.removeEventListener?S.removeEventListener(P,q,y.capture):S.detachEvent?S.detachEvent(Ge(P),q):S.addListener&&S.removeListener&&S.removeListener(q),(P=Ee(S))?(he(P,y),P.h==0&&(P.src=null,S[Oe]=null)):Y(y)}}}function Ge(y){return y in He?He[y]:He[y]="on"+y}function Et(y,S){if(y.da)y=!0;else{S=new me(S,this);const P=y.listener,q=y.ha||y.src;y.fa&&Je(y),y=P.call(q,S)}return y}function Ee(y){return y=y[Oe],y instanceof J?y:null}var ut="__closure_events_fn_"+(Math.random()*1e9>>>0);function ge(y){return typeof y=="function"?y:(y[ut]||(y[ut]=function(S){return y.handleEvent(S)}),y[ut])}function We(){I.call(this),this.i=new J(this),this.M=this,this.G=null}g(We,I),We.prototype[ae]=!0,We.prototype.removeEventListener=function(y,S,P,q){fe(this,y,S,P,q)};function Ye(y,S){var P,q=y.G;if(q)for(P=[];q;q=q.G)P.push(q);if(y=y.M,q=S.type||S,typeof S=="string")S=new O(S,y);else if(S instanceof O)S.target=S.target||y;else{var ne=S;S=new O(q,y),K(S,ne)}ne=!0;let ue,Ce;if(P)for(Ce=P.length-1;Ce>=0;Ce--)ue=S.g=P[Ce],ne=St(ue,q,!0,S)&&ne;if(ue=S.g=y,ne=St(ue,q,!0,S)&&ne,ne=St(ue,q,!1,S)&&ne,P)for(Ce=0;Ce<P.length;Ce++)ue=S.g=P[Ce],ne=St(ue,q,!1,S)&&ne}We.prototype.N=function(){if(We.Z.N.call(this),this.i){var y=this.i;for(const S in y.g){const P=y.g[S];for(let q=0;q<P.length;q++)Y(P[q]);delete y.g[S],y.h--}}this.G=null},We.prototype.J=function(y,S,P,q){return this.i.add(String(y),S,!1,P,q)},We.prototype.K=function(y,S,P,q){return this.i.add(String(y),S,!0,P,q)};function St(y,S,P,q){if(S=y.i.g[String(S)],!S)return!0;S=S.concat();let ne=!0;for(let ue=0;ue<S.length;++ue){const Ce=S[ue];if(Ce&&!Ce.da&&Ce.capture==P){const ot=Ce.listener,yn=Ce.ha||Ce.src;Ce.fa&&he(y.i,Ce),ne=ot.call(yn,q)!==!1&&ne}}return ne&&!q.defaultPrevented}function na(y,S){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(y,S||0)}function te(y){y.g=na(()=>{y.g=null,y.i&&(y.i=!1,te(y))},y.l);const S=y.h;y.h=null,y.m.apply(null,S)}class Pe extends I{constructor(S,P){super(),this.m=S,this.l=P,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:te(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pe(y){I.call(this),this.h=y,this.g={}}g(pe,I);var Te=[];function tt(y){xe(y.g,function(S,P){this.g.hasOwnProperty(P)&&Je(S)},y),y.g={}}pe.prototype.N=function(){pe.Z.N.call(this),tt(this)},pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var st=c.JSON.stringify,En=c.JSON.parse,Lr=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function fl(){}function hl(){}var Ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Sn(){O.call(this,"d")}g(Sn,O);function Cr(){O.call(this,"c")}g(Cr,O);var gn={},Zh=null;function Sc(){return Zh=Zh||new We}gn.Ia="serverreachability";function em(y){O.call(this,gn.Ia,y)}g(em,O);function gi(y){const S=Sc();Ye(S,new em(S))}gn.STAT_EVENT="statevent";function ml(y,S){O.call(this,gn.STAT_EVENT,y),this.stat=S}g(ml,O);function An(y){const S=Sc();Ye(S,new ml(S,y))}gn.Ja="timingevent";function yi(y,S){O.call(this,gn.Ja,y),this.size=S}g(yi,O);function vi(y,S){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},S)}function qa(){this.g=!0}qa.prototype.ua=function(){this.g=!1};function iv(y,S,P,q,ne,ue){y.info(function(){if(y.g)if(ue){var Ce="",ot=ue.split("&");for(let At=0;At<ot.length;At++){var yn=ot[At].split("=");if(yn.length>1){const Jt=yn[0];yn=yn[1];const _a=Jt.split("_");Ce=_a.length>=2&&_a[1]=="type"?Ce+(Jt+"="+yn+"&"):Ce+(Jt+"=redacted&")}}}else Ce=null;else Ce=ue;return"XMLHTTP REQ ("+q+") [attempt "+ne+"]: "+S+`
`+P+`
`+Ce})}function tm(y,S,P,q,ne,ue,Ce){y.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ne+"]: "+S+`
`+P+`
`+ue+" "+Ce})}function xi(y,S,P,q){y.info(function(){return"XMLHTTP TEXT ("+S+"): "+sv(y,P)+(q?" "+q:"")})}function pl(y,S){y.info(function(){return"TIMEOUT: "+S})}qa.prototype.info=function(){};function sv(y,S){if(!y.g)return S;if(!S)return null;try{const ue=JSON.parse(S);if(ue){for(y=0;y<ue.length;y++)if(Array.isArray(ue[y])){var P=ue[y];if(!(P.length<2)){var q=P[1];if(Array.isArray(q)&&!(q.length<1)){var ne=q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Ce=1;Ce<q.length;Ce++)q[Ce]=""}}}}return st(ue)}catch{return S}}var gl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bd;function yl(){}g(yl,fl),yl.prototype.g=function(){return new XMLHttpRequest},bd=new yl;function rs(y){return encodeURIComponent(String(y))}function nm(y){var S=1;y=y.split(":");const P=[];for(;S>0&&y.length;)P.push(y.shift()),S--;return y.length&&P.push(y.join(":")),P}function Ha(y,S,P,q){this.j=y,this.i=S,this.l=P,this.S=q||1,this.V=new pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ga}function Ga(){this.i=null,this.g="",this.h=!1}var Tn={},Jn={};function bi(y,S,P){y.M=1,y.A=vl(In(S)),y.u=P,y.R=!0,Ac(y,null)}function Ac(y,S){y.F=Date.now(),wi(y),y.B=In(y.A);var P=y.B,q=y.S;Array.isArray(q)||(q=[String(q)]),Oc(P.i,"t",q),y.C=0,P=y.j.L,y.h=new Ga,y.g=ym(y.j,P?S:null,!y.u),y.P>0&&(y.O=new Pe(h(y.Y,y,y.g),y.P)),S=y.V,P=y.g,q=y.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(Te[0]=ne.toString()),ne=Te);for(let ue=0;ue<ne.length;ue++){const Ce=ce(P,ne[ue],q||S.handleEvent,!1,S.h||S);if(!Ce)break;S.g[Ce.key]=Ce}S=y.J?F(y.J):{},y.u?(y.v||(y.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,S)):(y.v="GET",y.g.ea(y.B,y.v,null,S)),gi(),iv(y.i,y.v,y.B,y.l,y.S,y.u)}Ha.prototype.ba=function(y){y=y.target;const S=this.O;S&&Wa(y)==3?S.j():this.Y(y)},Ha.prototype.Y=function(y){try{if(y==this.g)e:{const ot=Wa(this.g),yn=this.g.ya(),At=this.g.ca();if(!(ot<3)&&(ot!=3||this.g&&(this.h.h||this.g.la()||lr(this.g)))){this.K||ot!=4||yn==7||(yn==8||At<=0?gi(3):gi(2)),Ni(this);var S=this.g.ca();this.X=S;var P=ov(this);if(this.o=S==200,tm(this.i,this.v,this.B,this.l,this.S,ot,S),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ne=this.g;if((q=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(q)){var ue=q;break t}}ue=null}if(y=ue)xi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,y);else{this.o=!1,this.m=3,An(12),ra(this),ba(this);break e}}if(this.R){y=!0;let Jt;for(;!this.K&&this.C<P.length;)if(Jt=am(this,P),Jt==Jn){ot==4&&(this.m=4,An(14),y=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Tn){this.m=4,An(15),xi(this.i,this.l,P,"[Invalid Chunk]"),y=!1;break}else xi(this.i,this.l,Jt,null),_i(this,Jt);if(rm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||P.length!=0||this.h.h||(this.m=1,An(16),y=!1),this.o=this.o&&y,!y)xi(this.i,this.l,P,"[Invalid Chunked Response]"),ra(this),ba(this);else if(P.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),kd(Ce),Ce.P=!0,An(11))}}else xi(this.i,this.l,P,null),_i(this,P);ot==4&&ra(this),this.o&&!this.K&&(ot==4?hm(this.j,this):(this.o=!1,wi(this)))}else is(this.g),S==400&&P.indexOf("Unknown SID")>0?(this.m=3,An(12)):(this.m=0,An(13)),ra(this),ba(this)}}}catch{}finally{}};function ov(y){if(!rm(y))return y.g.la();const S=lr(y.g);if(S==="")return"";let P="";const q=S.length,ne=Wa(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return ra(y),ba(y),"";y.h.i=new c.TextDecoder}for(let ue=0;ue<q;ue++)y.h.h=!0,P+=y.h.i.decode(S[ue],{stream:!(ne&&ue==q-1)});return S.length=0,y.h.g+=P,y.C=0,y.h.g}function rm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function am(y,S){var P=y.C,q=S.indexOf(`
`,P);return q==-1?Jn:(P=Number(S.substring(P,q)),isNaN(P)?Tn:(q+=1,q+P>S.length?Jn:(S=S.slice(q,q+P),y.C=q+P,S)))}Ha.prototype.cancel=function(){this.K=!0,ra(this)};function wi(y){y.T=Date.now()+y.H,Tc(y,y.H)}function Tc(y,S){if(y.D!=null)throw Error("WatchDog timer not null");y.D=vi(h(y.aa,y),S)}function Ni(y){y.D&&(c.clearTimeout(y.D),y.D=null)}Ha.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(pl(this.i,this.B),this.M!=2&&(gi(),An(17)),ra(this),this.m=2,ba(this)):Tc(this,this.T-y)};function ba(y){y.j.I==0||y.K||hm(y.j,y)}function ra(y){Ni(y);var S=y.O;S&&typeof S.dispose=="function"&&S.dispose(),y.O=null,tt(y.V),y.g&&(S=y.g,y.g=null,S.abort(),S.dispose())}function _i(y,S){try{var P=y.j;if(P.I!=0&&(P.g==y||Ei(P.h,y))){if(!y.L&&Ei(P.h,y)&&P.I==3){try{var q=P.Ba.g.parse(S)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ne=q;if(ne[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<y.F)Mc(P),oo(P);else break e;El(P),An(18)}}else P.xa=ne[1],0<P.xa-P.K&&ne[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=vi(h(P.Va,P),6e3));ji(P.h)<=1&&P.ta&&(P.ta=void 0)}else Oi(P,11)}else if((y.L||P.g==y)&&Mc(P),!z(S))for(ne=P.Ba.g.parse(S),S=0;S<ne.length;S++){let At=ne[S];const Jt=At[0];if(!(Jt<=P.K))if(P.K=Jt,At=At[1],P.I==2)if(At[0]=="c"){P.M=At[1],P.ba=At[2];const _a=At[3];_a!=null&&(P.ka=_a,P.j.info("VER="+P.ka));const Ri=At[4];Ri!=null&&(P.za=Ri,P.j.info("SVER="+P.za));const Xa=At[5];Xa!=null&&typeof Xa=="number"&&Xa>0&&(q=1.5*Xa,P.O=q,P.j.info("backChannelRequestTimeoutMs_="+q)),q=P;const Qa=y.g;if(Qa){const Sl=Qa.g?Qa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sl){var ue=q.h;ue.g||Sl.indexOf("spdy")==-1&&Sl.indexOf("quic")==-1&&Sl.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(_d(ue,ue.h),ue.h=null))}if(q.G){const Lc=Qa.g?Qa.g.getResponseHeader("X-HTTP-Session-Id"):null;Lc&&(q.wa=Lc,It(q.J,q.G,Lc))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-y.F,P.j.info("Handshake RTT: "+P.T+"ms")),q=P;var Ce=y;if(q.na=gm(q,q.L?q.ba:null,q.W),Ce.L){jd(q.h,Ce);var ot=Ce,yn=q.O;yn&&(ot.H=yn),ot.D&&(Ni(ot),wi(ot)),q.g=Ce}else dm(q);P.i.length>0&&Ii(P)}else At[0]!="stop"&&At[0]!="close"||Oi(P,7);else P.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Oi(P,7):Dd(P):At[0]!="noop"&&P.l&&P.l.qa(At),P.A=0)}}gi(4)}catch{}}var Cn=class{constructor(y,S){this.g=y,this.map=S}};function wd(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function ji(y){return y.h?1:y.g?y.g.size:0}function Ei(y,S){return y.h?y.h==S:y.g?y.g.has(S):!1}function _d(y,S){y.g?y.g.add(S):y.h=S}function jd(y,S){y.h&&y.h==S?y.h=null:y.g&&y.g.has(S)&&y.g.delete(S)}wd.prototype.cancel=function(){if(this.i=Ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Ed(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let S=y.i;for(const P of y.g.values())S=S.concat(P.G);return S}return w(y.i)}var im=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(y,S){if(y){y=y.split("&");for(let P=0;P<y.length;P++){const q=y[P].indexOf("=");let ne,ue=null;q>=0?(ne=y[P].substring(0,q),ue=y[P].substring(q+1)):ne=y[P],S(ne,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function aa(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;y instanceof aa?(this.l=y.l,Zn(this,y.j),this.o=y.o,this.g=y.g,eo(this,y.u),this.h=y.h,Sd(this,cm(y.i)),this.m=y.m):y&&(S=String(y).match(im))?(this.l=!1,Zn(this,S[1]||"",!0),this.o=Si(S[2]||""),this.g=Si(S[3]||"",!0),eo(this,S[4]),this.h=Si(S[5]||"",!0),Sd(this,S[6]||"",!0),this.m=Si(S[7]||"")):(this.l=!1,this.i=new no(null,this.l))}aa.prototype.toString=function(){const y=[];var S=this.j;S&&y.push(xl(S,Ic,!0),":");var P=this.g;return(P||S=="file")&&(y.push("//"),(S=this.o)&&y.push(xl(S,Ic,!0),"@"),y.push(rs(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&y.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push(xl(P,P.charAt(0)=="/"?Ad:sm,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",xl(P,om)),y.join("")},aa.prototype.resolve=function(y){const S=In(this);let P=!!y.j;P?Zn(S,y.j):P=!!y.o,P?S.o=y.o:P=!!y.g,P?S.g=y.g:P=y.u!=null;var q=y.h;if(P)eo(S,y.u);else if(P=!!y.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ne=S.h.lastIndexOf("/");ne!=-1&&(q=S.h.slice(0,ne+1)+q)}if(ne=q,ne==".."||ne==".")q="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){q=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const ue=[];for(let Ce=0;Ce<ne.length;){const ot=ne[Ce++];ot=="."?q&&Ce==ne.length&&ue.push(""):ot==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),q&&Ce==ne.length&&ue.push("")):(ue.push(ot),q=!0)}q=ue.join("/")}else q=ne}return P?S.h=q:P=y.i.toString()!=="",P?Sd(S,cm(y.i)):P=!!y.m,P&&(S.m=y.m),S};function In(y){return new aa(y)}function Zn(y,S,P){y.j=P?Si(S,!0):S,y.j&&(y.j=y.j.replace(/:$/,""))}function eo(y,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);y.u=S}else y.u=null}function Sd(y,S,P){S instanceof no?(y.i=S,Rc(y.i,y.l)):(P||(S=xl(S,to)),y.i=new no(S,y.l))}function It(y,S,P){y.i.set(S,P)}function vl(y){return It(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Si(y,S){return y?S?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function xl(y,S,P){return typeof y=="string"?(y=encodeURI(y).replace(S,Vr),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Vr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Ic=/[#\/\?@]/g,sm=/[#\?:]/g,Ad=/[#\?]/g,to=/[#\?@]/g,om=/#/g;function no(y,S){this.h=this.g=null,this.i=y||null,this.j=!!S}function zr(y){y.g||(y.g=new Map,y.h=0,y.i&&Cc(y.i,function(S,P){y.add(decodeURIComponent(S.replace(/\+/g," ")),P)}))}t=no.prototype,t.add=function(y,S){zr(this),this.i=null,y=ro(this,y);let P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(S),this.h+=1,this};function lm(y,S){zr(y),S=ro(y,S),y.g.has(S)&&(y.i=null,y.h-=y.g.get(S).length,y.g.delete(S))}function Td(y,S){return zr(y),S=ro(y,S),y.g.has(S)}t.forEach=function(y,S){zr(this),this.g.forEach(function(P,q){P.forEach(function(ne){y.call(S,ne,q,this)},this)},this)};function Cd(y,S){zr(y);let P=[];if(typeof S=="string")Td(y,S)&&(P=P.concat(y.g.get(ro(y,S))));else for(y=Array.from(y.g.values()),S=0;S<y.length;S++)P=P.concat(y[S]);return P}t.set=function(y,S){return zr(this),this.i=null,y=ro(this,y),Td(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[S]),this.h+=1,this},t.get=function(y,S){return y?(y=Cd(this,y),y.length>0?String(y[0]):S):S};function Oc(y,S,P){lm(y,S),P.length>0&&(y.i=null,y.g.set(ro(y,S),w(P)),y.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],S=Array.from(this.g.keys());for(let q=0;q<S.length;q++){var P=S[q];const ne=rs(P);P=Cd(this,P);for(let ue=0;ue<P.length;ue++){let Ce=ne;P[ue]!==""&&(Ce+="="+rs(P[ue])),y.push(Ce)}}return this.i=y.join("&")};function cm(y){const S=new no;return S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),S}function ro(y,S){return S=String(S),y.j&&(S=S.toLowerCase()),S}function Rc(y,S){S&&!y.j&&(zr(y),y.i=null,y.g.forEach(function(P,q){const ne=q.toLowerCase();q!=ne&&(lm(this,q),Oc(this,ne,P))},y)),y.j=S}function Ka(y,S){const P=new qa;if(c.Image){const q=new Image;q.onload=p(wa,P,"TestLoadImage: loaded",!0,S,q),q.onerror=p(wa,P,"TestLoadImage: error",!1,S,q),q.onabort=p(wa,P,"TestLoadImage: abort",!1,S,q),q.ontimeout=p(wa,P,"TestLoadImage: timeout",!1,S,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=y}else S(!1)}function Id(y,S){const P=new qa,q=new AbortController,ne=setTimeout(()=>{q.abort(),wa(P,"TestPingServer: timeout",!1,S)},1e4);fetch(y,{signal:q.signal}).then(ue=>{clearTimeout(ne),ue.ok?wa(P,"TestPingServer: ok",!0,S):wa(P,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ne),wa(P,"TestPingServer: error",!1,S)})}function wa(y,S,P,q,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),q(P)}catch{}}function ao(){this.g=new Lr}function Ai(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Ai,fl),Ai.prototype.g=function(){return new bl(this.i,this.h)};function bl(y,S){We.call(this),this.H=y,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(bl,We),t=bl.prototype,t.open=function(y,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=S,this.readyState=1,Ya(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(S.body=y),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,io(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ya(this)),this.g&&(this.readyState=3,Ya(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var S=y.value?y.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!y.done}))&&(this.response=this.responseText+=S)}y.done?io(this):Ya(this),this.readyState==3&&Dc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,io(this))},t.Na=function(y){this.g&&(this.response=y,io(this))},t.ga=function(){this.g&&io(this)};function io(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ya(y)}t.setRequestHeader=function(y,S){this.A.append(y,S)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],S=this.h.entries();for(var P=S.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=S.next();return y.join(`\r
`)};function Ya(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Na(y){let S="";return xe(y,function(P,q){S+=q,S+=":",S+=P,S+=`\r
`}),S}function wl(y,S,P){e:{for(q in P){var q=!1;break e}q=!0}q||(P=Na(P),typeof y=="string"?P!=null&&rs(P):It(y,S,P))}function kt(y){We.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(kt,We);var Ti=/^https?$/i,Od=["POST","PUT"];t=kt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,S,P,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);S=S?S.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bd.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(y),!0),this.B=!1}catch(ue){Nl(this,ue);return}if(y=P||"",P=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ne in q)P.set(ne,q[ne]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ue of q.keys())P.set(ue,q.get(ue));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(P.keys()).find(ue=>ue.toLowerCase()=="content-type"),ne=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Od,S,void 0)>=0)||q||ne||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Ce]of P)this.g.setRequestHeader(ue,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ue){Nl(this,ue)}};function Nl(y,S){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=S,y.o=5,Rd(y),as(y)}function Rd(y){y.A||(y.A=!0,Ye(y,"complete"),Ye(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Ye(this,"complete"),Ye(this,"abort"),as(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),kt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_l(this):this.Xa())},t.Xa=function(){_l(this)};function _l(y){if(y.h&&typeof s<"u"){if(y.v&&Wa(y)==4)setTimeout(y.Ca.bind(y),0);else if(Ye(y,"readystatechange"),Wa(y)==4){y.h=!1;try{const ue=y.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var P;if(!(P=S)){var q;if(q=ue===0){let Ce=String(y.D).match(im)[1]||null;!Ce&&c.self&&c.self.location&&(Ce=c.self.location.protocol.slice(0,-1)),q=!Ti.test(Ce?Ce.toLowerCase():"")}P=q}if(P)Ye(y,"complete"),Ye(y,"success");else{y.o=6;try{var ne=Wa(y)>2?y.g.statusText:""}catch{ne=""}y.l=ne+" ["+y.ca()+"]",Rd(y)}}finally{as(y)}}}}function as(y,S){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const P=y.g;y.g=null,S||Ye(y,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wa(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Wa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var S=this.g.responseText;return y&&S.indexOf(y)==0&&(S=S.substring(y.length)),En(S)}};function lr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function is(y){const S={};y=(y.g&&Wa(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<y.length;q++){if(z(y[q]))continue;var P=nm(y[q]);const ne=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ue=S[ne]||[];S[ne]=ue,ue.push(P)}X(S,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(y,S,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||S}function so(y){this.za=0,this.i=[],this.j=new qa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,y),this.Za=Ci("retryDelaySeedMs",1e4,y),this.Ta=Ci("forwardChannelMaxRetries",2,y),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new wd(y&&y.concurrentRequestLimit),this.Ba=new ao,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=so.prototype,t.ka=8,t.I=1,t.connect=function(y,S,P,q){An(0),this.W=y,this.H=S||{},P&&q!==void 0&&(this.H.OSID=P,this.H.OAID=q),this.F=this.X,this.J=gm(this,null,this.W),Ii(this)};function Dd(y){if(Pc(y),y.I==3){var S=y.V++,P=In(y.J);if(It(P,"SID",y.M),It(P,"RID",S),It(P,"TYPE","terminate"),jl(y,P),S=new Ha(y,y.j,S),S.M=2,S.A=vl(In(P)),P=!1,c.navigator&&c.navigator.sendBeacon)try{P=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!P&&c.Image&&(new Image().src=S.A,P=!0),P||(S.g=ym(S.j,null),S.g.ea(S.A)),S.F=Date.now(),wi(S)}pm(y)}function oo(y){y.g&&(kd(y),y.g.cancel(),y.g=null)}function Pc(y){oo(y),y.v&&(c.clearTimeout(y.v),y.v=null),Mc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function Ii(y){if(!Nd(y.h)&&!y.m){y.m=!0;var S=y.Ea;R||V(),U||(R(),U=!0),k.add(S,y),y.D=0}}function kc(y,S){return ji(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=S.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=vi(h(y.Ea,y,S),mm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ne=new Ha(this,this.j,y);let ue=this.o;if(this.U&&(ue?(ue=F(ue),K(ue,this.U)):ue=this.U),this.u!==null||this.R||(ne.J=ue,ue=null),this.S)e:{for(var S=0,P=0;P<this.i.length;P++){t:{var q=this.i[P];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(S+=q,S>4096){S=P;break e}if(S===4096||P===this.i.length-1){S=P+1;break e}}S=1e3}else S=1e3;S=um(this,ne,S),P=In(this.J),It(P,"RID",y),It(P,"CVER",22),this.G&&It(P,"X-HTTP-Session-Id",this.G),jl(this,P),ue&&(this.R?S="headers="+rs(Na(ue))+"&"+S:this.u&&wl(P,this.u,ue)),_d(this.h,ne),this.Ra&&It(P,"TYPE","init"),this.S?(It(P,"$req",S),It(P,"SID","null"),ne.U=!0,bi(ne,P,null)):bi(ne,P,S),this.I=2}}else this.I==3&&(y?Pd(this,y):this.i.length==0||Nd(this.h)||Pd(this))};function Pd(y,S){var P;S?P=S.l:P=y.V++;const q=In(y.J);It(q,"SID",y.M),It(q,"RID",P),It(q,"AID",y.K),jl(y,q),y.u&&y.o&&wl(q,y.u,y.o),P=new Ha(y,y.j,P,y.D+1),y.u===null&&(P.J=y.o),S&&(y.i=S.G.concat(y.i)),S=um(y,P,1e3),P.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),_d(y.h,P),bi(P,q,S)}function jl(y,S){y.H&&xe(y.H,function(P,q){It(S,q,P)}),y.l&&xe({},function(P,q){It(S,q,P)})}function um(y,S,P){P=Math.min(y.i.length,P);const q=y.l?h(y.l.Ka,y.l,y):null;e:{var ne=y.i;let ot=-1;for(;;){const yn=["count="+P];ot==-1?P>0?(ot=ne[0].g,yn.push("ofs="+ot)):ot=0:yn.push("ofs="+ot);let At=!0;for(let Jt=0;Jt<P;Jt++){var ue=ne[Jt].g;const _a=ne[Jt].map;if(ue-=ot,ue<0)ot=Math.max(0,ne[Jt].g-100),At=!1;else try{ue="req"+ue+"_"||"";try{var Ce=_a instanceof Map?_a:Object.entries(_a);for(const[Ri,Xa]of Ce){let Qa=Xa;d(Xa)&&(Qa=st(Xa)),yn.push(ue+Ri+"="+encodeURIComponent(Qa))}}catch(Ri){throw yn.push(ue+"type="+encodeURIComponent("_badmap")),Ri}}catch{q&&q(_a)}}if(At){Ce=yn.join("&");break e}}Ce=void 0}return y=y.i.splice(0,P),S.G=y,Ce}function dm(y){if(!y.g&&!y.v){y.Y=1;var S=y.Da;R||V(),U||(R(),U=!0),k.add(S,y),y.A=0}}function El(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=vi(h(y.Da,y),mm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,fm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=vi(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,An(10),oo(this),fm(this))};function kd(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function fm(y){y.g=new Ha(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var S=In(y.na);It(S,"RID","rpc"),It(S,"SID",y.M),It(S,"AID",y.K),It(S,"CI",y.F?"0":"1"),!y.F&&y.ia&&It(S,"TO",y.ia),It(S,"TYPE","xmlhttp"),jl(y,S),y.u&&y.o&&wl(S,y.u,y.o),y.O&&(y.g.H=y.O);var P=y.g;y=y.ba,P.M=1,P.A=vl(In(S)),P.u=null,P.R=!0,Ac(P,y)}t.Va=function(){this.C!=null&&(this.C=null,oo(this),El(this),An(19))};function Mc(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function hm(y,S){var P=null;if(y.g==S){Mc(y),kd(y),y.g=null;var q=2}else if(Ei(y.h,S))P=S.G,jd(y.h,S),q=1;else return;if(y.I!=0){if(S.o)if(q==1){P=S.u?S.u.length:0,S=Date.now()-S.F;var ne=y.D;q=Sc(),Ye(q,new yi(q,P)),Ii(y)}else dm(y);else if(ne=S.m,ne==3||ne==0&&S.X>0||!(q==1&&kc(y,S)||q==2&&El(y)))switch(P&&P.length>0&&(S=y.h,S.i=S.i.concat(P)),ne){case 1:Oi(y,5);break;case 4:Oi(y,10);break;case 3:Oi(y,6);break;default:Oi(y,2)}}}function mm(y,S){let P=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(P*=2),P*S}function Oi(y,S){if(y.j.info("Error code "+S),S==2){var P=h(y.bb,y),q=y.Ua;const ne=!q;q=new aa(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zn(q,"https"),vl(q),ne?Ka(q.toString(),P):Id(q.toString(),P)}else An(2);y.I=0,y.l&&y.l.pa(S),pm(y),Pc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),An(2)):(this.j.info("Failed to ping google.com"),An(1))};function pm(y){if(y.I=0,y.ja=[],y.l){const S=Ed(y.h);(S.length!=0||y.i.length!=0)&&(E(y.ja,S),E(y.ja,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.oa()}}function gm(y,S,P){var q=P instanceof aa?In(P):new aa(P);if(q.g!="")S&&(q.g=S+"."+q.g),eo(q,q.u);else{var ne=c.location;q=ne.protocol,S=S?S+"."+ne.hostname:ne.hostname,ne=+ne.port;const ue=new aa(null);q&&Zn(ue,q),S&&(ue.g=S),ne&&eo(ue,ne),P&&(ue.h=P),q=ue}return P=y.G,S=y.wa,P&&S&&It(q,P,S),It(q,"VER",y.ka),jl(y,q),q}function ym(y,S,P){if(S&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=y.Aa&&!y.ma?new kt(new Ai({ab:P})):new kt(y.ma),S.Fa(y.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vm(){}t=vm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lo(){}lo.prototype.g=function(y,S){return new Ir(y,S)};function Ir(y,S){We.call(this),this.g=new so(S),this.l=y,this.h=S&&S.messageUrlParams||null,y=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(y?y["X-WebChannel-Content-Type"]=S.messageContentType:y={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(y?y["X-WebChannel-Client-Profile"]=S.sa:y={"X-WebChannel-Client-Profile":S.sa}),this.g.U=y,(y=S&&S.Qb)&&!z(y)&&(this.g.u=y),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!z(S)&&(this.g.G=S,y=this.h,y!==null&&S in y&&(y=this.h,S in y&&delete y[S])),this.j=new ss(this)}g(Ir,We),Ir.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){Dd(this.g)},Ir.prototype.o=function(y){var S=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.v&&(P={},P.__data__=st(y),y=P);S.i.push(new Cn(S.Ya++,y)),S.I==3&&Ii(S)},Ir.prototype.N=function(){this.g.l=null,delete this.j,Dd(this.g),delete this.g,Ir.Z.N.call(this)};function xm(y){Sn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var S=y.__sm__;if(S){e:{for(const P in S){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,S=S!==null&&y in S?S[y]:void 0),this.data=S}else this.data=y}g(xm,Sn);function bm(){Cr.call(this),this.status=1}g(bm,Cr);function ss(y){this.g=y}g(ss,vm),ss.prototype.ra=function(){Ye(this.g,"a")},ss.prototype.qa=function(y){Ye(this.g,new xm(y))},ss.prototype.pa=function(y){Ye(this.g,new bm)},ss.prototype.oa=function(){Ye(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,iL=function(){return new lo},aL=function(){return Sc()},rL=gn,NN={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gl.NO_ERROR=0,gl.TIMEOUT=8,gl.HTTP_ERROR=6,sg=gl,xd.COMPLETE="complete",nL=xd,hl.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",We.prototype.listen=We.prototype.J,Df=hl,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,tL=kt}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});const vD="@firebase/firestore",xD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new O0("@firebase/firestore");function vu(){return hc.logLevel}function ke(t,...e){if(hc.logLevel<=gt.DEBUG){const n=e.map(sE);hc.debug(`Firestore (${dd}): ${t}`,...n)}}function qs(t,...e){if(hc.logLevel<=gt.ERROR){const n=e.map(sE);hc.error(`Firestore (${dd}): ${t}`,...n)}}function Gu(t,...e){if(hc.logLevel<=gt.WARN){const n=e.map(sE);hc.warn(`Firestore (${dd}): ${t}`,...n)}}function sE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sL(t,r,n)}function sL(t,e,n){let r=`FIRESTORE (${dd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qs(r),new Error(r)}function Ct(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||sL(e,a,r)}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Fa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nr.UNAUTHENTICATED)))}shutdown(){}}class Dle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ple{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Ho;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ho,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ho)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new oL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new Nr(e)}}class kle{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mle{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kle(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lle{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=s=>{s.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bD(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ule(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Ule(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function yt(t,e){return t<e?-1:t>e?1:0}function _N(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return e1(a)===e1(s)?yt(a,s):e1(a)?1:-1}return yt(t.length,e.length)}const Vle=55296,zle=57343;function e1(t){const e=t.charCodeAt(0);return e>=Vle&&e<=zle}function Ku(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="__name__";class Li{constructor(e,n,r){n===void 0?n=0:n>e.length&&Xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=Li.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return yt(e.length,n.length)}static compareSegments(e,n){const r=Li.isNumericId(e),a=Li.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Li.extractNumericId(e).compare(Li.extractNumericId(n)):_N(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qo.fromString(e.substring(4,e.length-2))}}class Kt extends Li{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Kt(n)}static emptyPath(){return new Kt([])}}const Ble=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends Li{construct(e,n,r){return new pr(e,n,r)}static isValidIdentifier(e){return Ble.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wD}static keyField(){return new pr([wD])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new De(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new De(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new De(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(s(),a++)}if(s(),c)throw new De(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(n)}static emptyPath(){return new pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Kt.fromString(e))}static fromName(e){return new Fe(Kt.fromString(e).popFirst(5))}static empty(){return new Fe(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t,e,n){if(!n)throw new De(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $le(t,e,n,r){if(e===!0&&r===!0)throw new De(we.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ND(t){if(!Fe.isDocumentKey(t))throw new De(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _D(t){if(Fe.isDocumentKey(t))throw new De(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function k0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe(12329,{type:typeof t})}function Xo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=k0(t);throw new De(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,e){const n={typeString:t};return e&&(n.value=e),n}function $h(t,e){if(!cL(t))throw new De(we.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new De(we.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=-62135596800,ED=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ED);return new Qt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jD)throw new De(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ED}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($h(e,Qt._jsonSchema))return new Qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:zn("string",Qt._jsonSchemaVersion),seconds:zn("number"),nanoseconds:zn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Qt(0,0))}static max(){return new Ze(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=-1;function Fle(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ze.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new Qo(a,Fe.empty(),e)}function qle(t){return new Qo(t.readTime,t.key,oh)}class Qo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qo(Ze.min(),Fe.empty(),oh)}static max(){return new Qo(Ze.max(),Fe.empty(),oh)}}function Hle(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Fe.comparator(t.documentKey,e.documentKey),n!==0?n:yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gle="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==Gle)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.reject(n)}static resolve(e){return new _e(((n,r)=>{n(e)}))}static reject(e){return new _e(((n,r)=>{r(e)}))}static waitFor(e){return new _e(((n,r)=>{let a=0,s=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++s,c&&s===a&&n()}),(f=>r(f)))})),c=!0,s===a&&n()}))}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next((a=>a?_e.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,s)=>{r.push(n.call(this,a,s))})),this.waitFor(r)}static mapArray(e,n){return new _e(((r,a)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++d,d===s&&r(c)}),(p=>a(p)))}}))}static doWhile(e,n){return new _e(((r,a)=>{const s=()=>{e()===!0?n().next((()=>{s()}),a):r()};s()}))}}function Yle(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}M0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-1;function L0(t){return t==null}function py(t){return t===0&&1/t==-1/0}function Wle(t){return typeof t=="number"&&Number.isInteger(t)&&!py(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="";function Xle(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SD(e)),e=Qle(t.get(n),e);return SD(e)}function Qle(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case uL:n+="";break;default:n+=s}}return n}function SD(t){return t+uL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ol(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fp(this.root,e,this.comparator,!0)}}class Fp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??mr.RED,this.left=a??mr.EMPTY,this.right=s??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new mr(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return mr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TD(this.data.getIterator())}getIteratorFrom(e){return new TD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kn(this.comparator);return n.data=e,n}}class TD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new pa([])}unionWith(e){let n=new Kn(pr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ku(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fL("Invalid base64 string: "+s):s}})(e);return new vr(n)}static fromUint8Array(e){const n=(function(a){let s="";for(let c=0;c<a.length;++c)s+=String.fromCharCode(a[c]);return s})(e);return new vr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const Jle=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=Jle.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zo(t){return typeof t=="string"?vr.fromBase64String(t):vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="server_timestamp",mL="__type__",pL="__previous_value__",gL="__local_write_time__";function cE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mL])==null?void 0:r.stringValue)===hL}function U0(t){const e=t.mapValue.fields[pL];return cE(e)?U0(e):e}function lh(t){const e=Jo(t.mapValue.fields[gL].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zle{constructor(e,n,r,a,s,c,d,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const gy="(default)";class ch{constructor(e,n){this.projectId=e,this.database=n||gy}static empty(){return new ch("","")}get isDefaultDatabase(){return this.database===gy}isEqual(e){return e instanceof ch&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="__type__",ece="__max__",qp={mapValue:{}},vL="__vector__",yy="value";function el(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cE(t)?4:nce(t)?9007199254740991:tce(t)?10:11:Xe(28295,{value:t})}function Qi(t,e){if(t===e)return!0;const n=el(t);if(n!==el(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lh(t).isEqual(lh(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const c=Jo(a.timestampValue),d=Jo(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Zo(a.bytesValue).isEqual(Zo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return wn(a.geoPointValue.latitude)===wn(s.geoPointValue.latitude)&&wn(a.geoPointValue.longitude)===wn(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return wn(a.integerValue)===wn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const c=wn(a.doubleValue),d=wn(s.doubleValue);return c===d?py(c)===py(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Ku(t.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(a,s){const c=a.mapValue.fields||{},d=s.mapValue.fields||{};if(AD(c)!==AD(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Qi(c[f],d[f])))return!1;return!0})(t,e);default:return Xe(52216,{left:t})}}function uh(t,e){return(t.values||[]).find((n=>Qi(n,e)))!==void 0}function Yu(t,e){if(t===e)return 0;const n=el(t),r=el(e);if(n!==r)return yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yt(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const d=wn(s.integerValue||s.doubleValue),f=wn(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return CD(t.timestampValue,e.timestampValue);case 4:return CD(lh(t),lh(e));case 5:return _N(t.stringValue,e.stringValue);case 6:return(function(s,c){const d=Zo(s),f=Zo(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const d=s.split("/"),f=c.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=yt(d[h],f[h]);if(p!==0)return p}return yt(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const d=yt(wn(s.latitude),wn(c.latitude));return d!==0?d:yt(wn(s.longitude),wn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ID(t.arrayValue,e.arrayValue);case 10:return(function(s,c){var x,w,E,_;const d=s.fields||{},f=c.fields||{},h=(x=d[yy])==null?void 0:x.arrayValue,p=(w=f[yy])==null?void 0:w.arrayValue,g=yt(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((_=p==null?void 0:p.values)==null?void 0:_.length)||0);return g!==0?g:ID(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===qp.mapValue&&c===qp.mapValue)return 0;if(s===qp.mapValue)return 1;if(c===qp.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=_N(f[g],p[g]);if(x!==0)return x;const w=Yu(d[f[g]],h[p[g]]);if(w!==0)return w}return yt(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Xe(23264,{he:n})}}function CD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yt(t,e);const n=Jo(t),r=Jo(e),a=yt(n.seconds,r.seconds);return a!==0?a:yt(n.nanos,r.nanos)}function ID(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=Yu(n[a],r[a]);if(s)return s}return yt(n.length,r.length)}function Wu(t){return jN(t)}function jN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Jo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Fe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=jN(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const c of r)s?s=!1:a+=",",a+=`${c}:${jN(n.fields[c])}`;return a+"}"})(t.mapValue):Xe(61005,{value:t})}function og(t){switch(el(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=U0(t);return e?16+og(e):16;case 5:return 2*t.stringValue.length;case 6:return Zo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+og(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return ol(r.fields,((s,c)=>{a+=s.length+og(c)})),a})(t.mapValue);default:throw Xe(13486,{value:t})}}function OD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function EN(t){return!!t&&"integerValue"in t}function uE(t){return!!t&&"arrayValue"in t}function RD(t){return!!t&&"nullValue"in t}function DD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lg(t){return!!t&&"mapValue"in t}function tce(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yL])==null?void 0:r.stringValue)===vL}function Vf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ol(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Vf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vf(t.arrayValue.values[n]);return e}return{...t}}function nce(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ece}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vf(n)}setAll(e){let n=pr.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Vf(c):a.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());lg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];lg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ol(n,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new Yr(Vf(this.value))}}function xL(t){const e=[];return ol(t.fields,((n,r)=>{const a=new pr([n]);if(lg(r)){const s=xL(r.mapValue).fields;if(s.length===0)e.push(a);else for(const c of s)e.push(a.child(c))}else e.push(a)})),new pa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r,a,s,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new jr(e,0,Ze.min(),Ze.min(),Ze.min(),Yr.empty(),0)}static newFoundDocument(e,n,r,a){return new jr(e,1,n,Ze.min(),r,a,0)}static newNoDocument(e,n){return new jr(e,2,n,Ze.min(),Ze.min(),Yr.empty(),0)}static newUnknownDocument(e,n){return new jr(e,3,n,Ze.min(),Ze.min(),Yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.position=e,this.inclusive=n}}function PD(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],c=t.position[a];if(s.field.isKeyField()?r=Fe.comparator(Fe.fromName(c.referenceValue),n.key):r=Yu(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function rce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{}class Ln extends bL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ice(e,n,r):n==="array-contains"?new lce(e,r):n==="in"?new cce(e,r):n==="not-in"?new uce(e,r):n==="array-contains-any"?new dce(e,r):new Ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sce(e,r):new oce(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yu(n,this.value)):n!==null&&el(this.value)===el(n)&&this.matchesComparison(Yu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends bL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return wL(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wL(t){return t.op==="and"}function NL(t){return ace(t)&&wL(t)}function ace(t){for(const e of t.filters)if(e instanceof fi)return!1;return!0}function SN(t){if(t instanceof Ln)return t.field.canonicalString()+t.op.toString()+Wu(t.value);if(NL(t))return t.filters.map((e=>SN(e))).join(",");{const e=t.filters.map((n=>SN(n))).join(",");return`${t.op}(${e})`}}function _L(t,e){return t instanceof Ln?(function(r,a){return a instanceof Ln&&r.op===a.op&&r.field.isEqual(a.field)&&Qi(r.value,a.value)})(t,e):t instanceof fi?(function(r,a){return a instanceof fi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,c,d)=>s&&_L(c,a.filters[d])),!0):!1})(t,e):void Xe(19439)}function jL(t){return t instanceof Ln?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wu(n.value)}`})(t):t instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(jL).join(" ,")+"}"})(t):"Filter"}class ice extends Ln{constructor(e,n,r){super(e,n,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const n=Fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class sce extends Ln{constructor(e,n){super(e,"in",n),this.keys=EL("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oce extends Ln{constructor(e,n){super(e,"not-in",n),this.keys=EL("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function EL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Fe.fromName(r.referenceValue)))}class lce extends Ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uE(n)&&uh(n.arrayValue,this.value)}}class cce extends Ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uh(this.value.arrayValue,n)}}class uce extends Ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uh(this.value.arrayValue,n)}}class dce extends Ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>uh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fce{constructor(e,n=null,r=[],a=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=c,this.endAt=d,this.Te=null}}function MD(t,e=null,n=[],r=[],a=null,s=null,c=null){return new fce(t,e,n,r,a,s,c)}function dE(t){const e=at(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>SN(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),L0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wu(r))).join(",")),e.Te=n}return e.Te}function fE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_L(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kD(t.startAt,e.startAt)&&kD(t.endAt,e.endAt)}function AN(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n=null,r=[],a=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hce(t,e,n,r,a,s,c,d){return new md(t,e,n,r,a,s,c,d)}function SL(t){return new md(t)}function LD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AL(t){return t.collectionGroup!==null}function zf(t){const e=at(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Kn(pr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new dh(s,r))})),n.has(pr.keyField().canonicalString())||e.Ie.push(new dh(pr.keyField(),r))}return e.Ie}function zi(t){const e=at(t);return e.Ee||(e.Ee=mce(e,zf(t))),e.Ee}function mce(t,e){if(t.limitType==="F")return MD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new dh(a.field,s)}));const n=t.endAt?new vy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vy(t.startAt.position,t.startAt.inclusive):null;return MD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function TN(t,e){const n=t.filters.concat([e]);return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xy(t,e,n){return new md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function V0(t,e){return fE(zi(t),zi(e))&&t.limitType===e.limitType}function TL(t){return`${dE(zi(t))}|lt:${t.limitType}`}function xu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>jL(a))).join(", ")}]`),L0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Wu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Wu(a))).join(",")),`Target(${r})`})(zi(t))}; limitType=${t.limitType})`}function z0(t,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,a){for(const s of zf(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,f){const h=PD(c,d,f);return c.inclusive?h<=0:h<0})(r.startAt,zf(r),a)||r.endAt&&!(function(c,d,f){const h=PD(c,d,f);return c.inclusive?h>=0:h>0})(r.endAt,zf(r),a))})(t,e)}function pce(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CL(t){return(e,n)=>{let r=!1;for(const a of zf(t)){const s=gce(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function gce(t,e,n){const r=t.field.isKeyField()?Fe.comparator(e.key,n.key):(function(s,c,d){const f=c.data.field(s),h=d.data.field(s);return f!==null&&h!==null?Yu(f,h):Xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ol(this.inner,((n,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return dL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yce=new dn(Fe.comparator);function Hs(){return yce}const IL=new dn(Fe.comparator);function Pf(...t){let e=IL;for(const n of t)e=e.insert(n.key,n);return e}function OL(t){let e=IL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ql(){return Bf()}function RL(){return Bf()}function Bf(){return new jc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const vce=new dn(Fe.comparator),xce=new Kn(Fe.comparator);function vt(...t){let e=xce;for(const n of t)e=e.add(n);return e}const bce=new Kn(yt);function wce(){return bce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:py(e)?"-0":e}}function DL(t){return{integerValue:""+t}}function Nce(t,e){return Wle(e)?DL(e):hE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this._=void 0}}function _ce(t,e,n){return t instanceof by?(function(a,s){const c={fields:{[mL]:{stringValue:hL},[gL]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&cE(s)&&(s=U0(s)),s&&(c.fields[pL]=s),{mapValue:c}})(n,e):t instanceof fh?kL(t,e):t instanceof hh?ML(t,e):(function(a,s){const c=PL(a,s),d=UD(c)+UD(a.Ae);return EN(c)&&EN(a.Ae)?DL(d):hE(a.serializer,d)})(t,e)}function jce(t,e,n){return t instanceof fh?kL(t,e):t instanceof hh?ML(t,e):n}function PL(t,e){return t instanceof wy?(function(r){return EN(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class by extends B0{}class fh extends B0{constructor(e){super(),this.elements=e}}function kL(t,e){const n=LL(e);for(const r of t.elements)n.some((a=>Qi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class hh extends B0{constructor(e){super(),this.elements=e}}function ML(t,e){let n=LL(e);for(const r of t.elements)n=n.filter((a=>!Qi(a,r)));return{arrayValue:{values:n}}}class wy extends B0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UD(t){return wn(t.integerValue||t.doubleValue)}function LL(t){return uE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ece(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof fh&&a instanceof fh||r instanceof hh&&a instanceof hh?Ku(r.elements,a.elements,Qi):r instanceof wy&&a instanceof wy?Qi(r.Ae,a.Ae):r instanceof by&&a instanceof by})(t.transform,e.transform)}class Sce{constructor(e,n){this.version=e,this.transformResults=n}}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $0{}function UL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new F0(t.key,Zr.none()):new Fh(t.key,t.data,Zr.none());{const n=t.data,r=Yr.empty();let a=new Kn(pr.comparator);for(let s of e.fields)if(!a.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),a=a.add(s)}return new ll(t.key,r,new pa(a.toArray()),Zr.none())}}function Ace(t,e,n){t instanceof Fh?(function(a,s,c){const d=a.value.clone(),f=zD(a.fieldTransforms,s,c.transformResults);d.setAll(f),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ll?(function(a,s,c){if(!cg(a.precondition,s))return void s.convertToUnknownDocument(c.version);const d=zD(a.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(VL(a)),f.setAll(d),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function $f(t,e,n,r){return t instanceof Fh?(function(s,c,d,f){if(!cg(s.precondition,c))return d;const h=s.value.clone(),p=BD(s.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof ll?(function(s,c,d,f){if(!cg(s.precondition,c))return d;const h=BD(s.fieldTransforms,f,c),p=c.data;return p.setAll(VL(s)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,c,d){return cg(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function Tce(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=PL(r.transform,a||null);s!=null&&(n===null&&(n=Yr.empty()),n.set(r.field,s))}return n||null}function VD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ku(r,a,((s,c)=>Ece(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fh extends $0{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ll extends $0{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VL(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function zD(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],c=s.transform,d=e.data.field(s.field);r.set(s.field,jce(c,d,n[a]))}return r}function BD(t,e,n){const r=new Map;for(const a of t){const s=a.transform,c=n.data.field(a.field);r.set(a.field,_ce(s,c,e))}return r}class F0 extends $0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cce extends $0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ice{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&Ace(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$f(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$f(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RL();return this.mutations.forEach((a=>{const s=e.get(a.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=n.has(a.key)?null:d;const f=UL(c,d);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ze.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),vt())}isEqual(e){return this.batchId===e.batchId&&Ku(this.mutations,e.mutations,((n,r)=>VD(n,r)))&&Ku(this.baseMutations,e.baseMutations,((n,r)=>VD(n,r)))}}class mE{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return vce})();const s=e.mutations;for(let c=0;c<s.length;c++)a=a.insert(s[c].key,r[c].version);return new mE(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oce{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rce{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,bt;function Dce(t){switch(t){case we.OK:return Xe(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return Xe(15467,{code:t})}}function zL(t){if(t===void 0)return qs("GRPC error has no .code"),we.UNKNOWN;switch(t){case kn.OK:return we.OK;case kn.CANCELLED:return we.CANCELLED;case kn.UNKNOWN:return we.UNKNOWN;case kn.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case kn.INTERNAL:return we.INTERNAL;case kn.UNAVAILABLE:return we.UNAVAILABLE;case kn.UNAUTHENTICATED:return we.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case kn.NOT_FOUND:return we.NOT_FOUND;case kn.ALREADY_EXISTS:return we.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return we.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case kn.ABORTED:return we.ABORTED;case kn.OUT_OF_RANGE:return we.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return we.UNIMPLEMENTED;case kn.DATA_LOSS:return we.DATA_LOSS;default:return Xe(39323,{code:t})}}(bt=kn||(kn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kce=new qo([4294967295,4294967295],0);function $D(t){const e=Pce().encode(t),n=new eL;return n.update(e),new Uint8Array(n.digest())}function FD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qo([n,r],0),new qo([a,s],0)]}class pE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kf(`Invalid padding: ${n}`);if(r<0)throw new kf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qo.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(qo.fromNumber(r)));return a.compare(kce)===1&&(a=new qo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$D(e),[r,a]=FD(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new pE(s,a,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=$D(e),[r,a]=FD(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,qh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new q0(Ze.min(),a,new dn(yt),Hs(),vt())}}class qh{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qh(r,n,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class BL{constructor(e,n){this.targetId=e,this.Ce=n}}class $L{constructor(e,n,r=vr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class qD{constructor(){this.ve=0,this.Fe=HD(),this.Me=vr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vt(),n=vt(),r=vt();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Xe(38017,{changeType:s})}})),new qh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=HD()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Mce{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hs(),this.Je=Hp(),this.He=Hp(),this.Ye=new dn(yt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(AN(s))if(r===0){const c=new Fe(s.path);this.et(n,c,jr.newNoDocument(c,Ze.min()))}else Ct(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let c,d;try{c=Zo(r).toUint8Array()}catch(f){if(f instanceof fL)return Gu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new pE(c,a,s)}catch(f){return Gu(f instanceof kf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((s=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((s,c)=>{const d=this.ot(c);if(d){if(s.current&&AN(d.target)){const f=new Fe(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,jr.newNoDocument(f,e))}s.Be&&(n.set(c,s.ke()),s.qe())}}));let r=vt();this.He.forEach(((s,c)=>{let d=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const a=new q0(e,n,this.Ye,this.je,r);return this.je=Hs(),this.Je=Hp(),this.He=Hp(),this.Ye=new dn(yt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qD,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kn(yt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kn(yt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qD),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hp(){return new dn(Fe.comparator)}function HD(){return new dn(Fe.comparator)}const Lce={asc:"ASCENDING",desc:"DESCENDING"},Uce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vce={and:"AND",or:"OR"};class zce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function CN(t,e){return t.useProto3Json||L0(e)?e:{value:e}}function Ny(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bce(t,e){return Ny(t,e.toTimestamp())}function Bi(t){return Ct(!!t,49232),Ze.fromTimestamp((function(n){const r=Jo(n);return new Qt(r.seconds,r.nanos)})(t))}function gE(t,e){return IN(t,e).canonicalString()}function IN(t,e){const n=(function(a){return new Kt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function qL(t){const e=Kt.fromString(t);return Ct(WL(e),10190,{key:e.toString()}),e}function ON(t,e){return gE(t.databaseId,e.path)}function t1(t,e){const n=qL(e);if(n.get(1)!==t.databaseId.projectId)throw new De(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fe(GL(n))}function HL(t,e){return gE(t.databaseId,e)}function $ce(t){const e=qL(t);return e.length===4?Kt.emptyPath():GL(e)}function RN(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GL(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function GD(t,e,n){return{name:ON(t,e),fields:n.value.mapValue.fields}}function Fce(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Xe(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(Ct(p===void 0||typeof p=="string",58123),vr.fromBase64String(p||"")):(Ct(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),vr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(h){const p=h.code===void 0?we.UNKNOWN:zL(h.code);return new De(p,h.message||"")})(c);n=new $L(r,a,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=t1(t,r.document.name),s=Bi(r.document.updateTime),c=r.document.createTime?Bi(r.document.createTime):Ze.min(),d=new Yr({mapValue:{fields:r.document.fields}}),f=jr.newFoundDocument(a,s,c,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new ug(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=t1(t,r.document),s=r.readTime?Bi(r.readTime):Ze.min(),c=jr.newNoDocument(a,s),d=r.removedTargetIds||[];n=new ug([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=t1(t,r.document),s=r.removedTargetIds||[];n=new ug([],s,a,null)}else{if(!("filter"in e))return Xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,c=new Rce(a,s),d=r.targetId;n=new BL(d,c)}}return n}function qce(t,e){let n;if(e instanceof Fh)n={update:GD(t,e.key,e.value)};else if(e instanceof F0)n={delete:ON(t,e.key)};else if(e instanceof ll)n={update:GD(t,e.key,e.data),updateMask:Zce(e.fieldMask)};else{if(!(e instanceof Cce))return Xe(16599,{Vt:e.type});n={verify:ON(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const d=c.transform;if(d instanceof by)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof fh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof hh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wy)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Xe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:Bce(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Xe(27497)})(t,e.precondition)),n}function Hce(t,e){return t&&t.length>0?(Ct(e!==void 0,14353),t.map((n=>(function(a,s){let c=a.updateTime?Bi(a.updateTime):Bi(s);return c.isEqual(Ze.min())&&(c=Bi(s)),new Sce(c,a.transformResults||[])})(n,e)))):[]}function Gce(t,e){return{documents:[HL(t,e.path)]}}function Kce(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HL(t,a);const s=(function(h){if(h.length!==0)return YL(fi.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const c=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:bu(x.field),direction:Xce(x.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=CN(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function Yce(t){let e=$ce(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ct(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const x=KL(g);return x instanceof fi&&NL(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((x=>(function(E){return new dh(wu(E.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let x;return x=typeof g=="object"?g.value:g,L0(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,w=g.values||[];return new vy(w,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,w=g.values||[];return new vy(w,x)})(n.endAt)),hce(e,a,c,s,d,"F",f,h)}function Wce(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wu(n.unaryFilter.field);return Ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=wu(n.unaryFilter.field);return Ln.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wu(n.unaryFilter.field);return Ln.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wu(n.unaryFilter.field);return Ln.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ln.create(wu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((r=>KL(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}})(n.compositeFilter.op))})(t):Xe(30097,{filter:t})}function Xce(t){return Lce[t]}function Qce(t){return Uce[t]}function Jce(t){return Vce[t]}function bu(t){return{fieldPath:t.canonicalString()}}function wu(t){return pr.fromServerFormat(t.fieldPath)}function YL(t){return t instanceof Ln?(function(n){if(n.op==="=="){if(DD(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NAN"}};if(RD(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DD(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NOT_NAN"}};if(RD(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bu(n.field),op:Qce(n.op),value:n.value}}})(t):t instanceof fi?(function(n){const r=n.getFilters().map((a=>YL(a)));return r.length===1?r[0]:{compositeFilter:{op:Jce(n.op),filters:r}}})(t):Xe(54877,{filter:t})}function Zce(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function WL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r,a,s=Ze.min(),c=Ze.min(),d=vr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue{constructor(e){this.yt=e}}function tue(t){const e=Yce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(){this.Cn=new rue}addToCollectionParentIndex(e,n){return this.Cn.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(Qo.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(Qo.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class rue{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Kn(Kt.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Kn(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XL=41943040;class Kr{static withCacheSize(e){return new Kr(e,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(XL,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xu(0)}static cr(){return new Xu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="LruGarbageCollector",aue=1048576;function WD([t,e],[n,r]){const a=yt(t,n);return a===0?yt(e,r):a}class iue{constructor(e){this.Ir=e,this.buffer=new Kn(WD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sue{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ke(YD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hd(n)?ke(YD,"Ignoring IndexedDB error during garbage collection: ",n):await fd(n)}await this.Vr(3e5)}))}}class oue{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return _e.resolve(M0.ce);const r=new iue(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(KD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KD):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,c,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,c=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),vu()<=gt.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function lue(t,e){return new oue(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{constructor(){this.changes=new jc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&$f(r.mutation,a,pa.empty(),Qt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,vt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=vt()){const a=Ql();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((s=>{let c=Pf();return s.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Ql();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,vt())))}populateOverlays(e,n,r){const a=[];return r.forEach((s=>{n.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,a){let s=Hs();const c=Bf(),d=(function(){return Bf()})();return n.forEach(((f,h)=>{const p=r.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof ll)?s=s.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),$f(p.mutation,h,p.mutation.getFieldMask(),Qt.now())):c.set(h.key,pa.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>d.set(h,new uue(p,c.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Bf();let a=new dn(((c,d)=>c-d)),s=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||pa.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(a.get(d.batchId)||vt()).add(f);a=a.insert(d.batchId,g)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=RL();p.forEach((x=>{if(!s.has(x)){const w=UL(n.get(x),r.get(x));w!==null&&g.set(x,w),s=s.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return _e.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return Fe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((s=>{const c=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):_e.resolve(Ql());let d=oh,f=s;return c.next((h=>_e.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?_e.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,vt()))).next((p=>({batchId:d,changes:OL(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Fe(n)).next((r=>{let a=Pf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let c=Pf();return this.indexManager.getCollectionParents(e,s).next((d=>_e.forEach(d,(f=>{const h=(function(g,x){return new md(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((p=>{p.forEach(((g,x)=>{c=c.insert(g,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a)))).next((c=>{s.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,jr.newInvalidDocument(p)))}));let d=Pf();return c.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&$f(p.mutation,h,pa.empty(),Qt.now()),z0(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fue{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return _e.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Bi(a.createTime)}})(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:tue(a.bundledQuery),readTime:Bi(a.readTime)}})(n)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hue{constructor(){this.overlays=new dn(Fe.comparator),this.qr=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ql();return _e.forEach(n,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,s)=>{this.St(e,n,s)})),_e.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const a=Ql(),s=n.length+1,c=new Fe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return _e.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new dn(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Ql(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=Ql(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=a)););return _e.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Oce(n,r));let s=this.qr.get(n);s===void 0&&(s=vt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mue{constructor(){this.sessionToken=vr.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.Qr=new Kn(ar.$r),this.Ur=new Kn(ar.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ar(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ar(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Fe(new Kt([])),r=new ar(n,e),a=new ar(n,e+1),s=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),s.push(c.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Fe(new Kt([])),r=new ar(n,e),a=new ar(n,e+1);let s=vt();return this.Ur.forEachInRange([r,a],(c=>{s=s.add(c.key)})),s}containsKey(e){const n=new ar(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ar{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Fe.comparator(e.key,n.key)||yt(e.Yr,n.Yr)}static Kr(e,n){return yt(e.Yr,n.Yr)||Fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kn(ar.$r)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ice(s,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new ar(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return _e.resolve(c)}lookupMutationBatch(e,n){return _e.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return _e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?lE:this.tr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ar(n,0),a=new ar(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);s.push(d)})),_e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kn(yt);return n.forEach((a=>{const s=new ar(a,0),c=new ar(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,c],(d=>{r=r.add(d.Yr)}))})),_e.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Fe.isDocumentKey(s)||(s=s.child(""));const c=new ar(new Fe(s),0);let d=new Kn(yt);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(d=d.add(f.Yr)),!0)}),c),_e.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return _e.forEach(n.mutations,(a=>{const s=new ar(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ar(n,0),a=this.Zr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gue{constructor(e){this.ri=e,this.docs=(function(){return new dn(Fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():jr.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():jr.newInvalidDocument(a))})),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=Hs();const c=n.path,d=new Fe(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||Hle(qle(p),r)<=0||(a.has(p.key)||z0(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return _e.resolve(s)}getAllFromCollectionGroup(e,n,r,a){Xe(9500)}ii(e,n){return _e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new yue(this)}getSize(e){return _e.resolve(this.size)}}class yue extends cue{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),_e.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vue{constructor(e){this.persistence=e,this.si=new jc((n=>dE(n)),fE),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.oi=0,this._i=new yE,this.targetCount=0,this.ai=Xu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),_e.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.Pr(n),_e.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),_e.waitFor(s).next((()=>a))}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach((c=>{s.push(a.markPotentiallyOrphaned(e,c))})),_e.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.ui={},this.overlays={},this.ci=new M0(0),this.li=!1,this.li=!0,this.hi=new mue,this.referenceDelegate=e(this),this.Pi=new vue(this),this.indexManager=new nue,this.remoteDocumentCache=(function(a){return new gue(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new eue(n),this.Ii=new fue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new pue(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const a=new xue(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,n){return _e.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class xue extends Kle{constructor(e){super(),this.currentSequenceNumber=e}}class vE{constructor(e){this.persistence=e,this.Ri=new yE,this.Vi=null}static mi(e){return new vE(e)}get fi(){if(this.Vi)return this.Vi;throw Xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),_e.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.fi,(r=>{const a=Fe.fromPath(r);return this.gi(e,a).next((s=>{s||n.removeEntry(a,Ze.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return _e.or([()=>_e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _y{constructor(e,n){this.persistence=e,this.pi=new jc((r=>Xle(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=lue(this,n)}static mi(e,n){return new _y(e,n)}Ei(){}di(e){return _e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return _e.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?_e.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,s.removeEntry(c,Ze.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),_e.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=og(e.data.value)),n}br(e,n,r){return _e.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return _e.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=vt(),a=vt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new xE(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wue{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Fie()?8:Yle(Ar())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ws(e,n,a,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new bue;return this.Ss(e,n,c).next((d=>{if(s.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>s.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(vu()<=gt.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",xu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_e.resolve()):(vu()<=gt.DEBUG&&ke("QueryEngine","Query:",xu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(vu()<=gt.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",xu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):_e.resolve())}ys(e,n){if(LD(n))return _e.resolve(null);let r=zi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=xy(n,null,"F"),r=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=vt(...s);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,c,f.readTime)?this.ys(e,xy(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,a){return LD(n)||a.isEqual(Ze.min())?_e.resolve(null):this.ps.getDocuments(e,r).next((s=>{const c=this.Ds(n,s);return this.Cs(n,c,r,a)?_e.resolve(null):(vu()<=gt.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xu(n)),this.vs(e,c,n,Fle(a,oh)).next((d=>d)))}))}Ds(e,n){let r=new Kn(CL(e));return n.forEach(((a,s)=>{z0(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return vu()<=gt.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",xu(n)),this.ps.getDocumentsMatchingQuery(e,n,Qo.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(n.forEach((c=>{s=s.insert(c.key,c)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="LocalStore",Nue=3e8;class _ue{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new dn(yt),this.xs=new jc((s=>dE(s)),fE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new due(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function jue(t,e,n,r){return new _ue(t,e,n,r)}async function JL(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],d=[];let f=vt();for(const h of a){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:c,addedBatchIds:d})))}))}))}function Eue(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,x=g.keys();let w=_e.resolve();return x.forEach((E=>{w=w.next((()=>p.getEntry(f,E))).next((_=>{const j=h.docVersions.get(E);Ct(j!==null,48541),_.version.compareTo(j)<0&&(g.applyToRemoteDocument(_,h),_.isValidDocument()&&(_.setReadTime(h.commitVersion),p.addEntry(_)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=vt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function ZL(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Sue(t,e){const n=at(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const x=a.get(g);if(!x)return;d.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let w=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(vr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),a=a.insert(g,w),(function(_,j,C){return _.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=Nue?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(x,w,p)&&d.push(n.Pi.updateTargetData(s,w))}));let f=Hs(),h=vt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(Aue(s,c,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Ze.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return _e.waitFor(d).next((()=>c.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=a,s)))}function Aue(t,e,n){let r=vt(),a=vt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let c=Hs();return n.forEach(((d,f)=>{const h=s.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Ze.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):ke(bE,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function Tue(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=lE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Cue(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((s=>s?(a=s,_e.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new zo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function DN(t,e,n){const r=at(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!hd(c))throw c;ke(bE,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function XD(t,e,n){const r=at(t);let a=Ze.min(),s=vt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const g=at(f),x=g.xs.get(p);return x!==void 0?_e.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,c,zi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Ze.min(),n?s:vt()))).next((d=>(Iue(r,pce(e),d),{documents:d,Qs:s})))))}function Iue(t,e,n){let r=t.Os.get(e)||Ze.min();n.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class QD{constructor(){this.activeTargetIds=wce()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Oue{constructor(){this.Mo=new QD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new QD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="ConnectivityMonitor";class ZD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(JD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ke(JD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp=null;function PN(){return Gp===null?Gp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gp++,"0x"+Gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="RestConnection",Due={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pue{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===gy?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const c=PN(),d=this.zo(e,n.toUriEncodedString());ke(n1,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,s);const{host:h}=new URL(d),p=wc(h);return this.Jo(e,d,f,r,p).then((g=>(ke(n1,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw Gu(n1,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,a,s,c){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,n){const r=Due[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kue{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="WebChannelConnection";class Mue extends Pue{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const c=PN();return new Promise(((d,f)=>{const h=new tL;h.setWithCredentials(!0),h.listenOnce(nL.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case sg.NO_ERROR:const g=h.getResponseJson();ke(br,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case sg.TIMEOUT:ke(br,`RPC '${e}' ${c} timed out`),f(new De(we.DEADLINE_EXCEEDED,"Request time out"));break;case sg.HTTP_ERROR:const x=h.getStatus();if(ke(br,`RPC '${e}' ${c} failed with status:`,x,"response text:",h.getResponseText()),x>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const _=(function(C){const L=C.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(L)>=0?L:we.UNKNOWN})(E.status);f(new De(_,E.message))}else f(new De(we.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new De(we.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ke(br,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);ke(br,`RPC '${e}' ${c} sending request:`,a),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=PN(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=iL(),d=aL(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");ke(br,`Creating RPC '${e}' stream ${a}: ${p}`,f);const g=c.createWebChannel(p,f);this.I_(g);let x=!1,w=!1;const E=new kue({Yo:j=>{w?ke(br,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(x||(ke(br,`Opening RPC '${e}' stream ${a} transport.`),g.open(),x=!0),ke(br,`RPC '${e}' stream ${a} sending:`,j),g.send(j))},Zo:()=>g.close()}),_=(j,C,L)=>{j.listen(C,(A=>{try{L(A)}catch(D){setTimeout((()=>{throw D}),0)}}))};return _(g,Df.EventType.OPEN,(()=>{w||(ke(br,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),_(g,Df.EventType.CLOSE,(()=>{w||(w=!0,ke(br,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(g))})),_(g,Df.EventType.ERROR,(j=>{w||(w=!0,Gu(br,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),E.a_(new De(we.UNAVAILABLE,"The operation could not be completed")))})),_(g,Df.EventType.MESSAGE,(j=>{var C;if(!w){const L=j.data[0];Ct(!!L,16349);const A=L,D=(A==null?void 0:A.error)||((C=A[0])==null?void 0:C.error);if(D){ke(br,`RPC '${e}' stream ${a} received error:`,D);const R=D.status;let U=(function(M){const I=kn[M];if(I!==void 0)return zL(I)})(R),k=D.message;U===void 0&&(U=we.INTERNAL,k="Unknown error status: "+R+" with message "+D.message),w=!0,E.a_(new De(U,k)),g.close()}else ke(br,`RPC '${e}' stream ${a} received:`,L),E.u_(L)}})),_(d,rL.STAT_EVENT,(j=>{j.stat===NN.PROXY?ke(br,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===NN.NOPROXY&&ke(br,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function r1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t){return new zce(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ke("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="PersistentStream";class tU{constructor(e,n,r,a,s,c,d,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new De(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ke(eP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ke(eP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lue extends tU{constructor(e,n,r,a,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Fce(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ze.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Ze.min():c.readTime?Bi(c.readTime):Ze.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=RN(this.serializer),n.addTarget=(function(s,c){let d;const f=c.target;if(d=AN(f)?{documents:Gce(s,f)}:{query:Kce(s,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=FL(s,c.resumeToken);const h=CN(s,c.expectedCount);h!==null&&(d.expectedCount=h)}else if(c.snapshotVersion.compareTo(Ze.min())>0){d.readTime=Ny(s,c.snapshotVersion.toTimestamp());const h=CN(s,c.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=Wce(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=RN(this.serializer),n.removeTarget=e,this.q_(n)}}class Uue extends tU{constructor(e,n,r,a,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Hce(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=RN(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>qce(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vue{}class zue extends Vue{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new De(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Go(e,IN(n,r),a,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(we.UNKNOWN,s.toString())}))}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,IN(n,r),a,c,d,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new De(we.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Bue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qs(n),this.aa=!1):ke("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="RemoteStore";class $ue{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ec(this)&&(ke(mc,"Restarting streams for network reachability change."),await(async function(f){const h=at(f);h.Ea.add(4),await Hh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await G0(h)})(this))}))})),this.Ra=new Bue(r,a)}}async function G0(t){if(Ec(t))for(const e of t.da)await e(!0)}async function Hh(t){for(const e of t.da)await e(!1)}function nU(t,e){const n=at(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jE(n)?_E(n):pd(n).O_()&&NE(n,e))}function wE(t,e){const n=at(t),r=pd(n);n.Ia.delete(e),r.O_()&&rU(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ec(n)&&n.Ra.set("Unknown"))}function NE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pd(t).Y_(e)}function rU(t,e){t.Va.Ue(e),pd(t).Z_(e)}function _E(t){t.Va=new Mce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pd(t).start(),t.Ra.ua()}function jE(t){return Ec(t)&&!pd(t).x_()&&t.Ia.size>0}function Ec(t){return at(t).Ea.size===0}function aU(t){t.Va=void 0}async function Fue(t){t.Ra.set("Online")}async function que(t){t.Ia.forEach(((e,n)=>{NE(t,e)}))}async function Hue(t,e){aU(t),jE(t)?(t.Ra.ha(e),_E(t)):t.Ra.set("Unknown")}async function Gue(t,e,n){if(t.Ra.set("Online"),e instanceof $L&&e.state===2&&e.cause)try{await(async function(a,s){const c=s.cause;for(const d of s.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){ke(mc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jy(t,r)}else if(e instanceof ug?t.Va.Ze(e):e instanceof BL?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ze.min()))try{const r=await ZL(t.localStore);n.compareTo(r)>=0&&await(function(s,c){const d=s.Va.Tt(c);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(vr.EMPTY_BYTE_STRING,p.snapshotVersion)),rU(s,f);const g=new zo(p.target,f,h,p.sequenceNumber);NE(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){ke(mc,"Failed to raise snapshot:",r),await jy(t,r)}}async function jy(t,e,n){if(!hd(e))throw e;t.Ea.add(1),await Hh(t),t.Ra.set("Offline"),n||(n=()=>ZL(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ke(mc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await G0(t)}))}function iU(t,e){return e().catch((n=>jy(t,n,e)))}async function K0(t){const e=at(t),n=tl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lE;for(;Kue(e);)try{const a=await Tue(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,Yue(e,a)}catch(a){await jy(e,a)}sU(e)&&oU(e)}function Kue(t){return Ec(t)&&t.Ta.length<10}function Yue(t,e){t.Ta.push(e);const n=tl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function sU(t){return Ec(t)&&!tl(t).x_()&&t.Ta.length>0}function oU(t){tl(t).start()}async function Wue(t){tl(t).ra()}async function Xue(t){const e=tl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Que(t,e,n){const r=t.Ta.shift(),a=mE.from(r,e,n);await iU(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await K0(t)}async function Jue(t,e){e&&tl(t).X_&&await(async function(r,a){if((function(c){return Dce(c)&&c!==we.ABORTED})(a.code)){const s=r.Ta.shift();tl(r).B_(),await iU(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await K0(r)}})(t,e),sU(t)&&oU(t)}async function tP(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),ke(mc,"RemoteStore received new credentials");const r=Ec(n);n.Ea.add(3),await Hh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await G0(n)}async function Zue(t,e){const n=at(t);e?(n.Ea.delete(2),await G0(n)):e||(n.Ea.add(2),await Hh(n),n.Ra.set("Unknown"))}function pd(t){return t.ma||(t.ma=(function(n,r,a){const s=at(n);return s.sa(),new Lue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Fue.bind(null,t),t_:que.bind(null,t),r_:Hue.bind(null,t),H_:Gue.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),jE(t)?_E(t):t.Ra.set("Unknown")):(await t.ma.stop(),aU(t))}))),t.ma}function tl(t){return t.fa||(t.fa=(function(n,r,a){const s=at(n);return s.sa(),new Uue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Wue.bind(null,t),r_:Jue.bind(null,t),ta:Xue.bind(null,t),na:Que.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await K0(t)):(await t.fa.stop(),t.Ta.length>0&&(ke(mc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new Ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const c=Date.now()+r,d=new EE(e,n,c,a,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function SE(t,e){if(qs("AsyncQueue",`${e}: ${t}`),hd(t))return new De(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{static emptySet(e){return new Iu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Fe.comparator(n.key,r.key):(n,r)=>Fe.comparator(n.key,r.key),this.keyedMap=Pf(),this.sortedSet=new dn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.ga=new dn(Fe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Qu{constructor(e,n,r,a,s,c,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,s){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Qu(e,n,Iu.emptySet(n),c,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ede{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tde{constructor(){this.queries=rP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=at(n),s=a.queries;a.queries=rP(),s.forEach(((c,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new De(we.ABORTED,"Firestore shutting down"))}}function rP(){return new jc((t=>TL(t)),V0)}async function nde(t,e){const n=at(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new ede,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=SE(c,`Initialization of query '${xu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&AE(n)}async function rde(t,e){const n=at(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const c=s.Sa.indexOf(e);c>=0&&(s.Sa.splice(c,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ade(t,e){const n=at(t);let r=!1;for(const a of e){const s=a.query,c=n.queries.get(s);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&AE(n)}function ide(t,e,n){const r=at(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function AE(t){t.Ca.forEach((e=>{e.next()}))}var kN,aP;(aP=kN||(kN={})).Ma="default",aP.Cache="cache";class sde{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.key=e}}class cU{constructor(e){this.key=e}}class ode{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vt(),this.mutatedKeys=vt(),this.eu=CL(e),this.tu=new Iu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new nP,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const x=a.get(p),w=z0(this.query,g)?g:null,E=!!x&&this.mutatedKeys.has(x.key),_=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let j=!1;x&&w?x.data.isEqual(w.data)?E!==_&&(r.track({type:3,doc:w}),j=!0):this.su(x,w)||(r.track({type:2,doc:w}),j=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(d=!0)):!x&&w?(r.track({type:0,doc:w}),j=!0):x&&!w&&(r.track({type:1,doc:x}),j=!0,(f||h)&&(d=!0)),j&&(w?(c=c.add(w),s=_?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Cs:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(w,E){const _=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Rt:j})}};return _(w)-_(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,h=f!==this.Za;return this.Za=f,c.length!==0||h?{snapshot:new Qu(this.query,e.tu,s,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new cU(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new lU(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=vt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Qu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const TE="SyncEngine";class lde{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cde{constructor(e){this.key=e,this.hu=!1}}class ude{constructor(e,n,r,a,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new jc((d=>TL(d)),V0),this.Iu=new Map,this.Eu=new Set,this.du=new dn(Fe.comparator),this.Au=new Map,this.Ru=new yE,this.Vu={},this.mu=new Map,this.fu=Xu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dde(t,e,n=!0){const r=pU(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await uU(r,e,n,!0),a}async function fde(t,e){const n=pU(t);await uU(n,e,!0,!1)}async function uU(t,e,n,r){const a=await Cue(t.localStore,zi(e)),s=a.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await hde(t,e,s,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&nU(t.remoteStore,a),d}async function hde(t,e,n,r,a){t.pu=(g,x,w)=>(async function(_,j,C,L){let A=j.view.ru(C);A.Cs&&(A=await XD(_.localStore,j.query,!1).then((({documents:k})=>j.view.ru(k,A))));const D=L&&L.targetChanges.get(j.targetId),R=L&&L.targetMismatches.get(j.targetId)!=null,U=j.view.applyChanges(A,_.isPrimaryClient,D,R);return sP(_,j.targetId,U.au),U.snapshot})(t,g,x,w);const s=await XD(t.localStore,e,!0),c=new ode(e,s.Qs),d=c.ru(s.documents),f=qh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=c.applyChanges(d,t.isPrimaryClient,f);sP(t,n,h.au);const p=new lde(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function mde(t,e,n){const r=at(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((c=>!V0(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await DN(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&wE(r.remoteStore,a.targetId),MN(r,a.targetId)})).catch(fd)):(MN(r,a.targetId),await DN(r.localStore,a.targetId,!0))}async function pde(t,e){const n=at(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wE(n.remoteStore,r.targetId))}async function gde(t,e,n){const r=_de(t);try{const a=await(function(c,d){const f=at(c),h=Qt.now(),p=d.reduce(((w,E)=>w.add(E.key)),vt());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let E=Hs(),_=vt();return f.Ns.getEntries(w,p).next((j=>{E=j,E.forEach(((C,L)=>{L.isValidDocument()||(_=_.add(C))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,E))).next((j=>{g=j;const C=[];for(const L of d){const A=Tce(L,g.get(L.key).overlayedDocument);A!=null&&C.push(new ll(L.key,A,xL(A.value.mapValue),Zr.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,C,d)})).next((j=>{x=j;const C=j.applyToLocalDocumentSet(g,_);return f.documentOverlayCache.saveOverlays(w,j.batchId,C)}))})).then((()=>({batchId:x.batchId,changes:OL(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let h=c.Vu[c.currentUser.toKey()];h||(h=new dn(yt)),h=h.insert(d,f),c.Vu[c.currentUser.toKey()]=h})(r,a.batchId,n),await Gh(r,a.changes),await K0(r.remoteStore)}catch(a){const s=SE(a,"Failed to persist write");n.reject(s)}}async function dU(t,e){const n=at(t);try{const r=await Sue(n.localStore,e);e.targetChanges.forEach(((a,s)=>{const c=n.Au.get(s);c&&(Ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ct(c.hu,14607):a.removedDocuments.size>0&&(Ct(c.hu,42227),c.hu=!1))})),await Gh(n,r,e)}catch(r){await fd(r)}}function iP(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((s,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=at(c);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(d)&&(h=!0)})),h&&AE(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yde(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let c=new dn(Fe.comparator);c=c.insert(s,jr.newNoDocument(s,Ze.min()));const d=vt().add(s),f=new q0(Ze.min(),new Map,new dn(yt),c,d);await dU(r,f),r.du=r.du.remove(s),r.Au.delete(e),CE(r)}else await DN(r.localStore,e,!1).then((()=>MN(r,e,n))).catch(fd)}async function vde(t,e){const n=at(t),r=e.batch.batchId;try{const a=await Eue(n.localStore,e);hU(n,r,null),fU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gh(n,a)}catch(a){await fd(a)}}async function xde(t,e,n){const r=at(t);try{const a=await(function(c,d){const f=at(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(Ct(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);hU(r,e,n),fU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gh(r,a)}catch(a){await fd(a)}}function fU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function hU(t,e,n){const r=at(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function MN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||mU(t,r)}))}function mU(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),CE(t))}function sP(t,e,n){for(const r of n)r instanceof lU?(t.Ru.addReference(r.key,e),bde(t,r)):r instanceof cU?(ke(TE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||mU(t,r.key)):Xe(19791,{wu:r})}function bde(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ke(TE,"New document in limbo: "+n),t.Eu.add(r),CE(t))}function CE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Fe(Kt.fromString(e)),r=t.fu.next();t.Au.set(r,new cde(n)),t.du=t.du.insert(n,r),nU(t.remoteStore,new zo(zi(SL(n.path)),r,"TargetPurposeLimboResolution",M0.ce))}}async function Gh(t,e,n){const r=at(t),a=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){a.push(h);const g=xE.As(f.targetId,h);s.push(g)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(f,h){const p=at(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>_e.forEach(h,(x=>_e.forEach(x.Es,(w=>p.persistence.referenceDelegate.addReference(g,x.targetId,w))).next((()=>_e.forEach(x.ds,(w=>p.persistence.referenceDelegate.removeReference(g,x.targetId,w)))))))))}catch(g){if(!hd(g))throw g;ke(bE,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const w=p.Ms.get(x),E=w.snapshotVersion,_=w.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(x,_)}}})(r.localStore,s))}async function wde(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){ke(TE,"User change. New user:",e.toKey());const r=await JL(n.localStore,e);n.currentUser=e,(function(s,c){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new De(we.CANCELLED,c))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gh(n,r.Ls)}}function Nde(t,e){const n=at(t),r=n.Au.get(e);if(r&&r.hu)return vt().add(r.key);{let a=vt();const s=n.Iu.get(e);if(!s)return a;for(const c of s){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function pU(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yde.bind(null,e),e.Pu.H_=ade.bind(null,e.eventManager),e.Pu.yu=ide.bind(null,e.eventManager),e}function _de(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xde.bind(null,e),e}class Ey{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=H0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jue(this.persistence,new wue,e.initialUser,this.serializer)}Cu(e){return new QL(vE.mi,this.serializer)}Du(e){return new Oue}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ey.provider={build:()=>new Ey};class jde extends Ey{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ct(this.persistence.referenceDelegate instanceof _y,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sue(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new QL((r=>_y.mi(r,n)),this.serializer)}}class LN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wde.bind(null,this.syncEngine),await Zue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tde})()}createDatastore(e){const n=H0(e.databaseInfo.databaseId),r=(function(s){return new Mue(s)})(e.databaseInfo);return(function(s,c,d,f){return new zue(s,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,s,c,d){return new $ue(r,a,s,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>iP(this.syncEngine,n,0)),(function(){return ZD.v()?new ZD:new Rue})())}createSyncEngine(e,n){return(function(a,s,c,d,f,h,p){const g=new ude(a,s,c,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const s=at(a);ke(mc,"RemoteStore shutting down."),s.Ea.add(5),await Hh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}LN.provider={build:()=>new LN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ede{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="FirestoreClient";class Sde{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Nr.UNAUTHENTICATED,this.clientId=oE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{ke(nl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ke(nl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=SE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function a1(t,e){t.asyncQueue.verifyOperationInProgress(),ke(nl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await JL(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function oP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ade(t);ke(nl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>tP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>tP(e.remoteStore,a))),t._onlineComponents=e}async function Ade(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(nl,"Using user provided OfflineComponentProvider");try{await a1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===we.FAILED_PRECONDITION||a.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Gu("Error using user provided cache. Falling back to memory cache: "+n),await a1(t,new Ey)}}else ke(nl,"Using default OfflineComponentProvider"),await a1(t,new jde(void 0));return t._offlineComponents}async function gU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(nl,"Using user provided OnlineComponentProvider"),await oP(t,t._uninitializedComponentsProvider._online)):(ke(nl,"Using default OnlineComponentProvider"),await oP(t,new LN))),t._onlineComponents}function Tde(t){return gU(t).then((e=>e.syncEngine))}async function Cde(t){const e=await gU(t),n=e.eventManager;return n.onListen=dde.bind(null,e.syncEngine),n.onUnlisten=mde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fde.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pde.bind(null,e.syncEngine),n}function Ide(t,e,n={}){const r=new Ho;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,d,f,h){const p=new Ede({next:x=>{p.Nu(),c.enqueueAndForget((()=>rde(s,g))),x.fromCache&&f.source==="server"?h.reject(new De(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new sde(d,p,{includeMetadataChanges:!0,qa:!0});return nde(s,g)})(await Cde(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="firestore.googleapis.com",cP=!0;class uP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vU,this.ssl=cP}else this.host=e.host,this.ssl=e.ssl??cP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aue)throw new De(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$le("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Y0{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Rle;switch(r.type){case"firstParty":return new Mle(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=lP.get(n);r&&(ke("ComponentProvider","Removing Datastore"),lP.delete(n),r.terminate())})(this),Promise.resolve()}}function Ode(t,e,n,r={}){var h;t=Xo(t,Y0);const a=wc(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Qj(`https://${d}`),Jj("Firestore",!0)),s.host!==vU&&s.host!==d&&Gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:a,emulatorOptions:r};if(!Wo(f,c)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Nr.MOCK_USER;else{p=_3(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new De(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Nr(x)}t._authCredentials=new Dle(new oL(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cl(this.firestore,e,this._query)}}class Hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}toJSON(){return{type:Hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($h(n,Hn._jsonSchema))return new Hn(e,r||null,new Fe(Kt.fromString(n.referencePath)))}}Hn._jsonSchemaVersion="firestore/documentReference/1.0",Hn._jsonSchema={type:zn("string",Hn._jsonSchemaVersion),referencePath:zn("string")};class Go extends cl{constructor(e,n,r){super(e,n,SL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Fe(e))}withConverter(e){return new Go(this.firestore,e,this._path)}}function Re(t,e,...n){if(t=jn(t),lL("collection","path",e),t instanceof Y0){const r=Kt.fromString(e,...n);return _D(r),new Go(t,null,r)}{if(!(t instanceof Hn||t instanceof Go))throw new De(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return _D(r),new Go(t.firestore,null,r)}}function qe(t,e,...n){if(t=jn(t),arguments.length===1&&(e=oE.newId()),lL("doc","path",e),t instanceof Y0){const r=Kt.fromString(e,...n);return ND(r),new Hn(t,null,new Fe(r))}{if(!(t instanceof Hn||t instanceof Go))throw new De(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return ND(r),new Hn(t.firestore,t instanceof Go?t.converter:null,new Fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="AsyncQueue";class fP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eU(this,"async_queue_retry"),this._c=()=>{const r=r1();r&&ke(dP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=r1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=r1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ho;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hd(e))throw e;ke(dP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qs("INTERNAL UNHANDLED ERROR: ",hP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=EE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&Xe(47125,{Pc:hP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class gd extends Y0{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new fP,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fP(e),this._firestoreClient=void 0,await e}}}function Rde(t,e){const n=typeof t=="object"?t:R0(),r=typeof t=="string"?t:gy,a=sl(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=b3("firestore");s&&Ode(a,...s)}return a}function IE(t){if(t._terminated)throw new De(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Dde(t),t._firestoreClient}function Dde(t){var r,a,s;const e=t._freezeSettings(),n=(function(d,f,h,p){return new Zle(d,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,yU(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Sde(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ma(vr.fromBase64String(e))}catch(n){throw new De(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ma(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ma._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($h(e,Ma._jsonSchema))return Ma.fromBase64String(e.bytes)}}Ma._jsonSchemaVersion="firestore/bytes/1.0",Ma._jsonSchema={type:zn("string",Ma._jsonSchemaVersion),bytes:zn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if($h(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:zn("string",$i._jsonSchemaVersion),latitude:zn("number"),longitude:zn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($h(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fi(e.vectorValues);throw new De(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:zn("string",Fi._jsonSchemaVersion),vectorValues:zn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pde=/^__.*__$/;class kde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ll(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fh(e,this.data,n,this.fieldTransforms)}}class xU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ll(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{Ac:t})}}class RE{constructor(e,n,r,a,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new RE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bU(this.Ac)&&Pde.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Mde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||H0(e)}Cc(e,n,r,a=!1){return new RE({Ac:e,methodName:n,Dc:r,path:pr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W0(t){const e=t._freezeSettings(),n=H0(t._databaseId);return new Mde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wU(t,e,n,r,a,s={}){const c=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);DE("Data must be an object, but it was:",c,r);const d=jU(r,c);let f,h;if(s.merge)f=new pa(c.fieldMask),h=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const x=UN(e,g,n);if(!c.contains(x))throw new De(we.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);SU(p,x)||p.push(x)}f=new pa(p),h=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=c.fieldTransforms;return new kde(new Yr(d),f,h)}class X0 extends OE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X0}}function NU(t,e,n,r){const a=t.Cc(1,e,n);DE("Data must be an object, but it was:",a,r);const s=[],c=Yr.empty();ol(r,((f,h)=>{const p=PE(e,f,n);h=jn(h);const g=a.yc(p);if(h instanceof X0)s.push(p);else{const x=Yh(h,g);x!=null&&(s.push(p),c.set(p,x))}}));const d=new pa(s);return new xU(c,d,a.fieldTransforms)}function _U(t,e,n,r,a,s){const c=t.Cc(1,e,n),d=[UN(e,r,n)],f=[a];if(s.length%2!=0)throw new De(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)d.push(UN(e,s[x])),f.push(s[x+1]);const h=[],p=Yr.empty();for(let x=d.length-1;x>=0;--x)if(!SU(h,d[x])){const w=d[x];let E=f[x];E=jn(E);const _=c.yc(w);if(E instanceof X0)h.push(w);else{const j=Yh(E,_);j!=null&&(h.push(w),p.set(w,j))}}const g=new pa(h);return new xU(p,g,c.fieldTransforms)}function Lde(t,e,n,r=!1){return Yh(n,t.Cc(r?4:3,e))}function Yh(t,e){if(EU(t=jn(t)))return DE("Unsupported field value:",e,t),jU(t,e);if(t instanceof OE)return(function(r,a){if(!bU(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let c=0;for(const d of r){let f=Yh(d,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(r,a){if((r=jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nce(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qt.fromDate(r);return{timestampValue:Ny(a.serializer,s)}}if(r instanceof Qt){const s=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ny(a.serializer,s)}}if(r instanceof $i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ma)return{bytesValue:FL(a.serializer,r._byteString)};if(r instanceof Hn){const s=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:gE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Fi)return(function(c,d){return{mapValue:{fields:{[yL]:{stringValue:vL},[yy]:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return hE(d.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${k0(r)}`)})(t,e)}function jU(t,e){const n={};return dL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ol(t,((r,a)=>{const s=Yh(a,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function EU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof $i||t instanceof Ma||t instanceof Hn||t instanceof OE||t instanceof Fi)}function DE(t,e,n){if(!EU(n)||!cL(n)){const r=k0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function UN(t,e,n){if((e=jn(e))instanceof Kh)return e._internalPath;if(typeof e=="string")return PE(t,e);throw Sy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ude=new RegExp("[~\\*/\\[\\]]");function PE(t,e,n){if(e.search(Ude)>=0)throw Sy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kh(...e.split("."))._internalPath}catch{throw Sy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sy(t,e,n,r,a){const s=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new De(we.INVALID_ARGUMENT,d+t+f)}function SU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Q0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Vde extends AU{data(){return super.data()}}function Q0(t,e){return typeof e=="string"?PE(t,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zde(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kE{}class ME extends kE{}function Un(t,e,...n){let r=[];e instanceof kE&&r.push(e),r=r.concat(n),(function(s){const c=s.filter((f=>f instanceof LE)).length,d=s.filter((f=>f instanceof J0)).length;if(c>1||c>0&&d>0)throw new De(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class J0 extends ME{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new J0(e,n,r)}_apply(e){const n=this._parse(e);return TU(e._query,n),new cl(e.firestore,e.converter,TN(e._query,n))}_parse(e){const n=W0(e.firestore);return(function(s,c,d,f,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new De(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){pP(g,p);const E=[];for(const _ of g)E.push(mP(f,s,_));x={arrayValue:{values:E}}}else x=mP(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||pP(g,p),x=Lde(d,c,g,p==="in"||p==="not-in");return Ln.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function nn(t,e,n){const r=e,a=Q0("where",t);return J0._create(a,r,n)}class LE extends kE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new LE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,s){let c=a;const d=s.getFlattenedFilters();for(const f of d)TU(c,f),c=TN(c,f)})(e._query,n),new cl(e.firestore,e.converter,TN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class UE extends ME{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new UE(e,n)}_apply(e){const n=(function(a,s,c){if(a.startAt!==null)throw new De(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new De(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dh(s,c)})(e._query,this._field,this._direction);return new cl(e.firestore,e.converter,(function(a,s){const c=a.explicitOrderBy.concat([s]);return new md(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function yd(t,e="asc"){const n=e,r=Q0("orderBy",t);return UE._create(r,n)}class VE extends ME{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new VE(e,n,r)}_apply(e){return new cl(e.firestore,e.converter,xy(e._query,this._limit,this._limitType))}}function Bde(t){return VE._create("limit",t,"F")}function mP(t,e,n){if(typeof(n=jn(n))=="string"){if(n==="")throw new De(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AL(e)&&n.indexOf("/")!==-1)throw new De(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Kt.fromString(n));if(!Fe.isDocumentKey(r))throw new De(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return OD(t,new Fe(r))}if(n instanceof Hn)return OD(t,n._key);throw new De(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${k0(n)}.`)}function pP(t,e){if(!Array.isArray(t)||t.length===0)throw new De(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TU(t,e){const n=(function(a,s){for(const c of a)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $de{convertValue(e,n="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ol(e,((a,s)=>{r[a]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,a,s;const n=(s=(a=(r=e.fields)==null?void 0:r[yy].arrayValue)==null?void 0:a.values)==null?void 0:s.map((c=>wn(c.doubleValue)));return new Fi(n)}convertGeoPoint(e){return new $i(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=U0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lh(e));default:return null}}convertTimestamp(e){const n=Jo(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Kt.fromString(e);Ct(WL(r),9688,{name:e});const a=new ch(r.get(1),r.get(3)),s=new Fe(r.popFirst(5));return a.isEqual(n)||qs(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Kp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ou extends AU{constructor(e,n,r,a,s,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Q0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ou._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ou._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ou._jsonSchema={type:zn("string",Ou._jsonSchemaVersion),bundleSource:zn("string","DocumentSnapshot"),bundleName:zn("string"),bundle:zn("string")};class dg extends Ou{data(e={}){return super.data(e)}}class Ru{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Kp(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new dg(this._firestore,this._userDataWriter,r.key,r,new Kp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new dg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new dg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return d.type!==0&&(h=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:Fde(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ru._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Fde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:t})}}Ru._jsonSchemaVersion="firestore/querySnapshot/1.0",Ru._jsonSchema={type:zn("string",Ru._jsonSchemaVersion),bundleSource:zn("string","QuerySnapshot"),bundleName:zn("string"),bundle:zn("string")};class qde extends $de{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function et(t){t=Xo(t,cl);const e=Xo(t.firestore,gd),n=IE(e),r=new qde(e);return zde(t._query),Ide(n,t._query).then((a=>new Ru(e,r,t,a)))}function zt(t,e,n,...r){t=Xo(t,Hn);const a=Xo(t.firestore,gd),s=W0(a);let c;return c=typeof(e=jn(e))=="string"||e instanceof Kh?_U(s,"updateDoc",t._key,e,n,r):NU(s,"updateDoc",t._key,e),Z0(a,[c.toMutation(t._key,Zr.exists(!0))])}function un(t){return Z0(Xo(t.firestore,gd),[new F0(t._key,Zr.none())])}function Ht(t,e){const n=Xo(t.firestore,gd),r=qe(t),a=CU(t.converter,e);return Z0(n,[wU(W0(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Zr.exists(!1))]).then((()=>r))}function Z0(t,e){return(function(r,a){const s=new Ho;return r.asyncQueue.enqueueAndForget((async()=>gde(await Tde(r),a,s))),s.promise})(IE(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=W0(e)}set(e,n,r){this._verifyNotCommitted();const a=i1(e,this._firestore),s=CU(a.converter,n,r),c=wU(this._dataReader,"WriteBatch.set",a._key,s,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,Zr.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const s=i1(e,this._firestore);let c;return c=typeof(n=jn(n))=="string"||n instanceof Kh?_U(this._dataReader,"WriteBatch.update",s._key,n,r,a):NU(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(c.toMutation(s._key,Zr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=i1(e,this._firestore);return this._mutations=this._mutations.concat(new F0(n._key,Zr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function i1(t,e){if((t=jn(t)).firestore!==e)throw new De(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t){return IE(t=Xo(t,gd)),new Hde(t,(e=>Z0(t,e)))}(function(e,n=!0){(function(a){dd=a})(_c),di(new Ba("firestore",((r,{instanceIdentifier:a,options:s})=>{const c=r.getProvider("app").getImmediate(),d=new gd(new Ple(r.getProvider("auth-internal")),new Lle(c,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new De(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ch(h.options.projectId,p)})(c,a),c);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Jr(vD,xD,e),Jr(vD,xD,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="firebasestorage.googleapis.com",Gde="storageBucket",Kde=120*1e3,Yde=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Fa{constructor(e,n,r=0){super(s1(e),`Firebase Storage: ${n} (${s1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ns.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return s1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ji;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ji||(Ji={}));function s1(t){return"storage/"+t}function Wde(){const t="An unknown error occurred, please check the error payload for server response.";return new ns(Ji.UNKNOWN,t)}function Xde(){return new ns(Ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Qde(){return new ns(Ji.CANCELED,"User canceled the upload/download.")}function Jde(t){return new ns(Ji.INVALID_URL,"Invalid URL '"+t+"'.")}function Zde(t){return new ns(Ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gP(t){return new ns(Ji.INVALID_ARGUMENT,t)}function RU(){return new ns(Ji.APP_DELETED,"The Firebase app was deleted.")}function efe(t){return new ns(Ji.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ii.makeFromUrl(e,n)}catch{return new ii(e,"")}if(r.path==="")return r;throw Zde(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function h(D){D.path_=decodeURIComponent(D.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${a}/o${x}`,"i"),E={bucket:1,path:3},_=n===OU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",C=new RegExp(`^https?://${_}/${a}/${j}`,"i"),A=[{regex:d,indices:f,postModify:s},{regex:w,indices:E,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let D=0;D<A.length;D++){const R=A[D],U=R.regex.exec(e);if(U){const k=U[R.indices.bucket];let V=U[R.indices.path];V||(V=""),r=new ii(k,V),R.postModify(r);break}}if(r==null)throw Jde(e);return r}}class tfe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nfe(t,e,n){let r=1,a=null,s=null,c=!1,d=0;function f(){return d===2}let h=!1;function p(...j){h||(h=!0,e.apply(null,j))}function g(j){a=setTimeout(()=>{a=null,t(w,f())},j)}function x(){s&&clearTimeout(s)}function w(j,...C){if(h){x();return}if(j){x(),p.call(null,j,...C);return}if(f()||c){x(),p.call(null,j,...C);return}r<64&&(r*=2);let A;d===1?(d=2,A=0):A=(r+Math.random())*1e3,g(A)}let E=!1;function _(j){E||(E=!0,x(),!h&&(a!==null?(j||(d=2),clearTimeout(a),g(0)):j||(d=1)))}return g(0),s=setTimeout(()=>{c=!0,_(!0)},n),_}function rfe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function afe(t){return t!==void 0}function yP(t,e,n,r){if(r<e)throw gP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gP(`Invalid value for '${t}'. Expected ${n} or less.`)}function ife(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ay;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ay||(Ay={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sfe(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ofe{constructor(e,n,r,a,s,c,d,f,h,p,g,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,_)=>{this.resolve_=E,this.reject_=_,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Yp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Ay.NO_ERROR,f=s.getStatus();if(!d||sfe(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Ay.ABORT;r(!1,new Yp(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Yp(h,s))})},n=(r,a)=>{const s=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());afe(f)?s(f):s()}catch(f){c(f)}else if(d!==null){const f=Wde();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(a.canceled){const f=this.appDelete_?RU():Qde();c(f)}else{const f=Xde();c(f)}};this.canceled_?n(!1,new Yp(!1,null,!0)):this.backoffId_=nfe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rfe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function lfe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function cfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ufe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dfe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ffe(t,e,n,r,a,s,c=!0,d=!1){const f=ife(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return ufe(p,e),lfe(p,n),cfe(p,s),dfe(p,r),new ofe(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hfe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mfe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this._service=e,n instanceof ii?this._location=n:this._location=ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ty(e,n)}get root(){const e=new ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mfe(this._location.path)}get storage(){return this._service}get parent(){const e=hfe(this._location.path);if(e===null)return null;const n=new ii(this._location.bucket,e);return new Ty(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw efe(e)}}function vP(t,e){const n=e==null?void 0:e[Gde];return n==null?null:ii.makeFromBucketSpec(n,t)}function pfe(t,e,n,r={}){t.host=`${e}:${n}`;const a=wc(e);a&&(Qj(`https://${t.host}/b`),Jj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:_3(s,t.app.options.projectId))}class gfe{constructor(e,n,r,a,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=OU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kde,this._maxUploadRetryTime=Yde,this._requests=new Set,a!=null?this._bucket=ii.makeFromBucketSpec(a,this._host):this._bucket=vP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,e):this._bucket=vP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ty(this,e)}_makeRequest(e,n,r,a,s=!0){if(this._deleted)return new tfe(RU());{const c=ffe(e,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const xP="@firebase/storage",bP="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="storage";function yfe(t=R0(),e){t=jn(t);const r=sl(t,DU).getImmediate({identifier:e}),a=b3("storage");return a&&vfe(r,...a),r}function vfe(t,e,n,r={}){pfe(t,e,n,r)}function xfe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new gfe(n,r,a,e,_c)}function bfe(){di(new Ba(DU,xfe,"PUBLIC").setMultipleInstances(!0)),Jr(xP,bP,""),Jr(xP,bP,"esm2020")}bfe();function PU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wfe=PU,kU=new Nc("auth","Firebase",PU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=new O0("@firebase/auth");function Nfe(t,...e){Cy.logLevel<=gt.WARN&&Cy.warn(`Auth (${_c}): ${t}`,...e)}function fg(t,...e){Cy.logLevel<=gt.ERROR&&Cy.error(`Auth (${_c}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,...e){throw zE(t,...e)}function qi(t,...e){return zE(t,...e)}function MU(t,e,n){const r={...wfe(),[e]:n};return new Nc("auth","Firebase",r).create(e,{appName:t.name})}function rc(t){return MU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kU.create(t,...e)}function Qe(t,e,...n){if(!t)throw zE(e,...n)}function Ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fg(e),new Error(e)}function Ks(t,e){t||Ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function _fe(){return wP()==="http:"||wP()==="https:"}function wP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jfe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_fe()||j3()||"connection"in navigator)?navigator.onLine:!0}function Efe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ks(n>e,"Short delay should be less than long delay!"),this.isMobile=Uie()||Bie()}get(){return jfe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e){Ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sfe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Afe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tfe=new Wh(3e4,6e4);function $E(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function vd(t,e,n,r,a={}){return UU(t,a,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const d=Bh({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return zie()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&wc(t.emulatorConfig.host)&&(h.credentials="include"),LU.fetch()(await VU(t,t.config.apiHost,n,d),h)})}async function UU(t,e,n){t._canInitEmulator=!1;const r={...Sfe,...e};try{const a=new Ife(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Wp(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wp(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Wp(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Wp(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw MU(t,p,h);Gs(t,p)}}catch(a){if(a instanceof Fa)throw a;Gs(t,"network-request-failed",{message:String(a)})}}async function Cfe(t,e,n,r,a={}){const s=await vd(t,e,n,r,a);return"mfaPendingCredential"in s&&Gs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function VU(t,e,n,r){const a=`${e}${n}?${r}`,s=t,c=s.config.emulator?BE(t.config,a):`${t.config.apiScheme}://${a}`;return Afe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}class Ife{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),Tfe.get())})}}function Wp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=qi(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ofe(t,e){return vd(t,"POST","/v1/accounts:delete",e)}async function Iy(t,e){return vd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rfe(t,e=!1){const n=jn(t),r=await n.getIdToken(e),a=FE(r);Qe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,c=s==null?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:Ff(o1(a.auth_time)),issuedAtTime:Ff(o1(a.iat)),expirationTime:Ff(o1(a.exp)),signInProvider:c||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function o1(t){return Number(t)*1e3}function FE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fg("JWT malformed, contained fewer than 3 sections"),null;try{const a=v3(n);return a?JSON.parse(a):(fg("Failed to decode base64 JWT payload"),null)}catch(a){return fg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function NP(t){const e=FE(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fa&&Dfe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Dfe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pfe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oy(t){var g;const e=t.auth,n=await t.getIdToken(),r=await mh(t,Iy(e,{idToken:n}));Qe(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=(g=a.providerUserInfo)!=null&&g.length?zU(a.providerUserInfo):[],c=Mfe(t.providerData,s),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),h=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new zN(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function kfe(t){const e=jn(t);await Oy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mfe(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function zU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lfe(t,e){const n=await UU(t,{},async()=>{const r=Bh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,c=await VU(t,a,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&wc(t.emulatorConfig.host)&&(f.credentials="include"),LU.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ufe(t,e){return vd(t,"POST","/v2/accounts:revokeToken",$E(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=NP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await Lfe(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,c=new Du;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Qe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),s&&(Qe(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Du,this.toJSON())}_performRefresh(){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Pfe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await mh(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Rfe(this,e)}reload(){return kfe(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(rc(this.auth));const e=await this.getIdToken();return await mh(this,Ofe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:w,providerData:E,stsTokenManager:_}=n;Qe(g&&_,e,"internal-error");const j=Du.fromJSON(this.name,_);Qe(typeof g=="string",e,"internal-error"),Ro(r,e.name),Ro(a,e.name),Qe(typeof x=="boolean",e,"internal-error"),Qe(typeof w=="boolean",e,"internal-error"),Ro(s,e.name),Ro(c,e.name),Ro(d,e.name),Ro(f,e.name),Ro(h,e.name),Ro(p,e.name);const C=new si({uid:g,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:s,tenantId:d,stsTokenManager:j,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(C.providerData=E.map(L=>({...L}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new Du;a.updateFromServerResponse(n);const s=new si({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Oy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Qe(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?zU(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),d=new Du;d.updateFromIdToken(r);const f=new si({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new zN(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new Map;function Cs(t){Ks(t instanceof Function,"Expected a class definition");let e=_P.get(t);return e?(Ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_P.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BU.type="NONE";const jP=BU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t,e,n){return`firebase:${t}:${e}:${n}`}class Pu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=hg(this.userKey,a.apiKey,s),this.fullPersistenceKey=hg("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Iy(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pu(Cs(jP),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=a[0]||Cs(jP);const c=hg(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(c);if(p){let g;if(typeof p=="string"){const x=await Iy(e,{idToken:p}).catch(()=>{});if(!x)break;g=await si._fromGetAccountInfoResponse(e,x,p)}else g=si._fromJSON(e,p);h!==s&&(d=g),s=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Pu(s,e,r):(s=f[0],d&&await s._set(c,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(c)}catch{}})),new Pu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($U(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KU(e))return"Blackberry";if(YU(e))return"Webos";if(FU(e))return"Safari";if((e.includes("chrome/")||qU(e))&&!e.includes("edge/"))return"Chrome";if(GU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $U(t=Ar()){return/firefox\//i.test(t)}function FU(t=Ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qU(t=Ar()){return/crios\//i.test(t)}function HU(t=Ar()){return/iemobile/i.test(t)}function GU(t=Ar()){return/android/i.test(t)}function KU(t=Ar()){return/blackberry/i.test(t)}function YU(t=Ar()){return/webos/i.test(t)}function qE(t=Ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vfe(t=Ar()){var e;return qE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function zfe(){return $ie()&&document.documentMode===10}function WU(t=Ar()){return qE(t)||GU(t)||YU(t)||KU(t)||/windows phone/i.test(t)||HU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t,e=[]){let n;switch(t){case"Browser":n=EP(Ar());break;case"Worker":n=`${EP(Ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,d)=>{try{const f=e(s);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $fe(t,e={}){return vd(t,"GET","/v2/passwordPolicy",$E(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ffe=6;class qfe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ffe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hfe{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SP(this),this.idTokenSubscription=new SP(this),this.beforeStateQueue=new Bfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{var r,a,s;if(!this._deleted&&(this.persistenceManager=await Pu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Iy(this,{idToken:e}),r=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(s=this.redirectUser)==null?void 0:s._redirectEventId,d=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Efe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(rc(this));const n=e?jn(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(rc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(rc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $fe(this),n=new qfe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ufe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await Pu.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Nfe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function HE(t){return jn(t)}class SP{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wie(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gfe(t){GE=t}function Kfe(t){return GE.loadJS(t)}function Yfe(){return GE.gapiScript}function Wfe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xfe(t,e){const n=sl(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(Wo(s,e??{}))return a;Gs(a,"already-initialized")}return n.initialize({options:e})}function Qfe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Jfe(t,e,n){const r=HE(t);Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=QU(e),{host:c,port:d}=Zfe(e),f=d===null?"":`:${d}`,h={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Qe(Wo(h,r.config.emulator)&&Wo(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,wc(c)?(Qj(`${s}//${c}${f}`),Jj("Auth",!0)):ehe()}function QU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Zfe(t){const e=QU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:AP(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:AP(c)}}}function AP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ehe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,n){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e){return Cfe(t,"POST","/v1/accounts:signInWithIdp",$E(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const the="http://localhost";class pc extends JU{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const c=new pc(r,a);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ku(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ku(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ku(e,n)}buildRequest(){const e={requestUri:the,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends ZU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Xh{constructor(){super("facebook.com")}static credential(e){return pc._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pc._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lo.credential(n,r)}catch{return null}}}Lo.GOOGLE_SIGN_IN_METHOD="google.com";Lo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Xh{constructor(){super("github.com")}static credential(e){return pc._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends Xh{constructor(){super("twitter.com")}static credential(e,n){return pc._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vo.credential(n,r)}catch{return null}}}Vo.TWITTER_SIGN_IN_METHOD="twitter.com";Vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await si._fromIdTokenResponse(e,r,a),c=TP(r);return new Ju({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=TP(r);return new Ju({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function TP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends Fa{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Ry.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Ry(e,n,r,a)}}function e8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ry._fromErrorAndOperation(t,s,e,r):s})}async function nhe(t,e,n=!1){const r=await mh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ju._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rhe(t,e,n=!1){const{auth:r}=t;if(ai(r.app))return Promise.reject(rc(r));const a="reauthenticate";try{const s=await mh(t,e8(r,a,e,t),n);Qe(s.idToken,r,"internal-error");const c=FE(s.idToken);Qe(c,r,"internal-error");const{sub:d}=c;return Qe(t.uid===d,r,"user-mismatch"),Ju._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ahe(t,e,n=!1){if(ai(t.app))return Promise.reject(rc(t));const r="signIn",a=await e8(t,r,e),s=await Ju._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}function ihe(t,e,n,r){return jn(t).onIdTokenChanged(e,n,r)}function she(t,e,n){return jn(t).beforeAuthStateChanged(e,n)}const Dy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dy,"1"),this.storage.removeItem(Dy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ohe=1e3,lhe=10;class n8 extends t8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);zfe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,lhe):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ohe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n8.type="LOCAL";const che=n8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8 extends t8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r8.type="SESSION";const a8=r8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uhe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new ev(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async h=>h(n.origin,s)),f=await uhe(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ev.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dhe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,c;return new Promise((d,f)=>{const h=KE("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(x.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function fhe(t){Hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function hhe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mhe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function phe(){return i8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="firebaseLocalStorageDb",ghe=1,Py="firebaseLocalStorage",o8="fbase_key";class Qh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tv(t,e){return t.transaction([Py],e?"readwrite":"readonly").objectStore(Py)}function yhe(){const t=indexedDB.deleteDatabase(s8);return new Qh(t).toPromise()}function BN(){const t=indexedDB.open(s8,ghe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Py,{keyPath:o8})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Py)?e(r):(r.close(),await yhe(),e(await BN()))})})}async function CP(t,e,n){const r=tv(t,!0).put({[o8]:e,value:n});return new Qh(r).toPromise()}async function vhe(t,e){const n=tv(t,!1).get(e),r=await new Qh(n).toPromise();return r===void 0?null:r.value}function IP(t,e){const n=tv(t,!0).delete(e);return new Qh(n).toPromise()}const xhe=800,bhe=3;class l8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await BN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bhe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ev._getInstance(phe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await hhe(),!this.activeServiceWorker)return;this.sender=new dhe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mhe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await BN();return await CP(e,Dy,"1"),await IP(e,Dy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vhe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=tv(a,!1).getAll();return new Qh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l8.type="LOCAL";const whe=l8;new Wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nhe(t,e){return e?Cs(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends JU{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ku(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ku(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ku(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _he(t){return ahe(t.auth,new YE(t),t.bypassAuthState)}function jhe(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),rhe(n,new YE(t),t.bypassAuthState)}async function Ehe(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),nhe(n,new YE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _he;case"linkViaPopup":case"linkViaRedirect":return Ehe;case"reauthViaPopup":case"reauthViaRedirect":return jhe;default:Gs(this.auth,"internal-error")}}resolve(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const She=new Wh(2e3,1e4);class Eu extends c8{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,Eu.currentPopupAction&&Eu.currentPopupAction.cancel(),Eu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){Ks(this.filter.length===1,"Popup operations only handle one event");const e=KE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,She.get())};e()}}Eu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ahe="pendingRedirect",mg=new Map;class The extends c8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mg.get(this.auth._key());if(!e){try{const r=await Che(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mg.set(this.auth._key(),e)}return this.bypassAuthState||mg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Che(t,e){const n=Rhe(e),r=Ohe(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function Ihe(t,e){mg.set(t._key(),e)}function Ohe(t){return Cs(t._redirectPersistence)}function Rhe(t){return hg(Ahe,t.config.apiKey,t.name)}async function Dhe(t,e,n=!1){if(ai(t.app))return Promise.reject(rc(t));const r=HE(t),a=Nhe(r,e),c=await new The(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Phe=600*1e3;class khe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mhe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!u8(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(qi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Phe&&this.cachedEventUids.clear(),this.cachedEventUids.has(OP(e))}saveEventToCache(e){this.cachedEventUids.add(OP(e)),this.lastProcessedEventTime=Date.now()}}function OP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function u8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Mhe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lhe(t,e={}){return vd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vhe=/^https?/;async function zhe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Lhe(t);for(const n of e)try{if(Bhe(n))return}catch{}Gs(t,"unauthorized-domain")}function Bhe(t){const e=VN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!Vhe.test(n))return!1;if(Uhe.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $he=new Wh(3e4,6e4);function RP(){const t=Hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Fhe(t){return new Promise((e,n)=>{var a,s,c;function r(){RP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RP(),n(qi(t,"network-request-failed"))},timeout:$he.get()})}if((s=(a=Hi().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((c=Hi().gapi)!=null&&c.load)r();else{const d=Wfe("iframefcb");return Hi()[d]=()=>{gapi.load?r():n(qi(t,"network-request-failed"))},Kfe(`${Yfe()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw pg=null,e})}let pg=null;function qhe(t){return pg=pg||Fhe(t),pg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hhe=new Wh(5e3,15e3),Ghe="__/auth/iframe",Khe="emulator/auth/iframe",Yhe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Whe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xhe(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?BE(e,Khe):`https://${t.config.authDomain}/${Ghe}`,r={apiKey:e.apiKey,appName:t.name,v:_c},a=Whe.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bh(r).slice(1)}`}async function Qhe(t){const e=await qhe(t),n=Hi().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:Xhe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yhe,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const c=qi(t,"network-request-failed"),d=Hi().setTimeout(()=>{s(c)},Hhe.get());function f(){Hi().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{s(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zhe=500,eme=600,tme="_blank",nme="http://localhost";class DP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rme(t,e,n,r=Zhe,a=eme){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...Jhe,width:r.toString(),height:a.toString(),top:s,left:c},h=Ar().toLowerCase();n&&(d=qU(h)?tme:n),$U(h)&&(e=e||nme,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[w,E])=>`${x}${w}=${E},`,"");if(Vfe(h)&&d!=="_self")return ame(e||"",d),new DP(null);const g=window.open(e||"",d,p);Qe(g,t,"popup-blocked");try{g.focus()}catch{}return new DP(g)}function ame(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ime="__/auth/handler",sme="emulator/auth/handler",ome=encodeURIComponent("fac");async function PP(t,e,n,r,a,s){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_c,eventId:a};if(e instanceof ZU){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Yie(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Xh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${ome}=${encodeURIComponent(f)}`:"";return`${lme(t)}?${Bh(d).slice(1)}${h}`}function lme({config:t}){return t.emulator?BE(t,sme):`https://${t.authDomain}/${ime}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="webStorageSupport";class cme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a8,this._completeRedirectFn=Dhe,this._overrideRedirectResult=Ihe}async _openPopup(e,n,r,a){var c;Ks((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const s=await PP(e,n,r,VN(),a);return rme(e,s,KE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await PP(e,n,r,VN(),a);return fhe(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(Ks(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Qhe(e),r=new khe(e);return n.register("authEvent",a=>(Qe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(l1,{type:l1},a=>{var c;const s=(c=a==null?void 0:a[0])==null?void 0:c[l1];s!==void 0&&n(!!s),Gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zhe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WU()||FU()||qE()}}const ume=cme;var kP="@firebase/auth",MP="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hme(t){di(new Ba("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Qe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XU(t)},h=new Hfe(r,a,s,f);return Qfe(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),di(new Ba("auth-internal",e=>{const n=HE(e.getProvider("auth").getImmediate());return(r=>new dme(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(kP,MP,fme(t)),Jr(kP,MP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mme=300,pme=N3("authIdTokenMaxAge")||mme;let LP=null;const gme=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pme)return;const a=n==null?void 0:n.token;LP!==a&&(LP=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function yme(t=R0()){const e=sl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Xfe(t,{popupRedirectResolver:ume,persistence:[whe,che,a8]}),r=N3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=gme(s.toString());she(n,c,()=>c(n.currentUser)),ihe(n,d=>c(d))}}const a=x3("auth");return a&&Jfe(n,`http://${a}`),n}function vme(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Gfe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=qi("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",vme().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hme("Browser");const xme={apiKey:"AIzaSyBqcfkwEvapmZNqPyR6b6bvIZ8MqhxfpcY",authDomain:"botany-db.firebaseapp.com",projectId:"botany-db",storageBucket:"botany-db.firebasestorage.app",messagingSenderId:"479719860860",appId:"1:479719860860:web:7e7276143b1ebe0ec6b7f9",measurementId:"G-R5JLK6WW00"},nv=I3(xme);Ale(nv);const ye=Rde(nv);yfe(nv);yme(nv);const bme="https://script.google.com/macros/s/AKfycbwuWlnf0aFiBQKNWOsBuNEx_voz3XB3kwAzxL13ZhL6bfsotewcxKKMmkD58e5hDVZ1zA/exec",ul=async t=>{if(t.size>50*1024*1024)throw new Error("   .    50 .");return new Promise((e,n)=>{const r=new FileReader;r.onload=async()=>{try{const s=r.result.split(",")[1];if(!s){n(new Error("   ."));return}const c={base64:s,type:t.type,name:t.name},d=await fetch(bme,{method:"POST",body:JSON.stringify(c)});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=await d.json();f.status==="success"&&f.url?e(f.url):n(new Error(f.message||" :     ."))}catch(a){console.error("Google Drive Upload Error:",a),n(new Error("   Google Drive."))}},r.onerror=()=>n(new Error("     .")),r.readAsDataURL(t)})},Ae=async(t,e,n="")=>{try{await Ht(Re(ye,"activity_logs"),{action:t,performedBy:e,details:n,timestamp:new Date().toISOString(),createdAt:Date.now()})}catch(r){console.error("Error logging activity:",r)}},wme=async()=>{try{const t=Un(Re(ye,"activity_logs"),Bde(100));let n=(await et(t)).docs.map(r=>({id:r.id,...r.data()}));return n.sort((r,a)=>(a.createdAt||0)-(r.createdAt||0)),n}catch(t){return console.error("Error fetching logs:",t),[]}},Nme=async t=>{await un(qe(ye,"activity_logs",t))},_me=async(t,e)=>{try{const n=Un(Re(ye,"staff"),nn("username","==",t),nn("password","==",e)),r=await et(n);if(!r.empty){const x=r.docs[0].data();let w=je.STAFF;return t.toLowerCase()==="admin"&&(w=je.ADMIN),await Ae(" ",x.name,`  ${w}`),{id:r.docs[0].id,name:x.name,role:w,details:x.rank}}const a=Un(Re(ye,"employees"),nn("username","==",t),nn("password","==",e)),s=await et(a);if(!s.empty){const x=s.docs[0].data();return await Ae(" ",x.name,`: ${x.jobTitle}`),{id:s.docs[0].id,name:x.name,role:je.EMPLOYEE,details:x.jobTitle}}const c=Un(Re(ye,"pg_students"),nn("username","==",t),nn("password","==",e)),d=await et(c);if(!d.empty){const x=d.docs[0].data();return await Ae(" ",x.name,"  "),{id:d.docs[0].id,name:x.name,role:je.STUDENT_PG,details:" "}}const f=Un(Re(ye,"ug_students"),nn("username","==",t),nn("password","==",e)),h=await et(f);if(!h.empty){const x=h.docs[0].data();return await Ae(" ",x.name," "),{id:h.docs[0].id,name:x.name,role:je.STUDENT_UG,details:" "}}const p=Un(Re(ye,"alumni"),nn("username","==",t),nn("password","==",e)),g=await et(p);if(!g.empty){const x=g.docs[0].data();return await Ae(" ",x.name,""),{id:g.docs[0].id,name:x.name,role:je.ALUMNI,details:""}}return null}catch(n){return console.error("Login error:",n),null}},dl=async t=>{try{const e=Re(ye,"archive");let n;return t?n=Un(e,nn("type","==",t)):n=Un(e),(await et(n)).docs.map(s=>({id:s.id,...s.data()})).sort((s,c)=>c.createdAt-s.createdAt)}catch(e){return console.warn("Error fetching docs:",e),[]}},rv=async t=>{const e={...t,createdAt:Date.now(),isFollowedUp:!1},n=await Ht(Re(ye,"archive"),e);return{...e,id:n.id}},ph=async(t,e)=>{await zt(qe(ye,"archive",t),e)},Jh=async t=>{await un(qe(ye,"archive",t))},WE=async t=>{const e=await dl(t),n=new Date().getFullYear(),r=e.length+1;return`${n}/${r.toString().padStart(4,"0")}`},jme=async()=>{const t=await et(Re(ye,"archive")),e=await et(Re(ye,"staff")),n=await et(Re(ye,"pg_students")),r=await et(Re(ye,"alumni")),a=await et(Re(ye,"employees")),s=t.docs.map(d=>d.data()),c=new Date().toISOString().split("T")[0];return{totalIncoming:s.filter(d=>d.type===rt.INCOMING).length,totalOutgoing:s.filter(d=>d.type===rt.OUTGOING).length,totalCouncils:s.filter(d=>d.type===rt.DEPARTMENT_COUNCIL).length,totalCommittees:s.filter(d=>d.type===rt.COMMITTEE_MEETING).length,todayCount:s.filter(d=>d.date===c).length,unansweredCount:s.filter(d=>d.type===rt.INCOMING&&d.actionRequired&&!d.isFollowedUp).length,totalStaff:e.size,totalStudentsPG:n.size,totalAlumni:r.size,totalEmployees:a.size}},av=async()=>(await et(Re(ye,"staff"))).docs.map(e=>({id:e.id,...e.data()})),Eme=async t=>{await Ht(Re(ye,"staff"),t)},d8=async(t,e)=>{await zt(qe(ye,"staff",t),e)},Sme=async t=>{await un(qe(ye,"staff",t))},Ame=async()=>(await et(Re(ye,"employees"))).docs.map(e=>({id:e.id,...e.data()})),Tme=async t=>{await Ht(Re(ye,"employees"),t)},Cme=async(t,e)=>{await zt(qe(ye,"employees",t),e)},Ime=async t=>{await un(qe(ye,"employees",t))},Ome=t=>{if(!t)return{reportOverdue:!1,extensionNeeded:!1};const e=new Date().toISOString().split("T")[0];let n=!1,r=!1;return t.nextReportDue&&t.nextReportDue<e&&(n=!0),t.expectedDefense&&t.expectedDefense<e&&(r=!0),{reportOverdue:n,extensionNeeded:r}},f8=async()=>(await et(Re(ye,"pg_students"))).docs.map(e=>{const n=e.data();return{...n,id:e.id,alerts:Ome(n.dates)}}),Rme=async t=>{await Ht(Re(ye,"pg_students"),t)},$N=async(t,e)=>{await zt(qe(ye,"pg_students",t),e)},Dme=async t=>{await un(qe(ye,"pg_students",t))},Pme=async()=>(await et(Re(ye,"ug_students"))).docs.map(e=>({id:e.id,...e.data()})),kme=async t=>{await Ht(Re(ye,"ug_students"),t)},Mme=async(t,e)=>{await zt(qe(ye,"ug_students",t),e)},Lme=async t=>{await un(qe(ye,"ug_students",t))},Ume=async()=>(await et(Re(ye,"alumni"))).docs.map(e=>({id:e.id,...e.data()})),h8=async t=>{await Ht(Re(ye,"alumni"),t)},Vme=async(t,e)=>{await zt(qe(ye,"alumni",t),e)},zme=async t=>{await un(qe(ye,"alumni",t))},Bme=async()=>(await et(Re(ye,"jobs"))).docs.map(e=>({id:e.id,...e.data()})),$me=async t=>{await Ht(Re(ye,"jobs"),{...t,status:t.status||"OPEN"})},Fme=async(t,e)=>{await zt(qe(ye,"jobs",t),e)},qme=async t=>{await un(qe(ye,"jobs",t))},Hme=async()=>(await et(Re(ye,"assets"))).docs.map(e=>({id:e.id,...e.data()})),Gme=async t=>{await Ht(Re(ye,"assets"),{...t,createdAt:Date.now()})},Kme=async(t,e)=>{await zt(qe(ye,"assets",t),e)},Yme=async t=>{await un(qe(ye,"assets",t))},Wme=async()=>(await et(Re(ye,"labs"))).docs.map(e=>({id:e.id,...e.data()})),Xme=async t=>{await Ht(Re(ye,"labs"),t)},Qme=async(t,e)=>{await zt(qe(ye,"labs",t),e)},Jme=async t=>{await un(qe(ye,"labs",t))},Zme=async()=>(await et(Re(ye,"lab_classes"))).docs.map(e=>({id:e.id,...e.data()})),epe=async t=>{await Ht(Re(ye,"lab_classes"),t)},tpe=async(t,e)=>{await zt(qe(ye,"lab_classes",t),e)},npe=async t=>{await un(qe(ye,"lab_classes",t))},rpe=async()=>(await et(Re(ye,"lab_bookings"))).docs.map(e=>({id:e.id,...e.data()})),ape=async t=>{await Ht(Re(ye,"lab_bookings"),{...t,status:t.status||"CONFIRMED",createdAt:Date.now()})},ipe=async(t,e)=>{await zt(qe(ye,"lab_bookings",t),e)},spe=async t=>{await un(qe(ye,"lab_bookings",t))},ope=async()=>{const e=(await et(Re(ye,"greenhouse_plots"))).docs.map(n=>({id:n.id,...n.data()}));if(e.length===0){const n=IU(ye),r=[];for(let a=1;a<=12;a++){const s=qe(Re(ye,"greenhouse_plots")),c={number:a,status:"FREE"};n.set(s,c),r.push({id:s.id,...c})}return await n.commit(),r}return e},UP=async(t,e)=>{await zt(qe(ye,"greenhouse_plots",t),e)},lpe=async()=>(await et(Re(ye,"greenhouse_history"))).docs.map(e=>({id:e.id,...e.data()})),cpe=async t=>{await Ht(Re(ye,"greenhouse_history"),t)},upe=async t=>{await un(qe(ye,"greenhouse_history",t))},dpe=async()=>(await et(Re(ye,"materials"))).docs.map(e=>({id:e.id,...e.data()})),fpe=async t=>{await Ht(Re(ye,"materials"),t)},hpe=async t=>{await un(qe(ye,"materials",t))},mpe=async()=>(await et(Re(ye,"announcements"))).docs.map(e=>({id:e.id,...e.data()})),ppe=async t=>{await Ht(Re(ye,"announcements"),t)},gpe=async t=>{await un(qe(ye,"announcements",t))},ype=async()=>(await et(Re(ye,"schedules"))).docs.map(e=>({id:e.id,...e.data()})),vpe=async t=>{await Ht(Re(ye,"schedules"),t)},xpe=async t=>{await un(qe(ye,"schedules",t))},bpe=async()=>(await et(Re(ye,"events"))).docs.map(e=>({id:e.id,...e.data()})),wpe=async t=>{await Ht(Re(ye,"events"),{...t,createdAt:Date.now()})},Npe=async(t,e)=>{await zt(qe(ye,"events",t),e)},_pe=async t=>{await un(qe(ye,"events",t))},jpe=async()=>(await et(Re(ye,"dept_councils"))).docs.map(e=>({id:e.id,...e.data()})),Epe=async t=>{await Ht(Re(ye,"dept_councils"),t)},Spe=async(t,e)=>{await zt(qe(ye,"dept_councils",t),e)},Ape=async t=>{await un(qe(ye,"dept_councils",t))},Tpe=async()=>(await et(Re(ye,"dept_committees"))).docs.map(e=>({id:e.id,...e.data()})),Cpe=async t=>{await Ht(Re(ye,"dept_committees"),t)},Ipe=async(t,e)=>{await zt(qe(ye,"dept_committees",t),e)},Ope=async t=>{await un(qe(ye,"dept_committees",t))},Rpe=async(t,e)=>{const n=Un(Re(ye,"annual_reports"),nn("userId","==",t),nn("academicYear","==",e)),r=await et(n);return r.empty?null:{id:r.docs[0].id,...r.docs[0].data()}},Dpe=async(t,e)=>{e?await zt(qe(ye,"annual_reports",e),{...t}):await Ht(Re(ye,"annual_reports"),t)},Ppe=async t=>{const e=Un(Re(ye,"annual_reports"),nn("academicYear","==",t));return(await et(e)).docs.map(r=>({id:r.id,...r.data()}))},XE=async()=>{const t=Un(Re(ye,"research_plans"),nn("status","==","ACTIVE")),e=await et(t);return e.empty?(await nge(),XE()):{id:e.docs[0].id,...e.docs[0].data()}},kpe=async()=>{const t=Un(Re(ye,"research_plans"),yd("startDate","desc"));return(await et(t)).docs.map(n=>({id:n.id,...n.data()}))},Mpe=async t=>{if(t.status==="ACTIVE"){const e=await XE();e&&await Upe(e.id)}await Ht(Re(ye,"research_plans"),t)},$l=async(t,e)=>{await zt(qe(ye,"research_plans",t),e)},Lpe=async t=>{await un(qe(ye,"research_plans",t))},Upe=async t=>{await zt(qe(ye,"research_plans",t),{status:"ARCHIVED"})},Vpe=async()=>{const t=Un(Re(ye,"research_proposals"),yd("createdAt","desc"));return(await et(t)).docs.map(n=>({id:n.id,...n.data()}))},zpe=async t=>{const e=JSON.parse(JSON.stringify(t));await Ht(Re(ye,"research_proposals"),{...e,createdAt:Date.now()})},Bpe=async(t,e,n)=>{await zt(qe(ye,"research_proposals",t),{status:e,adminNotes:n})},$pe=async t=>{await Ht(Re(ye,"leave_requests"),{...t,createdAt:Date.now(),status:t.substituteId?"PENDING_SUBSTITUTE":"PENDING_HEAD"})},Fpe=async t=>{const e=Un(Re(ye,"leave_requests"),nn("userId","==",t),yd("createdAt","desc"));return(await et(e)).docs.map(r=>({id:r.id,...r.data()}))},qpe=async t=>{const e=Un(Re(ye,"leave_requests"),nn("substituteId","==",t),nn("status","==","PENDING_SUBSTITUTE"));return(await et(e)).docs.map(r=>({id:r.id,...r.data()}))},Hpe=async(t,e,n)=>{const r={substituteStatus:e?"ACCEPTED":"DECLINED",status:e?"PENDING_HEAD":"REJECTED",substituteRejectionReason:n||""};await zt(qe(ye,"leave_requests",t),r)},c1=async t=>{await Ht(Re(ye,"career_requests"),{...t,createdAt:Date.now(),status:"PENDING_DEPT"})},Gpe=async t=>{const e=Un(Re(ye,"career_requests"),nn("userId","==",t),yd("createdAt","desc"));return(await et(e)).docs.map(r=>({id:r.id,...r.data()}))},Kpe=async()=>{const t=Un(Re(ye,"career_requests"),yd("createdAt","desc"));return(await et(t)).docs.map(n=>({id:n.id,...n.data()}))},Ype=async(t,e)=>{await zt(qe(ye,"career_requests",t),{status:e})},Wpe=async t=>{const e=Un(Re(ye,"career_requests"),nn("userId","==",t),nn("type","==","LOAN"),nn("status","==","APPROVED")),n=await et(e);let r=0;return n.forEach(a=>{const s=a.data(),c=new Date(s.startDate).getFullYear(),d=new Date(s.endDate).getFullYear();r+=d-c+1}),r},Xpe=async()=>{const t=Un(Re(ye,"repository_items"),yd("createdAt","desc"));return(await et(t)).docs.map(n=>({id:n.id,...n.data()}))},Qpe=async t=>{await Ht(Re(ye,"repository_items"),{...t,createdAt:Date.now()})},Jpe=async t=>{await Ht(Re(ye,"repository_requests"),{...t,status:"PENDING",createdAt:Date.now()})},Zpe=async t=>{const e=Un(Re(ye,"repository_requests"),nn("itemAuthorId","==",t),nn("status","==","PENDING"));return(await et(e)).docs.map(r=>({id:r.id,...r.data()}))},ege=async(t,e)=>{await zt(qe(ye,"repository_requests",t),{status:e,responseDate:new Date().toISOString()})},tge=async()=>{const e=(await et(Re(ye,"repository_items"))).docs.map(n=>n.data());return{totalItems:e.length,theses:e.filter(n=>n.type.includes("THESIS")).length,papers:e.filter(n=>n.type.includes("PAPER")).length,books:e.filter(n=>n.type==="BOOK").length}},nge=async()=>{if(!(await et(Re(ye,"research_plans"))).empty)return;console.log("Seeding Research Plan...");const e={title:"     2025-2030",vision:"            .",strategicGoals:["  2030"," "," "],startDate:"2025-01-01",endDate:"2030-12-31",status:"ACTIVE",axes:[{id:"axis1",title:"   ",description:"      .",coordinator:"./  ",topics:[{id:"t1",title:"        ",goal:" ",status:"IN_PROGRESS",studentName:" "},{id:"t2",title:"    ",goal:" ",status:"AVAILABLE"}]},{id:"axis2",title:"    ",description:"      .",coordinator:"./  ",topics:[{id:"t3",title:"    ",goal:" ",status:"COMPLETED",completionDate:"2023-05-20"},{id:"t4",title:"   ",goal:" ",status:"AVAILABLE"}]}]};await Ht(Re(ye,"research_plans"),e)},rge=async()=>{if(!(await et(Re(ye,"staff"))).empty)return;console.log("Seeding initial data...");const e=IU(ye),n=qe(Re(ye,"staff"));e.set(n,{name:"Admin User",rank:" ",specialization:"IT",email:"admin@botany.com",phone:"01000000000",whatsapp:"01000000000",address:" ",username:"admin",password:"admin",subRole:"FACULTY"}),await e.commit(),console.log("Seeded admin user: admin/admin")},age=()=>{const[t,e]=N.useState(null),[n,r]=N.useState([]),[a,s]=N.useState(!0),c=async()=>{s(!0);const f=await jme(),h=await dl();e(f),r(h.slice(0,5)),s(!1)};if(N.useEffect(()=>{c()},[]),a||!t)return o.jsx("div",{className:"flex items-center justify-center h-full text-green-600",children:o.jsx(g1,{className:"w-8 h-8 animate-spin"})});const d=[{name:"",count:t.totalIncoming},{name:"",count:t.totalOutgoing},{name:"",count:t.totalCouncils},{name:"",count:t.totalCommittees}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  "}),o.jsxs("button",{onClick:c,className:"text-sm text-green-600 hover:underline flex items-center gap-1",children:[o.jsx(g1,{className:"w-4 h-4"})," "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(ka,{title:" ",value:t.totalIncoming,icon:c4,color:"blue"}),o.jsx(ka,{title:" ",value:t.totalOutgoing,icon:u4,color:"green"}),o.jsx(ka,{title:" ",value:t.totalCouncils,icon:oi,color:"purple"}),o.jsx(ka,{title:" ",value:t.totalCommittees,icon:l4,color:"amber"})]}),o.jsx("h3",{className:"font-bold text-gray-700 mt-4",children:"  "}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(ka,{title:"  ",value:t.totalStaff,icon:oi,color:"green"}),o.jsx(ka,{title:" ",value:t.totalEmployees,icon:s4,color:"amber"}),o.jsx(ka,{title:"  ",value:t.totalStudentsPG,icon:Jl,color:"blue"}),o.jsx(ka,{title:" ",value:t.totalAlumni,icon:ks,color:"purple"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"  "}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b text-gray-500",children:[o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[n.map(f=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-1 rounded text-xs ${f.type===rt.INCOMING?"bg-blue-100 text-blue-700":f.type===rt.OUTGOING?"bg-green-100 text-green-700":f.type===rt.DEPARTMENT_COUNCIL?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:f.type===rt.INCOMING?"":f.type===rt.OUTGOING?"":f.type===rt.DEPARTMENT_COUNCIL?"":""}),f.type===rt.INCOMING&&f.actionRequired&&(f.isFollowedUp?o.jsx(Wr,{className:"w-4 h-4 text-green-500",title:" "}):o.jsx(Gi,{className:"w-4 h-4 text-amber-500",title:" "}))]})}),o.jsx("td",{className:"py-3 font-medium text-gray-700",children:f.serialNumber}),o.jsx("td",{className:"py-3 text-gray-600 truncate max-w-[150px]",children:f.subject}),o.jsx("td",{className:"py-3 text-gray-500",children:f.date})]},f.id)),n.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"   "})})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 min-h-[300px]",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:" "}),o.jsx(Vk,{width:"100%",height:250,children:o.jsxs(gie,{data:d,children:[o.jsx(J6,{strokeDasharray:"3 3",vertical:!1}),o.jsx(e3,{dataKey:"name",tick:{fontFamily:"Cairo"}}),o.jsx(t3,{allowDecimals:!1}),o.jsx(p6,{contentStyle:{fontFamily:"Cairo",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"#f3f4f6"}}),o.jsx(H6,{dataKey:"count",fill:"#15803d",barSize:50,radius:[4,4,0,0]})]})})]})]})]})},ige=({user:t})=>{const[e,n]=N.useState(!1),[r,a]=N.useState(!1),[s,c]=N.useState([]),[d,f]=N.useState(!1),[h,p]=N.useState(null),[g,x]=N.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),[w,E]=N.useState(null);N.useEffect(()=>{_()},[]);const _=async()=>{n(!0);const D=await dl(rt.OUTGOING);c(D),n(!1)},j=async()=>{const D=await WE(rt.OUTGOING);x({...g,serialNumber:D,date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),E(null),p(null),f(!0)},C=D=>{x({serialNumber:D.serialNumber,date:D.date,recipient:D.recipient||"",subject:D.subject,notes:D.notes||""}),p(D.id),E(null),f(!0)},L=async D=>{if(window.confirm("      "))try{await Jh(D.id),await Ae(" ",t.name,`   : ${D.serialNumber}`),_()}catch(R){console.error(R),alert(" ")}},A=async D=>{D.preventDefault(),a(!0);try{let R="";if(w)try{R=await ul(w)}catch(U){throw console.error("Upload failed:",U),new Error("  .    Google Drive Script.")}if(h){const U={date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes};R&&(U.fileUrl=R),await ph(h,U),await Ae(" ",t.name,`   : ${g.serialNumber}`),alert("   ")}else await rv({type:rt.OUTGOING,serialNumber:g.serialNumber,date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes,fileUrl:R||""}),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),_()}catch(R){console.error(R),alert(" : "+R.message)}finally{a(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&o.jsxs("button",{onClick:j,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-green-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-green-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Pt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:D=>x({...g,serialNumber:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none bg-gray-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:D=>x({...g,date:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,placeholder:":  ./  ",value:g.recipient,onChange:D=>x({...g,recipient:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,placeholder:"  ...",value:g.subject,onChange:D=>x({...g,subject:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("textarea",{rows:2,value:g.notes,onChange:D=>x({...g,notes:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:D=>E(D.target.files?D.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(it,{className:"w-8 h-8 text-green-600 animate-spin"}):o.jsx(Er,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-green-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(it,{className:"w-5 h-5 animate-spin"}):o.jsx(Nn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(D=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-gray-700",children:D.serialNumber}),o.jsx("td",{className:"p-4",children:D.date}),o.jsx("td",{className:"p-4",children:D.recipient}),o.jsx("td",{className:"p-4 max-w-xs truncate",title:D.subject,children:D.subject}),o.jsx("td",{className:"p-4",children:D.fileUrl?o.jsxs("a",{href:D.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[o.jsx(yr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:"  "})}),o.jsxs("td",{className:"p-4 flex items-center gap-2",children:[o.jsx("button",{onClick:()=>C(D),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>L(D),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]})]},D.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},sge=({user:t})=>{const[e,n]=N.useState(!1),[r,a]=N.useState(!1),[s,c]=N.useState([]),[d,f]=N.useState(!1),[h,p]=N.useState(null),[g,x]=N.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),[w,E]=N.useState(null),_=["./  ",".  ",".  "," "," "];N.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const U=await dl(rt.INCOMING);c(U),n(!1)},C=async()=>{const U=await WE(rt.INCOMING);x({...g,serialNumber:U,date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),E(null),p(null),f(!0)},L=U=>{x({serialNumber:U.serialNumber,date:U.date,sender:U.sender||"",senderRefNumber:U.senderRefNumber||"",subject:U.subject,actionRequired:U.actionRequired||"",assignedTo:U.assignedTo||"",notes:U.notes||""}),p(U.id),E(null),f(!0)},A=async U=>{if(window.confirm("       "))try{await Jh(U.id),await Ae(" ",t.name,`    : ${U.serialNumber}`),j()}catch(k){console.error(k),alert(" ")}},D=async U=>{U.preventDefault(),a(!0);try{let k="";if(w)try{k=await ul(w)}catch(V){throw console.error("Upload failed:",V),new Error("  .    Google Drive Script.")}if(h){const V={date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes};k&&(V.fileUrl=k),await ph(h,V),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await rv({type:rt.INCOMING,serialNumber:g.serialNumber,date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes,fileUrl:k||"",isFollowedUp:!1}),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),j()}catch(k){console.error(k),alert("   : "+k.message)}finally{a(!1)}},R=async U=>{if(!U.actionRequired)return;const k=!U.isFollowedUp;c(V=>V.map(M=>M.id===U.id?{...M,isFollowedUp:k}:M));try{await ph(U.id,{isFollowedUp:k}),await Ae(" ",t.name,`     ${U.serialNumber}  ${k?"":" "}`)}catch{c(M=>M.map(I=>I.id===U.id?{...I,isFollowedUp:!k}:I)),alert("  ")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),!d&&o.jsxs("button",{onClick:C,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-blue-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-blue-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Pt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:D,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),o.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:U=>x({...g,serialNumber:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:U=>x({...g,date:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsx("div",{}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:":   ",value:g.sender,onChange:U=>x({...g,sender:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",placeholder:"   ",value:g.senderRefNumber,onChange:U=>x({...g,senderRefNumber:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,value:g.subject,onChange:U=>x({...g,subject:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":   ",value:g.actionRequired,onChange:U=>x({...g,actionRequired:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Assign To)"}),o.jsxs("select",{value:g.assignedTo,onChange:U=>x({...g,assignedTo:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[o.jsx("option",{value:"",children:"--     --"}),_.map((U,k)=>o.jsx("option",{value:U,children:U},k))]})]})]}),o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUploadIn",className:"hidden",disabled:r,onChange:U=>E(U.target.files?U.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUploadIn",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(it,{className:"w-8 h-8 text-blue-600 animate-spin"}):o.jsx(Er,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-blue-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(it,{className:"w-5 h-5 animate-spin"}):o.jsx(Nn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(U=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4",children:U.actionRequired?o.jsx("button",{onClick:()=>R(U),className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold border transition-colors ${U.isFollowedUp?"bg-green-50 text-green-700 border-green-200 hover:bg-green-100":"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100"}`,title:U.isFollowedUp?"  ":"  ",children:U.isFollowedUp?o.jsxs(o.Fragment,{children:[o.jsx(Wr,{className:"w-3 h-3"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Gi,{className:"w-3 h-3"}),o.jsx("span",{children:""})]})}):o.jsx("span",{className:"text-gray-300 text-xs",children:"-"})}),o.jsx("td",{className:"p-4 font-bold text-gray-700",children:U.serialNumber}),o.jsx("td",{className:"p-4",children:U.date}),o.jsx("td",{className:"p-4",children:U.sender}),o.jsx("td",{className:"p-4 max-w-xs truncate",title:U.subject,children:U.subject}),o.jsx("td",{className:"p-4",children:U.assignedTo?o.jsx("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md text-xs border border-purple-100",children:U.assignedTo}):"-"}),o.jsx("td",{className:"p-4",children:U.fileUrl?o.jsxs("a",{href:U.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[o.jsx(yr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>L(U),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>A(U),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]})]},U.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},oge=({user:t})=>{const[e,n]=N.useState(!1),[r,a]=N.useState(!1),[s,c]=N.useState([]),[d,f]=N.useState(!1),[h,p]=N.useState(null),[g,x]=N.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],subject:"",notes:""}),[w,E]=N.useState(null);N.useEffect(()=>{_()},[]);const _=async()=>{n(!0);const D=await dl(rt.DEPARTMENT_COUNCIL);c(D),n(!1)},j=async()=>{const D=await WE(rt.DEPARTMENT_COUNCIL);x({...g,serialNumber:D,date:new Date().toISOString().split("T")[0],subject:"",notes:""}),E(null),p(null),f(!0)},C=D=>{x({serialNumber:D.serialNumber,date:D.date,subject:D.subject,notes:D.notes||""}),p(D.id),E(null),f(!0)},L=async D=>{if(window.confirm("      "))try{await Jh(D.id),await Ae("  ",t.name,`    : ${D.serialNumber}`),_()}catch(R){console.error(R),alert(" ")}},A=async D=>{D.preventDefault(),a(!0);try{let R="";if(w)try{R=await ul(w)}catch(U){throw console.error("Upload failed:",U),new Error("  .    Google Drive Script.")}if(h){const U={date:g.date,subject:g.subject,notes:g.notes};R&&(U.fileUrl=R),await ph(h,U),await Ae("  ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await rv({type:rt.DEPARTMENT_COUNCIL,serialNumber:g.serialNumber,date:g.date,subject:g.subject,notes:g.notes,fileUrl:R||""}),await Ae("  ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),_()}catch(R){console.error(R),alert("   : "+R.message)}finally{a(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&o.jsxs("button",{onClick:j,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-purple-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Pt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:": 5/2024",value:g.serialNumber,onChange:D=>x({...g,serialNumber:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:D=>x({...g,date:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),o.jsx("input",{type:"text",required:!0,placeholder:"    ",value:g.subject,onChange:D=>x({...g,subject:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),o.jsx("textarea",{rows:4,value:g.notes,onChange:D=>x({...g,notes:D.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:D=>E(D.target.files?D.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(it,{className:"w-8 h-8 text-purple-600 animate-spin"}):o.jsx(Er,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-purple-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(it,{className:"w-5 h-5 animate-spin"}):o.jsx(Nn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(D=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-gray-700",children:D.serialNumber}),o.jsx("td",{className:"p-4",children:D.date}),o.jsx("td",{className:"p-4 max-w-lg truncate",title:D.subject,children:D.subject}),o.jsx("td",{className:"p-4",children:D.fileUrl?o.jsxs("a",{href:D.fileUrl,target:"_blank",rel:"noreferrer",className:"text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[o.jsx(yr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>C(D),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>L(D),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]})]},D.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},lge=({user:t})=>{const[e,n]=N.useState(!1),[r,a]=N.useState(!1),[s,c]=N.useState([]),[d,f]=N.useState(!1),[h,p]=N.useState(null),[g,x]=N.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),[w,E]=N.useState(null),_=["   ","  ","  ","  ","  "," "];N.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const R=await dl(rt.COMMITTEE_MEETING);c(R),n(!1)},C=async()=>{x({...g,serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),E(null),p(null),f(!0)},L=R=>{x({serialNumber:R.serialNumber,date:R.date,committeeName:R.sender||"",subject:R.subject,notes:R.notes||""}),p(R.id),E(null),f(!0)},A=async R=>{if(window.confirm("      "))try{await Jh(R.id),await Ae("  ",t.name,`   : ${R.sender}  ${R.date}`),j()}catch(U){console.error(U),alert(" ")}},D=async R=>{R.preventDefault(),a(!0);try{let U="";if(w)try{U=await ul(w)}catch(k){throw console.error("Upload failed:",k),new Error("  .    Google Drive Script.")}if(h){const k={serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes};U&&(k.fileUrl=U),await ph(h,k),await Ae("  ",t.name,`    : ${g.committeeName}`),alert("   ")}else await rv({type:rt.COMMITTEE_MEETING,serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes,fileUrl:U||""}),await Ae("  ",t.name,`    : ${g.committeeName}`),alert("   ");f(!1),j()}catch(U){console.error(U),alert("   : "+U.message)}finally{a(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"   "})]}),!d&&o.jsxs("button",{onClick:C,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-amber-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-amber-800",children:h?" ":" "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Pt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:D,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{required:!0,value:g.committeeName,onChange:R=>x({...g,committeeName:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white",children:[o.jsx("option",{value:"",children:"--   --"}),_.map(R=>o.jsx("option",{value:R,children:R},R)),o.jsx("option",{value:"other",children:"  (   )"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.serialNumber,onChange:R=>x({...g,serialNumber:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:R=>x({...g,date:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.subject,onChange:R=>x({...g,subject:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("textarea",{rows:4,value:g.notes,onChange:R=>x({...g,notes:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:R=>E(R.target.files?R.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(it,{className:"w-8 h-8 text-amber-600 animate-spin"}):o.jsx(Er,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-amber-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(it,{className:"w-5 h-5 animate-spin"}):o.jsx(Nn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(R=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-amber-800",children:R.sender}),o.jsx("td",{className:"p-4 text-gray-700",children:R.serialNumber}),o.jsx("td",{className:"p-4",children:R.date}),o.jsx("td",{className:"p-4 max-w-lg truncate",title:R.subject,children:R.subject}),o.jsx("td",{className:"p-4",children:R.fileUrl?o.jsxs("a",{href:R.fileUrl,target:"_blank",rel:"noreferrer",className:"text-amber-600 hover:text-amber-800 flex items-center gap-1",children:[o.jsx(yr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>L(R),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>A(R),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]})]},R.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},cge=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState([]),[s,c]=N.useState(!1),[d,f]=N.useState(""),[h,p]=N.useState("ALL"),[g,x]=N.useState(""),[w,E]=N.useState("");N.useEffect(()=>{_()},[]);const _=async()=>{c(!0);const R=await dl();n(R),a(R),c(!1)},j=()=>{let R=e;if(h!=="ALL"&&(R=R.filter(U=>U.type===h)),d.trim()){const U=d.toLowerCase();R=R.filter(k=>k.subject.toLowerCase().includes(U)||k.serialNumber.toLowerCase().includes(U)||k.notes&&k.notes.toLowerCase().includes(U)||k.recipient&&k.recipient.toLowerCase().includes(U)||k.sender&&k.sender.toLowerCase().includes(U))}g&&(R=R.filter(U=>U.date>=g)),w&&(R=R.filter(U=>U.date<=w)),a(R)},C=()=>{f(""),p("ALL"),x(""),E(""),a(e)},L=async R=>{if(window.confirm("      ")){const U=e.find(k=>k.id===R);await Jh(R),await Ae("  ",t.name,`  : ${(U==null?void 0:U.serialNumber)||R} - : ${U==null?void 0:U.type}`),_()}},A=R=>{switch(R){case rt.INCOMING:return"";case rt.OUTGOING:return"";case rt.DEPARTMENT_COUNCIL:return" ";case rt.COMMITTEE_MEETING:return" ";default:return R}},D=R=>{switch(R){case rt.INCOMING:return"bg-blue-100 text-blue-700";case rt.OUTGOING:return"bg-green-100 text-green-700";case rt.DEPARTMENT_COUNCIL:return"bg-purple-100 text-purple-700";case rt.COMMITTEE_MEETING:return"bg-amber-100 text-amber-700";default:return"bg-gray-100 text-gray-700"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h1",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Mu,{className:"w-5 h-5 text-green-600"})," "]}),o.jsxs("button",{onClick:C,className:"text-sm text-gray-500 hover:text-red-600 flex items-center gap-1",children:[o.jsx(Pt,{className:"w-4 h-4"}),"  "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:R=>f(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("select",{value:h,onChange:R=>p(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none bg-white",children:[o.jsx("option",{value:"ALL",children:""}),o.jsx("option",{value:rt.INCOMING,children:""}),o.jsx("option",{value:rt.OUTGOING,children:""}),o.jsx("option",{value:rt.DEPARTMENT_COUNCIL,children:" "}),o.jsx("option",{value:rt.COMMITTEE_MEETING,children:" "})]})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"date",value:g,onChange:R=>x(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"date",value:w,onChange:R=>E(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),o.jsx("div",{className:"md:col-span-4 flex justify-end mt-2",children:o.jsxs("button",{onClick:j,className:"bg-green-700 text-white px-6 py-2 rounded-lg hover:bg-green-800 flex items-center gap-2",children:[o.jsx(_z,{className:"w-4 h-4"})," "]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:o.jsxs("h3",{className:"font-bold text-gray-700",children:["  (",r.length,")"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:" / "}),o.jsx("th",{className:"p-3",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:s?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center",children:" ..."})}):r.map(R=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-3",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${D(R.type)}`,children:A(R.type)})}),o.jsx("td",{className:"p-3 font-semibold",children:R.serialNumber}),o.jsx("td",{className:"p-3",children:R.date}),o.jsx("td",{className:"p-3 max-w-xs truncate",title:R.subject,children:R.subject}),o.jsxs("td",{className:"p-3",children:[R.type===rt.OUTGOING&&R.recipient,R.type===rt.INCOMING&&R.sender,R.type===rt.DEPARTMENT_COUNCIL&&" ",R.type===rt.COMMITTEE_MEETING&&R.sender]}),o.jsxs("td",{className:"p-3 flex items-center gap-2",children:[R.fileUrl&&o.jsx("a",{href:R.fileUrl,target:"_blank",rel:"noreferrer",className:"p-1 text-green-600 hover:bg-green-50 rounded",title:" ",children:o.jsx(yr,{className:"w-4 h-4"})}),t.role==="ADMIN"&&o.jsx("button",{onClick:()=>L(R.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",title:" ",children:o.jsx(Pt,{className:"w-4 h-4"})})]})]},R.id))})]})})]})]})},uge=({user:t})=>{var I,O,B,z,me,ae,G,re,Y,xe,X,F,Q,K,J,he,Se,Oe,He,ce,Be,ee,fe,Je,Ge,Et,Ee,ut,ge,We,Ye,St,na,te,Pe;const[e,n]=N.useState([]),[r,a]=N.useState([]),[s,c]=N.useState(!0),[d,f]=N.useState("FACULTY"),[h,p]=N.useState(null),[g,x]=N.useState(!1),[w,E]=N.useState({}),[_,j]=N.useState(!1);N.useEffect(()=>{(async()=>{c(!0);const Te=await av();n(Te),c(!1)})()},[]),N.useEffect(()=>{a(e.filter(pe=>(pe.subRole||"FACULTY")===d))},[e,d]);const C=pe=>{var Te,tt,st,En,Lr,fl,hl,Ur,Sn,Cr;p(pe),E({...pe.documents,promotionDecisions:((Te=pe.documents)==null?void 0:Te.promotionDecisions)||[],adminPositions:((tt=pe.documents)==null?void 0:tt.adminPositions)||[],extensionDecisions:((st=pe.documents)==null?void 0:st.extensionDecisions)||[],progressReports:((En=pe.documents)==null?void 0:En.progressReports)||[],efficiencyReports:((Lr=pe.documents)==null?void 0:Lr.efficiencyReports)||[],coursePortfolios:((fl=pe.documents)==null?void 0:fl.coursePortfolios)||[],publications:((hl=pe.documents)==null?void 0:hl.publications)||[],conferenceCerts:((Ur=pe.documents)==null?void 0:Ur.conferenceCerts)||[],arbitrationCerts:((Sn=pe.documents)==null?void 0:Sn.arbitrationCerts)||[],communityServiceDocs:((Cr=pe.documents)==null?void 0:Cr.communityServiceDocs)||[]}),x(!1)},L=()=>{p(null),x(!1)},A=pe=>{const Te=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`;E(tt=>({...tt,[pe]:Te}))},D=(pe,Te)=>{if(!Te)return;const tt=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`,st={id:Math.random().toString(36).substr(2,9),title:Te,url:tt,date:new Date().toISOString().split("T")[0]};E(En=>({...En,[pe]:[...En[pe]||[],st]}))},R=(pe,Te)=>{E(tt=>({...tt,[pe]:(tt[pe]||[]).filter(st=>st.id!==Te)}))},U=pe=>{if(!pe)return;const Te={courseName:pe};E(tt=>({...tt,coursePortfolios:[...tt.coursePortfolios||[],Te]}))},k=pe=>{E(Te=>({...Te,coursePortfolios:(Te.coursePortfolios||[]).filter((tt,st)=>st!==pe)}))},V=(pe,Te)=>{const tt=`https://drive.google.com/file/d/course_upload_${Math.floor(Math.random()*1e4)}`;E(st=>{const En=[...st.coursePortfolios||[]];return En[pe]={...En[pe],[Te]:tt},{...st,coursePortfolios:En}})},M=async()=>{if(h){j(!0);try{await d8(h.id,{documents:w});const pe=(t==null?void 0:t.name)||"Unknown";await Ae("  ",pe,`    : ${h.name}`);const Te={...h,documents:w};n(tt=>tt.map(st=>st.id===h.id?Te:st)),p(Te),x(!1),alert("   ")}catch(pe){console.error("Failed to save portfolio",pe),alert("    ")}finally{j(!1)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),o.jsxs("div",{className:"flex border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>f("FACULTY"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${d==="FACULTY"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(ks,{className:"w-4 h-4"}),"   "]}),o.jsxs("button",{onClick:()=>f("ASSISTANT"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${d==="ASSISTANT"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Jl,{className:"w-4 h-4"}),"  "]})]}),s?o.jsx("div",{className:"text-center p-10 text-gray-500",children:"  ..."}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(pe=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[o.jsx("div",{className:"bg-green-50 p-6 flex justify-center",children:o.jsx("div",{className:"w-24 h-24 bg-green-200 rounded-full flex items-center justify-center text-green-700",children:o.jsx(o4,{className:"w-16 h-16"})})}),o.jsxs("div",{className:"p-6 text-center flex-1 flex flex-col",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:pe.name}),o.jsx("p",{className:"text-green-700 font-medium text-sm mb-4",children:pe.rank}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600 text-right bg-gray-50 p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Su,{className:"w-4 h-4 text-green-600"}),o.jsxs("span",{children:[": ",pe.specialization]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(m1,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"truncate",children:pe.email})]})]}),o.jsx("div",{className:"mt-auto",children:o.jsxs("button",{onClick:()=>C(pe),className:"w-full py-2 border border-green-600 text-green-700 rounded-lg hover:bg-green-50 transition-colors text-sm font-semibold flex items-center justify-center gap-2",children:[o.jsx(yr,{className:"w-4 h-4"}),"   "]})})]})]},pe.id)),r.length===0&&o.jsx("div",{className:"col-span-3 text-center p-8 text-gray-400",children:"      "})]}),h&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"bg-green-700 p-6 flex justify-between items-center text-white rounded-t-xl sticky top-0 z-10",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:h.name}),o.jsxs("p",{className:"text-green-100 text-sm",children:[h.rank," - ",h.specialization]})]}),o.jsxs("div",{className:"flex gap-2",children:[g?o.jsxs("button",{onClick:M,disabled:_,className:"bg-amber-500 hover:bg-amber-600 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors shadow-sm",children:[_?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(Nn,{className:"w-4 h-4"})," "]}):o.jsxs("button",{onClick:()=>x(!0),className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors border border-green-500",children:[o.jsx(Gn,{className:"w-4 h-4"}),"  "]}),o.jsx("button",{onClick:L,className:"text-green-100 hover:text-white bg-green-800 p-2 rounded-full",children:o.jsx(Pt,{className:"w-6 h-6"})})]})]}),o.jsxs("div",{className:"p-6 space-y-8",children:[g&&o.jsxs("div",{className:"bg-blue-50 text-blue-800 text-sm p-3 rounded-lg flex items-center gap-2 border border-blue-100",children:[o.jsx(Er,{className:"w-4 h-4"}),o.jsx("span",{children:"      .         ."})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(ks,{className:"w-5 h-5 text-gray-500"}),d==="FACULTY"?"   ( )":"   "]}),o.jsxs("div",{className:"space-y-4",children:[d==="FACULTY"&&o.jsxs(o.Fragment,{children:[o.jsx(en,{title:"1.    ( )",description:"        ( /   / ).",url:g?w.appointmentDecision:(I=h.documents)==null?void 0:I.appointmentDecision,isEditing:g,onUpload:()=>A("appointmentDecision")}),o.jsx(Ns,{title:"2.   ( )",description:"    (  / )    .",items:g?w.promotionDecisions:(O=h.documents)==null?void 0:O.promotionDecisions,isEditing:g,onAdd:pe=>D("promotionDecisions",pe),onRemove:pe=>R("promotionDecisions",pe)}),o.jsx(en,{title:"3.   ",description:"           .",url:g?w.joiningReport:(B=h.documents)==null?void 0:B.joiningReport,isEditing:g,onUpload:()=>A("joiningReport")}),o.jsx(Ns,{title:"4.   ",description:"    (   ).",items:g?w.adminPositions:(z=h.documents)==null?void 0:z.adminPositions,isEditing:g,onAdd:pe=>D("adminPositions",pe),onRemove:pe=>R("adminPositions",pe)})]}),d==="ASSISTANT"&&o.jsxs(o.Fragment,{children:[o.jsx(en,{title:"1.    ()",description:"       ''  .",url:g?w.appointmentDecision:(me=h.documents)==null?void 0:me.appointmentDecision,isEditing:g,onUpload:()=>A("appointmentDecision")}),o.jsx(en,{title:"2.   ",description:"      (   ).",url:g?w.joiningReport:(ae=h.documents)==null?void 0:ae.joiningReport,isEditing:g,onUpload:()=>A("joiningReport")}),o.jsx(Ns,{title:"3.     ( )",description:"          .",items:g?w.promotionDecisions:(G=h.documents)==null?void 0:G.promotionDecisions,isEditing:g,onAdd:pe=>D("promotionDecisions",pe),onRemove:pe=>R("promotionDecisions",pe)})]}),o.jsx(en,{title:"  (CV)",description:"    .",url:g?w.cv:(re=h.documents)==null?void 0:re.cv,isEditing:g,onUpload:()=>A("cv")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Jl,{className:"w-5 h-5 text-purple-600"}),"   ()"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(en,{title:" /",url:g?w.bachelorCert:(Y=h.documents)==null?void 0:Y.bachelorCert,isEditing:g,onUpload:()=>A("bachelorCert")}),o.jsx(en,{title:" ",url:g?w.masterCert:(xe=h.documents)==null?void 0:xe.masterCert,isEditing:g,onUpload:()=>A("masterCert")}),d==="FACULTY"&&o.jsxs(o.Fragment,{children:[o.jsx(en,{title:"  ()",url:g?w.phdCert:(X=h.documents)==null?void 0:X.phdCert,isEditing:g,onUpload:()=>A("phdCert")}),o.jsx(en,{title:"  ( )",url:g?w.phdEquivalence:(F=h.documents)==null?void 0:F.phdEquivalence,isEditing:g,onUpload:()=>A("phdEquivalence")})]})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(r_,{className:"w-5 h-5 text-blue-600"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(en,{title:"   ",url:g?w.idCard:(Q=h.documents)==null?void 0:Q.idCard,isEditing:g,onUpload:()=>A("idCard")}),o.jsx(en,{title:"  ()",url:g?w.birthCert:(K=h.documents)==null?void 0:K.birthCert,isEditing:g,onUpload:()=>A("birthCert")}),o.jsx(en,{title:"  ",url:g?w.militaryStatus:(J=h.documents)==null?void 0:J.militaryStatus,isEditing:g,onUpload:()=>A("militaryStatus")}),o.jsx(en,{title:"  ",url:g?w.criminalRecord:(he=h.documents)==null?void 0:he.criminalRecord,isEditing:g,onUpload:()=>A("criminalRecord")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(dz,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(en,{title:"   ()",url:g?w.financialDisclosure:(Se=h.documents)==null?void 0:Se.financialDisclosure,isEditing:g,onUpload:()=>A("financialDisclosure")}),o.jsx(en,{title:" ",description:"    ( ).",url:g?w.socialInsuranceNum:(Oe=h.documents)==null?void 0:Oe.socialInsuranceNum,isEditing:g,onUpload:()=>A("socialInsuranceNum")}),o.jsx(en,{title:"   ",url:g?w.statusStatement:(He=h.documents)==null?void 0:He.statusStatement,isEditing:g,onUpload:()=>A("statusStatement")}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(en,{title:"   (History)",url:g?w.vacationDecisions:(ce=h.documents)==null?void 0:ce.vacationDecisions,isEditing:g,onUpload:()=>A("vacationDecisions")})})]})]}),d==="FACULTY"&&o.jsxs(o.Fragment,{children:[o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Wr,{className:"w-5 h-5 text-green-600"}),"   (Course Portfolio)"]}),o.jsx(dge,{courses:g?w.coursePortfolios:(Be=h.documents)==null?void 0:Be.coursePortfolios,isEditing:g,onAdd:U,onRemove:k,onUploadFile:V})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Su,{className:"w-5 h-5 text-blue-600"}),"   "]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(n_,{className:"w-4 h-4 text-blue-600"}),o.jsx("label",{className:"text-sm font-bold text-gray-700",children:"   (Google Scholar / ORCID)"})]}),g?o.jsx("input",{type:"text",placeholder:"https://scholar.google.com/...",value:w.googleScholarLink||"",onChange:pe=>E(Te=>({...Te,googleScholarLink:pe.target.value})),className:"w-full text-sm p-2 border rounded focus:outline-none focus:border-green-500"}):(ee=h.documents)!=null&&ee.googleScholarLink?o.jsx("a",{href:h.documents.googleScholarLink,target:"_blank",className:"text-blue-600 hover:underline text-sm truncate block",children:h.documents.googleScholarLink}):o.jsx("span",{className:"text-sm text-gray-400",children:" "})]}),o.jsx(en,{title:"1.    ()",description:"            .",url:g?w.publicationsListFile:(fe=h.documents)==null?void 0:fe.publicationsListFile,isEditing:g,onUpload:()=>A("publicationsListFile")}),o.jsx(en,{title:"2.     ",description:"           .",url:g?w.supervisionRecord:(Je=h.documents)==null?void 0:Je.supervisionRecord,isEditing:g,onUpload:()=>A("supervisionRecord")}),o.jsx(Ns,{title:"3.   ",description:"          .",items:g?w.conferenceCerts:(Ge=h.documents)==null?void 0:Ge.conferenceCerts,isEditing:g,onAdd:pe=>D("conferenceCerts",pe),onRemove:pe=>R("conferenceCerts",pe)}),o.jsx(Ns,{title:"4.   ",description:"          .",items:g?w.arbitrationCerts:(Et=h.documents)==null?void 0:Et.arbitrationCerts,isEditing:g,onAdd:pe=>D("arbitrationCerts",pe),onRemove:pe=>R("arbitrationCerts",pe)}),o.jsx(Ns,{title:"5.   ",description:"      (   ).",items:g?w.communityServiceDocs:(Ee=h.documents)==null?void 0:Ee.communityServiceDocs,isEditing:g,onAdd:pe=>D("communityServiceDocs",pe),onRemove:pe=>R("communityServiceDocs",pe)})]})]})]}),d==="ASSISTANT"&&o.jsxs(o.Fragment,{children:[o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Jl,{className:"w-5 h-5 text-purple-600"}),"   ( )"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(en,{title:"1.   /  ()",description:"         .",url:g?w.enrollmentStatus:(ut=h.documents)==null?void 0:ut.enrollmentStatus,isEditing:g,onUpload:()=>A("enrollmentStatus")}),o.jsx(Ns,{title:"2.   ( )",description:"        (   ).",items:g?w.progressReports:(ge=h.documents)==null?void 0:ge.progressReports,isEditing:g,onAdd:pe=>D("progressReports",pe),onRemove:pe=>R("progressReports",pe)}),o.jsx(Ns,{title:"3.     ( )",description:"            .",items:g?w.extensionDecisions:(We=h.documents)==null?void 0:We.extensionDecisions,isEditing:g,onAdd:pe=>D("extensionDecisions",pe),onRemove:pe=>R("extensionDecisions",pe)}),o.jsx(en,{title:"   (FLDC)",url:g?w.fldcCerts:(Ye=h.documents)==null?void 0:Ye.fldcCerts,isEditing:g,onUpload:()=>A("fldcCerts")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Su,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ns,{title:"1.   ",description:"      ( /  ).",items:g?w.efficiencyReports:(St=h.documents)==null?void 0:St.efficiencyReports,isEditing:g,onAdd:pe=>D("efficiencyReports",pe),onRemove:pe=>R("efficiencyReports",pe)}),o.jsx(en,{title:"2.   /    ",description:"     ( )      .",url:g?w.penaltiesRecord:(na=h.documents)==null?void 0:na.penaltiesRecord,isEditing:g,onUpload:()=>A("penaltiesRecord")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Ly,{className:"w-5 h-5 text-blue-500"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(en,{title:"1.    / ",description:"       (  ).",url:g?w.studyLeaveDecision:(te=h.documents)==null?void 0:te.studyLeaveDecision,isEditing:g,onUpload:()=>A("studyLeaveDecision")}),o.jsx(en,{title:"2.    ",description:"      (     ).",url:g?w.returnFromScholarship:(Pe=h.documents)==null?void 0:Pe.returnFromScholarship,isEditing:g,onUpload:()=>A("returnFromScholarship")})]})]})]})]})]})})]})},en=({title:t,description:e,url:n,isEditing:r,onUpload:a})=>o.jsxs("div",{className:`flex flex-col p-3 rounded-lg border transition-colors ${n?"bg-gray-50 border-gray-100":"bg-gray-50 border-gray-200 border-dashed"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:`text-sm font-bold ${n?"text-gray-800":"text-gray-500"}`,children:t}),o.jsxs("div",{className:"flex items-center gap-2",children:[n&&o.jsx("a",{href:n,target:"_blank",className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded hover:bg-green-200 transition-colors",children:""}),r&&o.jsxs("button",{onClick:a,className:`p-1.5 rounded-md border flex items-center gap-1 text-xs ${n?"bg-amber-50 text-amber-600 border-amber-200 hover:bg-amber-100":"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"}`,title:n?" ":" ",children:[o.jsx(Er,{className:"w-3 h-3"}),n&&o.jsx("span",{children:""})]}),!n&&!r&&o.jsx("span",{className:"text-xs text-gray-400",children:""})]})]}),e&&o.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:e})]}),Ns=({title:t,description:e,items:n=[],isEditing:r,onAdd:a,onRemove:s})=>{const[c,d]=N.useState("");return o.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[o.jsx("h5",{className:"text-sm font-bold text-gray-800 mb-1",children:t}),o.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e}),n.length>0?o.jsx("ul",{className:"space-y-2 mb-3",children:n.map(f=>o.jsxs("li",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm",children:[o.jsx("span",{className:"truncate flex-1 ml-2",children:f.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("a",{href:f.url,target:"_blank",className:"text-xs text-blue-600 hover:underline",children:""}),r&&o.jsx("button",{onClick:()=>s(f.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:o.jsx(ht,{className:"w-3 h-3"})})]})]},f.id))}):!r&&o.jsx("p",{className:"text-xs text-gray-400 italic mb-3",children:"   ."}),r&&o.jsxs("div",{className:"flex gap-2 items-center mt-2 border-t pt-2 border-dashed",children:[o.jsx("input",{type:"text",placeholder:"  ",className:"flex-1 text-xs p-2 border rounded focus:outline-none focus:border-green-500",value:c,onChange:f=>d(f.target.value)}),o.jsxs("button",{onClick:()=>{a(c),d("")},className:"bg-blue-50 text-blue-600 border border-blue-200 text-xs px-3 py-2 rounded hover:bg-blue-100 flex items-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"}),"  "]})]})]})},dge=({courses:t=[],isEditing:e,onAdd:n,onRemove:r,onUploadFile:a})=>{const[s,c]=N.useState("");return o.jsxs("div",{className:"space-y-4",children:[t.length>0?t.map((d,f)=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Os,{className:"w-5 h-5 text-green-600"}),o.jsx("h5",{className:"font-bold text-gray-800",children:d.courseName})]}),e&&o.jsx("button",{onClick:()=>r(f),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:" ",children:o.jsx(ht,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[o.jsx(Xp,{label:" ",url:d.specsUrl,isEditing:e,onUpload:()=>a(f,"specsUrl")}),o.jsx(Xp,{label:" ",url:d.reportUrl,isEditing:e,onUpload:()=>a(f,"reportUrl")}),o.jsx(Xp,{label:" ",url:d.examsUrl,isEditing:e,onUpload:()=>a(f,"examsUrl")}),o.jsx(Xp,{label:" / ",url:d.samplesUrl,isEditing:e,onUpload:()=>a(f,"samplesUrl")})]})]},f)):o.jsx("p",{className:"text-gray-400 text-sm text-center py-4 border border-dashed rounded-lg",children:"    ."}),e&&o.jsxs("div",{className:"bg-green-50 p-3 rounded-lg flex items-center gap-2 border border-green-200",children:[o.jsx("input",{type:"text",placeholder:"   (:   )",className:"flex-1 p-2 rounded border border-green-300 focus:outline-none focus:ring-1 focus:ring-green-500 text-sm",value:s,onChange:d=>c(d.target.value)}),o.jsxs("button",{onClick:()=>{n(s),c("")},className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700 flex items-center gap-1",children:[o.jsx(Ft,{className:"w-4 h-4"}),"  "]})]})]})},Xp=({label:t,url:e,isEditing:n,onUpload:r})=>o.jsxs("div",{className:`p-2 rounded border text-center flex flex-col items-center justify-center min-h-[80px] ${e?"bg-green-50 border-green-100":"bg-gray-50 border-gray-100"}`,children:[o.jsx("span",{className:"text-xs font-semibold text-gray-700 mb-1",children:t}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e?o.jsx("a",{href:e,target:"_blank",className:"text-xs bg-white border border-gray-200 px-2 py-1 rounded text-green-700 hover:text-green-800",children:""}):o.jsx("span",{className:"text-[10px] text-gray-400",children:""}),n&&o.jsx("button",{onClick:r,className:"p-1 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 border border-blue-200",title:"",children:o.jsx(Er,{className:"w-3 h-3"})})]})]}),VP=({user:t})=>{const[e,n]=N.useState(t.role===je.STUDENT_PG?"PG":"UG"),[r,a]=N.useState("MATERIALS"),[s,c]=N.useState([]),[d,f]=N.useState([]),[h,p]=N.useState([]),[g,x]=N.useState([]),[w,E]=N.useState([]),[_,j]=N.useState(!0),[C,L]=N.useState(!1),[A,D]=N.useState(!1),[R,U]=N.useState({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""}),[k,V]=N.useState(!1),[M,I]=N.useState(null),[O,B]=N.useState(!1),[z,me]=N.useState(!1),[ae,G]=N.useState(null),[re,Y]=N.useState({content:"",isImportant:!1}),[xe,X]=N.useState(!1),[F,Q]=N.useState({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""}),[K,J]=N.useState(!1),[he,Se]=N.useState(null),Oe=t.role===je.ADMIN||t.role===je.STAFF;N.useEffect(()=>{He()},[]),N.useEffect(()=>{const Ee=e==="UG"?["Third","Fourth"]:["Pre-Master","Pre-PhD"];x(s.filter(ge=>Ee.includes(ge.year))),E(h.filter(ge=>Ee.includes(ge.year)));const ut=e==="UG"?"Third":"Pre-Master";U(ge=>({...ge,year:ut})),Q(ge=>({...ge,year:ut}))},[e,s,h]);const He=async()=>{j(!0);const[Ee,ut,ge]=await Promise.all([dpe(),mpe(),ype()]);c(Ee),f(ut),p(ge),j(!1)},ce=async Ee=>{Ee.preventDefault(),L(!0);try{await fpe({title:R.title,year:R.year,fileUrl:R.fileUrl||"#",description:R.description,uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Ae("  ",t.name,`: ${R.title} - : ${R.year}`),await He(),D(!1),U({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""})}catch(ut){console.error(ut),alert("   ")}finally{L(!1)}},Be=async()=>{if(M){L(!0);try{const Ee=s.find(ut=>ut.id===M);await hpe(M),Ae("  ",t.name,`  : ${Ee==null?void 0:Ee.title}`),await He(),V(!1),I(null)}catch(Ee){console.error(Ee),alert("  ")}finally{L(!1)}}},ee=async Ee=>{Ee.preventDefault(),L(!0);try{await ppe({content:re.content,isImportant:re.isImportant,date:new Date().toISOString().split("T")[0]}),Ae(" ",t.name,re.content.substring(0,50)+"..."),await He(),B(!1),Y({content:"",isImportant:!1})}catch(ut){console.error(ut),alert("    ")}finally{L(!1)}},fe=async()=>{if(ae){L(!0);try{await gpe(ae),Ae(" ",t.name,"    "),await He(),me(!1),G(null)}catch(Ee){console.error(Ee),alert("   ")}finally{L(!1)}}},Je=async Ee=>{Ee.preventDefault(),L(!0);try{await vpe({title:F.title,type:F.type,year:F.year,fileUrl:F.fileUrl||"#",uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Ae(" ",t.name,`: ${F.title}`),await He(),X(!1),Q({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""})}catch(ut){console.error(ut),alert("    ")}finally{L(!1)}},Ge=async()=>{if(he){L(!0);try{const Ee=h.find(ut=>ut.id===he);await xpe(he),Ae(" ",t.name,`  : ${Ee==null?void 0:Ee.title}`),await He(),J(!1),Se(null)}catch(Ee){console.error(Ee),alert("   ")}finally{L(!1)}}},Et=Ee=>{const ut=`https://picsum.photos/seed/${Math.random()}/800/600`;Ee(ge=>({...ge,fileUrl:ut}))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:e==="UG"?"   ":"    "}),o.jsxs("div",{className:"flex gap-4 mt-6 border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>n("UG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="UG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Os,{className:"w-4 h-4"}),"  ( 3  4)"]}),o.jsxs("button",{onClick:()=>n("PG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="PG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Jl,{className:"w-4 h-4"}),"  ()"]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:()=>a("MATERIALS"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="MATERIALS"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[o.jsx(yr,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>a("SCHEDULES"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="SCHEDULES"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[o.jsx(vh,{className:"w-4 h-4"}),"  "]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in fade-in",children:[o.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r==="MATERIALS"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-bold text-gray-700",children:e==="UG"?"  ":"  "}),Oe&&o.jsxs("button",{onClick:()=>D(!0),className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 flex items-center gap-1 shadow-sm",children:[o.jsx(Mf,{className:"w-3 h-3"}),"   "]})]}),g.length>0?g.map(Ee=>o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow flex items-start justify-between group",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:o.jsx(yr,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800",children:Ee.title}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[Ee.year==="Third"&&" ",Ee.year==="Fourth"&&" ",Ee.year==="Pre-Master"&&" ",Ee.year==="Pre-PhD"&&" "," | ",": ",Ee.uploadedBy]}),Ee.description&&o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ee.description}),o.jsx("p",{className:"text-xs text-gray-300 mt-1",children:Ee.date})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("a",{href:Ee.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:bg-green-50 p-2 rounded-lg flex items-center gap-1 text-sm font-medium border border-transparent hover:border-green-100",children:[o.jsx(yg,{className:"w-4 h-4"})," "]}),Oe&&o.jsx("button",{onClick:()=>{I(Ee.id),V(!0)},className:"text-red-500 hover:bg-red-50 p-2 rounded-lg flex items-center justify-center text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]})]},Ee.id)):o.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:o.jsx("p",{className:"text-gray-400",children:"     "})})]}),r==="SCHEDULES"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-bold text-gray-700",children:"  "}),Oe&&o.jsxs("button",{onClick:()=>X(!0),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 flex items-center gap-1 shadow-sm",children:[o.jsx(Mf,{className:"w-3 h-3"}),"  "]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.length>0?w.map(Ee=>o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group relative",children:[o.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[o.jsx("img",{src:Ee.fileUrl,alt:Ee.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold shadow-sm ${Ee.type==="EXAM"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:Ee.type==="EXAM"?" ":" "})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1",children:Ee.title}),o.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[Ee.year==="Third"&&" ",Ee.year==="Fourth"&&" ",Ee.year==="Pre-Master"&&" ",Ee.year==="Pre-PhD"&&" "," | ",Ee.date]}),o.jsxs("a",{href:Ee.fileUrl,target:"_blank",rel:"noreferrer",className:"block text-center w-full bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-semibold hover:bg-blue-100 transition-colors",children:[o.jsx(yg,{className:"w-4 h-4 inline-block ml-1"}),"  / "]}),Oe&&o.jsx("button",{onClick:()=>{Se(Ee.id),J(!0)},className:"absolute top-2 left-2 bg-white text-red-500 p-1.5 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",title:" ",children:o.jsx(ht,{className:"w-4 h-4"})})]})]},Ee.id)):o.jsx("div",{className:"md:col-span-2 text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:o.jsx("p",{className:"text-gray-400",children:"    "})})})]})]}),o.jsxs("div",{className:"bg-green-900 text-white p-6 rounded-xl h-fit",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-green-700 pb-2",children:[o.jsx("h3",{className:"font-bold text-lg",children:" "}),Oe&&o.jsxs("button",{onClick:()=>B(!0),className:"bg-green-800 hover:bg-green-700 p-1.5 rounded text-xs flex items-center gap-1",children:[o.jsx(Mf,{className:"w-3 h-3"})," "]})]}),d.length>0?o.jsx("ul",{className:"space-y-4 text-sm",children:d.map(Ee=>o.jsxs("li",{className:"flex gap-2 relative group",children:[o.jsx("span",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${Ee.isImportant?"bg-red-400 animate-pulse":"bg-green-400"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{children:Ee.content}),o.jsx("p",{className:"text-green-300 text-xs mt-1",children:Ee.date})]}),Oe&&o.jsx("button",{onClick:()=>{G(Ee.id),me(!0)},className:"text-red-300 hover:text-red-100 opacity-0 group-hover:opacity-100 transition-opacity absolute left-0 top-0",children:o.jsx(ht,{className:"w-4 h-4"})})]},Ee.id))}):o.jsx("p",{className:"text-green-300 text-sm italic",children:"   ."})]})]}),A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:ce,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" /"}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:R.title,onChange:Ee=>U({...R,title:Ee.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white",value:R.year,onChange:Ee=>U({...R,year:Ee.target.value}),children:e==="UG"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Third",children:" "}),o.jsx("option",{value:"Fourth",children:" "})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Pre-Master",children:" "}),o.jsx("option",{value:"Pre-PhD",children:" "})]})})]}),e==="PG"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),o.jsx("input",{type:"text",placeholder:":   ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:R.description,onChange:Ee=>U({...R,description:Ee.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (PDF)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:R.fileUrl}),o.jsxs("button",{type:"button",onClick:()=>Et(U),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[o.jsx(Er,{className:"w-4 h-4"})," "]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:C,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[C?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(Nn,{className:"w-4 h-4"}),""]})]})]})]})}),xe&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:Je,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:":    -  ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:F.title,onChange:Ee=>Q({...F,title:Ee.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white font-semibold",value:F.type,onChange:Ee=>Q({...F,type:Ee.target.value}),children:[o.jsx("option",{value:"LECTURE",children:" "}),o.jsx("option",{value:"EXAM",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:F.year,onChange:Ee=>Q({...F,year:Ee.target.value}),children:e==="UG"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Third",children:" "}),o.jsx("option",{value:"Fourth",children:" "})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Pre-Master",children:" "}),o.jsx("option",{value:"Pre-PhD",children:" "})]})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Image/PDF)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:F.fileUrl}),o.jsxs("button",{type:"button",onClick:()=>Et(Q),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[o.jsx(Er,{className:"w-4 h-4"})," "]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>X(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:C,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[C?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(Nn,{className:"w-4 h-4"}),""]})]})]})]})}),O&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:ee,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("textarea",{required:!0,rows:3,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:re.content,onChange:Ee=>Y({...re,content:Ee.target.value})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"isImportant",checked:re.isImportant,onChange:Ee=>Y({...re,isImportant:Ee.target.checked}),className:"w-4 h-4 text-green-600 rounded"}),o.jsx("label",{htmlFor:"isImportant",className:"text-sm text-gray-700",children:"  (Urgent)"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:C,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[C?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(Nn,{className:"w-4 h-4"}),""]})]})]})]})}),k&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Qr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:Be,disabled:C,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[C&&o.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),K&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Qr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>J(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:Ge,disabled:C,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[C&&o.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),z&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Qr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>me(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:fe,disabled:C,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[C&&o.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},zP=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState(!1),s=GN(),[c,d]=N.useState(!1),[f,h]=N.useState(!1),[p,g]=N.useState(!1),[x,w]=N.useState(null),[E,_]=N.useState(!1),[j,C]=N.useState({name:"",graduationYear:"",currentJob:"",email:"",phone:""}),[L,A]=N.useState(null),[D,R]=N.useState({title:"",company:"",description:"",contactInfo:"",datePosted:"",status:"OPEN"}),U=async()=>{a(!0);const ae=await Bme();n(ae),a(!1)};N.useEffect(()=>{U()},[]);const k=()=>{s("/users",{state:{initialTab:"ALUMNI"}})},V=async ae=>{ae.preventDefault(),_(!0);try{await h8({...j,username:j.email.split("@")[0],password:"123"});const G=(t==null?void 0:t.name)||j.name;Ae("  ",G,` : ${j.name} -  ${j.graduationYear}`),alert("   !    ."),d(!1),C({name:"",graduationYear:"",currentJob:"",email:"",phone:""})}catch(G){console.error(G),alert("   ")}finally{_(!1)}},M=ae=>{ae?(A(ae.id),R({title:ae.title,company:ae.company,description:ae.description,contactInfo:ae.contactInfo,datePosted:ae.datePosted,status:ae.status||"OPEN"})):(A(null),R({title:"",company:"",description:"",contactInfo:"",datePosted:new Date().toISOString().split("T")[0],status:"OPEN"})),h(!0)},I=async ae=>{ae.preventDefault(),_(!0);const G=(t==null?void 0:t.name)||"Unknown";try{L?(await Fme(L,D),Ae("  ",G,`: ${D.title}`)):(await $me(D),Ae("  ",G,`: ${D.title} - : ${D.company}`)),h(!1),U()}catch(re){console.error(re),alert("    ")}finally{_(!1)}},O=ae=>{w(ae),g(!0)},B=async()=>{if(x){_(!0);try{const ae=e.find(G=>G.id===x);await qme(x),Ae("  ",(t==null?void 0:t.name)||"Unknown",`  : ${ae==null?void 0:ae.title}`),n(G=>G.filter(re=>re.id!==x)),g(!1),w(null)}catch(ae){console.error("Delete failed",ae),alert("  "),U()}finally{_(!1)}}},z=(t==null?void 0:t.role)===je.ADMIN||(t==null?void 0:t.role)===je.STAFF,me=z||(t==null?void 0:t.role)===je.ALUMNI;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-amber-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[o.jsxs("div",{className:"relative z-10",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"   "}),o.jsx("p",{className:"opacity-90 max-w-xl",children:"      .          ."}),o.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[o.jsxs("button",{onClick:()=>d(!0),className:"bg-white text-amber-700 px-6 py-2 rounded-lg font-bold hover:bg-amber-50 transition-colors flex items-center gap-2",children:[o.jsx(g4,{className:"w-5 h-5"}),"   "]}),(t==null?void 0:t.role)===je.ADMIN&&o.jsxs("button",{onClick:k,className:"bg-amber-800 text-white border border-amber-500 px-6 py-2 rounded-lg font-bold hover:bg-amber-900 transition-colors flex items-center gap-2",children:[o.jsx(p4,{className:"w-5 h-5"}),"   (Admin)"]})]})]}),o.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10",children:o.jsx(ks,{className:"w-64 h-64"})})]}),o.jsxs("div",{className:"flex items-center justify-between mt-8",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-gray-800",children:[o.jsx(ks,{className:"w-6 h-6 text-amber-600"}),o.jsx("h2",{children:"  "})]}),me&&o.jsxs("button",{onClick:()=>M(),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-700 flex items-center gap-2 shadow-sm",children:[o.jsx(Mf,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.map(ae=>o.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative ${ae.status==="CLOSED"?"opacity-70 bg-gray-50":""}`,children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800",children:ae.title}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mt-1",children:[o.jsx(H9,{className:"w-4 h-4"}),o.jsx("span",{children:ae.company})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold h-fit ${ae.status==="CLOSED"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:ae.status==="CLOSED"?"":" "}),z&&o.jsxs("div",{className:"flex flex-col gap-1 z-20",children:[o.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),M(ae)},className:"p-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 border border-blue-100",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),O(ae.id)},className:"p-1.5 bg-red-50 text-red-600 rounded-md hover:bg-red-100 border border-red-100",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]})]})]}),o.jsx("p",{className:"text-gray-600 mt-4 text-sm leading-relaxed",children:ae.description}),o.jsxs("div",{className:"mt-6 pt-4 border-t text-sm",children:[o.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:" :"}),o.jsx("p",{className:"text-amber-600",children:ae.contactInfo})]}),o.jsx("div",{className:"mt-4 flex items-center justify-between",children:o.jsxs("span",{className:"text-xs text-gray-400",children:[" : ",ae.datePosted]})})]},ae.id)),o.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-center text-gray-500 min-h-[250px]",children:[o.jsx("p",{className:"font-medium",children:"   "}),o.jsx("p",{className:"text-sm mt-1",children:"   "}),me&&o.jsx("button",{onClick:()=>M(),className:"mt-3 text-amber-600 hover:text-amber-700 font-medium text-sm border border-amber-200 px-4 py-1.5 rounded-lg bg-white hover:bg-amber-50",children:"+  "})]})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:j.name,onChange:ae=>C({...j,name:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"number",required:!0,placeholder:": 2022",value:j.graduationYear,onChange:ae=>C({...j,graduationYear:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",value:j.currentJob,onChange:ae=>C({...j,currentJob:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"email",required:!0,value:j.email,onChange:ae=>C({...j,email:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"tel",required:!0,value:j.phone,onChange:ae=>C({...j,phone:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:E,className:"bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[E?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(Nn,{className:"w-4 h-4"})," "]})]})]})]})}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Qr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"               ."}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:B,disabled:E,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[E&&o.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:L?"  ":"   "}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:I,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:":  ",value:D.title,onChange:ae=>R({...D,title:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),o.jsx("input",{type:"text",required:!0,value:D.company,onChange:ae=>R({...D,company:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:D.status,onChange:ae=>R({...D,status:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white font-semibold",children:[o.jsx("option",{value:"OPEN",className:"text-green-600",children:" "}),o.jsx("option",{value:"CLOSED",className:"text-red-600",children:""})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("textarea",{required:!0,rows:4,placeholder:"    ...",value:D.description,onChange:ae=>R({...D,description:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:"    ",value:D.contactInfo,onChange:ae=>R({...D,contactInfo:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:D.datePosted,onChange:ae=>R({...D,datePosted:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:E,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[E?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(Nn,{className:"w-4 h-4"})," "]})]})]})]})})]})},fge=()=>{const t=ts(),[e,n]=N.useState("STAFF"),[r,a]=N.useState(!1),[s,c]=N.useState([]),[d,f]=N.useState([]),[h,p]=N.useState([]),[g,x]=N.useState([]),[w,E]=N.useState([]),[_,j]=N.useState(!1),[C,L]=N.useState(null),[A,D]=N.useState({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:"",password:""});N.useEffect(()=>{t.state&&t.state.initialTab&&n(t.state.initialTab)},[t.state]),N.useEffect(()=>{R()},[e]);const R=async()=>{a(!0),e==="STAFF"?c(await av()):e==="PG"?f(await f8()):e==="UG"?p(await Pme()):e==="ALUMNI"?x(await Ume()):e==="EMPLOYEE"&&E(await Ame()),a(!1)},U=M=>{if(M)L(M.id),D({name:M.name||"",email:M.email||"",phone:M.phone||"",whatsapp:M.whatsapp||"",address:M.address||"",subRole:M.subRole||"FACULTY",rank:M.rank||"",specialization:M.specialization||"",degree:M.degree||"MSc",researchTopic:M.researchTopic||"",supervisor:M.supervisor||"",status:M.status||"Researching",year:M.year||"Third",section:M.section||"",graduationYear:M.graduationYear||"",currentJob:M.currentJob||"",jobTitle:M.jobTitle||"",department:M.department||"",username:M.username||"",password:M.password||""});else{L(null);const I="user"+Math.floor(Math.random()*1e3);D({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:I,password:"123"})}j(!0)},k=async(M,I)=>{if(window.confirm("      "))try{e==="STAFF"?await Sme(M):e==="PG"?await Dme(M):e==="UG"?await Lme(M):e==="ALUMNI"?await zme(M):e==="EMPLOYEE"&&await Ime(M),await Ae(" ","Admin",`  : ${I}   ${e}`),R()}catch(O){console.error("Error deleting user:",O),alert("   ")}},V=async M=>{M.preventDefault();const I={email:A.email,phone:A.phone,whatsapp:A.whatsapp,address:A.address};try{if(e==="STAFF"){const O={name:A.name,...I,subRole:A.subRole,rank:A.rank,specialization:A.specialization,username:A.username,password:A.password};C?await d8(C,O):await Eme(O)}else if(e==="PG")if(C){const O={name:A.name,...I,degree:A.degree,researchTopic:A.researchTopic,supervisor:A.supervisor,status:A.status,username:A.username,password:A.password};await $N(C,O)}else{const O={name:A.name,...I,degree:A.degree,researchTopic:A.researchTopic,supervisor:A.supervisor,status:A.status,username:A.username,password:A.password,dates:{enrollment:new Date().toISOString().split("T")[0]},documents:{publishedPapers:[],otherDocuments:[]},alerts:{reportOverdue:!1,extensionNeeded:!1}};await Rme(O)}else if(e==="UG"){const O={name:A.name,...I,year:A.year,section:A.section,username:A.username,password:A.password};C?await Mme(C,O):await kme(O)}else if(e==="ALUMNI"){const O={name:A.name,...I,graduationYear:A.graduationYear,currentJob:A.currentJob,username:A.username,password:A.password};C?await Vme(C,O):await h8(O)}else if(e==="EMPLOYEE"){const O={name:A.name,...I,jobTitle:A.jobTitle,department:A.department,username:A.username,password:A.password};C?await Cme(C,O):await Tme(O)}await Ae(C?"  ":"  ","Admin",` ${C?"":""} : ${A.name}   ${e}`),j(!1),R(),alert("   ")}catch(O){console.error("Error saving user:",O),alert("   ")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(h1,{className:"w-6 h-6 text-green-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    (   )"})]}),o.jsxs("button",{onClick:()=>U(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(g4,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:[{id:"STAFF",icon:oi,label:" "},{id:"EMPLOYEE",icon:s4,label:" "},{id:"PG",icon:Jl,label:" "},{id:"UG",icon:Os,label:" (3  4)"},{id:"ALUMNI",icon:ks,label:""}].map(M=>o.jsx("button",{onClick:()=>n(M.id),className:`flex-1 min-w-[120px] py-4 text-center font-semibold text-sm transition-colors ${e===M.id?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(M.icon,{className:"w-4 h-4"})," ",M.label]})},M.id))}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:e==="STAFF"?" ":e==="EMPLOYEE"?" ":e==="PG"?"":e==="UG"?"":" "}),o.jsx("th",{className:"p-4",children:e==="STAFF"?"":e==="EMPLOYEE"?" / ":e==="PG"?"":e==="UG"?"":" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:" ..."})}):(()=>{let M=[];return e==="STAFF"?M=s:e==="EMPLOYEE"?M=w:e==="PG"?M=d:e==="UG"?M=h:M=g,M.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"  "})}):M.map(I=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:I.name}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs",children:e==="STAFF"?I.rank:e==="EMPLOYEE"?I.jobTitle:e==="PG"?I.degree:e==="UG"?I.year==="Third"?"":"":I.graduationYear})}),o.jsx("td",{className:"p-4",children:e==="STAFF"?I.specialization:e==="EMPLOYEE"?I.department:e==="PG"?I.supervisor:e==="UG"?I.section||"-":I.currentJob||"-"}),o.jsxs("td",{className:"p-4 text-xs text-gray-500",children:[I.phone&&o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(db,{className:"w-3 h-3 text-gray-400"})," ",I.phone]}),I.whatsapp&&o.jsxs("div",{className:"flex items-center gap-1 mb-1 text-green-600 font-semibold",children:[o.jsx(M2,{className:"w-3 h-3"})," ",I.whatsapp]}),I.email&&o.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[o.jsx(m1,{className:"w-3 h-3"})," ",I.email]})]}),o.jsx("td",{className:"p-4 font-mono text-gray-600",children:I.username||"-"}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>U(I),className:"text-blue-600 hover:bg-blue-50 p-2 rounded-lg",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>k(I.id,I.name),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]})]},I.id))})()})]})})]}),_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[C?" ":"  ",o.jsxs("span",{className:"text-sm font-normal text-gray-500 mr-2",children:["(",e==="STAFF"?" ":e==="EMPLOYEE"?"/":e==="PG"?" ":e==="UG"?" ":"",")"]})]}),o.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.name,onChange:M=>D({...A,name:M.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center gap-2",children:[o.jsx(db,{className:"w-4 h-4"}),"   ()"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(db,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),o.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:A.phone,onChange:M=>D({...A,phone:M.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(M2,{className:"w-3 h-3 absolute right-3 top-3 text-green-500"}),o.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:A.whatsapp,onChange:M=>D({...A,whatsapp:M.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(m1,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),o.jsx("input",{type:"email",placeholder:"example@azhar.edu.eg",value:A.email,onChange:M=>D({...A,email:M.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(h4,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),o.jsx("input",{type:"text",placeholder:" - ",value:A.address,onChange:M=>D({...A,address:M.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]})]})]}),e==="EMPLOYEE"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":   ",required:!0,value:A.jobTitle,onChange:M=>D({...A,jobTitle:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,value:A.department,onChange:M=>D({...A,department:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="STAFF"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:A.subRole,onChange:M=>D({...A,subRole:M.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white font-bold text-green-700",children:[o.jsx("option",{value:"FACULTY",children:"   ( -   - )"}),o.jsx("option",{value:"ASSISTANT",children:"  (  - )"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,value:A.rank,onChange:M=>D({...A,rank:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,value:A.specialization,onChange:M=>D({...A,specialization:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="PG"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{value:A.degree,onChange:M=>D({...A,degree:M.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[o.jsx("option",{value:"MSc",children:""}),o.jsx("option",{value:"PhD",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:A.status,onChange:M=>D({...A,status:M.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[o.jsx("option",{value:"Researching",children:" "}),o.jsx("option",{value:"Writing",children:" "}),o.jsx("option",{value:"Defense",children:""})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.researchTopic,onChange:M=>D({...A,researchTopic:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:"./ ...",value:A.supervisor,onChange:M=>D({...A,supervisor:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="UG"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:A.year,onChange:M=>D({...A,year:M.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[o.jsx("option",{value:"Third",children:" "}),o.jsx("option",{value:"Fourth",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",placeholder:":  ",value:A.section,onChange:M=>D({...A,section:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="ALUMNI"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"number",placeholder:"2023",required:!0,value:A.graduationYear,onChange:M=>D({...A,graduationYear:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:"",value:A.currentJob,onChange:M=>D({...A,currentJob:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),o.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200 mt-4",children:[o.jsxs("h4",{className:"text-sm font-bold text-amber-800 mb-3 flex items-center gap-2",children:[o.jsx(h1,{className:"w-4 h-4"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.username,onChange:M=>D({...A,username:M.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.password,onChange:M=>D({...A,password:M.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]})]}),o.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"*          ."})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[o.jsx(Nn,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},hge=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0),[a,s]=N.useState(null),[c,d]=N.useState(0),[f,h]=N.useState(0),[p,g]=N.useState(!1),[x,w]=N.useState(null),[E,_]=N.useState([]),[j,C]=N.useState({protocolUrl:"",toeflUrl:"",publishedPapers:[],otherDocuments:[]}),[L,A]=N.useState({title:"",url:"",date:""}),[D,R]=N.useState("UPLOAD"),[U,k]=N.useState({title:"",url:"",archiveId:""}),[V,M]=N.useState(!1);N.useEffect(()=>{I()},[]);const I=async()=>{r(!0);const X=await f8();e(X),d(X.filter(F=>F.alerts.reportOverdue).length),h(X.filter(F=>F.alerts.extensionNeeded).length),r(!1)},O=X=>{s(a===X?null:X)},B=async(X,F,Q)=>{const K=t.find(he=>he.id===X);if(!K)return;const J={...K.dates,[F]:Q};if(F==="lastReport"){const he=new Date(Q);he.setMonth(he.getMonth()+6),J.nextReportDue=he.toISOString().split("T")[0]}try{await $N(X,{dates:J}),I()}catch(he){console.error(he),alert("   ")}},z=async X=>{w(X.id),C({protocolUrl:X.documents.protocolUrl||"",toeflUrl:X.documents.toeflUrl||"",publishedPapers:X.documents.publishedPapers?[...X.documents.publishedPapers]:[],otherDocuments:X.documents.otherDocuments?[...X.documents.otherDocuments]:[]}),A({title:"",url:"",date:""}),k({title:"",url:"",archiveId:""}),R("UPLOAD");const Q=(await dl()).filter(K=>K.type===rt.INCOMING||K.type===rt.OUTGOING||K.type===rt.DEPARTMENT_COUNCIL);_(Q),g(!0)},me=X=>{const F=`https://drive.google.com/file/d/mock-id-${Math.floor(Math.random()*1e4)}`;X==="protocol"?C(Q=>({...Q,protocolUrl:F})):X==="toefl"?C(Q=>({...Q,toeflUrl:F})):X==="other"&&k(Q=>({...Q,url:F}))},ae=()=>{!L.title||!L.date||(C(X=>({...X,publishedPapers:[...X.publishedPapers,{...L}]})),A({title:"",url:"",date:""}))},G=X=>{C(F=>({...F,publishedPapers:F.publishedPapers.filter((Q,K)=>K!==X)}))},re=()=>{if(!U.title)return;const X={id:Math.random().toString(36).substr(2,9),title:U.title,date:new Date().toISOString().split("T")[0],type:D};if(D==="UPLOAD"){if(!U.url)return;X.url=U.url}else{if(!U.archiveId)return;const F=E.find(Q=>Q.id===U.archiveId);X.archiveId=U.archiveId,X.archiveSerial=(F==null?void 0:F.serialNumber)||"???"}C(F=>({...F,otherDocuments:[...F.otherDocuments,X]})),k({title:"",url:"",archiveId:""})},Y=X=>{C(F=>({...F,otherDocuments:F.otherDocuments.filter((Q,K)=>K!==X)}))},xe=async X=>{if(X.preventDefault(),!!x){M(!0);try{const F=t.find(Q=>Q.id===x);if(F){const Q={...F.documents,protocolUrl:j.protocolUrl,toeflUrl:j.toeflUrl,publishedPapers:j.publishedPapers,otherDocuments:j.otherDocuments};await $N(x,{documents:Q}),await I()}g(!1)}catch(F){console.error(F),alert("    ")}finally{M(!1)}}};return n?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"    ..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 text-sm",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t.length})]}),o.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-blue-600",children:o.jsx(Jl,{})})]}),o.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${c>0?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:`${c>0?"text-red-700":"text-gray-500"} text-sm font-semibold`,children:" "}),o.jsx("h3",{className:`text-2xl font-bold ${c>0?"text-red-800":"text-gray-800"}`,children:c}),c>0&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:"  "})]}),o.jsx("div",{className:`${c>0?"bg-red-200 text-red-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:o.jsx(Gi,{})})]}),o.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${f>0?"bg-amber-50 border-amber-200":"bg-white border-gray-100"}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:`${f>0?"text-amber-700":"text-gray-500"} text-sm font-semibold`,children:"  "}),o.jsx("h3",{className:`text-2xl font-bold ${f>0?"text-amber-800":"text-gray-800"}`,children:f}),f>0&&o.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"  "})]}),o.jsx("div",{className:`${f>0?"bg-amber-200 text-amber-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:o.jsx(Qr,{})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:o.jsx("h3",{className:"font-bold text-gray-700",children:"  (  )"})}),o.jsx("div",{className:"divide-y",children:t.map(X=>o.jsxs("div",{className:"group transition-colors hover:bg-gray-50",children:[o.jsxs("div",{className:"p-4 flex flex-col md:flex-row md:items-center justify-between cursor-pointer gap-4",onClick:()=>O(X.id),children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white
                                ${X.degree==="PhD"?"bg-purple-600":"bg-blue-600"}
                            `,children:X.degree==="PhD"?"D":"M"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800",children:X.name}),o.jsx("p",{className:"text-sm text-gray-500",children:X.researchTopic})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("div",{className:"text-left md:text-right",children:[o.jsx("p",{className:"text-gray-500 text-xs",children:" "}),o.jsx("p",{className:"font-medium",children:X.supervisor})]}),o.jsxs("div",{className:"flex gap-2",children:[X.alerts.reportOverdue&&o.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[o.jsx(Gi,{className:"w-3 h-3"}),"  "]}),X.alerts.extensionNeeded&&o.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[o.jsx(Qr,{className:"w-3 h-3"}),"  "]})]}),o.jsx("button",{className:"text-gray-400 hover:text-green-600",children:a===X.id?o.jsx(ZN,{}):o.jsx(JN,{})})]})]}),a===X.id&&o.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-100 animate-in slide-in-from-top-2",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[o.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[o.jsx(vh,{className:"w-4 h-4 text-blue-600"}),"  (Timeline)"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.enrollment||"",onChange:F=>B(X.id,"enrollment",F.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  ( )"}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.registration||"",onChange:F=>B(X.id,"registration",F.target.value)})]})]}),o.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-700",children:"    "}),X.alerts.reportOverdue&&o.jsx("span",{className:"text-xs text-red-600 font-bold animate-pulse",children:"  !"})]}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm focus:ring-2 focus:ring-blue-500",value:X.dates.lastReport||"",onChange:F=>B(X.id,"lastReport",F.target.value)}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["  : ",o.jsx("span",{className:"font-mono text-gray-600",children:X.dates.nextReportDue||"-"})]})]}),o.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  "}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.expectedDefense||"",onChange:F=>B(X.id,"expectedDefense",F.target.value)})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[o.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[o.jsx(yr,{className:"w-4 h-4 text-green-600"}),"  (Digital Portfolio)"]}),o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"  (Protocol)"}),X.documents.protocolUrl?o.jsxs("a",{href:X.documents.protocolUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[o.jsx(vg,{className:"w-3 h-3"})," "]}):o.jsx("span",{className:"text-xs text-gray-400",children:"  "})]}),o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"  (TOEFL)"}),X.documents.toeflUrl?o.jsxs("a",{href:X.documents.toeflUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[o.jsx(vg,{className:"w-3 h-3"})," "]}):o.jsx("span",{className:"text-xs text-gray-400",children:"  "})]})]}),X.documents.otherDocuments&&X.documents.otherDocuments.length>0&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed",children:[o.jsx("h5",{className:"font-semibold text-xs text-gray-600 mb-2",children:"   "}),o.jsx("ul",{className:"space-y-1",children:X.documents.otherDocuments.map((F,Q)=>o.jsxs("li",{className:"flex items-center gap-2 text-xs text-gray-600",children:[F.type==="ARCHIVE_LINK"?o.jsx(k2,{className:"w-3 h-3 text-amber-500"}):o.jsx(yr,{className:"w-3 h-3 text-gray-400"}),o.jsx("span",{className:"truncate",children:F.title})]},Q))})]}),o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsxs("button",{onClick:()=>z(X),className:"mt-3 w-full text-xs bg-green-50 hover:bg-green-100 text-green-700 py-2 rounded-lg border border-green-200 font-semibold transition-colors flex items-center justify-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"}),"   "]})})]})]}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs("button",{onClick:()=>O(X.id),className:"bg-green-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-green-700 flex items-center gap-2",children:[o.jsx(Nn,{className:"w-4 h-4"}),"  "]})})]})]},X.id))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center gap-2",children:[o.jsx(Os,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"   "})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[t.map(X=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:X.name}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${X.degree==="PhD"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:X.degree==="PhD"?"":""})}),o.jsx("td",{className:"p-4 text-gray-600 max-w-xs truncate",title:X.researchTopic,children:X.researchTopic}),o.jsxs("td",{className:"p-4 text-gray-600",children:[X.supervisor,X.coSupervisors&&o.jsxs("span",{className:"text-xs text-gray-400 block",children:["+ ",X.coSupervisors]})]}),o.jsx("td",{className:"p-4 font-mono text-gray-500",children:X.dates.registration||"-"}),o.jsx("td",{className:"p-4",children:o.jsxs("span",{className:"px-2 py-1 rounded-full text-xs border bg-gray-50 border-gray-200 text-gray-600",children:[X.status==="Researching"&&" ",X.status==="Writing"&&" ",X.status==="Defense"&&" ",X.status==="Granted"&&" ",X.status==="Recording"&&" "]})})]},X.id)),t.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:xe,className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (Protocol)"}),o.jsx("input",{type:"text",readOnly:!0,value:j.protocolUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),o.jsx("button",{type:"button",onClick:()=>me("protocol"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:o.jsx(Er,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (TOEFL)"}),o.jsx("input",{type:"text",readOnly:!0,value:j.toeflUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),o.jsx("button",{type:"button",onClick:()=>me("toefl"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:o.jsx(Er,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:"  /  "}),j.otherDocuments&&j.otherDocuments.length>0?o.jsx("ul",{className:"space-y-2",children:j.otherDocuments.map((X,F)=>o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[X.type==="ARCHIVE_LINK"?o.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded",children:o.jsx(k2,{className:"w-4 h-4"})}):o.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded",children:o.jsx(yr,{className:"w-4 h-4"})}),o.jsxs("div",{className:"text-xs",children:[o.jsx("p",{className:"font-bold text-gray-800",children:X.title}),X.type==="ARCHIVE_LINK"?o.jsxs("p",{className:"text-amber-600",children:["  : ",X.archiveSerial]}):o.jsx("p",{className:"text-blue-500 underline cursor-pointer",children:"  "})]})]}),o.jsx("button",{type:"button",onClick:()=>Y(F),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:o.jsx(ht,{className:"w-4 h-4"})})]},F))}):o.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mt-2",children:[o.jsxs("div",{className:"flex gap-4 mb-3 border-b border-gray-200 pb-2",children:[o.jsx("button",{type:"button",onClick:()=>R("UPLOAD"),className:`text-xs font-bold pb-1 ${D==="UPLOAD"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"  "}),o.jsx("button",{type:"button",onClick:()=>R("ARCHIVE_LINK"),className:`text-xs font-bold pb-1 ${D==="ARCHIVE_LINK"?"text-amber-600 border-b-2 border-amber-600":"text-gray-500"}`,children:"  (/)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",placeholder:"  (:   )",className:"w-full text-xs p-2 rounded border border-gray-300 focus:outline-none focus:border-green-500",value:U.title,onChange:X=>k({...U,title:X.target.value})}),D==="UPLOAD"?o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",readOnly:!0,value:U.url,placeholder:"   ...",className:"w-full text-xs p-2 rounded border border-gray-300 bg-white text-gray-500"}),o.jsxs("button",{type:"button",onClick:()=>me("other"),className:"whitespace-nowrap px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded text-xs hover:bg-blue-100",children:[o.jsx(Er,{className:"w-4 h-4 inline-block mr-1"})," "]})]}):o.jsxs("select",{className:"w-full text-xs p-2 rounded border border-gray-300 bg-white",value:U.archiveId,onChange:X=>k({...U,archiveId:X.target.value}),children:[o.jsx("option",{value:"",children:"--     --"}),E.map(X=>o.jsxs("option",{value:X.id,children:["[",X.type===rt.INCOMING?"":"","] ",X.serialNumber," - ",X.subject]},X.id))]}),o.jsxs("button",{type:"button",onClick:re,className:"w-full mt-2 bg-gray-600 text-white text-xs py-2 rounded hover:bg-gray-700 flex items-center justify-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"})," "]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),j.publishedPapers.length>0?o.jsx("ul",{className:"space-y-2",children:j.publishedPapers.map((X,F)=>o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[o.jsxs("div",{className:"text-xs",children:[o.jsx("p",{className:"font-bold text-gray-800",children:X.title}),o.jsx("p",{className:"text-gray-500",children:X.date})]}),o.jsx("button",{type:"button",onClick:()=>G(F),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:o.jsx(ht,{className:"w-4 h-4"})})]},F))}):o.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),o.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100 space-y-2 mt-2",children:[o.jsx("p",{className:"text-xs font-bold text-green-800",children:"  "}),o.jsx("input",{type:"text",placeholder:" ",className:"w-full text-xs p-2 rounded border border-green-200 focus:outline-none focus:border-green-500",value:L.title,onChange:X=>A({...L,title:X.target.value})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"date",className:"w-1/3 text-xs p-2 rounded border border-green-200",value:L.date,onChange:X=>A({...L,date:X.target.value})}),o.jsx("input",{type:"text",placeholder:"  (DOI/URL)",className:"w-2/3 text-xs p-2 rounded border border-green-200",value:L.url,onChange:X=>A({...L,url:X.target.value})})]}),o.jsxs("button",{type:"button",onClick:ae,className:"w-full bg-green-600 text-white text-xs py-2 rounded hover:bg-green-700 flex items-center justify-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"}),"  "]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:V,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:[V?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(Nn,{className:"w-4 h-4"})," "]})]})]})]})})]})},mge=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState(!0),[s,c]=N.useState(!1),[d,f]=N.useState(!1),[h,p]=N.useState(null),[g,x]=N.useState(null),[w,E]=N.useState(!1),[_,j]=N.useState(null),[C,L]=N.useState({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]});N.useEffect(()=>{A()},[]);const A=async()=>{a(!0);const I=await Hme();n(I),a(!1)},D=I=>{I?(p(I.id),L({name:I.name,model:I.model,serialNumber:I.serialNumber,status:I.status,location:I.location,assignedTo:I.assignedTo,dateAcquired:I.dateAcquired})):(p(null),L({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]})),f(!0)},R=async I=>{I.preventDefault(),c(!0);const O=(t==null?void 0:t.name)||"Unknown";try{h?(await Kme(h,C),Ae(" ",O,`  : ${C.name}`),alert("    ")):(await Gme(C),Ae(" ",O,`: ${C.name} - ${C.serialNumber}`),alert("   ")),await A(),f(!1)}catch(B){console.error(B),alert("   ")}finally{c(!1)}},U=I=>{j(I),E(!0)},k=async()=>{if(_){c(!0);try{const I=e.find(O=>O.id===_);await Yme(_),Ae(" ",(t==null?void 0:t.name)||"Unknown",` : ${I==null?void 0:I.name}`),n(O=>O.filter(B=>B.id!==_)),E(!1),j(null)}catch(I){console.error(I),alert("   "),A()}finally{c(!1)}}},V=I=>{switch(I){case"WORKING":return o.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(Wr,{className:"w-3 h-3"})," "]});case"MAINTENANCE":return o.jsxs("span",{className:"flex items-center gap-1 bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(Qr,{className:"w-3 h-3"})," "]});case"BROKEN":return o.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(t_,{className:"w-3 h-3"})," "]})}},M={total:e.length,working:e.filter(I=>I.status==="WORKING").length,maintenance:e.filter(I=>I.status==="MAINTENANCE").length,broken:e.filter(I=>I.status==="BROKEN").length};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(xg,{className:"w-6 h-6 text-blue-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),o.jsxs("button",{onClick:()=>D(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 text-center",children:[o.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:M.total})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-xl shadow-sm border border-green-100 text-center",children:[o.jsx("p",{className:"text-xs text-green-600 font-bold",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-green-800",children:M.working})]}),o.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl shadow-sm border border-amber-100 text-center",children:[o.jsx("p",{className:"text-xs text-amber-600 font-bold",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-amber-800",children:M.maintenance})]}),o.jsxs("div",{className:"bg-red-50 p-4 rounded-xl shadow-sm border border-red-100 text-center",children:[o.jsx("p",{className:"text-xs text-red-600 font-bold",children:" / "}),o.jsx("h3",{className:"text-2xl font-bold text-red-800",children:M.broken})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:"  (SN)"}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})," ",o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[r?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:" ..."})}):e.map(I=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:I.name}),o.jsx("td",{className:"p-4 text-gray-600",children:I.model}),o.jsx("td",{className:"p-4 font-mono text-gray-500",children:I.serialNumber||"-"}),o.jsx("td",{className:"p-4",children:I.location}),o.jsx("td",{className:"p-4",children:I.assignedTo}),o.jsx("td",{className:"p-4",children:V(I.status)}),o.jsx("td",{className:"p-4",children:o.jsxs("button",{onClick:()=>x(I),className:"p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg flex items-center gap-1 text-xs",title:" QR Code",children:[o.jsx(nB,{className:"w-4 h-4"}),"QR"]})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>D(I),className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:O=>{O.preventDefault(),O.stopPropagation(),U(I.id)},className:"p-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg cursor-pointer transition-colors",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]})]},I.id)),!r&&e.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:C.name,onChange:I=>L({...C,name:I.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:C.model,onChange:I=>L({...C,model:I.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:"Serial Number",className:"w-full border p-2 rounded-lg outline-none",value:C.serialNumber,onChange:I=>L({...C,serialNumber:I.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg outline-none bg-white",value:C.status,onChange:I=>L({...C,status:I.target.value}),children:[o.jsx("option",{value:"WORKING",children:"  "}),o.jsx("option",{value:"MAINTENANCE",children:" "}),o.jsx("option",{value:"BROKEN",children:" / "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",className:"w-full border p-2 rounded-lg outline-none",value:C.dateAcquired,onChange:I=>L({...C,dateAcquired:I.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:C.location,onChange:I=>L({...C,location:I.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",placeholder:" /",className:"w-full border p-2 rounded-lg outline-none",value:C.assignedTo,onChange:I=>L({...C,assignedTo:I.target.value})})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(Nn,{className:"w-4 h-4"}),""]})]})]})]})}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:"QR Code "}),o.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"bg-white p-4 border rounded-lg inline-block shadow-inner mb-4",children:o.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(`ID:${g.id}|Name:${g.name}|SN:${g.serialNumber}`)}`,alt:"QR Code",className:"w-40 h-40"})}),o.jsx("h4",{className:"font-bold text-gray-800",children:g.name}),o.jsx("p",{className:"text-sm text-gray-500 font-mono mb-4",children:g.serialNumber}),o.jsx("button",{onClick:()=>window.print(),className:"w-full bg-gray-800 text-white py-2 rounded-lg hover:bg-gray-900",children:" "})]})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Qr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"         "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:k,disabled:s,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[s&&o.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},pge=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState([]),[s,c]=N.useState([]),[d,f]=N.useState(!0),[h,p]=N.useState({researcherName:(t==null?void 0:t.name)||"",date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"11:00",experimentType:""}),[g,x]=N.useState(!1),[w,E]=N.useState(null),[_,j]=N.useState({name:"",supervisor:"",location:""}),[C,L]=N.useState(!1),[A,D]=N.useState(null),[R,U]=N.useState(null),[k,V]=N.useState({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),[M,I]=N.useState(!1),[O,B]=N.useState(null),[z,me]=N.useState(!1),[ae,G]=N.useState(null),[re,Y]=N.useState(!1),[xe,X]=N.useState(null),[F,Q]=N.useState(!1),K=(t==null?void 0:t.role)===je.ADMIN||(t==null?void 0:t.role)===je.STAFF;N.useEffect(()=>{J()},[]);const J=async()=>{f(!0);const[ge,We,Ye]=await Promise.all([rpe(),Wme(),Zme()]),St=ge.sort((na,te)=>na.date!==te.date?na.date.localeCompare(te.date):na.startTime.localeCompare(te.startTime));a(St),n(We),c(Ye),f(!1)},he=ge=>{ge?(E(ge.id),j({name:ge.name,supervisor:ge.supervisor,location:ge.location})):(E(null),j({name:"",supervisor:"",location:""})),x(!0)},Se=async ge=>{ge.preventDefault(),Q(!0);const We=(t==null?void 0:t.name)||"Unknown";try{w?(await Qme(w,_),Ae(" ",We,`   : ${_.name}`)):(await Xme(_),Ae(" ",We,`  : ${_.name}`)),await J(),x(!1)}catch(Ye){console.error(Ye),alert("    ")}finally{Q(!1)}},Oe=async()=>{if(ae){Q(!0);try{const ge=e.find(We=>We.id===ae);await Jme(ae),Ae(" ",(t==null?void 0:t.name)||"Unknown",`  : ${ge==null?void 0:ge.name}`),await J(),me(!1),G(null)}catch(ge){console.error(ge),alert("   ")}finally{Q(!1)}}},He=ge=>{D(ge),U(null),V({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),L(!0)},ce=ge=>{U(ge.id),V({courseName:ge.courseName,instructor:ge.instructor,day:ge.day,startTime:ge.startTime,endTime:ge.endTime})},Be=async ge=>{if(ge.preventDefault(),!A)return;Q(!0);const We=(t==null?void 0:t.name)||"Unknown";try{R?(await tpe(R,k),Ae("  ",We,`: ${k.courseName}`),U(null)):(await epe({...k,labId:A.id}),Ae("  ",We,`: ${k.courseName} - : ${A.name}`)),await J(),V(Ye=>({...Ye,courseName:"",instructor:""}))}catch(Ye){console.error(Ye),alert("    ")}finally{Q(!1)}},ee=ge=>{X(ge),Y(!0)},fe=async()=>{if(xe){Q(!0);try{const ge=s.find(We=>We.id===xe);await npe(xe),Ae("  ",(t==null?void 0:t.name)||"Unknown",` : ${ge==null?void 0:ge.courseName}`),await J(),Y(!1),X(null)}catch{alert(" ")}finally{Q(!1)}}},Je=ge=>({Saturday:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:""})[ge]||ge,Ge=async ge=>{if(ge.preventDefault(),h.endTime<=h.startTime){alert("       ");return}const We=h.experimentType.trim().toLowerCase();if(r.some(St=>St.status==="CANCELLED"||St.date!==h.date||St.experimentType.trim().toLowerCase()!==We?!1:h.startTime<St.endTime&&h.endTime>St.startTime)){alert(`     / (${h.experimentType})   .    .`);return}Q(!0);try{await ape({...h,labName:"   ",status:"CONFIRMED"}),Ae(" ",(t==null?void 0:t.name)||h.researcherName,` : ${h.date} - ${h.experimentType}`),await J(),p(St=>({...St,experimentType:""})),alert("    ")}catch(St){console.error(St),alert("   ")}finally{Q(!1)}},Et=async(ge,We)=>{try{await ipe(ge,{status:We}),a(Ye=>Ye.map(St=>St.id===ge?{...St,status:We}:St)),Ae("  ",(t==null?void 0:t.name)||"Unknown",`  : ${We}`)}catch(Ye){console.error(Ye),alert("  ")}},Ee=async()=>{if(O){Q(!0);try{await spe(O),Ae("/ ",(t==null?void 0:t.name)||"Unknown","   "),await J(),I(!1),B(null)}catch(ge){console.error(ge),alert("   ")}finally{Q(!1)}}},ut=ge=>{switch(ge){case"CONFIRMED":return o.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(Wr,{className:"w-3 h-3"})," "]});case"COMPLETED":return o.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(rz,{className:"w-3 h-3"}),"  "]});case"CANCELLED":return o.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(t_,{className:"w-3 h-3"})," "]});default:return null}};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(f1,{className:"w-6 h-6 text-purple-600"})," "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),K&&o.jsxs("button",{onClick:()=>he(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-purple-700 flex items-center gap-2 shadow-sm",children:[o.jsx(Ft,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.map(ge=>o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-purple-200 transition-colors relative group",children:[o.jsx("div",{className:"bg-purple-50 w-10 h-10 rounded-full flex items-center justify-center mb-3 text-purple-600",children:o.jsx(f1,{className:"w-5 h-5"})}),o.jsx("h3",{className:"font-bold text-gray-800 text-sm mb-1",children:ge.name}),o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:ge.location}),o.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-100 mb-3",children:[o.jsx("span",{className:"font-semibold text-gray-600",children:":"})," ",ge.supervisor]}),o.jsxs("button",{onClick:()=>He(ge),className:"w-full mt-auto bg-green-50 text-green-700 py-1.5 rounded-lg text-xs font-semibold hover:bg-green-100 flex items-center justify-center gap-1 transition-colors",children:[o.jsx(pB,{className:"w-3 h-3"}),"  "]}),K&&o.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>he(ge),className:"text-blue-400 hover:text-blue-600 bg-white p-1 rounded-full shadow-sm",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{G(ge.id),me(!0)},className:"text-red-400 hover:text-red-600 bg-white p-1 rounded-full shadow-sm",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]})]},ge.id)),e.length===0&&o.jsx("div",{className:"col-span-full text-center p-8 bg-gray-50 rounded-xl border border-dashed text-gray-400",children:"    "})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-800 to-purple-900 p-6 text-white flex justify-between items-center",children:o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[o.jsx(vh,{className:"w-5 h-5"}),"  -   "]}),o.jsx("p",{className:"text-purple-200 text-xs mt-1",children:"        ."})]})}),o.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 bg-purple-50 p-5 rounded-xl h-fit",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(Gi,{className:"w-4 h-4"}),"   "]}),o.jsxs("form",{onSubmit:Ge,className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.researcherName,onChange:ge=>p({...h,researcherName:ge.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:""}),o.jsx("input",{type:"date",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.date,onChange:ge=>p({...h,date:ge.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.startTime,onChange:ge=>p({...h,startTime:ge.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.endTime,onChange:ge=>p({...h,endTime:ge.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"  /  "}),o.jsx("input",{type:"text",placeholder:": PCR, Centrifuge",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.experimentType,onChange:ge=>p({...h,experimentType:ge.target.value})}),o.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"*          /."})]}),o.jsxs("button",{type:"submit",disabled:F,className:"w-full bg-purple-700 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-800 transition-colors flex justify-center items-center gap-2",children:[o.jsx(Ft,{className:"w-4 h-4"}),"  "]})]})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(Wr,{className:"w-4 h-4 text-green-600"}),"  "]}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[d?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-6 text-center text-gray-400",children:" ..."})}):r.map(ge=>o.jsxs("tr",{className:`hover:bg-gray-50 ${ge.status==="CANCELLED"?"bg-gray-50 opacity-60":""}`,children:[o.jsx("td",{className:"p-3 font-mono text-gray-600",children:ge.date}),o.jsxs("td",{className:"p-3 font-mono text-purple-700 font-bold",children:[ge.startTime," - ",ge.endTime]}),o.jsx("td",{className:"p-3 font-bold text-gray-800",children:ge.researcherName}),o.jsx("td",{className:"p-3 text-gray-600",children:ge.experimentType}),o.jsx("td",{className:"p-3",children:K?o.jsxs("select",{value:ge.status,onChange:We=>Et(ge.id,We.target.value),className:`text-xs p-1 rounded border focus:outline-none cursor-pointer font-bold ${ge.status==="CONFIRMED"?"text-green-700 bg-green-50 border-green-200":ge.status==="COMPLETED"?"text-blue-700 bg-blue-50 border-blue-200":"text-red-700 bg-red-50 border-red-200"}`,children:[o.jsx("option",{value:"CONFIRMED",children:""}),o.jsx("option",{value:"COMPLETED",children:" "}),o.jsx("option",{value:"CANCELLED",children:""})]}):ut(ge.status)}),o.jsx("td",{className:"p-3",children:(K||(t==null?void 0:t.name)===ge.researcherName)&&o.jsx("button",{onClick:()=>{B(ge.id),I(!0)},className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:" ",children:o.jsx(ht,{className:"w-4 h-4"})})})]},ge.id)),!d&&r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400 italic",children:"   "})})]})]})})]})]})]}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:w?"  ":"  "}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:_.name,onChange:ge=>j({..._,name:ge.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:_.supervisor,onChange:ge=>j({..._,supervisor:ge.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:_.location,onChange:ge=>j({..._,location:ge.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:F,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[F?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(Nn,{className:"w-4 h-4"}),""]})]})]})]})}),C&&A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-purple-50 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("p",{className:"text-sm text-purple-700",children:A.name})]}),o.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6",children:[K&&o.jsxs("form",{onSubmit:Be,className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:[o.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-3 flex items-center gap-2",children:[o.jsx(Ft,{className:"w-4 h-4"})," ",R?"  ":"  "]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsx("input",{type:"text",placeholder:"  (: )",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:k.courseName,onChange:ge=>V({...k,courseName:ge.target.value})}),o.jsx("input",{type:"text",placeholder:" ",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:k.instructor,onChange:ge=>V({...k,instructor:ge.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("select",{className:"text-sm p-2 rounded border focus:outline-none bg-white",value:k.day,onChange:ge=>V({...k,day:ge.target.value}),children:[o.jsx("option",{value:"Saturday",children:""}),o.jsx("option",{value:"Sunday",children:""}),o.jsx("option",{value:"Monday",children:""}),o.jsx("option",{value:"Tuesday",children:""}),o.jsx("option",{value:"Wednesday",children:""}),o.jsx("option",{value:"Thursday",children:""})]}),o.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:k.startTime,onChange:ge=>V({...k,startTime:ge.target.value})}),o.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:k.endTime,onChange:ge=>V({...k,endTime:ge.target.value})})]}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[R&&o.jsx("button",{type:"button",onClick:()=>{U(null),V(ge=>({...ge,courseName:"",instructor:""}))},className:"bg-gray-200 text-gray-600 px-3 py-2 rounded-lg text-sm font-bold hover:bg-gray-300",children:" "}),o.jsx("button",{type:"submit",disabled:F,className:"flex-1 bg-purple-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-700",children:R?" ":" "})]})]}),o.jsxs("div",{className:"space-y-4",children:[["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday"].map(ge=>{const We=s.filter(Ye=>Ye.labId===A.id&&Ye.day===ge).sort((Ye,St)=>Ye.startTime.localeCompare(St.startTime));return We.length===0?null:o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-gray-700 text-sm mb-2 border-b pb-1",children:Je(ge)}),o.jsx("ul",{className:"space-y-2",children:We.map(Ye=>o.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 shadow-sm text-sm",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("span",{className:"font-mono text-purple-700 font-bold w-24",children:[Ye.startTime," - ",Ye.endTime]}),o.jsx("span",{className:"font-semibold text-gray-800",children:Ye.courseName}),o.jsxs("span",{className:"text-gray-500 text-xs flex items-center",children:["(",Ye.instructor,")"]})]}),K&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>ce(Ye),className:"text-blue-400 hover:text-blue-600 p-1 rounded hover:bg-blue-50",title:"",children:o.jsx(Gn,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>ee(Ye.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"",children:o.jsx(ht,{className:"w-3 h-3"})})]})]},Ye.id))})]},ge)}),s.filter(ge=>ge.labId===A.id).length===0&&o.jsx("p",{className:"text-center text-gray-400 py-4 italic",children:"      ."})]})]})]})}),z&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Qr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"              ."}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>me(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:Oe,disabled:F,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[F&&o.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),re&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Qr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>Y(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:fe,disabled:F,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[F&&o.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),M&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Qr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          ."}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>I(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsx("button",{onClick:Ee,disabled:F,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"  ( )"})]})]})})})]})},gge=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState([]),[s,c]=N.useState(!0),[d,f]=N.useState(!1),[h,p]=N.useState(!1),[g,x]=N.useState(null),[w,E]=N.useState(!1),[_,j]=N.useState(!1),[C,L]=N.useState(null),[A,D]=N.useState({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]});N.useEffect(()=>{R()},[]);const R=async()=>{c(!0);const[I,O]=await Promise.all([ope(),lpe()]);n(I.sort((B,z)=>B.number-z.number)),a(O.sort((B,z)=>z.endDate.localeCompare(B.endDate))),c(!1)},U=I=>{x(I),I.status==="OCCUPIED"?D({researcher:I.researcher||"",plantType:I.plantType||"",notes:I.notes||"",startDate:I.startDate||""}):D({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]}),p(!0)},k=async I=>{if(I.preventDefault(),!!g){f(!0);try{await UP(g.id,{status:"OCCUPIED",...A}),Ae("  ",(t==null?void 0:t.name)||A.researcher,`    ${g.number}`),await R(),p(!1),alert("    ")}catch(O){console.error(O),alert("   ")}finally{f(!1)}}},V=async()=>{if(g){f(!0);try{g.researcher&&g.plantType&&await cpe({plotNumber:g.number,researcher:g.researcher,plantType:g.plantType,startDate:g.startDate||"Unknown",endDate:new Date().toISOString().split("T")[0],notes:g.notes}),await UP(g.id,{status:"FREE",researcher:void 0,plantType:void 0,notes:void 0,startDate:void 0}),Ae("  ",(t==null?void 0:t.name)||"Unknown",`    ${g.number} `),await R(),E(!1),p(!1),alert("      ")}catch(I){console.error(I),alert("   ")}finally{f(!1)}}},M=async()=>{if(C){f(!0);try{await upe(C),Ae("   ",(t==null?void 0:t.name)||"Unknown","   "),await R(),j(!1),L(null)}catch{alert("  ")}finally{f(!1)}}};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(d4,{className:"w-6 h-6 text-green-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"   (Plots Allocation)  "})]}),o.jsxs("div",{className:"flex gap-4 text-xs font-bold bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-100 border border-green-300"}),o.jsx("span",{className:"text-green-700",children:" "})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 border border-red-300"}),o.jsx("span",{className:"text-red-700",children:" ( )"})]})]})]}),s?o.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[o.jsx(it,{className:"w-8 h-8 animate-spin text-green-600"}),o.jsx("span",{children:"   ..."})]}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(I=>{const O=I.status==="OCCUPIED";return o.jsxs("div",{onClick:()=>U(I),className:`
                                    relative h-48 rounded-2xl border-2 cursor-pointer transition-all duration-200 transform hover:-translate-y-1 hover:shadow-lg p-4 flex flex-col justify-between text-center group
                                    ${O?"bg-red-50 border-red-200 hover:border-red-300":"bg-green-50 border-green-200 hover:border-green-400 border-dashed"}
                                `,children:[o.jsxs("div",{className:"absolute top-3 right-3 font-mono font-bold text-lg opacity-30",children:["#",I.number]}),O?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:o.jsx(Nu,{className:"w-8 h-8 text-red-500"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-800 truncate",children:I.plantType}),o.jsx("p",{className:"text-xs text-red-600 font-semibold mt-1 truncate",children:I.researcher})]}),o.jsxs("span",{className:"text-[10px] text-gray-400 bg-white/50 py-1 rounded-lg",children:[": ",I.startDate]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[o.jsx(Nu,{className:"w-8 h-8 text-green-400"}),o.jsx("span",{className:"text-sm font-bold text-green-600",children:" "})]}),o.jsx("button",{className:"w-full py-1 bg-green-200 text-green-800 rounded text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:" "})]})]},I.id)})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[o.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Az,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"font-bold text-gray-800",children:"   ()"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[r.map(I=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"p-4 font-mono font-bold text-green-700",children:["#",I.plotNumber]}),o.jsx("td",{className:"p-4",children:I.researcher}),o.jsx("td",{className:"p-4",children:I.plantType}),o.jsx("td",{className:"p-4 text-gray-500",children:I.startDate}),o.jsx("td",{className:"p-4 text-gray-500",children:I.endDate}),o.jsx("td",{className:"p-4",children:o.jsx("button",{onClick:()=>{L(I.id),j(!0)},className:"text-red-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg",title:"  ",children:o.jsx(ht,{className:"w-4 h-4"})})})]},I.id)),r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),h&&g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:`p-6 border-b rounded-t-xl flex justify-between items-center ${g.status==="OCCUPIED"?"bg-red-50":"bg-green-50"}`,children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Nu,{className:`w-6 h-6 ${g.status==="OCCUPIED"?"text-red-600":"text-green-600"}`}),"  ",g.number]}),o.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 bg-white/50 p-1 rounded-full",children:o.jsx(Pt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(r_,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),o.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.researcher,onChange:I=>D({...A,researcher:I.target.value}),placeholder:"  "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  / "}),o.jsxs("div",{className:"relative",children:[o.jsx(Nu,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),o.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.plantType,onChange:I=>D({...A,plantType:I.target.value}),placeholder:":  ( 95)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(vh,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),o.jsx("input",{type:"date",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.startDate,onChange:I=>D({...A,startDate:I.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (  )"}),o.jsx("textarea",{rows:3,disabled:g.status==="OCCUPIED",className:"w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.notes,onChange:I=>D({...A,notes:I.target.value}),placeholder:"     ..."})]}),o.jsx("div",{className:"pt-4 border-t flex justify-end gap-2",children:g.status==="FREE"?o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:""}),o.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm font-bold shadow-md",children:[d?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(Wr,{className:"w-4 h-4"})," "]})]}):o.jsxs("button",{type:"button",onClick:()=>E(!0),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 text-sm font-bold shadow-md",children:[o.jsx(ht,{className:"w-4 h-4"}),"   "]})})]})]})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(Qr,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"                ."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&o.jsx(it,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})}),_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(ht,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"  "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:M,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&o.jsx(it,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},yge=({user:t})=>{const[e,n]=N.useState([]),[r,a]=N.useState([]),[s,c]=N.useState(!0),[d,f]=N.useState(!1),[h,p]=N.useState("ALL"),[g,x]=N.useState(!1),[w,E]=N.useState(null),[_,j]=N.useState(!1),[C,L]=N.useState(null),[A,D]=N.useState({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"});N.useEffect(()=>{R()},[]),N.useEffect(()=>{a(h==="ALL"?e:e.filter(O=>O.type===h))},[e,h]);const R=async()=>{c(!0);const B=(await bpe()).sort((z,me)=>me.date.localeCompare(z.date));n(B),c(!1)},U=O=>{O?(E(O.id),D({title:O.title,type:O.type,date:O.date,location:O.location,description:O.description,regLink:O.regLink||"",status:O.status||"UPCOMING"})):(E(null),D({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"})),x(!0)},k=async O=>{O.preventDefault(),f(!0);const B=(t==null?void 0:t.name)||"Unknown";try{w?(await Npe(w,A),Ae(" ",B,` : ${A.title}`)):(await wpe(A),Ae("  ",B,`: ${A.title}`)),await R(),x(!1),alert(w?"   ":"   ")}catch(z){console.error(z),alert("   ")}finally{f(!1)}},V=async()=>{if(C){f(!0);try{const O=e.find(B=>B.id===C);await _pe(C),Ae(" ",(t==null?void 0:t.name)||"Unknown",` : ${O==null?void 0:O.title}`),await R(),j(!1),L(null)}catch{alert("  ")}finally{f(!1)}}},M=O=>{switch(O){case"WORKSHOP":return{color:"text-orange-600",bg:"bg-orange-50",border:"border-r-4 border-r-orange-500",label:" ",icon:eB};case"SEMINAR":return{color:"text-blue-600",bg:"bg-blue-50",border:"border-r-4 border-r-blue-500",label:"",icon:Kz};case"TRIP":return{color:"text-green-600",bg:"bg-green-50",border:"border-r-4 border-r-green-500",label:" / ",icon:K9};case"CONFERENCE":return{color:"text-red-600",bg:"bg-red-50",border:"border-r-4 border-r-red-500",label:"",icon:oi};case"COURSE":return{color:"text-purple-600",bg:"bg-purple-50",border:"border-r-4 border-r-purple-500",label:" ",icon:Os};default:return{color:"text-gray-600",bg:"bg-gray-50",border:"border-gray-300",label:"",icon:p1}}},I=O=>{switch(O){case"UPCOMING":return o.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-green-200",children:[o.jsx(Gi,{className:"w-3 h-3"})," "]});case"COMPLETED":return o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-gray-200",children:[o.jsx(Wr,{className:"w-3 h-3"})," "]});case"CANCELLED":return o.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-red-200",children:[o.jsx(t_,{className:"w-3 h-3"})," "]});default:return null}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(p1,{className:"w-6 h-6 text-purple-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),o.jsxs("button",{onClick:()=>U(),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 pb-2 border-b border-gray-200",children:[o.jsx(gu,{active:h==="ALL",onClick:()=>p("ALL"),label:""}),o.jsx(gu,{active:h==="WORKSHOP",onClick:()=>p("WORKSHOP"),label:" "}),o.jsx(gu,{active:h==="SEMINAR",onClick:()=>p("SEMINAR"),label:""}),o.jsx(gu,{active:h==="TRIP",onClick:()=>p("TRIP"),label:" "}),o.jsx(gu,{active:h==="CONFERENCE",onClick:()=>p("CONFERENCE"),label:""}),o.jsx(gu,{active:h==="COURSE",onClick:()=>p("COURSE"),label:" "})]}),s?o.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[o.jsx(it,{className:"w-8 h-8 animate-spin text-purple-600"}),o.jsx("span",{children:"  ..."})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(O=>{const B=M(O.type),z=B.icon;return o.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow relative flex flex-col ${B.border}`,children:[o.jsxs("div",{className:"p-5 flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold flex items-center gap-1 ${B.bg} ${B.color}`,children:[o.jsx(z,{className:"w-3 h-3"})," ",B.label]}),o.jsxs("div",{className:"flex items-center gap-2",children:[I(O.status),o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-mono flex items-center gap-1",children:[o.jsx(vh,{className:"w-3 h-3"})," ",O.date]})]})]}),o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-2",children:O.title}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-3",children:[o.jsx(h4,{className:"w-4 h-4"}),o.jsx("span",{children:O.location})]}),o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:O.description})]}),o.jsxs("div",{className:"px-5 pb-5 mt-auto flex items-center justify-between",children:[O.regLink&&O.status==="UPCOMING"?o.jsxs("a",{href:O.regLink,target:"_blank",rel:"noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-purple-700 flex items-center gap-2 shadow-sm w-fit",children:["  ",o.jsx(vg,{className:"w-3 h-3"})]}):o.jsx("span",{className:"text-xs text-gray-400 italic",children:O.status==="UPCOMING"?"   ":" "}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>U(O),className:"text-blue-400 hover:text-blue-600 p-2 rounded-full hover:bg-blue-50 transition-colors",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{L(O.id),j(!0)},className:"text-red-400 hover:text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]})]})]},O.id)}),r.length===0&&o.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 bg-gray-50 rounded-xl border border-dashed",children:"       ."})]}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:w?" ":"  "}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.title,onChange:O=>D({...A,title:O.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white",value:A.type,onChange:O=>D({...A,type:O.target.value}),children:[o.jsx("option",{value:"WORKSHOP",children:" "}),o.jsx("option",{value:"SEMINAR",children:""}),o.jsx("option",{value:"TRIP",children:" / "}),o.jsx("option",{value:"CONFERENCE",children:""}),o.jsx("option",{value:"COURSE",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white font-semibold",value:A.status,onChange:O=>D({...A,status:O.target.value}),children:[o.jsx("option",{value:"UPCOMING",className:"text-green-600",children:" ()"}),o.jsx("option",{value:"COMPLETED",className:"text-gray-600",children:" ()"}),o.jsx("option",{value:"CANCELLED",className:"text-red-600",children:""})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.date,onChange:O=>D({...A,date:O.target.value})})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,placeholder:":  ",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.location,onChange:O=>D({...A,location:O.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("textarea",{rows:3,placeholder:"  ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.description,onChange:O=>D({...A,description:O.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),o.jsx("input",{type:"text",placeholder:"Google Form Link...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ltr-text",value:A.regLink,onChange:O=>D({...A,regLink:O.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:d,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[d?o.jsx(it,{className:"w-4 h-4 animate-spin"}):w?o.jsx(Nn,{className:"w-4 h-4"}):o.jsx(Ft,{className:"w-4 h-4"}),w?" ":" "]})]})]})]})}),_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(ht,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&o.jsx(it,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},gu=({active:t,onClick:e,label:n})=>o.jsx("button",{onClick:e,className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${t?"bg-purple-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:n}),vge=()=>{const[t,e]=N.useState([]),[n,r]=N.useState([]),[a,s]=N.useState(!0),[c,d]=N.useState(""),[f,h]=N.useState(!1),[p,g]=N.useState(null),[x,w]=N.useState(!1);N.useEffect(()=>{E()},[]),N.useEffect(()=>{if(!c)r(t);else{const L=c.toLowerCase();r(t.filter(A=>A.action.toLowerCase().includes(L)||A.performedBy.toLowerCase().includes(L)||A.details.toLowerCase().includes(L)))}},[c,t]);const E=async()=>{s(!0);const L=await wme();e(L),r(L),s(!1)},_=L=>{g(L),h(!0)},j=async()=>{if(p){w(!0);try{await Nme(p),await E(),h(!1),g(null)}catch(L){console.error(L),alert("  ")}finally{w(!1)}}},C=async()=>{s(!0),await Ae(" ","Admin","     "),await E(),s(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(i4,{className:"w-6 h-6 text-red-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      (  )"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:C,className:"text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[o.jsx(Mf,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:E,className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[o.jsx(g1,{className:"w-4 h-4"})," "]})]})]}),o.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"relative",children:[o.jsx(Mu,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:border-red-500",value:c,onChange:L=>d(L.target.value)})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:a?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:" ..."})}):n.length>0?n.map(L=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:L.action}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-bold",children:L.performedBy})}),o.jsx("td",{className:"p-4 text-gray-600",children:L.details}),o.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",dir:"ltr",children:new Date(L.timestamp).toLocaleString("ar-EG")}),o.jsx("td",{className:"p-4",children:o.jsx("button",{onClick:()=>_(L.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"  ",children:o.jsx(ht,{className:"w-4 h-4"})})})]},L.id)):o.jsx("tr",{children:o.jsxs("td",{colSpan:5,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[o.jsx(cB,{className:"w-10 h-10 mb-2 opacity-20"}),o.jsx("p",{children:"     "}),o.jsx("p",{className:"text-xs mt-2 text-blue-500 cursor-pointer",onClick:C,children:"    "})]})})})]})})}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(Qr,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:j,disabled:x,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[x&&o.jsx(it,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},xge=({user:t})=>{const[e,n]=N.useState("COUNCIL"),[r,a]=N.useState(!0),[s,c]=N.useState([]),[d,f]=N.useState([]),h=new Date().getFullYear(),[p,g]=N.useState(`${h}-${h+1}`),[x,w]=N.useState(!1),[E,_]=N.useState(!1),[j,C]=N.useState(null),[L,A]=N.useState(null),[D,R]=N.useState({academicYear:"",members:[]}),[U,k]=N.useState({name:"",academicYear:"",members:[]}),[V,M]=N.useState(null),I=t.role===je.ADMIN;N.useEffect(()=>{O()},[]);const O=async()=>{a(!0);const[J,he]=await Promise.all([jpe(),Tpe()]);c(J),f(he),a(!1)},B=()=>{const J=new Set([...s.map(he=>he.academicYear),...d.map(he=>he.academicYear)]);return J.add(`${h}-${h+1}`),Array.from(J).sort().reverse()},z=J=>{J?(C(J.id),R({academicYear:J.academicYear,members:[...J.members]})):(C(null),R({academicYear:p,members:[]})),w(!0)},me=async()=>{if(!D.academicYear){alert("   ");return}try{j?(await Spe(j,D),await Ae("   ",t.name,`     : ${D.academicYear}`)):(await Epe(D),await Ae("   ",t.name,`      : ${D.academicYear}`)),w(!1),O(),alert("   ")}catch(J){console.error(J),alert("   ")}},ae=async J=>{if(window.confirm("       "))try{await Ape(J),await Ae("   ",t.name,"      "),O()}catch(he){console.error(he),alert(" ")}},G=J=>{J?(A(J.id),k({name:J.name,academicYear:J.academicYear,members:[...J.members]})):(A(null),k({name:"",academicYear:p,members:[]})),_(!0)},re=async()=>{if(!U.name||!U.academicYear){alert(" ");return}try{L?(await Ipe(L,U),await Ae(" ",t.name,`  ${U.name}  ${U.academicYear}`)):(await Cpe(U),await Ae(" ",t.name,`   : ${U.name}  ${U.academicYear}`)),_(!1),O(),alert("   ")}catch(J){console.error(J),alert("   ")}},Y=async(J,he)=>{if(window.confirm(`      ${he}`))try{await Ope(J),await Ae(" ",t.name,`  : ${he}`),O()}catch(Se){console.error(Se),alert(" ")}},xe=J=>{J(he=>({...he,members:[...he.members,{name:"",role:"",title:""}]}))},X=(J,he,Se,Oe)=>{J(He=>{const ce=[...He.members];return ce[he]={...ce[he],[Se]:Oe},{...He,members:ce}})},F=(J,he)=>{J(Se=>({...Se,members:Se.members.filter((Oe,He)=>He!==he)}))},Q=s.find(J=>J.academicYear===p),K=d.filter(J=>J.academicYear===p);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(If,{className:"w-6 h-6 text-indigo-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"       "})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[o.jsx("span",{className:"text-sm font-bold text-gray-600",children:" :"}),o.jsx("select",{value:p,onChange:J=>g(J.target.value),className:"bg-gray-50 border border-gray-300 rounded px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-indigo-500 font-mono font-bold text-indigo-700",children:B().map(J=>o.jsx("option",{value:J,children:J},J))})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>n("COUNCIL"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COUNCIL"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[o.jsx(oi,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>n("COMMITTEES"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COMMITTEES"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[o.jsx(If,{className:"w-4 h-4"}),"  "]})]}),e==="COUNCIL"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"    ",p]}),I&&o.jsxs("button",{onClick:()=>z(Q),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[Q?o.jsx(Gn,{className:"w-4 h-4"}):o.jsx(Ft,{className:"w-4 h-4"}),Q?" ":"  "]})]}),Q?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" (Role)"})]})}),o.jsx("tbody",{className:"divide-y",children:Q.members.map((J,he)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 text-gray-500",children:J.title}),o.jsx("td",{className:"p-4 font-bold text-gray-800",children:J.name}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold 
                                                        ${J.role.includes("")?"bg-indigo-100 text-indigo-700":J.role.includes("")?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:J.role})})]},he))})]})}),I&&o.jsx("div",{className:"p-4 bg-gray-50 border-t flex justify-end",children:o.jsxs("button",{onClick:()=>ae(Q.id),className:"text-red-500 text-xs flex items-center gap-1 hover:underline",children:[o.jsx(ht,{className:"w-3 h-3"}),"   "]})})]}):o.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[o.jsx(oi,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),o.jsx("p",{children:"       ."}),I&&o.jsx("p",{className:"text-xs mt-2",children:'  "  " '})]})]}),e==="COMMITTEES"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"   ",p]}),I&&o.jsxs("button",{onClick:()=>G(),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[o.jsx(Ft,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[K.map(J=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-white",onClick:()=>M(V===J.id?null:J.id),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-indigo-50 p-2.5 rounded-full text-indigo-600",children:o.jsx(If,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:J.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[J.members.length," "]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[I&&o.jsxs("div",{className:"flex gap-1 ml-2 border-l pl-2",children:[o.jsx("button",{onClick:he=>{he.stopPropagation(),G(J)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:he=>{he.stopPropagation(),Y(J.id,J.name)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]}),V===J.id?o.jsx(ZN,{className:"w-5 h-5 text-gray-400"}):o.jsx(JN,{className:"w-5 h-5 text-gray-400"})]})]}),V===J.id&&o.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50 animate-in slide-in-from-top-1",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-gray-500 border-b border-gray-200",children:[o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""})]})}),o.jsx("tbody",{children:J.members.map((he,Se)=>o.jsxs("tr",{children:[o.jsx("td",{className:"py-2 text-gray-500 w-20",children:he.title}),o.jsx("td",{className:"py-2 font-medium",children:he.name}),o.jsx("td",{className:"py-2 text-indigo-700 font-bold",children:he.role})]},Se))})]})})]},J.id)),K.length===0&&o.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[o.jsx(If,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),o.jsx("p",{children:"     ."})]})]})]}),x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?"   ":"  "}),o.jsx("button",{onClick:()=>w(!1),children:o.jsx(Pt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",value:D.academicYear,onChange:J=>R({...D,academicYear:J.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),o.jsxs("button",{onClick:()=>xe(R),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"}),"  "]})]}),o.jsx("div",{className:"space-y-2",children:D.members.map((J,he)=>o.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[o.jsx("input",{type:"text",placeholder:" (.)",value:J.title,onChange:Se=>X(R,he,"title",Se.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("input",{type:"text",placeholder:" ",value:J.name,onChange:Se=>X(R,he,"name",Se.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),o.jsx("input",{type:"text",placeholder:" (/)",value:J.role,onChange:Se=>X(R,he,"role",Se.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("button",{onClick:()=>F(R,he),className:"text-red-400 hover:text-red-600 p-1",children:o.jsx(ht,{className:"w-4 h-4"})})]},he))})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{onClick:me,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[o.jsx(Nn,{className:"w-4 h-4"}),"  "]})]})]})]})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:L?" ":"  "}),o.jsx("button",{onClick:()=>_(!1),children:o.jsx(Pt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",value:U.name,onChange:J=>k({...U,name:J.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:":  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",value:U.academicYear,onChange:J=>k({...U,academicYear:J.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),o.jsxs("button",{onClick:()=>xe(k),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[o.jsx(Ft,{className:"w-3 h-3"}),"  "]})]}),o.jsx("div",{className:"space-y-2",children:U.members.map((J,he)=>o.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[o.jsx("input",{type:"text",placeholder:"",value:J.title,onChange:Se=>X(k,he,"title",Se.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("input",{type:"text",placeholder:" ",value:J.name,onChange:Se=>X(k,he,"name",Se.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),o.jsx("input",{type:"text",placeholder:"",value:J.role,onChange:Se=>X(k,he,"role",Se.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("button",{onClick:()=>F(k,he),className:"text-red-400 hover:text-red-600 p-1",children:o.jsx(ht,{className:"w-4 h-4"})})]},he))})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{onClick:re,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[o.jsx(Nn,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},bge=({user:t})=>{const e="2024-2025",[n,r]=N.useState(t.role===je.ADMIN),[a,s]=N.useState(!0),[c,d]=N.useState(!1),[f,h]=N.useState({id:"",userId:t.id,userName:t.name,academicYear:e,status:"DRAFT",publishedResearch:[],ongoingResearch:[],scientificActivity:{conferences:[],thesesJudged:0,supervisionCount:0,trainingCourses:""},communityActivity:{books:"",convoys:"",media:"",memberships:""}}),[p,g]=N.useState(1),[x,w]=N.useState([]),[E,_]=N.useState([]);N.useEffect(()=>{n&&t.role===je.ADMIN?C():j()},[n,t.id,t.role]);const j=async()=>{s(!0);try{const I=await Rpe(t.id,e);h(I||(O=>({...O,userId:t.id,userName:t.name})))}catch(I){console.error("Error fetching report:",I)}s(!1)},C=async()=>{s(!0);try{const I=await Ppe(e),O=await av();w(I),_(O.map(B=>B.name))}catch(I){console.error("Error fetching dept data:",I)}s(!1)},L=async(I=!1)=>{d(!0);try{const O={...f,status:I?"SUBMITTED":"DRAFT",submissionDate:I?new Date().toISOString():f.submissionDate};await Dpe(O,f.id||void 0),I?(await Ae("  ",t.name,`     ${e}`),alert("    ")):(await Ae("  ",t.name,`     ${e}`),alert("   ")),j()}catch(O){console.error(O),alert("   ")}finally{d(!1)}},A=async()=>{if(!window.confirm("     .   "))return;const I={id:Date.now().toString(),title:"Research imported from profile",journal:"Journal of Botany",date:"2024-01",type:"International"};h(O=>({...O,publishedResearch:[...O.publishedResearch,I]})),await Ae(" ",t.name,"        "),alert("   ()")},D=async(I,O)=>{try{const B=await ul(I),z=[...f.publishedResearch];z[O].fileUrl=B,h({...f,publishedResearch:z}),alert("   ")}catch(B){alert("  : "+B.message)}},R=()=>{window.print()},U=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[o.jsx(Os,{className:"w-5 h-5 text-blue-600"}),"   (Published Research)"]}),o.jsxs("button",{onClick:A,className:"text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 flex items-center gap-1 border border-blue-200",children:[o.jsx(Cz,{className:"w-4 h-4"}),"    "]})]}),f.publishedResearch.map((I,O)=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[o.jsx("button",{onClick:()=>{const B=f.publishedResearch.filter((z,me)=>me!==O);h({...f,publishedResearch:B})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:" ",children:o.jsx(ht,{className:"w-4 h-4"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:I.title,onChange:B=>{const z=[...f.publishedResearch];z[O].title=B.target.value,h({...f,publishedResearch:z})}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" / "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:I.journal,onChange:B=>{const z=[...f.publishedResearch];z[O].journal=B.target.value,h({...f,publishedResearch:z})}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:I.type,onChange:B=>{const z=[...f.publishedResearch];z[O].type=B.target.value,h({...f,publishedResearch:z})},children:[o.jsx("option",{value:"International",children:" (International)"}),o.jsx("option",{value:"Regional",children:" (Regional)"}),o.jsx("option",{value:"Local",children:" (Local)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("input",{type:"month",className:"w-full border p-2 rounded outline-none",value:I.date,onChange:B=>{const z=[...f.publishedResearch];z[O].date=B.target.value,h({...f,publishedResearch:z})}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" (PDF)"}),o.jsx("div",{className:"flex items-center gap-2",children:I.fileUrl?o.jsxs("a",{href:I.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm underline flex items-center gap-1",children:[o.jsx(yr,{className:"w-4 h-4"}),"  "]}):o.jsxs("div",{className:"relative w-full",children:[o.jsx("input",{type:"file",id:`file-${O}`,className:"hidden",onChange:B=>B.target.files&&D(B.target.files[0],O)}),o.jsxs("label",{htmlFor:`file-${O}`,className:"cursor-pointer bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded text-sm flex items-center justify-center gap-2 hover:bg-gray-50",children:[o.jsx(Er,{className:"w-4 h-4"}),"  "]})]})})]})]})]},O)),o.jsxs("button",{onClick:()=>h({...f,publishedResearch:[...f.publishedResearch,{id:Date.now().toString(),title:"",journal:"",date:"",type:"International"}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 flex items-center justify-center gap-2 transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),"   "]})]}),k=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(xg,{className:"w-5 h-5 text-green-600"}),"   (Ongoing Research)"]}),f.ongoingResearch.map((I,O)=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[o.jsx("button",{onClick:()=>{const B=f.ongoingResearch.filter((z,me)=>me!==O);h({...f,ongoingResearch:B})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:"",children:o.jsx(ht,{className:"w-4 h-4"})}),o.jsxs("div",{className:"space-y-3 pl-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"  "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:I.topic,onChange:B=>{const z=[...f.ongoingResearch];z[O].topic=B.target.value,h({...f,ongoingResearch:z})}})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:I.stage,onChange:B=>{const z=[...f.ongoingResearch];z[O].stage=B.target.value,h({...f,ongoingResearch:z})},children:[o.jsx("option",{value:"Data Collection",children:"  "}),o.jsx("option",{value:"Lab Experiments",children:" "}),o.jsx("option",{value:"Writing",children:" "}),o.jsx("option",{value:"Under Review",children:" "})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-gray-500 font-bold",children:["  (",I.progress,"%)"]}),o.jsx("input",{type:"range",min:"0",max:"100",className:"w-full accent-green-600 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mt-2",value:I.progress,onChange:B=>{const z=[...f.ongoingResearch];z[O].progress=parseInt(B.target.value),h({...f,ongoingResearch:z})}})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" ()"}),o.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:I.participants||"",onChange:B=>{const z=[...f.ongoingResearch];z[O].participants=B.target.value,h({...f,ongoingResearch:z})}})]})]})]},O)),o.jsxs("button",{onClick:()=>h({...f,ongoingResearch:[...f.ongoingResearch,{id:Date.now().toString(),topic:"",stage:"Data Collection",progress:0}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-green-600 hover:border-green-300 flex items-center justify-center gap-2 transition-colors",children:[o.jsx(Ft,{className:"w-5 h-5"}),"   "]})]}),V=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(Su,{className:"w-5 h-5 text-purple-600"}),"   (Scientific Activity)"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"    "}),o.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.thesesJudged,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,thesesJudged:parseInt(I.target.value)}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   (/)"}),o.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.supervisionCount,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,supervisionCount:parseInt(I.target.value)}})})]}),o.jsxs("div",{className:"col-span-1 md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  (/)"}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",rows:3,placeholder:"   ...",value:f.scientificActivity.trainingCourses,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,trainingCourses:I.target.value}})})]})]}),o.jsxs("div",{className:"mt-4 border-t pt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600",children:" "}),o.jsx("button",{onClick:()=>h({...f,scientificActivity:{...f.scientificActivity,conferences:[...f.scientificActivity.conferences,{name:"",role:"Attendance",date:"",location:""}]}}),className:"text-xs bg-purple-50 text-purple-600 px-2 py-1 rounded hover:bg-purple-100",children:"+ "})]}),f.scientificActivity.conferences.map((I,O)=>o.jsxs("div",{className:"flex gap-2 mb-2 items-center bg-gray-50 p-2 rounded",children:[o.jsx("input",{type:"text",placeholder:" ",className:"flex-1 border p-1 rounded text-sm",value:I.name,onChange:B=>{const z=[...f.scientificActivity.conferences];z[O].name=B.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:z}})}}),o.jsxs("select",{className:"w-24 border p-1 rounded text-sm",value:I.role,onChange:B=>{const z=[...f.scientificActivity.conferences];z[O].role=B.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:z}})},children:[o.jsx("option",{value:"Attendance",children:""}),o.jsx("option",{value:"Speaker",children:""}),o.jsx("option",{value:"Organizer",children:""})]}),o.jsx("button",{onClick:()=>{const B=f.scientificActivity.conferences.filter((z,me)=>me!==O);h({...f,scientificActivity:{...f.scientificActivity,conferences:B}})},className:"text-red-500",title:"",children:o.jsx(Pt,{className:"w-4 h-4"})})]},O))]})]}),M=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(oi,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:" "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.books,onChange:I=>h({...f,communityActivity:{...f.communityActivity,books:I.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.convoys,onChange:I=>h({...f,communityActivity:{...f.communityActivity,convoys:I.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.media,onChange:I=>h({...f,communityActivity:{...f.communityActivity,media:I.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.memberships,onChange:I=>h({...f,communityActivity:{...f.communityActivity,memberships:I.target.value}})})]})]});if(n&&t.role===je.ADMIN){if(a)return o.jsx("div",{className:"p-10 text-center",children:o.jsx(it,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})});const I=x.reduce((me,ae)=>{var G;return me+(((G=ae.publishedResearch)==null?void 0:G.length)||0)},0),O=x.reduce((me,ae)=>{var G;return me+(((G=ae.publishedResearch)==null?void 0:G.filter(re=>re.type==="International").length)||0)},0),B=x.filter(me=>me.status==="SUBMITTED").length,z=[...x].sort((me,ae)=>{var G,re;return(((G=ae.publishedResearch)==null?void 0:G.length)||0)-(((re=me.publishedResearch)==null?void 0:re.length)||0)})[0];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Wr,{className:"w-6 h-6 text-green-600"}),"  "]}),o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),o.jsx("button",{onClick:()=>r(!1),className:"bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"  "})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 no-print",children:[o.jsx(ka,{title:" ",value:`${B} / ${E.length}`,icon:Wr,color:"green"}),o.jsx(ka,{title:" ",value:I,icon:Os,color:"blue"}),o.jsx(ka,{title:" ",value:O,icon:n_,color:"purple"}),o.jsx(ka,{title:" ",value:z?z.userName.split(" ")[0]:"-",icon:Su,color:"amber"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden no-print",children:[o.jsx("div",{className:"p-4 border-b border-gray-100",children:o.jsx("h3",{className:"font-bold text-gray-700",children:"   "})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "})]})}),o.jsxs("tbody",{className:"divide-y",children:[E.map((me,ae)=>{var re,Y;const G=x.find(xe=>xe.userName===me);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:me}),o.jsx("td",{className:"p-4",children:(G==null?void 0:G.status)==="SUBMITTED"?o.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[o.jsx(Wr,{className:"w-3 h-3"}),"  "]}):G?o.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[o.jsx(Gi,{className:"w-3 h-3"}),"  "]}):o.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[o.jsx(e_,{className:"w-3 h-3"}),"  "]})}),o.jsx("td",{className:"p-4 font-mono",children:((re=G==null?void 0:G.publishedResearch)==null?void 0:re.length)||0}),o.jsx("td",{className:"p-4 font-mono",children:((Y=G==null?void 0:G.ongoingResearch)==null?void 0:Y.length)||0}),o.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:G!=null&&G.submissionDate?new Date(G.submissionDate).toLocaleDateString("ar-EG"):"-"})]},ae)}),E.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]})]})}return a?o.jsx("div",{className:"p-10 text-center",children:o.jsx(it,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(yr,{className:"w-6 h-6 text-blue-600"}),"   "]}),o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),t.role===je.ADMIN&&o.jsxs("button",{onClick:()=>r(!0),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2",children:[o.jsx(oi,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex flex-col md:flex-row justify-between items-center gap-4 no-print",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-full ${f.status==="SUBMITTED"?"bg-green-200 text-green-800":"bg-amber-200 text-amber-800"}`,children:f.status==="SUBMITTED"?o.jsx(Wr,{className:"w-5 h-5"}):o.jsx(Gi,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("p",{className:`font-bold ${f.status==="SUBMITTED"?"text-green-700":"text-amber-700"}`,children:f.status==="SUBMITTED"?"   ":"   "})]})]}),o.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:o.jsxs("button",{onClick:R,className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-900 transition-colors shadow-sm",children:[o.jsx(yg,{className:"w-4 h-4"}),"  PDF"]})})]}),o.jsx("div",{className:"bg-white rounded-t-xl border-b flex overflow-x-auto no-print custom-scrollbar",children:[{id:1,label:" ",icon:Os},{id:2,label:" ",icon:xg},{id:3,label:" ",icon:Su},{id:4,label:" ",icon:oi}].map(I=>o.jsxs("button",{onClick:()=>g(I.id),className:`flex-1 py-4 px-6 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition-all whitespace-nowrap ${p===I.id?"border-blue-600 text-blue-700 bg-blue-50":"border-transparent text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[o.jsx(I.icon,{className:`w-4 h-4 ${p===I.id?"text-blue-600":"text-gray-400"}`})," ",I.label]},I.id))}),o.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 no-print min-h-[400px]",children:[p===1&&U(),p===2&&k(),p===3&&V(),p===4&&M(),o.jsxs("div",{className:"mt-8 pt-6 border-t flex justify-end gap-3",children:[o.jsxs("button",{onClick:()=>L(!1),disabled:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2 font-medium transition-colors disabled:opacity-50",children:[o.jsx(Nn,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>L(!0),disabled:c,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50",children:[c?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(m4,{className:"w-4 h-4"}),"   "]})]})]}),o.jsxs("div",{className:"hidden print:block p-8 bg-white text-black",children:[o.jsxs("div",{className:"text-center border-b-2 border-black pb-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-1",children:"  -   "}),o.jsx("h3",{className:"text-lg font-bold mb-1",children:"  "}),o.jsxs("h1",{className:"text-3xl font-extrabold mt-4 border-2 border-black inline-block px-6 py-2",children:["  (",e,")"]})]}),o.jsxs("div",{className:"mb-8 flex justify-between text-lg",children:[o.jsxs("p",{children:[o.jsx("strong",{children:" :"})," ",t.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:" :"})," ",new Date().toLocaleDateString("ar-EG")]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),o.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.publishedResearch.length>0?f.publishedResearch.map((I,O)=>o.jsxs("li",{className:"pl-2",children:[o.jsx("span",{className:"font-bold",children:I.title}),o.jsx("br",{}),o.jsxs("span",{className:"text-gray-700 text-sm",children:[" - ",I.journal," (",I.date,") - [",I.type,"]"]})]},O)):o.jsx("p",{className:"italic text-gray-500",children:"     ."})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),o.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.ongoingResearch.length>0?f.ongoingResearch.map((I,O)=>o.jsxs("li",{className:"pl-2",children:[o.jsx("span",{className:"font-bold",children:I.topic}),o.jsx("br",{}),o.jsxs("span",{className:"text-gray-700 text-sm",children:[" -  : ",I.stage," ( : ",I.progress,"%)"]})]},O)):o.jsx("p",{className:"italic text-gray-500",children:"    ."})})]}),o.jsxs("div",{className:"mb-8 page-break-inside-avoid",children:[o.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":   "}),o.jsxs("div",{className:"grid grid-cols-2 gap-6 text-lg",children:[o.jsxs("div",{className:"border p-4",children:[o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{children:" :"})," ",f.scientificActivity.thesesJudged]}),o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{children:" :"})," ",f.scientificActivity.supervisionCount]}),o.jsx("p",{children:o.jsx("strong",{children:" :"})}),o.jsx("p",{className:"text-sm mt-1",children:f.scientificActivity.trainingCourses||" "})]}),o.jsxs("div",{className:"border p-4",children:[o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",f.scientificActivity.conferences.length>0?f.scientificActivity.conferences.map(I=>I.name).join(" "):" "]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:" :"})," ",f.communityActivity.books||" "]})]})]})]}),o.jsxs("div",{className:"mt-20 flex justify-between text-xl font-bold",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:" "}),o.jsx("p",{className:"mt-8",children:"...................."})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:"  "}),o.jsx("p",{className:"mt-8",children:"./  "})]})]})]})]})},wge=({user:t})=>{const[e,n]=N.useState("BROWSE"),[r,a]=N.useState(null),[s,c]=N.useState([]),[d,f]=N.useState([]),[h,p]=N.useState(null),[g,x]=N.useState(""),[w,E]=N.useState("ALL"),[_,j]=N.useState(!1),[C,L]=N.useState(!1),[A,D]=N.useState(!1),[R,U]=N.useState(null),[k,V]=N.useState(null),[M,I]=N.useState(null),[O,B]=N.useState(null),[z,me]=N.useState({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),[ae,G]=N.useState({title:"",vision:"",startDate:"",endDate:"",strategicGoals:""}),[re,Y]=N.useState({title:"",description:"",coordinator:""}),[xe,X]=N.useState(null),F=t.role===je.ADMIN;N.useEffect(()=>{Q()},[]);const Q=async()=>{const te=await XE();a(te);const Pe=await kpe();c(Pe.filter(Te=>Te.status==="ARCHIVED"));const pe=await Vpe();f(F?pe:pe.filter(Te=>Te.proposedById===t.id))},K=te=>{te?(I(te.id),Y({title:te.title,description:te.description,coordinator:te.coordinator})):(I(null),Y({title:"",description:"",coordinator:""})),D(!0)},J=async te=>{if(te.preventDefault(),!!r)try{let Pe=[...r.axes];if(M)Pe=Pe.map(pe=>pe.id===M?{...pe,...re}:pe),await Ae("  ",t.name,` : ${re.title}`);else{const pe={id:`axis-${Date.now()}`,title:re.title,description:re.description,coordinator:re.coordinator,topics:[]};Pe.push(pe),await Ae("  ",t.name,` : ${re.title}`)}await $l(r.id,{axes:Pe}),D(!1),Q(),alert("     ")}catch(Pe){console.error(Pe),alert("  ")}},he=async(te,Pe)=>{if(!(!r||!F)&&window.confirm(`      "${Pe}"    `))try{const pe=r.axes.filter(Te=>Te.id!==te);await $l(r.id,{axes:pe}),await Ae("  ",t.name,` : ${Pe}`),Q(),alert("   ")}catch{alert(" ")}},Se=async te=>{if(te.preventDefault(),!r||!O)return;const Pe=r.axes.map(pe=>pe.id===O.axisId?{...pe,topics:pe.topics.map(Te=>Te.id===O.topic.id?O.topic:Te)}:pe);try{await $l(r.id,{axes:Pe}),await Ae("  ",t.name,` : ${O.topic.title}`),B(null),Q(),alert("  ")}catch{alert(" ")}},Oe=async(te,Pe,pe)=>{if(!(!r||!F)&&window.confirm("         "))try{const Te=r.axes.map(tt=>tt.id===te?{...tt,topics:tt.topics.filter(st=>st.id!==Pe)}:tt);await $l(r.id,{axes:Te}),await Ae("   ",t.name,`  : ${pe}`),Q()}catch{alert("  ")}},He=async(te,Pe,pe)=>{if(r){if(t.role!==je.STUDENT_PG&&t.role!==je.STAFF&&!F){alert("      .");return}if(window.confirm(`      : "${pe}"`))try{const Te=r.axes.map(tt=>tt.id===te?{...tt,topics:tt.topics.map(st=>st.id===Pe?{...st,status:"IN_PROGRESS",studentName:`${t.name} ( )`}:st)}:tt);await $l(r.id,{axes:Te}),await Ae("   ",t.name,`  : ${pe}`),Q(),alert("         .")}catch{alert("  ")}}},ce=async(te,Pe,pe,Te)=>{const tt=prompt("  ():");if(tt!==null)try{if(await Bpe(te,pe,tt||""),pe==="APPROVED"&&Te&&r){const st={id:`topic-${Date.now()}`,title:Te.title,goal:Te.appliedGoal,status:"AVAILABLE",studentName:Te.studentName||""};Te.studentName&&(st.status="IN_PROGRESS");let En=[...r.axes];if(Te.axisId==="NEW"){const Lr={id:`axis-${Date.now()}`,title:Te.newAxisName||" ",description:Te.justification,coordinator:Te.proposedBy,topics:[st]};En.push(Lr)}else En=En.map(Lr=>Lr.id===Te.axisId?{...Lr,topics:[...Lr.topics,st]}:Lr);await $l(r.id,{axes:En}),await Ae("  ",t.name,`    : ${Pe}`)}await Ae("  ",t.name,` ${pe} : ${Pe}`),Q(),alert("   .")}catch(st){console.error(st),alert("     (  )")}},Be=()=>{U(null),me({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),j(!0)},ee=te=>{U(te.id),me({title:te.title,axisId:te.axisId,newAxisName:te.newAxisName||"",type:te.type,justification:te.justification,appliedGoal:te.appliedGoal,studentName:te.studentName||"",hasStudent:!!te.studentName}),j(!0)},fe=async(te,Pe)=>{if(window.confirm("      "))try{await un(qe(ye,"research_proposals",te)),await Ae("  ",t.name,`  : ${Pe}`),Q(),alert("  ")}catch(pe){console.error(pe),alert(" ")}},Je=async te=>{te.preventDefault();try{const Pe={title:z.title,axisId:z.axisId,newAxisName:z.axisId==="NEW"&&z.newAxisName||"",type:z.type,justification:z.justification,appliedGoal:z.appliedGoal,studentName:z.hasStudent&&z.studentName||"",proposedBy:t.name,proposedById:t.id,status:"PENDING"};R?(await zt(qe(ye,"research_proposals",R),Pe),await Ae("  ",t.name,`  : ${z.title}`)):(await zpe(Pe),await Ae("  ",t.name,`   : ${z.title}`)),j(!1),Q(),alert(R?"   ":"     ")}catch(Pe){console.error(Pe),alert("   .         .")}},Ge=te=>{if(!r||te.length<5){X(null);return}let Pe=!1;r.axes.forEach(pe=>{pe.topics.forEach(Te=>{(Te.title.includes(te)||te.includes(Te.title))&&(X(` :     "${Te.title}"`),Pe=!0)})}),Pe||X(null)},Et=te=>{if(te)V(te.id),G({title:te.title,vision:te.vision,startDate:te.startDate,endDate:te.endDate,strategicGoals:te.strategicGoals.join(", ")});else{V(null);const Pe=new Date().getFullYear();G({title:`   ${Pe}-${Pe+5}`,vision:"",startDate:`${Pe}-01-01`,endDate:`${Pe+5}-12-31`,strategicGoals:"  2030,  "})}L(!0)},Ee=async te=>{te.preventDefault();const Pe={title:ae.title,vision:ae.vision,startDate:ae.startDate,endDate:ae.endDate,strategicGoals:ae.strategicGoals.split(",").map(pe=>pe.trim()),status:"ACTIVE",axes:k&&r?r.axes:[]};try{k?await $l(k,Pe):await Mpe(Pe),L(!1),Q()}catch{alert("")}},ut=async()=>{r&&window.confirm(":   ")&&(await Lpe(r.id),Q())},ge=()=>o.jsxs("div",{className:"bg-gradient-to-r from-green-800 to-green-600 text-white p-6 rounded-2xl mb-6 shadow-lg relative overflow-hidden",children:[o.jsx("div",{className:"relative z-10",children:r?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),o.jsx("p",{className:"text-green-100 text-lg max-w-3xl leading-relaxed opacity-90",children:r.vision})]}),o.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[o.jsxs("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-sm font-bold backdrop-blur-sm border border-white/30",children:["   (",r.startDate.split("-")[0]," - ",r.endDate.split("-")[0],")"]}),F&&o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsxs("button",{onClick:()=>Et(r),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[o.jsx(p4,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>Et(),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[o.jsx(Ft,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:ut,className:"bg-red-500/30 hover:bg-red-500/50 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[o.jsx(ht,{className:"w-4 h-4"})," "]})]})]})]}),o.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:r.strategicGoals.map((te,Pe)=>o.jsxs("span",{className:"bg-green-900/40 px-3 py-1 rounded-full text-sm flex items-center gap-1 border border-green-700/50",children:[o.jsx(eg,{className:"w-3 h-3 text-green-300"})," ",te]},Pe))})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),F&&o.jsxs("button",{onClick:()=>Et(),className:"bg-white text-green-800 px-6 py-3 rounded-xl font-bold hover:bg-green-50 transition shadow-lg flex items-center gap-2 mx-auto",children:[o.jsx(Ft,{className:"w-5 h-5"}),"    "]})]})}),o.jsx(eg,{className:"absolute -bottom-10 -left-10 w-64 h-64 text-white/5 rotate-12"})]}),We=()=>o.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[F&&r&&o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs("button",{onClick:()=>K(),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold hover:bg-green-700",children:[o.jsx(Ft,{className:"w-4 h-4"}),"   "]})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Mu,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:g,onChange:te=>x(te.target.value)})]}),o.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50",value:w,onChange:te=>E(te.target.value),children:[o.jsx("option",{value:"ALL",children:" "}),o.jsx("option",{value:"AVAILABLE",children:" "}),o.jsx("option",{value:"IN_PROGRESS",children:"  "}),o.jsx("option",{value:"COMPLETED",children:" "})]})]}),o.jsx("div",{className:"space-y-4",children:r==null?void 0:r.axes.map(te=>{const Pe=te.topics.filter(Te=>(w==="ALL"||Te.status===w)&&Te.title.toLowerCase().includes(g.toLowerCase()));if(Pe.length===0&&g)return null;const pe=Math.round(te.topics.filter(Te=>Te.status==="COMPLETED").length/te.topics.length*100)||0;return o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-4 bg-gray-50 flex justify-between items-center cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>p(h===te.id?null:te.id),children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[h===te.id?o.jsx(ZN,{className:"w-5 h-5"}):o.jsx(JN,{className:"w-5 h-5"}),te.title]}),o.jsxs("p",{className:"text-sm text-gray-500 mr-7",children:[" : ",te.coordinator]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-center hidden md:block",children:[o.jsx("div",{className:"text-xs text-gray-500",children:" "}),o.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full mt-1 overflow-hidden",children:o.jsx("div",{className:"h-full bg-green-500",style:{width:`${pe}%`}})})]}),o.jsxs("span",{className:"bg-white border px-2 py-1 rounded text-sm font-mono",children:[Pe.length," "]})]})]}),h===te.id&&o.jsxs("div",{className:"p-4 border-t border-gray-100",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("p",{className:"text-gray-600 bg-blue-50 p-3 rounded border-r-4 border-blue-400 text-sm flex-1",children:[" ",te.description]}),F&&o.jsxs("div",{className:"flex gap-2 mr-2",children:[o.jsx("button",{onClick:()=>K(te),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",title:" ",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>he(te.id,te.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:" ",children:o.jsx(ht,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"grid gap-3",children:[Pe.map(Te=>o.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-bold text-gray-800",children:Te.title}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${Te.status==="AVAILABLE"?"bg-green-100 text-green-700":Te.status==="IN_PROGRESS"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:Te.status==="AVAILABLE"?" ":Te.status==="IN_PROGRESS"?" ":" "})]}),o.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[o.jsx(eg,{className:"w-3 h-3"})," : ",Te.goal]}),Te.studentName&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[o.jsx(r_,{className:"w-3 h-3"}),"  : ",Te.studentName]})]}),o.jsx("div",{className:"flex items-center gap-2",children:F?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>B({axisId:te.id,topic:Te}),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Oe(te.id,Te.id,Te.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]}):Te.status==="AVAILABLE"&&o.jsx("button",{onClick:()=>He(te.id,Te.id,Te.title),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 shadow-sm",children:"  "})})]},Te.id)),Pe.length===0&&o.jsx("p",{className:"text-center text-gray-400 py-4",children:"        ."})]})]})]},te.id)})}),A&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg",children:M?" ":"  "}),o.jsx("button",{onClick:()=>D(!1),children:o.jsx(Pt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:J,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:re.title,onChange:te=>Y({...re,title:te.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("textarea",{required:!0,className:"w-full border p-2 rounded",rows:3,value:re.description,onChange:te=>Y({...re,description:te.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded",value:re.coordinator,onChange:te=>Y({...re,coordinator:te.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 bg-gray-100 rounded text-sm",children:""}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded text-sm",children:""})]})]})]})}),O&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg",children:"  "}),o.jsx("button",{onClick:()=>B(null),children:o.jsx(Pt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:Se,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:O.topic.title,onChange:te=>B({...O,topic:{...O.topic,title:te.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:O.topic.goal,onChange:te=>B({...O,topic:{...O.topic,goal:te.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ( )"}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded",placeholder:"    ",value:O.topic.studentName||"",onChange:te=>B({...O,topic:{...O.topic,studentName:te.target.value||void 0}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded",value:O.topic.status,onChange:te=>B({...O,topic:{...O.topic,status:te.target.value}}),children:[o.jsx("option",{value:"AVAILABLE",children:""}),o.jsx("option",{value:"IN_PROGRESS",children:" "}),o.jsx("option",{value:"COMPLETED",children:""})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>B(null),className:"px-4 py-2 bg-gray-100 rounded text-sm",children:""}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded text-sm",children:" "})]})]})]})})]}),Ye=()=>o.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[r&&o.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"   "}),o.jsx("p",{className:"text-purple-700 text-sm",children:"          ."})]}),o.jsxs("button",{onClick:Be,className:"bg-purple-700 hover:bg-purple-800 text-white px-6 py-3 rounded-xl shadow-md flex items-center gap-2 font-bold transition-transform hover:scale-105",children:[o.jsx(Ft,{className:"w-5 h-5"}),"    "]})]}),o.jsxs("h3",{className:"font-bold text-gray-700 border-b pb-2 flex justify-between",children:["  ",F&&o.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[d.filter(te=>te.status==="PENDING").length,"  "]})]}),o.jsxs("div",{className:"space-y-3",children:[d.length===0&&o.jsx("p",{className:"text-center text-gray-400 py-8",children:"   "}),d.map(te=>{var Pe;return o.jsxs("div",{className:"bg-white border p-4 rounded-lg shadow-sm flex flex-col md:flex-row justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-bold text-lg",children:te.title}),o.jsx("span",{className:`text-xs px-2 py-1 rounded font-bold ${te.status==="PENDING"?"bg-amber-100 text-amber-800":te.status==="APPROVED"?"bg-green-100 text-green-800":te.status==="REJECTED"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:te.status==="PENDING"?" ":te.status==="APPROVED"?" ":te.status==="REJECTED"?"":" "})]}),o.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[o.jsx("strong",{children:" :"})," ",te.proposedBy," |",o.jsx("strong",{children:" :"})," ",te.axisId==="NEW"?`  (${te.newAxisName})`:((Pe=r==null?void 0:r.axes.find(pe=>pe.id===te.axisId))==null?void 0:Pe.title)||" "]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[o.jsx("strong",{children:":"})," ",te.justification]}),te.adminNotes&&o.jsxs("p",{className:"text-sm text-red-600 mt-2 bg-red-50 p-2 rounded",children:["  : ",te.adminNotes]})]}),o.jsxs("div",{className:"flex flex-col gap-2 min-w-[120px] justify-center",children:[F&&te.status==="PENDING"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>ce(te.id,te.title,"APPROVED",te),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:" "}),o.jsx("button",{onClick:()=>ce(te.id,te.title,"MODIFICATION_REQUESTED",te),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"  "}),o.jsx("button",{onClick:()=>ce(te.id,te.title,"REJECTED",te),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:" "})]}):te.proposedById===t.id&&(te.status==="PENDING"||te.status==="MODIFICATION_REQUESTED")&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>ee(te),className:"text-blue-500 hover:bg-blue-50 p-2 rounded flex items-center gap-1 text-sm font-bold border border-blue-200",children:[o.jsx(Gn,{className:"w-4 h-4"}),"   "]}),o.jsx("button",{onClick:()=>fe(te.id,te.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:o.jsx(ht,{className:"w-4 h-4"})})]}),F&&te.status!=="PENDING"&&o.jsxs("button",{onClick:()=>fe(te.id,te.title),className:"text-gray-400 hover:text-red-500 p-1 text-xs flex items-center justify-end gap-1 mt-2",children:[o.jsx(ht,{className:"w-3 h-3"}),"   "]})]})]},te.id)})]})]}),St=()=>o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(P2,{className:"w-5 h-5"}),"    "]}),s.length===0?o.jsx("p",{className:"text-center text-gray-400 py-12 border-2 border-dashed rounded-xl",children:"   "}):s.map(te=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 rounded-xl",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-bold text-gray-800",children:te.title}),o.jsxs("p",{className:"text-gray-500 text-sm",children:[te.startDate," - ",te.endDate]})]}),o.jsx("span",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-bold",children:""})]}),o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",te.vision]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:" :"})," ",te.axes.length]})]})]},te.id))]}),na=()=>{if(!r)return o.jsx("p",{className:"text-center p-8",children:"     ."});const te=r.axes.reduce((tt,st)=>tt+st.topics.length,0),Pe=r.axes.reduce((tt,st)=>tt+st.topics.filter(En=>En.status==="COMPLETED").length,0),pe=r.axes.map(tt=>({name:tt.title.split(" ").slice(0,3).join(" ")+"...",value:tt.topics.length})),Te=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return o.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-center border border-blue-100",children:[o.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:te}),o.jsx("p",{className:"text-sm text-blue-500",children:"  "})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-xl text-center border border-green-100",children:[o.jsx("h3",{className:"text-2xl font-bold text-green-700",children:Pe}),o.jsx("p",{className:"text-sm text-green-500",children:"  ()"})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl text-center border border-purple-100",children:[o.jsxs("h3",{className:"text-2xl font-bold text-purple-700",children:[te>0?Math.round(Pe/te*100):0,"%"]}),o.jsx("p",{className:"text-sm text-purple-500",children:"  "})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border h-80",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"   "}),o.jsx(Vk,{width:"100%",height:"90%",children:o.jsxs(Sie,{children:[o.jsx(V6,{data:pe,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:pe.map((tt,st)=>o.jsx(Vh,{fill:Te[st%Te.length]},`cell-${st}`))}),o.jsx(p6,{})]})})]})})]})};return o.jsxs("div",{className:"space-y-6",children:[ge(),o.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[o.jsxs("button",{onClick:()=>n("BROWSE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="BROWSE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Mu,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>n("PROPOSALS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="PROPOSALS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(yr,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>n("ANALYTICS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ANALYTICS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Q9,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>n("ARCHIVE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ARCHIVE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(P2,{className:"w-4 h-4"})," "]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="BROWSE"&&We(),e==="PROPOSALS"&&Ye(),e==="ANALYTICS"&&na(),e==="ARCHIVE"&&St()]}),C&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 shadow-2xl animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:k?"  ":"   "}),o.jsx("button",{onClick:()=>L(!1),children:o.jsx(Pt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[k===null&&o.jsx("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200 text-sm text-yellow-800 mb-4",children:" :         ."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:ae.title,onChange:te=>G({...ae,title:te.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("textarea",{required:!0,className:"w-full border p-2 rounded",rows:3,value:ae.vision,onChange:te=>G({...ae,vision:te.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:ae.startDate,onChange:te=>G({...ae,startDate:te.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:ae.endDate,onChange:te=>G({...ae,endDate:te.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:"  (  )"}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:ae.strategicGoals,onChange:te=>G({...ae,strategicGoals:te.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>L(!1),className:"px-4 py-2 text-gray-600",children:""}),o.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded font-bold hover:bg-green-700",children:" "})]})]})]})}),_&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:R?"  ":"   "}),o.jsx("button",{onClick:()=>j(!1),children:o.jsx(Pt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("form",{onSubmit:Je,className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:["   ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"   ...",value:z.title,onChange:te=>{me({...z,title:te.target.value}),Ge(te.target.value)}}),xe&&o.jsxs("div",{className:"mt-2 bg-amber-50 text-amber-800 p-3 rounded-lg text-sm border border-amber-200 flex items-start gap-2",children:[o.jsx(e_,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:xe})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:z.axisId,onChange:te=>me({...z,axisId:te.target.value}),children:[o.jsx("option",{value:"",children:"--   --"}),r&&r.axes.map(te=>o.jsx("option",{value:te.id,children:te.title},te.id)),o.jsx("option",{value:"NEW",children:"   / "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:z.type,onChange:te=>me({...z,type:te.target.value}),children:[o.jsx("option",{value:"MSc",children:""}),o.jsx("option",{value:"PhD",children:""})]})]}),z.axisId==="NEW"&&o.jsxs("div",{className:"col-span-2 animate-in fade-in",children:[o.jsx("label",{className:"block text-sm font-bold text-purple-700 mb-1",children:"   "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg border-purple-300 focus:ring-2 focus:ring-purple-500 outline-none bg-purple-50",placeholder:"   ...",value:z.newAxisName,onChange:te=>me({...z,newAxisName:te.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("textarea",{required:!0,rows:3,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"     ",value:z.justification,onChange:te=>me({...z,justification:te.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg",placeholder:"     ",value:z.appliedGoal,onChange:te=>me({...z,appliedGoal:te.target.value})})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"hasStudent",className:"w-5 h-5 accent-purple-600",checked:z.hasStudent,onChange:te=>me({...z,hasStudent:te.target.checked})}),o.jsx("label",{htmlFor:"hasStudent",className:"font-bold text-gray-700",children:"   "})]}),z.hasStudent&&o.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-white",placeholder:"  ...",value:z.studentName,onChange:te=>me({...z,studentName:te.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),o.jsxs("button",{type:"submit",className:"bg-purple-700 text-white px-8 py-2 rounded-lg hover:bg-purple-800 font-bold shadow-md flex items-center gap-2",children:[o.jsx(m4,{className:"w-4 h-4"})," ",R?" ":" "]})]})]})]})})]})},Nge=({user:t})=>{const[e,n]=N.useState("DASHBOARD"),[r,a]=N.useState([]),[s,c]=N.useState([]),[d,f]=N.useState([]),[h,p]=N.useState(!0),[g,x]=N.useState(!1),[w,E]=N.useState(null),[_,j]=N.useState({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),[C,L]=N.useState([]),[A,D]=N.useState(!1),[R,U]=N.useState(null),[k,V]=N.useState(null),[M,I]=N.useState("");N.useEffect(()=>{O()},[]);const O=async()=>{p(!0);try{const[K,J,he]=await Promise.all([Fpe(t.id),qpe(t.id),av()]);a(K),c(J),f(he.filter(Se=>Se.id!==t.id))}catch(K){console.error("Error fetching data:",K)}p(!1)},B=()=>{if(!_.startDate||!_.endDate)return 0;const K=new Date(_.startDate),he=new Date(_.endDate).getTime()-K.getTime();return Math.ceil(he/(1e3*3600*24))+1},z=K=>{switch(K){case"CASUAL":return" ";case"ANNUAL":return" ";case"SICK":return" ";case"SCIENTIFIC":return"  / ";case"SPOUSE":return" /";case"CHILD_CARE":return" ";case"HAJJ":return" / ";default:return K}},me=()=>{x(!1),E(null),j({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),L([]),n("NEW")},ae=K=>{if(K.status==="APPROVED"||K.status==="REJECTED"){alert("    ");return}x(!0),E(K.id),j({type:K.type,startDate:K.startDate,endDate:K.endDate,substituteId:K.substituteId||"",address:K.address||"",phone:K.phone||"",hospital:K.hospital||"",conferenceName:K.conferenceName||"",conferenceLocation:K.conferenceLocation||"",spouseName:K.spouseName||"",spouseJob:K.spouseJob||"",country:K.country||""}),L([]),n("NEW")},G=async(K,J)=>{if(window.confirm("      "))try{await un(qe(ye,"leave_requests",K)),await Ae("  ",t.name,`   ${z(J)}`),O()}catch{alert(" ")}},re=async K=>{var he;K.preventDefault();const J=B();if(J<=0){alert("      ");return}if(_.type==="CASUAL"&&!g){const Se=r.filter(Oe=>Oe.type==="CASUAL"&&Oe.status==="APPROVED").reduce((Oe,He)=>Oe+He.daysCount,0);if(Se+J>7){alert(`     (${7-Se} )  .`);return}}D(!0);try{const Se=[];for(const ce of C){const Be=await ul(ce);Se.push(Be)}const Oe=(he=d.find(ce=>ce.id===_.substituteId))==null?void 0:he.name,He={userId:t.id,userName:t.name,type:_.type,startDate:_.startDate,endDate:_.endDate,daysCount:J,substituteId:_.substituteId,substituteName:Oe,address:_.address,phone:_.phone,hospital:_.hospital,conferenceName:_.conferenceName,conferenceLocation:_.conferenceLocation,spouseName:_.spouseName,spouseJob:_.spouseJob,country:_.country,...Se.length>0&&{documentsUrls:Se,medicalReportUrl:Se[0]}};g&&w?(await zt(qe(ye,"leave_requests",w),He),await Ae("  ",t.name,`   ${z(_.type)}`),alert("   ")):(await $pe(He),await Ae(" ",t.name,`  ${z(_.type)}  ${J} `),alert("   ")),n("HISTORY"),O()}catch(Se){console.error(Se),alert("   ")}finally{D(!1)}},Y=async K=>{if(R)try{await Hpe(R.id,K,M),await Ae("  ",t.name,`${K?"":""}   ${R.userName}`),alert("  "),U(null),V(null),O()}catch{alert(" ")}},xe=()=>{const K=r.filter(he=>he.type==="CASUAL"&&he.status==="APPROVED").reduce((he,Se)=>he+Se.daysCount,0),J=r.filter(he=>he.status.includes("PENDING")).length;return o.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-orange-50 p-6 rounded-xl border border-orange-100",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-orange-600 font-bold text-sm",children:" "}),o.jsxs("h3",{className:"text-3xl font-bold text-orange-800 mt-2",children:[7-K," ",o.jsx("span",{className:"text-sm text-orange-600",children:"/ 7"})]})]}),o.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:o.jsx(Gi,{className:"w-6 h-6 text-orange-600"})})]}),o.jsx("div",{className:"mt-4 w-full bg-orange-200 rounded-full h-2",children:o.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${K/7*100}%`}})})]}),o.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-600 font-bold text-sm",children:" "}),o.jsx("h3",{className:"text-3xl font-bold text-blue-800 mt-2",children:J})]}),o.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:o.jsx(yr,{className:"w-6 h-6 text-blue-600"})})]}),o.jsx("p",{className:"text-xs text-blue-500 mt-4",children:"      "})]}),o.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 cursor-pointer hover:bg-purple-100 transition-colors",onClick:()=>n("SUBSTITUTE"),children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-purple-600 font-bold text-sm",children:"  "}),o.jsx("h3",{className:"text-3xl font-bold text-purple-800 mt-2",children:s.length})]}),o.jsxs("div",{className:"p-2 bg-purple-100 rounded-full relative",children:[o.jsx(L2,{className:"w-6 h-6 text-purple-600"}),s.length>0&&o.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})]}),o.jsx("p",{className:"text-xs text-purple-500 mt-4",children:"    "})]})]}),o.jsxs("button",{onClick:me,className:"w-full py-4 bg-green-600 text-white rounded-xl font-bold text-lg shadow-md hover:bg-green-700 transition-all flex items-center justify-center gap-2",children:[o.jsx(Ft,{className:"w-6 h-6"}),"    "]})]})},X=()=>o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in slide-in-from-bottom-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsxs("h3",{className:"font-bold text-xl text-gray-800 flex items-center gap-2",children:[o.jsx(Zp,{className:"w-6 h-6 text-green-600"})," ",g?"  ":"  "]}),g&&o.jsx("button",{onClick:me,className:"text-sm text-gray-500 hover:text-red-500",children:" "})]}),o.jsxs("form",{onSubmit:re,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),o.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg outline-none focus:border-green-500 bg-white",value:_.type,onChange:K=>j({..._,type:K.target.value}),disabled:g,children:[o.jsx("option",{value:"CASUAL",children:" "}),o.jsx("option",{value:"ANNUAL",children:" "}),o.jsx("option",{value:"SICK",children:" "}),o.jsx("option",{value:"SCIENTIFIC",children:"  / "}),o.jsx("option",{value:"SPOUSE",children:" /"}),o.jsx("option",{value:"CHILD_CARE",children:" "}),o.jsx("option",{value:"HAJJ",children:" / "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:_.startDate,onChange:K=>j({..._,startDate:K.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:_.endDate,onChange:K=>j({..._,endDate:K.target.value})}),B()>0&&o.jsxs("p",{className:"text-xs text-green-600 mt-1 font-bold",children:[": ",B()," "]})]})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[o.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[o.jsx(L2,{className:"w-4 h-4"}),"   ( )"]}),o.jsxs("select",{className:"w-full p-3 border border-purple-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:_.substituteId,onChange:K=>j({..._,substituteId:K.target.value}),required:_.type!=="CHILD_CARE"&&_.type!=="SPOUSE",children:[o.jsx("option",{value:"",children:"--   --"}),d.map(K=>o.jsxs("option",{value:K.id,children:[K.name," (",K.rank,")"]},K.id))]}),o.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"*        ."})]}),(_.type==="CASUAL"||_.type==="ANNUAL"||_.type==="HAJJ")&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:_.address,onChange:K=>j({..._,address:K.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"tel",required:!0,className:"w-full p-2 border rounded-lg",value:_.phone,onChange:K=>j({..._,phone:K.target.value})})]})]}),_.type==="SICK"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:" /  / ",required:!0,className:"w-full p-2 border rounded-lg",value:_.hospital,onChange:K=>j({..._,hospital:K.target.value})})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[o.jsx("input",{type:"file",className:"hidden",id:"med-report",onChange:K=>L(Array.from(K.target.files||[]))}),o.jsxs("label",{htmlFor:"med-report",className:"cursor-pointer flex flex-col items-center gap-2",children:[o.jsx(hB,{className:"w-8 h-8 text-red-500"}),o.jsx("span",{className:"text-sm font-bold text-gray-600",children:"   (/PDF)"}),C.length>0&&o.jsx("span",{className:"text-xs text-green-600",children:C[0].name})]})]})]}),_.type==="SCIENTIFIC"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  / "}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:_.conferenceName,onChange:K=>j({..._,conferenceName:K.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:_.conferenceLocation,onChange:K=>j({..._,conferenceLocation:K.target.value})})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-2 rounded-lg text-center flex items-center justify-center",children:[o.jsx("input",{type:"file",className:"hidden",id:"conf-invite",onChange:K=>L(Array.from(K.target.files||[]))}),o.jsx("label",{htmlFor:"conf-invite",className:"cursor-pointer text-sm text-blue-600 hover:underline",children:C.length>0?C[0].name:"  "})]})]}),_.type==="SPOUSE"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in bg-gray-50 p-4 rounded-lg",children:[o.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Ly,{className:"w-4 h-4"}),"  "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:" /",required:!0,className:"w-full p-2 border rounded-lg",value:_.spouseName,onChange:K=>j({..._,spouseName:K.target.value})}),o.jsx("input",{type:"text",placeholder:"  ",required:!0,className:"w-full p-2 border rounded-lg",value:_.foreignEntity,onChange:K=>j({..._,foreignEntity:K.target.value})}),o.jsx("input",{type:"text",placeholder:"",required:!0,className:"w-full p-2 border rounded-lg",value:_.country,onChange:K=>j({..._,country:K.target.value})})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[o.jsx("input",{type:"file",multiple:!0,className:"hidden",id:"spouse-docs",onChange:K=>L(Array.from(K.target.files||[]))}),o.jsxs("label",{htmlFor:"spouse-docs",className:"cursor-pointer flex flex-col items-center gap-1",children:[o.jsx(Er,{className:"w-6 h-6 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600",children:"  (   )"}),C.length>0&&o.jsxs("span",{className:"text-xs text-green-600",children:[C.length,"   "]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>n("DASHBOARD"),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),o.jsxs("button",{type:"submit",disabled:A,className:"px-8 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-bold flex items-center gap-2 disabled:opacity-50",children:[A?o.jsx(it,{className:"w-5 h-5 animate-spin"}):g?o.jsx(Nn,{className:"w-5 h-5"}):o.jsx(Wr,{className:"w-5 h-5"}),g?" ":" "]})]})]})]}),F=()=>o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"    "}),s.length===0&&o.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl text-gray-400",children:"   "}),o.jsx("div",{className:"grid gap-4",children:s.map(K=>o.jsxs("div",{className:"bg-white border-l-4 border-purple-500 shadow-sm rounded-r-xl p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full font-bold",children:" "}),o.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:K.userName})]}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["   ",o.jsx("span",{className:"font-bold",children:z(K.type)})]}),o.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500 font-mono",children:[o.jsxs("span",{children:[": ",K.startDate]}),o.jsxs("span",{children:[": ",K.endDate]}),o.jsxs("span",{children:["(",K.daysCount," )"]})]})]}),o.jsx("button",{onClick:()=>{U(K),V(null)},className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-bold shadow-md",children:"   "})]},K.id))}),R&&o.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[o.jsxs("div",{className:"bg-purple-50 p-6 border-b border-purple-100",children:[o.jsx("h3",{className:"text-xl font-bold text-purple-900",children:"  "}),o.jsxs("p",{className:"text-purple-700 text-sm mt-1",children:["   / ",R.userName]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[o.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[o.jsx(Zp,{className:"w-4 h-4"}),"    "]}),o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"text-gray-500 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""})]})}),o.jsxs("tbody",{className:"font-medium text-gray-800",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"py-2",children:""}),o.jsx("td",{children:"10:00 - 12:00"}),o.jsx("td",{children:" ()"}),o.jsx("td",{children:" "})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"py-2",children:""}),o.jsx("td",{children:"02:00 - 04:00"}),o.jsx("td",{children:" ()"}),o.jsx("td",{children:" 3"})]})]})]}),o.jsx("div",{className:"mt-3 bg-yellow-50 text-yellow-800 text-xs p-2 rounded border border-yellow-100",children:"          ."})]}),o.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-sm text-gray-700 leading-relaxed border-r-4 border-gray-400",children:['"  / ',o.jsx("strong",{children:t.name}),"                 / ",o.jsx("strong",{children:R.userName}),'      ."']}),k?k==="ACCEPT"?o.jsxs("div",{className:"text-center space-y-4 animate-in fade-in",children:[o.jsx(Wr,{className:"w-16 h-16 text-green-500 mx-auto"}),o.jsx("p",{className:"font-bold text-lg text-green-800",children:" !"}),o.jsx("button",{onClick:()=>Y(!0),className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold",children:"  "})]}):o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  ()"}),o.jsx("textarea",{className:"w-full border p-3 rounded-lg",placeholder:":   ...",value:M,onChange:K=>I(K.target.value)}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>V(null),className:"px-4 text-gray-500",children:""}),o.jsx("button",{onClick:()=>Y(!1),className:"flex-1 bg-red-600 text-white py-2 rounded-lg font-bold",children:" "})]})]}):o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{onClick:()=>V("DECLINE"),className:"flex-1 py-3 border-2 border-red-100 text-red-600 rounded-xl font-bold hover:bg-red-50",children:""}),o.jsx("button",{onClick:()=>V("ACCEPT"),className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 shadow-md",children:" "})]})]}),o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("button",{onClick:()=>U(null),children:o.jsx(Pt,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})})]})})]}),Q=()=>o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[r.map(K=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:z(K.type)}),o.jsx("td",{className:"p-4",children:K.startDate}),o.jsx("td",{className:"p-4",children:K.endDate}),o.jsx("td",{className:"p-4 text-gray-600",children:K.substituteName||"-"}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${K.status==="APPROVED"?"bg-green-100 text-green-700":K.status==="REJECTED"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:K.status==="APPROVED"?"":K.status==="PENDING_SUBSTITUTE"?" ":K.status==="PENDING_HEAD"?" ":""})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[(K.status==="PENDING_SUBSTITUTE"||K.status==="PENDING_HEAD")&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>ae(K),className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded",title:" ",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>G(K.id,K.type),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:" ",children:o.jsx(ht,{className:"w-4 h-4"})})]}),K.status==="APPROVED"&&o.jsxs("button",{onClick:()=>window.print(),className:"text-green-600 hover:underline flex items-center gap-1",children:[o.jsx(yr,{className:"w-3 h-3"})," "]})]})]},K.id)),r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Zp,{className:"w-8 h-8 text-green-600"}),"  "]})}),o.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[o.jsx("button",{onClick:()=>n("DASHBOARD"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="DASHBOARD"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "}),o.jsx("button",{onClick:me,className:`px-6 py-4 font-bold text-sm transition-colors ${e==="NEW"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "}),o.jsxs("button",{onClick:()=>n("SUBSTITUTE"),className:`px-6 py-4 font-bold text-sm transition-colors flex items-center gap-2 ${e==="SUBSTITUTE"?"text-purple-700 border-b-2 border-purple-700 bg-purple-50":"text-gray-500 hover:text-purple-600"}`,children:["  ",s.length>0&&o.jsx("span",{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:s.length})]}),o.jsx("button",{onClick:()=>n("HISTORY"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="HISTORY"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "})]}),o.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="DASHBOARD"&&xe(),e==="NEW"&&X(),e==="SUBSTITUTE"&&F(),e==="HISTORY"&&Q()]})]})},_ge=({user:t})=>{const[e,n]=N.useState("LOAN"),[r,a]=N.useState([]),[s,c]=N.useState(!0),[d,f]=N.useState(!1),[h,p]=N.useState(0),g=t.role===je.ADMIN,[x,w]=N.useState("MY_REQUESTS"),[E,_]=N.useState(!1),[j,C]=N.useState(null),[L,A]=N.useState({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),[D,R]=N.useState({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),[U,k]=N.useState({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"}),[V,M]=N.useState([]);N.useEffect(()=>{I()},[x]);const I=async()=>{c(!0);try{g&&x==="ALL_REQUESTS"?a(await Kpe()):(a(await Gpe(t.id)),(!g||x==="MY_REQUESTS")&&p(await Wpe(t.id)))}catch(Y){console.error("Error fetching data:",Y)}c(!1)},O=Y=>{M([]),Y?(C(Y.id),Y.type==="LOAN"?(A({...Y}),n("LOAN")):Y.type==="SECONDMENT"?(R({...Y}),n("SECONDMENT")):(k({...Y}),n("TRANSFER"))):(C(null),A({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),R({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),k({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"})),_(!0)},B=async(Y,xe)=>{if(window.confirm("      "))try{await un(qe(ye,"career_requests",Y)),await Ae("  /",t.name,`   ${xe}`),I()}catch{alert(" ")}},z=async(Y,xe,X)=>{try{await Ype(Y,xe),await Ae("  ",t.name,`    ${X}  ${xe}`),I()}catch{alert("  ")}},me=async Y=>{try{return await ul(Y)}catch(xe){return alert("  : "+xe.message),null}},ae=async Y=>{Y.preventDefault(),f(!0);try{if(e==="LOAN"){if(h>=10&&!j){alert("      (10 )."),f(!1);return}let xe;if(V.length>0){const F=await me(V[0]);F&&(xe=F)}const X={userId:t.id,userName:t.name,type:"LOAN",...L,...xe&&{nominationLetterUrl:xe},status:j?void 0:"PENDING_DEPT"};if(j){const F={...X};delete F.status,xe||delete F.nominationLetterUrl,await zt(qe(ye,"career_requests",j),F),await Ae("  ",t.name,`    ${L.country}`)}else await c1(X),await Ae(" ",t.name,`    ${L.country}`)}else if(e==="SECONDMENT"){const xe={userId:t.id,userName:t.name,type:"SECONDMENT",...D,status:j?void 0:"PENDING_DEPT"};if(j){const X={...xe};delete X.status,await zt(qe(ye,"career_requests",j),X),await Ae("  ",t.name,`    ${D.targetInstitution}`)}else await c1(xe),await Ae(" ",t.name,`   ${D.targetInstitution}`)}else if(e==="TRANSFER"){const xe={userId:t.id,userName:t.name,type:"TRANSFER",...U,status:j?void 0:"PENDING_DEPT"};if(j){const X={...xe};delete X.status,await zt(qe(ye,"career_requests",j),X),await Ae("  ",t.name,`    ${U.targetUniversity}`)}else await c1(xe),await Ae(" ",t.name,`   ${U.targetUniversity}`)}_(!1),alert(j?"   ":"    "),I()}catch(xe){console.error(xe),alert("   ")}finally{f(!1)}},G=({status:Y})=>{const X={PENDING_DEPT:{label:" ",color:"bg-yellow-100 text-yellow-800"},PENDING_COLLEGE:{label:" ",color:"bg-orange-100 text-orange-800"},PENDING_UNIV:{label:" ",color:"bg-blue-100 text-blue-800"},APPROVED:{label:" ",color:"bg-green-100 text-green-800"},REJECTED:{label:"",color:"bg-red-100 text-red-800"}}[Y]||{label:Y,color:"bg-gray-100"};return o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${X.color}`,children:X.label})},re=({status:Y})=>{const xe=["PENDING_DEPT","PENDING_COLLEGE","PENDING_UNIV","APPROVED"],X=xe.indexOf(Y),F=Y==="REJECTED";return o.jsx("div",{className:"flex items-center gap-1 mt-2 text-[10px]",children:xe.map((Q,K)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center border 
                            ${K<=X?"bg-green-600 border-green-600 text-white":"bg-white border-gray-300 text-gray-300"}
                            ${F&&K===X+1?"bg-red-500 border-red-500":""}
                        `,children:K+1}),K<xe.length-1&&o.jsx("div",{className:`w-4 h-0.5 ${K<X?"bg-green-600":"bg-gray-200"}`})]},Q))})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Ly,{className:"w-8 h-8 text-blue-600"}),"  "]}),o.jsxs("div",{className:"flex gap-2",children:[g&&o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>w("MY_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${x==="MY_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""}),o.jsx("button",{onClick:()=>w("ALL_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${x==="ALL_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""})]}),(!g||x==="MY_REQUESTS")&&o.jsxs("button",{onClick:()=>O(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold",children:[o.jsx(Ft,{className:"w-4 h-4"}),"  "]})]})]}),!g&&o.jsxs("div",{className:`p-4 rounded-xl border flex justify-between items-center ${h>=10?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Gi,{className:`w-6 h-6 ${h>=10?"text-red-600":"text-blue-600"}`}),o.jsxs("div",{children:[o.jsx("h4",{className:`font-bold ${h>=10?"text-red-800":"text-blue-800"}`,children:"  "}),o.jsx("p",{className:"text-xs text-gray-600",children:"      10    ."})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:`text-2xl font-bold ${h>=10?"text-red-600":"text-blue-600"}`,children:h}),o.jsx("span",{className:"text-gray-500 text-xs",children:" / 10 "})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl",children:[o.jsxs("button",{onClick:()=>n("LOAN"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="LOAN"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[o.jsx(n_,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>n("SECONDMENT"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="SECONDMENT"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[o.jsx(ks,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>n("TRANSFER"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="TRANSFER"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[o.jsx(V9,{className:"w-4 h-4"})," "]})]}),o.jsx("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:s?o.jsx("div",{className:"text-center py-10",children:o.jsx(it,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):o.jsx("div",{children:r.filter(Y=>Y.type===e).length===0?o.jsxs("div",{className:"text-center py-12 text-gray-400 border-2 border-dashed rounded-xl",children:[o.jsx(ks,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),o.jsx("p",{children:"      "})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:" "}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:" / "}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:r.filter(Y=>Y.type===e).map(Y=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-3 font-bold text-gray-800",children:Y.userName}),o.jsx("td",{className:"p-3 text-xs",children:Y.type==="LOAN"?Y.loanType==="EXTERNAL"?"":"":Y.type==="SECONDMENT"?Y.secondmentType:Y.transferType}),o.jsx("td",{className:"p-3 text-gray-600",children:Y.type==="LOAN"?Y.institution:Y.type==="SECONDMENT"?Y.targetInstitution:Y.targetUniversity}),o.jsx("td",{className:"p-3 font-mono text-xs",children:Y.type!=="TRANSFER"?o.jsxs(o.Fragment,{children:[Y.startDate," ",o.jsx("br",{}),o.jsx("span",{className:"text-gray-400",children:""})," ",Y.endDate]}):"-"}),o.jsx("td",{className:"p-3",children:o.jsx(G,{status:Y.status})}),o.jsx("td",{className:"p-3",children:o.jsx(re,{status:Y.status})}),o.jsxs("td",{className:"p-3 flex items-center gap-2",children:[g&&x==="ALL_REQUESTS"&&o.jsxs("select",{className:"text-xs border rounded p-1",value:Y.status,onChange:xe=>z(Y.id,xe.target.value,Y.type),children:[o.jsx("option",{value:"PENDING_DEPT",children:" "}),o.jsx("option",{value:"PENDING_COLLEGE",children:" "}),o.jsx("option",{value:"PENDING_UNIV",children:" "}),o.jsx("option",{value:"APPROVED",children:""}),o.jsx("option",{value:"REJECTED",children:""})]}),(g||Y.userId===t.id)&&Y.status.startsWith("PENDING")&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>O(Y),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>B(Y.id,Y.type),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:o.jsx(ht,{className:"w-4 h-4"})})]})]})]},Y.id))})]})})})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?" ":`  ${e==="LOAN"?"":e==="SECONDMENT"?"":""} `}),o.jsx("button",{onClick:()=>_(!1),children:o.jsx(Pt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("div",{className:"p-6",children:[e==="LOAN"&&o.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:L.loanType,onChange:Y=>A({...L,loanType:Y.target.value}),children:[o.jsx("option",{value:"EXTERNAL",children:" "}),o.jsx("option",{value:"INTERNAL",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:L.requestType,onChange:Y=>A({...L,requestType:Y.target.value}),children:[o.jsx("option",{value:"NEW",children:" "}),o.jsx("option",{value:"RENEWAL",children:" "})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.country,onChange:Y=>A({...L,country:Y.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.institution,onChange:Y=>A({...L,institution:Y.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.college,onChange:Y=>A({...L,college:Y.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:L.startDate,onChange:Y=>A({...L,startDate:Y.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:L.endDate,onChange:Y=>A({...L,endDate:Y.target.value})})]}),o.jsxs("div",{className:"col-span-2 border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[o.jsx("input",{type:"file",className:"hidden",id:"loan-file",onChange:Y=>M(Array.from(Y.target.files||[]))}),o.jsxs("label",{htmlFor:"loan-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[o.jsx(Er,{className:"w-8 h-8 text-blue-500"}),o.jsx("span",{className:"text-sm font-bold text-gray-600",children:L.requestType==="NEW"?"  ":"   "}),V.length>0&&o.jsx("span",{className:"text-xs text-green-600",children:V[0].name})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-gray-600",children:""}),o.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&o.jsx(it,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="SECONDMENT"&&o.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:D.secondmentType,onChange:Y=>R({...D,secondmentType:Y.target.value}),children:[o.jsx("option",{value:"FULL_TIME",children:"  ( )"}),o.jsx("option",{value:"PART_TIME",children:"  ( )"}),o.jsx("option",{value:"OFF_HOURS",children:"  "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:D.targetInstitution,onChange:Y=>R({...D,targetInstitution:Y.target.value})})]}),D.secondmentType==="PART_TIME"&&o.jsxs("div",{className:"col-span-2 bg-blue-50 p-3 rounded border border-blue-100",children:[o.jsx("label",{className:"block text-sm font-bold mb-2 text-blue-800",children:"  "}),o.jsx("div",{className:"flex gap-4 flex-wrap",children:["","","","","",""].map(Y=>{var xe;return o.jsxs("label",{className:"flex items-center gap-1 text-sm bg-white px-2 py-1 rounded border",children:[o.jsx("input",{type:"checkbox",checked:(xe=D.secondmentDays)==null?void 0:xe.includes(Y),onChange:X=>{const F=D.secondmentDays||[];R({...D,secondmentDays:X.target.checked?[...F,Y]:F.filter(Q=>Q!==Y)})}})," ",Y]},Y)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:D.startDate,onChange:Y=>R({...D,startDate:Y.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:D.endDate,onChange:Y=>R({...D,endDate:Y.target.value})})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-gray-600",children:""}),o.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&o.jsx(it,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="TRANSFER"&&o.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[o.jsxs("div",{className:"bg-red-50 p-4 rounded text-red-700 text-sm border border-red-200 flex items-center gap-2 mb-4",children:[o.jsx(Qr,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:":            ."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:U.targetUniversity,onChange:Y=>k({...U,targetUniversity:Y.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:U.targetCollege,onChange:Y=>k({...U,targetCollege:Y.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:U.transferType,onChange:Y=>k({...U,transferType:Y.target.value}),children:[o.jsx("option",{value:"VACANT_DEGREE",children:"    "}),o.jsx("option",{value:"WITH_DEGREE",children:"   ( )"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-gray-600",children:""}),o.jsxs("button",{disabled:d,type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 flex items-center gap-2",children:[d&&o.jsx(it,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})]})]})})]})},jge=({user:t})=>{const[e,n]=N.useState("BROWSE"),[r,a]=N.useState([]),[s,c]=N.useState({totalItems:0,theses:0,papers:0,books:0}),[d,f]=N.useState(!0),[h,p]=N.useState(""),[g,x]=N.useState("ALL"),[w,E]=N.useState(!1),[_,j]=N.useState(null),[C,L]=N.useState("JOURNAL_PAPER"),A={titleAr:"",titleEn:"",abstract:"",authorNames:"",journalName:"",conferenceName:"",doi:"",publicationYear:new Date().getFullYear().toString(),supervisors:"",shelfLocation:""},[D,R]=N.useState(A),[U,k]=N.useState(null),[V,M]=N.useState(null),[I,O]=N.useState(!1),[B,z]=N.useState(null),[me,ae]=N.useState("RESEARCH"),[G,re]=N.useState(""),[Y,xe]=N.useState([]),X=t.role===je.ADMIN||t.role===je.STAFF||t.role===je.DATA_ENTRY;N.useEffect(()=>{F()},[]);const F=async()=>{f(!0);try{const[ee,fe]=await Promise.all([Xpe(),tge()]);if(a(ee),c(fe),t.role===je.STAFF||t.role===je.ADMIN){const Je=await Zpe(t.id);xe(Je)}}catch(ee){console.error("Error fetching repository data:",ee)}f(!1)},Q=ee=>{let fe="";ee.type.includes("PAPER")?fe=`${ee.authorNames||""} (${ee.publicationYear}). "${ee.titleAr}". ${ee.journalName||ee.conferenceName||""}, ${ee.volume||""}(${ee.issue||""}), ${ee.pages||""}. ${ee.doi?`DOI: ${ee.doi}`:""}`:ee.type.includes("THESIS")?fe=`${ee.authorNames||""} (${ee.publicationYear}). ${ee.titleAr}. [${ee.type==="THESIS_MASTER"?"Master Thesis":"PhD Thesis"}]. Al-Azhar University.`:fe=`${ee.authorNames||ee.publisher||""} (${ee.publicationYear}). ${ee.titleAr}. ${ee.publisher||""}.`,navigator.clipboard.writeText(fe),alert("   ")},K=async ee=>{try{return await ul(ee)}catch(fe){return alert("  : "+fe.message),null}},J=ee=>{E(!0),j(ee.id),L(ee.type),R({titleAr:ee.titleAr||"",titleEn:ee.titleEn||"",abstract:ee.abstract||"",authorNames:ee.authorNames||"",journalName:ee.journalName||"",conferenceName:ee.conferenceName||"",doi:ee.doi||"",publicationYear:ee.publicationYear||"",supervisors:ee.supervisors||"",shelfLocation:ee.shelfLocation||""}),n("ADD")},he=async(ee,fe)=>{if(window.confirm("        "))try{await un(qe(ye,"repository_items",ee)),await Ae("  ",t.name,`  : ${fe}`),F()}catch{alert(" ")}},Se=async ee=>{ee.preventDefault(),O(!0);try{let fe,Je;U&&(fe=await K(U)),V&&(Je=await K(V));const Ge={...D,type:C,...fe&&{fileUrl:fe},...Je&&{privateFileUrl:Je},addedBy:t.id,authorIds:w?void 0:[t.id],publicationYear:D.publicationYear||new Date().getFullYear().toString()};w&&_?(await zt(qe(ye,"repository_items",_),Ge),await Ae("  ",t.name,`  ${C}: ${D.titleAr}`),alert("  ")):(await Qpe(Ge),await Ae(" ",t.name,`  ${C}: ${D.titleAr}`),alert("  ")),E(!1),j(null),R(A),k(null),M(null),n("BROWSE"),F()}catch(fe){console.error(fe),alert("   ")}finally{O(!1)}},Oe=async()=>{if(B)try{await Jpe({itemId:B.id,itemTitle:B.titleAr,itemAuthorId:B.addedBy,requesterName:t.name,requesterEmail:"user@example.com",reason:me,message:G}),await Ae("  ",t.name,`   : ${B.titleAr}`),alert("   "),z(null)}catch{alert("  ")}},He=async(ee,fe,Je)=>{await ege(ee,Je),await Ae("   ",t.name,` ${Je==="APPROVED"?" ":""}   : ${fe}`),alert(` ${Je==="APPROVED"?"  ":" "}`),F()},ce=()=>{n("ADD"),R(A),j(null),E(!1)},Be=ee=>{const fe=ee.type.includes("PAPER"),Je=ee.type.includes("THESIS"),Ge=ee.addedBy===t.id||t.role===je.ADMIN;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-md transition-shadow flex flex-col gap-3 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${fe?"bg-blue-100 text-blue-700":Je?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:fe?ee.type==="JOURNAL_PAPER"?" ":"":Je?ee.type==="THESIS_MASTER"?"":"":""}),o.jsx("span",{className:"text-gray-500 text-xs",children:ee.publicationYear})]}),o.jsxs("div",{className:"flex gap-2",children:[ee.doi&&o.jsx("a",{href:ee.doi,target:"_blank",rel:"noreferrer",className:"text-gray-400 hover:text-blue-600",title:"DOI",children:o.jsx(vg,{className:"w-4 h-4"})}),Ge&&o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>J(ee),className:"text-blue-400 hover:text-blue-600 p-1",title:"",children:o.jsx(Gn,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>he(ee.id,ee.titleAr),className:"text-red-400 hover:text-red-600 p-1",title:"",children:o.jsx(ht,{className:"w-4 h-4"})})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 leading-snug mb-1",children:ee.titleAr}),ee.titleEn&&o.jsx("h4",{className:"text-sm text-gray-500 font-medium ltr text-right",dir:"ltr",children:ee.titleEn})]}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[fe&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",ee.authorNames]}),fe&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",ee.journalName||ee.conferenceName,", ",ee.volume,"(",ee.issue,")"]}),Je&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",ee.authorNames]}),Je&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",ee.supervisors]})]}),ee.abstract&&o.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 bg-gray-50 p-2 rounded",children:ee.abstract}),o.jsxs("div",{className:"mt-auto pt-4 border-t flex items-center justify-between gap-2",children:[o.jsx("div",{className:"flex gap-2",children:ee.fileUrl?o.jsxs("a",{href:ee.fileUrl,target:"_blank",rel:"noreferrer",className:"bg-green-600 text-white px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-green-700",children:[o.jsx(yg,{className:"w-4 h-4"}),"  PDF"]}):o.jsxs("button",{onClick:()=>z(ee),className:"bg-amber-50 text-amber-700 border border-amber-200 px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-amber-100",children:[o.jsx(ub,{className:"w-4 h-4"}),"   "]})}),o.jsx("button",{onClick:()=>Q(ee),className:"text-gray-400 hover:text-gray-600",title:" ",children:o.jsx(hz,{className:"w-5 h-5"})})]})]},ee.id)};return o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 min-h-screen",children:[o.jsxs("aside",{className:"w-full lg:w-64 shrink-0 space-y-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(f4,{className:"w-5 h-5 text-green-600"})," "]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold",children:s.totalItems})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold text-purple-600",children:s.theses})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold text-blue-600",children:s.papers})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold text-amber-600",children:s.books})]})]})]}),Y.length>0&&o.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 animate-pulse",children:[o.jsxs("h4",{className:"font-bold text-amber-800 text-sm mb-2 flex items-center gap-2",children:[o.jsx(e_,{className:"w-4 h-4"}),"   (",Y.length,")"]}),o.jsx("div",{className:"space-y-2",children:Y.map(ee=>o.jsxs("div",{className:"bg-white p-2 rounded border text-xs",children:[o.jsx("p",{className:"font-bold mb-1",children:ee.requesterName}),o.jsxs("p",{className:"text-gray-500 mb-2 truncate",children:[": ",ee.itemTitle]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>He(ee.id,ee.itemTitle,"APPROVED"),className:"flex-1 bg-green-600 text-white py-1 rounded",children:""}),o.jsx("button",{onClick:()=>He(ee.id,ee.itemTitle,"REJECTED"),className:"flex-1 bg-gray-200 text-gray-700 py-1 rounded",children:""})]})]},ee.id))})]})]}),o.jsxs("main",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),X&&o.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[o.jsx("button",{onClick:()=>{n("BROWSE"),E(!1)},className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="BROWSE"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "}),o.jsx("button",{onClick:ce,className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="ADD"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "})]})]}),e==="BROWSE"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Mu,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:h,onChange:ee=>p(ee.target.value)})]}),o.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50 min-w-[150px]",value:g,onChange:ee=>x(ee.target.value),children:[o.jsx("option",{value:"ALL",children:" "}),o.jsx("option",{value:"PAPER",children:" "}),o.jsx("option",{value:"THESIS",children:" "}),o.jsx("option",{value:"BOOK",children:""})]})]}),d?o.jsx("div",{className:"text-center py-12",children:o.jsx(it,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.filter(ee=>g==="ALL"||ee.type.includes(g)).filter(ee=>{var fe;return ee.titleAr.includes(h)||ee.titleEn&&ee.titleEn.toLowerCase().includes(h.toLowerCase())||((fe=ee.authorNames)==null?void 0:fe.includes(h))}).map(Be),r.length===0&&o.jsx("p",{className:"text-center text-gray-400 col-span-2 py-12",children:"  "})]})]}),e==="ADD"&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800",children:w?" ":"   "}),w&&o.jsx("button",{onClick:()=>{E(!1),n("BROWSE")},className:"text-sm text-gray-500 hover:text-red-500",children:""})]}),o.jsxs("div",{className:"flex gap-4 mb-6 overflow-x-auto pb-2",children:[o.jsx("button",{onClick:()=>L("JOURNAL_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C==="JOURNAL_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),o.jsx("button",{onClick:()=>L("CONF_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C==="CONF_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),o.jsx("button",{onClick:()=>L("THESIS_MASTER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C.includes("THESIS")?"bg-purple-50 border-purple-500 text-purple-700":"hover:bg-gray-50"}`,children:" "}),o.jsx("button",{onClick:()=>L("BOOK"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C==="BOOK"?"bg-amber-50 border-amber-500 text-amber-700":"hover:bg-gray-50"}`,children:""})]}),o.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" () *"}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:D.titleAr||"",onChange:ee=>R({...D,titleAr:ee.target.value})})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg text-left",dir:"ltr",value:D.titleEn||"",onChange:ee=>R({...D,titleEn:ee.target.value})})]}),C.includes("PAPER")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Authors)"}),o.jsx("input",{type:"text",placeholder:"Ahmed M., Sara H., ...",className:"w-full border p-2 rounded-lg",value:D.authorNames||"",onChange:ee=>R({...D,authorNames:ee.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:C==="JOURNAL_PAPER"?" ":" "}),C==="JOURNAL_PAPER"?o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:D.journalName||"",onChange:ee=>R({...D,journalName:ee.target.value})}):o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:D.conferenceName||"",onChange:ee=>R({...D,conferenceName:ee.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" DOI"}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:D.doi||"",onChange:ee=>R({...D,doi:ee.target.value})})]})]}),C.includes("THESIS")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:D.authorNames||"",onChange:ee=>R({...D,authorNames:ee.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:D.supervisors||"",onChange:ee=>R({...D,supervisors:ee.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"number",className:"w-full border p-2 rounded-lg",value:D.publicationYear||"",onChange:ee=>R({...D,publicationYear:ee.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded-lg",value:D.shelfLocation||"",onChange:ee=>R({...D,shelfLocation:ee.target.value})})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Abstract)"}),o.jsx("textarea",{rows:4,className:"w-full border p-2 rounded-lg",value:D.abstract||"",onChange:ee=>R({...D,abstract:ee.target.value})})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 col-span-2",children:[o.jsx("h4",{className:"font-bold text-sm mb-2",children:""}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"   (Public PDF)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Er,{className:"w-4 h-4 text-gray-400"}),o.jsx("input",{type:"file",className:"text-sm",onChange:ee=>k(ee.target.files?ee.target.files[0]:null)})]}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"   (:  )"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  ( )"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ub,{className:"w-4 h-4 text-amber-400"}),o.jsx("input",{type:"file",className:"text-sm",onChange:ee=>M(ee.target.files?ee.target.files[0]:null)})]}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"      "})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>n("BROWSE"),className:"px-6 py-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:I,className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2",children:[I?o.jsx(it,{className:"w-4 h-4 animate-spin"}):o.jsx(Nn,{className:"w-4 h-4"})," ",w?" ":" "]})]})]})]})]}),B&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 shadow-2xl animate-in zoom-in-95",children:[o.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[o.jsx(ub,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"    .      ."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:me,onChange:ee=>ae(ee.target.value),children:[o.jsx("option",{value:"RESEARCH",children:" "}),o.jsx("option",{value:"CITATION",children:"   "}),o.jsx("option",{value:"OTHER",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),o.jsx("textarea",{className:"w-full border p-2 rounded",rows:3,value:G,onChange:ee=>re(ee.target.value),placeholder:" ..."})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{onClick:()=>z(null),className:"px-4 py-2 text-gray-500",children:""}),o.jsx("button",{onClick:Oe,className:"bg-amber-600 text-white px-4 py-2 rounded font-bold hover:bg-amber-700",children:" "})]})]})]})})]})},Ege=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(""),[a,s]=N.useState(""),[c,d]=N.useState(!1),[f,h]=N.useState("");N.useEffect(()=>{(async()=>{try{await rge()}catch(x){console.error("Failed to seed initial data:",x)}})()},[]);const p=async g=>{g.preventDefault(),d(!0),h("");try{const x=await _me(n,a);x?e(x):h("      ")}catch(x){console.error(x),h("     (  )")}finally{d(!1)}};return t?o.jsx(x9,{children:o.jsx(SB,{user:t,onLogout:()=>{e(null),r(""),s("")},children:o.jsxs(X7,{children:[o.jsx(tn,{path:"/",element:t.role===je.STUDENT_UG||t.role===je.STUDENT_PG?o.jsx(VP,{user:t}):t.role===je.ALUMNI?o.jsx(zP,{user:t}):o.jsx(age,{})}),o.jsx(tn,{path:"/outgoing",element:o.jsx(ige,{user:t})}),o.jsx(tn,{path:"/incoming",element:o.jsx(sge,{user:t})}),o.jsx(tn,{path:"/councils",element:o.jsx(oge,{user:t})}),o.jsx(tn,{path:"/committees",element:o.jsx(lge,{user:t})}),o.jsx(tn,{path:"/search",element:o.jsx(cge,{user:t})}),o.jsx(tn,{path:"/staff",element:o.jsx(uge,{})}),o.jsx(tn,{path:"/students",element:o.jsx(VP,{user:t})}),o.jsx(tn,{path:"/alumni",element:o.jsx(zP,{user:t})}),o.jsx(tn,{path:"/users",element:o.jsx(fge,{})}),o.jsx(tn,{path:"/pg-manager",element:o.jsx(hge,{})}),o.jsx(tn,{path:"/inventory",element:o.jsx(mge,{user:t})}),o.jsx(tn,{path:"/labs",element:o.jsx(pge,{user:t})}),o.jsx(tn,{path:"/greenhouse",element:o.jsx(gge,{user:t})}),o.jsx(tn,{path:"/events",element:o.jsx(yge,{user:t})}),o.jsx(tn,{path:"/formation",element:o.jsx(xge,{user:t})}),o.jsx(tn,{path:"/annual-report",element:o.jsx(bge,{user:t})}),o.jsx(tn,{path:"/research-plan",element:o.jsx(wge,{user:t})}),o.jsx(tn,{path:"/leaves",element:o.jsx(Nge,{user:t})}),o.jsx(tn,{path:"/career-movements",element:o.jsx(_ge,{user:t})}),o.jsx(tn,{path:"/repository",element:o.jsx(jge,{user:t})})," ",o.jsx(tn,{path:"/activity-log",element:o.jsx(vge,{})}),o.jsx(tn,{path:"*",element:o.jsx(Y7,{to:"/"})})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",dir:"rtl",children:o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-4xl w-full border border-green-100 flex flex-col md:flex-row gap-8",children:[o.jsxs("div",{className:"md:w-1/2 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-l border-gray-100 pb-6 md:pb-0 md:pl-6",children:[o.jsx("div",{className:"bg-green-100 p-6 rounded-full mb-6 animate-pulse",children:o.jsx(Nu,{className:"w-16 h-16 text-green-700"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   "}),o.jsx("h2",{className:"text-xl text-green-700 font-medium mb-4",children:"  -  "}),o.jsx("p",{className:"text-gray-500 leading-relaxed max-w-sm text-sm",children:"            ."})]}),o.jsxs("div",{className:"md:w-1/2 flex flex-col justify-center",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-6 text-center border-b pb-2",children:"  "}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(oi,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",required:!0,value:n,onChange:g=>r(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:"username"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(h1,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"password",required:!0,value:a,onChange:g=>s(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:""})]})]}),f&&o.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm text-center font-semibold animate-in fade-in",children:f}),o.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-700 hover:bg-green-800 text-white font-bold py-3 rounded-xl transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[c?o.jsx(it,{className:"w-5 h-5 animate-spin"}):o.jsx(L9,{className:"w-5 h-5"}),o.jsx("span",{children:""})]})]}),o.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 border-t border-gray-100 pt-4",children:"Botany Digital Portal v2.0"})]})]})})},m8=document.getElementById("root");if(!m8)throw new Error("Could not find root element to mount to");const Sge=a7.createRoot(m8);Sge.render(o.jsx(BP.StrictMode,{children:o.jsx(Ege,{})}));
